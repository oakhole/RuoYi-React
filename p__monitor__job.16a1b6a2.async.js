(self.webpackChunkruoyi_react=self.webpackChunkruoyi_react||[]).push([[3362],{31199:function(q,I,r){"use strict";var L=r(22122),T=r(28991),O=r(81253),Z=r(67294),S=r(63990),b=["fieldProps","min","proFieldProps","max"],R=function(j,x){var W=j.fieldProps,o=j.min,f=j.proFieldProps,M=j.max,a=(0,O.Z)(j,b);return Z.createElement(S.Z,(0,L.Z)({mode:"edit",valueType:"digit",fieldProps:(0,T.Z)({min:o,max:M},W),ref:x,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:f},a))};I.Z=Z.forwardRef(R)},86615:function(q,I,r){"use strict";var L=r(88983),T=r(47933),O=r(22122),Z=r(28991),S=r(81253),b=r(67294),R=r(63990),F=r(22270),j=r(64893),x=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],W=b.forwardRef(function(a,N){var K=a.fieldProps,V=a.options,ee=a.radioType,B=a.layout,i=a.proFieldProps,re=a.valueEnum,ae=(0,S.Z)(a,x);return b.createElement(R.Z,(0,O.Z)({mode:"edit",valueType:ee==="button"?"radioButton":"radio",ref:N,valueEnum:(0,F.h)(re,void 0)},ae,{fieldProps:(0,Z.Z)({options:V,layout:B},K),proFieldProps:i,filedConfig:{customLightMode:!0}}))}),o=b.forwardRef(function(a,N){var K=a.fieldProps,V=a.children;return b.createElement(T.ZP,(0,O.Z)({},K,{ref:N}),V)}),f=(0,j.G)(o,{valuePropName:"checked",ignoreWidth:!0}),M=f;M.Group=W,M.Button=T.ZP.Button,M.displayName="ProFormComponent",I.Z=M},5966:function(q,I,r){"use strict";var L=r(22122),T=r(81253),O=r(67294),Z=r(63990),S=["fieldProps","proFieldProps"],b=["fieldProps","proFieldProps"],R="text",F=function(o){var f=o.fieldProps,M=o.proFieldProps,a=(0,T.Z)(o,S);return O.createElement(Z.Z,(0,L.Z)({mode:"edit",valueType:R,fieldProps:f,filedConfig:{valueType:R},proFieldProps:M},a))},j=function(o){var f=o.fieldProps,M=o.proFieldProps,a=(0,T.Z)(o,b);return O.createElement(Z.Z,(0,L.Z)({mode:"edit",valueType:"password",fieldProps:f,proFieldProps:M,filedConfig:{valueType:R}},a))},x=F;x.Password=j,x.displayName="ProFormComponent",I.Z=x},90672:function(q,I,r){"use strict";var L=r(22122),T=r(81253),O=r(67294),Z=r(63990),S=["fieldProps","proFieldProps"],b=function(F,j){var x=F.fieldProps,W=F.proFieldProps,o=(0,T.Z)(F,S);return O.createElement(Z.Z,(0,L.Z)({ref:j,mode:"edit",valueType:"textarea",fieldProps:x,proFieldProps:W},o))};I.Z=O.forwardRef(b)},38012:function(q,I,r){"use strict";r.r(I),r.d(I,{default:function(){return Ue}});var L=r(59250),T=r(13013),O=r(30887),Z=r(28682),S=r(71194),b=r(50146),R=r(57663),F=r(71577),j=r(2824),x=r(11849),W=r(34792),o=r(48086),f=r(3182),M=r(94043),a=r.n(M),N=r(57254),K=r(49101),V=r(57119),ee=r(73171),B=r(67294),i=r(43581),re=r(19374),ae=r(66548),z=r(11238),be=r(24480);function Pe(d,u){return ue.apply(this,arguments)}function ue(){return ue=(0,f.Z)(a().mark(function d(u,l){return a().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,z.ZP)("/api/monitor/job/list",{params:(0,be.f)(u,l),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return s.stop()}},d)})),ue.apply(this,arguments)}function Qe(d){return request("/api/monitor/job/".concat(d),{method:"GET"})}function Ze(d){return te.apply(this,arguments)}function te(){return te=(0,f.Z)(a().mark(function d(u){return a().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,z.ZP)("/api/monitor/job",{method:"POST",data:u}));case 1:case"end":return n.stop()}},d)})),te.apply(this,arguments)}function xe(d){return ne.apply(this,arguments)}function ne(){return ne=(0,f.Z)(a().mark(function d(u){return a().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,z.ZP)("/api/monitor/job",{method:"PUT",data:u}));case 1:case"end":return n.stop()}},d)})),ne.apply(this,arguments)}function fe(d){return se.apply(this,arguments)}function se(){return se=(0,f.Z)(a().mark(function d(u){return a().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,z.ZP)("/api/monitor/job/".concat(u),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return n.stop()}},d)})),se.apply(this,arguments)}function Be(d){return(0,ae.su)("/api/monitor/job/export",{params:d},"job_".concat(new Date().getTime(),".xlsx"))}function Ce(d,u){return le.apply(this,arguments)}function le(){return le=(0,f.Z)(a().mark(function d(u,l){var n;return a().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return n={jobId:u,jobGroup:l},h.abrupt("return",(0,z.ZP)("/api/monitor/job/run",{method:"PUT",data:n}));case 2:case"end":return h.stop()}},d)})),le.apply(this,arguments)}var Xe=r(13062),U=r(71230),_e=r(89032),$=r(15746),qe=r(9715),me=r(86835),Me=r(31199),Y=r(5966),ye=r(90672),Te=r(86615),e=r(85893),Oe=function(u){var l=me.Z.useForm(),n=(0,j.Z)(l,1),s=n[0],h=u.statusOptions;(0,B.useEffect)(function(){s.resetFields(),s.setFieldsValue({jobId:u.values.jobId,jobName:u.values.jobName,jobGroup:u.values.jobGroup,invokeTarget:u.values.invokeTarget,cronExpression:u.values.cronExpression,misfirePolicy:u.values.misfirePolicy,concurrent:u.values.concurrent,status:u.values.status,createBy:u.values.createBy,createTime:u.values.createTime,updateBy:u.values.updateBy,updateTime:u.values.updateTime,remark:u.values.remark})},[s,u]);var t=(0,i.YB)(),p=function(){s.submit()},ie=function(){u.onCancel(),s.resetFields()},Q=function(oe){u.onSubmit(oe)};return(0,e.jsx)(b.Z,{width:640,title:t.formatMessage({id:"monitor.Job.modify",defaultMessage:"\u7F16\u8F91\u5B9A\u65F6\u4EFB\u52A1\u8C03\u5EA6"}),visible:u.visible,destroyOnClose:!0,onOk:p,onCancel:ie,children:(0,e.jsxs)(me.Z,{form:s,onFinish:Q,initialValues:u.values,children:[(0,e.jsx)(U.Z,{gutter:[16,16],children:(0,e.jsx)($.Z,{span:24,order:1,children:(0,e.jsx)(Me.Z,{name:"jobId",label:t.formatMessage({id:"monitor.Job.job_id",defaultMessage:"\u4EFB\u52A1ID"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1ID",disabled:!0,hidden:!u.values.jobId,rules:[{required:!1,message:(0,e.jsx)(i._H,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1ID\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1ID\uFF01"})}]})})}),(0,e.jsx)(U.Z,{gutter:[16,16],children:(0,e.jsx)($.Z,{span:24,order:1,children:(0,e.jsx)(Y.Z,{name:"jobName",label:t.formatMessage({id:"monitor.Job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0",rules:[{required:!0,message:(0,e.jsx)(i._H,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0\uFF01"})}]})})}),(0,e.jsx)(U.Z,{gutter:[16,16],children:(0,e.jsx)($.Z,{span:24,order:1,children:(0,e.jsx)(Y.Z,{name:"jobGroup",label:t.formatMessage({id:"monitor.Job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D",rules:[{required:!0,message:(0,e.jsx)(i._H,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D\uFF01"})}]})})}),(0,e.jsx)(U.Z,{gutter:[16,16],children:(0,e.jsx)($.Z,{span:24,order:1,children:(0,e.jsx)(ye.Z,{name:"invokeTarget",label:t.formatMessage({id:"monitor.Job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32",rules:[{required:!0,message:(0,e.jsx)(i._H,{id:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32\uFF01"})}]})})}),(0,e.jsx)(U.Z,{gutter:[16,16],children:(0,e.jsx)($.Z,{span:24,order:1,children:(0,e.jsx)(Y.Z,{name:"cronExpression",label:t.formatMessage({id:"monitor.Job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165cron\u6267\u884C\u8868\u8FBE\u5F0F",rules:[{required:!0,message:(0,e.jsx)(i._H,{id:"\u8BF7\u8F93\u5165cron\u6267\u884C\u8868\u8FBE\u5F0F\uFF01",defaultMessage:"\u8BF7\u8F93\u5165cron\u6267\u884C\u8868\u8FBE\u5F0F\uFF01"})}]})})}),(0,e.jsx)(U.Z,{gutter:[16,16],children:(0,e.jsx)($.Z,{span:24,order:1,children:(0,e.jsx)(Y.Z,{name:"misfirePolicy",label:t.formatMessage({id:"monitor.Job.misfire_policy",defaultMessage:"\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565",rules:[{required:!1,message:(0,e.jsx)(i._H,{id:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565\uFF01"})}]})})}),(0,e.jsx)(U.Z,{gutter:[16,16],children:(0,e.jsx)($.Z,{span:24,order:1,children:(0,e.jsx)(Y.Z,{name:"concurrent",label:t.formatMessage({id:"monitor.Job.concurrent",defaultMessage:"\u662F\u5426\u5E76\u53D1\u6267\u884C"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C",rules:[{required:!1,message:(0,e.jsx)(i._H,{id:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C\uFF01"})}]})})}),(0,e.jsx)(U.Z,{gutter:[16,16],children:(0,e.jsx)($.Z,{span:24,order:1,children:(0,e.jsx)(Te.Z.Group,{valueEnum:h,name:"status",label:t.formatMessage({id:"monitor.Job.status",defaultMessage:"\u72B6\u6001"}),width:"xl",labelCol:{span:24},placeholder:"\u8BF7\u8F93\u5165\u72B6\u6001",rules:[{required:!1,message:(0,e.jsx)(i._H,{id:"\u8BF7\u8F93\u5165\u72B6\u6001\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u72B6\u6001\uFF01"})}]})})})]})})},De=Oe,er=r(98858),D=r(4914),Ie=function(u){var l=u.values,n=u.statusOptions;(0,B.useEffect)(function(){},[u]);var s=(0,i.YB)(),h={0:"\u9ED8\u8BA4\u7B56\u7565",1:"\u7ACB\u5373\u6267\u884C",2:"\u6267\u884C\u4E00\u6B21",3:"\u653E\u5F03\u6267\u884C"},t=function(){u.onCancel()};return(0,e.jsx)(b.Z,{width:800,title:s.formatMessage({id:"monitor.Operlog.detail",defaultMessage:"\u64CD\u4F5C\u65E5\u5FD7\u8BE6\u7EC6\u4FE1\u606F"}),visible:u.visible,destroyOnClose:!0,onCancel:t,footer:[(0,e.jsx)(F.Z,{onClick:t,children:"\u5173\u95ED"},"back")],children:(0,e.jsxs)(D.Z,{column:24,children:[(0,e.jsx)(D.Z.Item,{span:12,label:(0,e.jsx)(i._H,{id:"monitor.Job.job_id",defaultMessage:"\u4EFB\u52A1\u7F16\u53F7"}),children:l.jobId}),(0,e.jsx)(D.Z.Item,{span:12,label:(0,e.jsx)(i._H,{id:"monitor.Job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),children:l.jobName}),(0,e.jsx)(D.Z.Item,{span:12,label:(0,e.jsx)(i._H,{id:"monitor.Job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),children:l.jobGroup}),(0,e.jsx)(D.Z.Item,{span:12,label:(0,e.jsx)(i._H,{id:"monitor.Job.concurrent",defaultMessage:"\u662F\u5426\u5E76\u53D1\u6267\u884C"}),children:l.concurrent==="1"?"\u7981\u6B62":"\u5141\u8BB8"}),(0,e.jsx)(D.Z.Item,{span:12,label:(0,e.jsx)(i._H,{id:"monitor.Job.misfire_policy",defaultMessage:"\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565"}),children:h[l.misfirePolicy?l.misfirePolicy:"0"]}),(0,e.jsx)(D.Z.Item,{span:12,label:(0,e.jsx)(i._H,{id:"monitor.Job.create_time",defaultMessage:"\u521B\u5EFA\u65F6\u95F4"}),children:l.createTime}),(0,e.jsx)(D.Z.Item,{span:12,label:(0,e.jsx)(i._H,{id:"monitor.Job.status",defaultMessage:"\u72B6\u6001"}),children:n[l.status?l.status:0]}),(0,e.jsx)(D.Z.Item,{span:12,label:(0,e.jsx)(i._H,{id:"monitor.Job.next_valid_time",defaultMessage:"\u4E0B\u6B21\u6267\u884C\u65F6\u95F4"}),children:l.nextValidTime}),(0,e.jsx)(D.Z.Item,{span:24,label:(0,e.jsx)(i._H,{id:"monitor.Job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),children:l.cronExpression}),(0,e.jsx)(D.Z.Item,{span:24,label:(0,e.jsx)(i._H,{id:"monitor.Job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),children:l.invokeTarget})]})})},Ae=Ie,pe=r(52346),Re=r(21349),Je=r(85224),we=function(){var d=(0,f.Z)(a().mark(function u(l){var n,s;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.default.loading("\u6B63\u5728\u6DFB\u52A0"),t.prev=1,t.next=4,Ze((0,x.Z)({},l));case 4:return s=t.sent,n(),s.code===200?o.default.success("\u6DFB\u52A0\u6210\u529F"):o.default.error(s.msg),t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t.catch(1),n(),o.default.error("\u6DFB\u52A0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),t.abrupt("return",!1);case 15:case"end":return t.stop()}},u,null,[[1,10]])}));return function(l){return d.apply(this,arguments)}}(),He=function(){var d=(0,f.Z)(a().mark(function u(l){var n,s;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.default.loading("\u6B63\u5728\u914D\u7F6E"),t.prev=1,t.next=4,xe(l);case 4:return s=t.sent,n(),s.code===200?o.default.success("\u914D\u7F6E\u6210\u529F"):o.default.error(s.msg),t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t.catch(1),n(),o.default.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),t.abrupt("return",!1);case 15:case"end":return t.stop()}},u,null,[[1,10]])}));return function(l){return d.apply(this,arguments)}}(),ve=function(){var d=(0,f.Z)(a().mark(function u(l){var n,s;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=o.default.loading("\u6B63\u5728\u5220\u9664"),l){t.next=3;break}return t.abrupt("return",!0);case 3:return t.prev=3,t.next=6,fe(l.map(function(p){return p.jobId}).join(","));case 6:return s=t.sent,n(),s.code===200?o.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):o.default.error(s.msg),t.abrupt("return",!0);case 12:return t.prev=12,t.t0=t.catch(3),n(),o.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),t.abrupt("return",!1);case 17:case"end":return t.stop()}},u,null,[[3,12]])}));return function(l){return d.apply(this,arguments)}}(),Le=function(){var d=(0,f.Z)(a().mark(function u(l){var n,s,h;return a().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(n=o.default.loading("\u6B63\u5728\u5220\u9664"),l){p.next=3;break}return p.abrupt("return",!0);case 3:return p.prev=3,s=[l.jobId],p.next=7,fe(s.join(","));case 7:return h=p.sent,n(),h.code===200?o.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):o.default.error(h.msg),p.abrupt("return",!0);case 13:return p.prev=13,p.t0=p.catch(3),n(),o.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),p.abrupt("return",!1);case 18:case"end":return p.stop()}},u,null,[[3,13]])}));return function(l){return d.apply(this,arguments)}}(),Se=function(){var d=(0,f.Z)(a().mark(function u(){var l;return a().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return l=o.default.loading("\u6B63\u5728\u5BFC\u51FA"),s.prev=1,s.next=4,Be();case 4:return l(),o.default.success("\u5BFC\u51FA\u6210\u529F"),s.abrupt("return",!0);case 9:return s.prev=9,s.t0=s.catch(1),l(),o.default.error("\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),s.abrupt("return",!1);case 14:case"end":return s.stop()}},u,null,[[1,9]])}));return function(){return d.apply(this,arguments)}}(),We=function(){var u=(0,B.useRef)(),l=(0,B.useState)(!1),n=(0,j.Z)(l,2),s=n[0],h=n[1],t=(0,B.useState)(!1),p=(0,j.Z)(t,2),ie=p[0],Q=p[1],A=(0,B.useRef)(),oe=(0,B.useState)(),he=(0,j.Z)(oe,2),Fe=he[0],k=he[1],$e=(0,B.useState)([]),je=(0,j.Z)($e,2),J=je[0],de=je[1],ke=(0,B.useState)([]),Ee=(0,j.Z)(ke,2),ce=Ee[0],Ke=Ee[1],Ge=(0,B.useState)([]),ge=(0,j.Z)(Ge,2),Ne=ge[0],Ve=ge[1],G=(0,i.md)(),ze=(0,i.YB)();(0,B.useEffect)(function(){(0,pe.zP)("sys_normal_disable").then(function(P){if(P.code===200){var v={};P.data.forEach(function(c){v[c.dictValue]=c.dictLabel}),Ke(v)}}),(0,pe.zP)("sys_job_group").then(function(P){if(P.code===200){var v={};P.data.forEach(function(c){v[c.dictValue]=c.dictLabel}),Ve(v)}})},[]);var Ye=[{title:(0,e.jsx)(i._H,{id:"monitor.Job.job_id",defaultMessage:"\u4EFB\u52A1ID"}),dataIndex:"jobId",valueType:"text",hideInSearch:!0},{title:(0,e.jsx)(i._H,{id:"monitor.Job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),dataIndex:"jobName",valueType:"text",render:function(v,c){return(0,e.jsx)("a",{onClick:function(){Q(!0),k(c)},children:v})}},{title:(0,e.jsx)(i._H,{id:"monitor.Job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),dataIndex:"jobGroup",valueType:"text",valueEnum:Ne},{title:(0,e.jsx)(i._H,{id:"monitor.Job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),dataIndex:"invokeTarget",valueType:"textarea",hideInSearch:!0},{title:(0,e.jsx)(i._H,{id:"monitor.Job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),dataIndex:"cronExpression",valueType:"text",hideInSearch:!0},{title:(0,e.jsx)(i._H,{id:"monitor.Job.status",defaultMessage:"\u72B6\u6001"}),dataIndex:"status",valueType:"select",valueEnum:ce},{title:(0,e.jsx)(i._H,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",width:"220px",valueType:"option",render:function(v,c){return[(0,e.jsx)(F.Z,{type:"link",size:"small",hidden:!G.hasPerms("monitor:job:edit"),onClick:function(){h(!0),k(c)},children:"\u7F16\u8F91"},"edit"),(0,e.jsx)(F.Z,{type:"link",size:"small",danger:!0,hidden:!G.hasPerms("monitor:job:remove"),onClick:(0,f.Z)(a().mark(function m(){return a().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:b.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var H=(0,f.Z)(a().mark(function y(){var X;return a().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,Le(c);case 2:X=_.sent,X&&A.current&&A.current.reload();case 4:case"end":return _.stop()}},y)}));function C(){return H.apply(this,arguments)}return C}()});case 1:case"end":return E.stop()}},m)})),children:"\u5220\u9664"},"batchRemove"),(0,e.jsx)(T.Z,{overlay:function(){return(0,e.jsxs)(Z.Z,{children:[(0,e.jsx)(Z.Z.Item,{children:(0,e.jsx)(F.Z,{type:"link",size:"small",onClick:function(){b.Z.confirm({title:"\u8B66\u544A",content:"\u786E\u8BA4\u8981\u7ACB\u5373\u6267\u884C\u4E00\u6B21\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var E=(0,f.Z)(a().mark(function C(){var y;return a().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,Ce(c.jobId,c.jobGroup);case 2:y=g.sent,y&&o.default.success("\u6267\u884C\u6210\u529F");case 4:case"end":return g.stop()}},C)}));function H(){return E.apply(this,arguments)}return H}()})},children:"\u6267\u884C\u4E00\u6B21"},"runOnce")},"0"),(0,e.jsx)(Z.Z.Item,{children:(0,e.jsx)(F.Z,{type:"link",size:"small",onClick:function(){Q(!0),k(c)},children:"\u4EFB\u52A1\u8BE6\u60C5"},"runOnce")},"1"),(0,e.jsx)(Z.Z.Item,{children:(0,e.jsx)(F.Z,{type:"link",size:"small",onClick:function(){i.m8.push("/monitor/job-log/index?jobId=".concat(c.jobId))},children:"\u8C03\u5EA6\u65E5\u5FD7"},"history")},"2")]})},children:(0,e.jsxs)("a",{className:"ant-dropdown-link",onClick:function(w){return w.preventDefault()},children:["\u66F4\u591A",(0,e.jsx)(N.Z,{})]})},"toolbar")]}}];return(0,e.jsxs)(Re.Z,{children:[(0,e.jsx)("div",{style:{width:"100%",float:"right"},children:(0,e.jsx)(re.ZP,{headerTitle:ze.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u4FE1\u606F"}),actionRef:A,formRef:u,rowKey:"jobId",search:{labelWidth:"auto"},toolBarRender:function(){return[(0,e.jsxs)(F.Z,{type:"primary",hidden:!G.hasPerms("monitor:job:add"),onClick:(0,f.Z)(a().mark(function v(){return a().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:k(void 0),h(!0);case 2:case"end":return m.stop()}},v)})),children:[(0,e.jsx)(K.Z,{})," ",(0,e.jsx)(i._H,{id:"pages.searchTable.new",defaultMessage:"\u65B0\u5EFA"})]},"add"),(0,e.jsxs)(F.Z,{type:"primary",hidden:(J==null?void 0:J.length)===0||!G.hasPerms("monitor:job:remove"),onClick:(0,f.Z)(a().mark(function v(){return a().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:b.Z.confirm({title:"\u662F\u5426\u786E\u8BA4\u5220\u9664\u6240\u9009\u6570\u636E\u9879?",icon:(0,e.jsx)(V.Z,{}),content:"\u8BF7\u8C28\u614E\u64CD\u4F5C",onOk:function(){return(0,f.Z)(a().mark(function E(){var H,C,y;return a().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,ve(J);case 2:H=g.sent,H&&(de([]),(C=A.current)===null||C===void 0||(y=C.reloadAndRest)===null||y===void 0||y.call(C));case 4:case"end":return g.stop()}},E)}))()}});case 1:case"end":return m.stop()}},v)})),children:[(0,e.jsx)(ee.Z,{}),(0,e.jsx)(i._H,{id:"pages.searchTable.delete",defaultMessage:"\u5220\u9664"})]},"remove"),(0,e.jsxs)(F.Z,{type:"primary",hidden:!G.hasPerms("monitor:job:export"),onClick:(0,f.Z)(a().mark(function v(){return a().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:Se();case 1:case"end":return m.stop()}},v)})),children:[(0,e.jsx)(K.Z,{}),(0,e.jsx)(i._H,{id:"pages.searchTable.export",defaultMessage:"\u5BFC\u51FA"})]},"export")]},request:function(v,c){return Pe((0,x.Z)({},v),c)},columns:Ye,rowSelection:{onChange:function(v,c){de(c)}}},"jobList")}),(J==null?void 0:J.length)>0&&(0,e.jsx)(Je.Z,{extra:(0,e.jsxs)("div",{children:[(0,e.jsx)(i._H,{id:"pages.searchTable.chosen",defaultMessage:"\u5DF2\u9009\u62E9"}),(0,e.jsx)("a",{style:{fontWeight:600},children:J.length}),(0,e.jsx)(i._H,{id:"pages.searchTable.item",defaultMessage:"\u9879"})]}),children:(0,e.jsx)(F.Z,{hidden:!G.hasPerms("monitor:job:remove"),onClick:(0,f.Z)(a().mark(function P(){return a().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:b.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var m=(0,f.Z)(a().mark(function E(){var H,C,y;return a().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,ve(J);case 2:H=g.sent,H&&(de([]),(C=A.current)===null||C===void 0||(y=C.reloadAndRest)===null||y===void 0||y.call(C));case 4:case"end":return g.stop()}},E)}));function w(){return m.apply(this,arguments)}return w}()});case 1:case"end":return c.stop()}},P)})),children:(0,e.jsx)(i._H,{id:"pages.searchTable.batchDeletion",defaultMessage:"\u6279\u91CF\u5220\u9664"})},"remove")}),(0,e.jsx)(De,{onSubmit:function(){var P=(0,f.Z)(a().mark(function v(c){var m;return a().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(m=!1,!c.jobId){E.next=7;break}return E.next=4,He((0,x.Z)({},c));case 4:m=E.sent,E.next=10;break;case 7:return E.next=9,we((0,x.Z)({},c));case 9:m=E.sent;case 10:m&&(h(!1),k(void 0),A.current&&A.current.reload());case 11:case"end":return E.stop()}},v)}));return function(v){return P.apply(this,arguments)}}(),onCancel:function(){h(!1),k(void 0)},visible:s,values:Fe||{},statusOptions:ce}),(0,e.jsx)(Ae,{onCancel:function(){Q(!1),k(void 0)},visible:ie,values:Fe||{},statusOptions:ce})]})},Ue=We}}]);
