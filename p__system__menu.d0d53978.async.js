(self.webpackChunkruoyi_react=self.webpackChunkruoyi_react||[]).push([[5973],{22845:function(ne){ne.exports={anticonsList:"antd-pro-components-icon-selector-style-anticonsList",rtl:"antd-pro-components-icon-selector-style-rtl",anticon:"antd-pro-components-icon-selector-style-anticon",anticonTitle:"antd-pro-components-icon-selector-style-anticonTitle","ant-badge":"antd-pro-components-icon-selector-style-ant-badge",TwoTone:"antd-pro-components-icon-selector-style-TwoTone",copied:"antd-pro-components-icon-selector-style-copied"}},52346:function(ne,z,t){"use strict";t.d(z,{jK:function(){return J},Vd:function(){return x},zP:function(){return N},oH:function(){return i},a7:function(){return f},sF:function(){return r},n2:function(){return C}});var A=t(3182),K=t(94043),T=t.n(K),H=t(66548),v=t(11238),b=t(24480);function J(l,h){return y.apply(this,arguments)}function y(){return y=(0,A.Z)(T().mark(function l(h,g){return T().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.abrupt("return",(0,v.ZP)("/api/system/dict/type/list",{params:(0,b.f)(h,g),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return Q.stop()}},l)})),y.apply(this,arguments)}function x(l){return(0,v.ZP)("/api/system/dict/type/".concat(l),{method:"GET"})}function N(l){return(0,v.ZP)("/api/system/dict/data/type/".concat(l),{method:"GET"})}function i(l){return I.apply(this,arguments)}function I(){return I=(0,A.Z)(T().mark(function l(h){return T().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,v.ZP)("/api/system/dict/type",{method:"POST",data:h}));case 1:case"end":return p.stop()}},l)})),I.apply(this,arguments)}function f(l){return d.apply(this,arguments)}function d(){return d=(0,A.Z)(T().mark(function l(h){return T().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,v.ZP)("/api/system/dict/type",{method:"PUT",data:h}));case 1:case"end":return p.stop()}},l)})),d.apply(this,arguments)}function r(l){return w.apply(this,arguments)}function w(){return w=(0,A.Z)(T().mark(function l(h){return T().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,v.ZP)("/api/system/dict/type/".concat(h),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return p.stop()}},l)})),w.apply(this,arguments)}function C(l){return(0,H.su)("/api/system/dict/type/export",{params:l},"dict_type_".concat(new Date().getTime(),".xlsx"))}},84099:function(ne,z,t){"use strict";t.r(z),t.d(z,{default:function(){return Ct}});var A=t(71194),K=t(50146),T=t(57663),H=t(71577),v=t(2824),b=t(11849),J=t(34792),y=t(48086),x=t(3182),N=t(94043),i=t.n(N),I=t(49101),f=t(73171),d=t(67294),r=t(43581),w=t(21349),C=t(85224),l=t(19374),h=t(78759),g=t(13062),p=t(71230),Q=t(89032),D=t(15746),q=t(9715),M=t(86835),k=t(31199),he=t(19054),ie=t(86615),We=t(64317),oe=t(5966),Mt=t(47673),Ve=t(4107),Tt=t(88983),fe=t(47933),Zt=t(13254),Ke=t(14277),xe=t(69610),be=t(54941),De=t(81306),Be=t(59206),Et=t(18106),Se=t(51752),we=t(6493),pe=t(16165),Pe=t(42930),Ge=t(23279),ze=t.n(Ge),xt=t(54029),ke=t(79166),Ye=t(32059),_e=t(94184),Qe=t.n(_e),Xe=t(22845),ve=t.n(Xe),e=t(85893),Je=we,qe=function(a){var s=a.name,c=a.isNew,u=a.justCopied,m=a.theme,n=a.onSelect,o=Qe()((0,Ye.Z)({copied:u===s},m,!!m));return(0,e.jsxs)("li",{className:o,onClick:function(){n&&n(s)},children:[d.createElement(Je[s],{className:ve().anticon}),(0,e.jsx)("span",{className:ve().anticonTitle,children:(0,e.jsx)(ke.Z,{dot:c,children:s})})]})},et=qe,tt=function(F){(0,De.Z)(s,F);var a=(0,Be.Z)(s);function s(){var c;(0,xe.Z)(this,s);for(var u=arguments.length,m=new Array(u),n=0;n<u;n++)m[n]=arguments[n];return c=a.call.apply(a,[this].concat(m)),c.copyId=void 0,c.state={justCopied:null},c.onSelect=function(o){var U=c.props.onSelect;U&&U(o),y.default.success((0,e.jsxs)("span",{children:[(0,e.jsx)("code",{className:"copied-code",children:o})," selected \u{1F389}"]})),c.setState({justCopied:o},function(){c.copyId=window.setTimeout(function(){c.setState({justCopied:null})},2e3)})},c}return(0,be.Z)(s,[{key:"componentWillUnmount",value:function(){window.clearTimeout(this.copyId)}},{key:"render",value:function(){var u=this,m=this.props,n=m.icons,o=m.title,U=m.newIcons,ee=m.theme,W=m.intl.messages,$=n.map(function(Z){return(0,e.jsx)(et,{name:Z,theme:ee,isNew:U.indexOf(Z)>=0,justCopied:u.state.justCopied,onSelect:u.onSelect},Z)});return(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{children:W["app.docs.components.icon.category.".concat(o)]}),(0,e.jsx)("ul",{className:ve().anticonsList,children:$})]})}}]),s}(d.Component),nt=(0,Pe.ZP)(tt),at=t(62816),rt=Object.keys(at).map(function(F){return F.replace(/(Outlined|Filled|TwoTone)$/,"")}).filter(function(F,a,s){return s.indexOf(F)===a}),Ie=["StepBackward","StepForward","FastBackward","FastForward","Shrink","ArrowsAlt","Down","Up","Left","Right","CaretUp","CaretDown","CaretLeft","CaretRight","UpCircle","DownCircle","LeftCircle","RightCircle","DoubleRight","DoubleLeft","VerticalLeft","VerticalRight","VerticalAlignTop","VerticalAlignMiddle","VerticalAlignBottom","Forward","Backward","Rollback","Enter","Retweet","Swap","SwapLeft","SwapRight","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PlayCircle","UpSquare","DownSquare","LeftSquare","RightSquare","Login","Logout","MenuFold","MenuUnfold","BorderBottom","BorderHorizontal","BorderInner","BorderOuter","BorderLeft","BorderRight","BorderTop","BorderVerticle","PicCenter","PicLeft","PicRight","RadiusBottomleft","RadiusBottomright","RadiusUpleft","RadiusUpright","Fullscreen","FullscreenExit"],Re=["Question","QuestionCircle","Plus","PlusCircle","Pause","PauseCircle","Minus","MinusCircle","PlusSquare","MinusSquare","Info","InfoCircle","Exclamation","ExclamationCircle","Close","CloseCircle","CloseSquare","Check","CheckCircle","CheckSquare","ClockCircle","Warning","IssuesClose","Stop"],Oe=["Edit","Form","Copy","Scissor","Delete","Snippets","Diff","Highlight","AlignCenter","AlignLeft","AlignRight","BgColors","Bold","Italic","Underline","Strikethrough","Redo","Undo","ZoomIn","ZoomOut","FontColors","FontSize","LineHeight","Dash","SmallDash","SortAscending","SortDescending","Drag","OrderedList","UnorderedList","RadiusSetting","ColumnWidth","ColumnHeight"],Le=["AreaChart","PieChart","BarChart","DotChart","LineChart","RadarChart","HeatMap","Fall","Rise","Stock","BoxPlot","Fund","Sliders"],Ae=["Android","Apple","Windows","Ie","Chrome","Github","Aliwangwang","Dingding","WeiboSquare","WeiboCircle","TaobaoCircle","Html5","Weibo","Twitter","Wechat","Youtube","AlipayCircle","Taobao","Skype","Qq","MediumWorkmark","Gitlab","Medium","Linkedin","GooglePlus","Dropbox","Facebook","Codepen","CodeSandbox","CodeSandboxCircle","Amazon","Google","CodepenCircle","Alipay","AntDesign","AntCloud","Aliyun","Zhihu","Slack","SlackSquare","Behance","BehanceSquare","Dribbble","DribbbleSquare","Instagram","Yuque","Alibaba","Yahoo","Reddit","Sketch"],ut=[].concat(Ie,Re,Oe,Le,Ae),st=rt.filter(function(F){return!ut.includes(F)}),ge={direction:Ie,suggestion:Re,editor:Oe,data:Le,logo:Ae,other:st},bt=null,lt=function(a){var s="M864 64H160C107 64 64 107 64 160v704c0 53 43 96 96 96h704c53 0 96-43 96-96V160c0-53-43-96-96-96z";return(0,e.jsx)("svg",(0,b.Z)((0,b.Z)({},a),{},{viewBox:"0 0 1024 1024",children:(0,e.jsx)("path",{d:s})}))},it=function(a){var s="M864 64H160C107 64 64 107 64 160v704c0 53 43 96 96 96h704c53 0 96-43 96-96V160c0-53-43-96-96-96z m-12 800H172c-6.6 0-12-5.4-12-12V172c0-6.6 5.4-12 12-12h680c6.6 0 12 5.4 12 12v680c0 6.6-5.4 12-12 12z";return(0,e.jsx)("svg",(0,b.Z)((0,b.Z)({},a),{},{viewBox:"0 0 1024 1024",children:(0,e.jsx)("path",{d:s})}))},ot=function(a){var s="M16 512c0 273.932 222.066 496 496 496s496-222.068 496-496S785.932 16 512 16 16 238.066 16 512z m496 368V144c203.41 0 368 164.622 368 368 0 203.41-164.622 368-368 368z";return(0,e.jsx)("svg",(0,b.Z)((0,b.Z)({},a),{},{viewBox:"0 0 1024 1024",children:(0,e.jsx)("path",{d:s})}))},dt=Se.Z.TabPane,ae;(function(F){F.Filled="Filled",F.Outlined="Outlined",F.TwoTone="TwoTone"})(ae||(ae={}));var Ue=we,Fe=function(F){(0,De.Z)(s,F);var a=(0,Be.Z)(s);function s(c){var u;return(0,xe.Z)(this,s),u=a.call(this,c),u.state={theme:ae.Outlined,searchKey:""},u.handleChangeTheme=function(m){u.setState({theme:m.target.value})},u.handleSearchIcon=function(m){u.setState(function(n){return(0,b.Z)((0,b.Z)({},n),{},{searchKey:m})})},u.handleSearchIcon=ze()(u.handleSearchIcon,300),u}return(0,be.Z)(s,[{key:"getTitle",value:function(u){var m={direction:"\u65B9\u5411\u6027\u56FE\u6807",suggestion:"\u63D0\u793A\u5EFA\u8BAE\u6027\u56FE\u6807",editor:"\u7F16\u8F91\u7C7B\u56FE\u6807",data:"\u6570\u636E\u7C7B\u56FE\u6807",logo:"\u54C1\u724C\u548C\u6807\u8BC6",other:"\u7F51\u7AD9\u901A\u7528\u56FE\u6807"};return m[u]}},{key:"renderTabs",value:function(){var u=this,m=this.state,n=m.searchKey,o=n===void 0?"":n,U=m.theme,ee=this.props.onSelect,W=Object.keys(ge).map(function($){var Z=ge[$];if(o){var O=o.replace(new RegExp("^<([a-zA-Z]*)\\s/>$","gi"),function(R,te){return te}).replace(/(Filled|Outlined|TwoTone)$/,"").toLowerCase();Z=Z.filter(function(R){return R.toLowerCase().includes(O)})}return Z=Z.filter(function(R){return R!=="CopyrightCircle"}),{category:$,icons:Z.map(function(R){return R+U}).filter(function(R){return Ue[R]})}}).filter(function($){var Z=$.icons;return!!Z.length}).map(function($){var Z=$.category,O=$.icons;return(0,e.jsx)(dt,{tab:u.getTitle(Z),children:(0,e.jsx)(nt,{title:Z,theme:U,icons:O,newIcons:s.newIconNames,onSelect:function(te){ee&&ee(te,Ue[te])}},Z)},Z)});return W.length===0?(0,e.jsx)(Ke.Z,{style:{margin:"2em 0"}}):W}},{key:"render",value:function(){var u=this,m=this.props.intl.messages;return(0,e.jsxs)(d.Fragment,{children:[(0,e.jsxs)(p.Z,{gutter:[16,16],children:[(0,e.jsx)(D.Z,{span:4,children:(0,e.jsxs)(fe.ZP.Group,{value:this.state.theme,onChange:this.handleChangeTheme,size:"large",buttonStyle:"solid",children:[(0,e.jsxs)(fe.ZP.Button,{value:ae.Outlined,children:[(0,e.jsx)(pe.Z,{component:it})," ",m["app.docs.components.icon.outlined"]]}),(0,e.jsxs)(fe.ZP.Button,{value:ae.Filled,children:[(0,e.jsx)(pe.Z,{component:lt})," ",m["app.docs.components.icon.filled"]]}),(0,e.jsxs)(fe.ZP.Button,{value:ae.TwoTone,children:[(0,e.jsx)(pe.Z,{component:ot})," ",m["app.docs.components.icon.two-tone"]]})]})}),(0,e.jsx)(D.Z,{span:18,children:(0,e.jsx)(Ve.Z.Search,{style:{margin:"0 10px",flex:1},allowClear:!0,onChange:function(o){return u.handleSearchIcon(o.currentTarget.value)},size:"large",autoFocus:!0})})]}),(0,e.jsx)(p.Z,{children:(0,e.jsx)(Se.Z,{defaultActiveKey:"1",children:this.renderTabs()})})]})}}]),s}(d.PureComponent);Fe.categories=ge,Fe.newIconNames=[];var ct=(0,Pe.ZP)(Fe),$e=t(48944),mt=t(19047),ht=function(a){var s=M.Z.useForm(),c=(0,v.Z)(s,1),u=c[0],m=(0,d.useState)(""),n=(0,v.Z)(m,2),o=n[0],U=n[1],ee=(0,d.useState)(),W=(0,v.Z)(ee,2),$=W[0],Z=W[1],O=(0,d.useState)(!1),R=(0,v.Z)(O,2),te=R[0],re=R[1],ye=a.menuTree,Ce=a.visibleOptions,je=a.statusOptions;(0,d.useEffect)(function(){u.resetFields(),U(a.values.menuType?a.values.menuType:"C"),Z(a.values.icon),u.setFieldsValue({menuId:a.values.menuId,menuName:a.values.menuName,parentId:a.values.parentId,orderNum:a.values.orderNum,path:a.values.path,component:a.values.component,isFrame:a.values.isFrame,isCache:a.values.isCache,menuType:a.values.menuType,visible:a.values.visible,status:a.values.status,perms:a.values.perms,icon:a.values.icon,createBy:a.values.createBy,createTime:a.values.createTime,updateBy:a.values.updateBy,updateTime:a.values.updateTime,remark:a.values.remark})},[u,a]);var P=(0,r.YB)(),Me=function(){u.submit()},Te=function(){a.onCancel(),u.resetFields()},Ze=function(){var V=(0,x.Z)(i().mark(function G(X){return i().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:a.onSubmit(X);case 1:case"end":return de.stop()}},G)}));return function(X){return V.apply(this,arguments)}}();return(0,e.jsxs)(K.Z,{width:680,title:P.formatMessage({id:"system.Menu.modify",defaultMessage:"\u7F16\u8F91\u83DC\u5355"}),visible:a.visible,destroyOnClose:!0,onOk:Me,onCancel:Te,children:[(0,e.jsx)(K.Z,{width:1200,visible:te,onCancel:function(){re(!1)},footer:null,children:(0,e.jsx)(mt.Z,{locale:(0,r.Kd)(),children:(0,e.jsx)(ct,{onSelect:function(G){u.setFieldsValue({icon:G}),Z(G),re(!1)}})})}),(0,e.jsxs)(M.Z,{form:u,onFinish:Ze,initialValues:a.values,children:[(0,e.jsx)(p.Z,{gutter:[16,16],children:(0,e.jsx)(D.Z,{span:16,order:1,children:(0,e.jsx)(k.Z,{name:"menuId",label:P.formatMessage({id:"system.Menu.menu_id",defaultMessage:"\u83DC\u5355ID"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355ID",disabled:!0,hidden:!0,rules:[{required:!1,message:(0,e.jsx)(r._H,{id:"\u8BF7\u8F93\u5165\u83DC\u5355ID\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u83DC\u5355ID\uFF01"})}]})})}),(0,e.jsx)(p.Z,{children:(0,e.jsx)(D.Z,{span:24,order:1,children:(0,e.jsx)(he.Z,{name:"parentId",label:P.formatMessage({id:"system.Menu.parent_id",defaultMessage:"\u7236\u83DC\u5355:"}),request:(0,x.Z)(i().mark(function V(){return i().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.abrupt("return",ye);case 1:case"end":return X.stop()}},V)})),width:"xl",placeholder:"\u8BF7\u9009\u62E9\u7236\u83DC\u5355",rules:[{required:!0,message:(0,e.jsx)(r._H,{id:"\u8BF7\u9009\u62E9\u7236\u83DC\u5355\uFF01",defaultMessage:"\u8BF7\u9009\u62E9\u7236\u83DC\u5355\uFF01"})}]})})}),(0,e.jsxs)(p.Z,{gutter:[16,16],children:[(0,e.jsx)(D.Z,{span:12,order:1,children:(0,e.jsx)(ie.Z.Group,{valueEnum:{M:"\u76EE\u5F55",C:"\u83DC\u5355",F:"\u6309\u94AE"},name:"menuType",label:P.formatMessage({id:"system.Menu.menu_type",defaultMessage:"\u83DC\u5355\u7C7B\u578B"}),fieldProps:{onChange:function(G){U(G.target.value)}},initialValue:"C",width:"xl",labelCol:{span:24},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u7C7B\u578B",rules:[{required:!1,message:(0,e.jsx)(r._H,{id:"\u8BF7\u8F93\u5165\u83DC\u5355\u7C7B\u578B\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u83DC\u5355\u7C7B\u578B\uFF01"})}]})}),(0,e.jsx)(D.Z,{span:12,order:2,children:(0,e.jsx)(We.Z,{name:"icon",labelCol:{span:24},allowClear:!0,hidden:o==="F",addonBefore:(0,$e.I)($),fieldProps:{onClick:function(){re(!0)}},label:P.formatMessage({id:"system.Menu.icon",defaultMessage:"\u83DC\u5355\u56FE\u6807:"}),rules:[{required:!1,message:(0,e.jsx)(r._H,{id:"\u8BF7\u9009\u62E9\u83DC\u5355\u56FE\u6807\uFF01",defaultMessage:"\u8BF7\u9009\u62E9\u83DC\u5355\u56FE\u6807\uFF01"})}]})})]}),(0,e.jsxs)(p.Z,{gutter:[16,16],children:[(0,e.jsx)(D.Z,{span:12,order:1,children:(0,e.jsx)(oe.Z,{name:"menuName",label:P.formatMessage({id:"system.Menu.menu_name",defaultMessage:"\u83DC\u5355\u540D\u79F0"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",rules:[{required:!0,message:(0,e.jsx)(r._H,{id:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0\uFF01"})}]})}),(0,e.jsx)(D.Z,{span:12,order:2,children:(0,e.jsx)(k.Z,{name:"orderNum",label:P.formatMessage({id:"system.Menu.order_num",defaultMessage:"\u663E\u793A\u987A\u5E8F"}),initialValue:"0",width:"xl",placeholder:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F",rules:[{required:!1,message:(0,e.jsx)(r._H,{id:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F\uFF01"})}]})})]}),(0,e.jsxs)(p.Z,{gutter:[16,16],children:[(0,e.jsx)(D.Z,{span:12,order:1,children:(0,e.jsx)(ie.Z.Group,{name:"isFrame",valueEnum:{0:"\u662F",1:"\u5426"},initialValue:"1",label:P.formatMessage({id:"system.Menu.is_frame",defaultMessage:"\u662F\u5426\u4E3A\u5916\u94FE"}),width:"xl",labelCol:{span:24},hidden:o==="F",placeholder:"\u8BF7\u8F93\u5165\u662F\u5426\u4E3A\u5916\u94FE",rules:[{required:!1,message:(0,e.jsx)(r._H,{id:"\u8BF7\u8F93\u5165\u662F\u5426\u4E3A\u5916\u94FE\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u662F\u5426\u4E3A\u5916\u94FE\uFF01"})}]})}),(0,e.jsx)(D.Z,{span:12,order:2,children:(0,e.jsx)(oe.Z,{name:"path",label:P.formatMessage({id:"system.Menu.path",defaultMessage:"\u8DEF\u7531\u5730\u5740"}),width:"xl",labelCol:{span:24},placeholder:"\u8BF7\u8F93\u5165\u8DEF\u7531\u5730\u5740",hidden:o==="F",rules:[{required:o!=="F",message:(0,e.jsx)(r._H,{id:"\u8BF7\u8F93\u5165\u8DEF\u7531\u5730\u5740\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u8DEF\u7531\u5730\u5740\uFF01"})}]})})]}),(0,e.jsxs)(p.Z,{gutter:[16,16],children:[(0,e.jsx)(D.Z,{span:12,order:1,children:(0,e.jsx)(oe.Z,{name:"perms",label:P.formatMessage({id:"system.Menu.perms",defaultMessage:"\u6743\u9650\u6807\u8BC6"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u6743\u9650\u6807\u8BC6",hidden:o==="M",rules:[{required:!1,message:(0,e.jsx)(r._H,{id:"\u8BF7\u8F93\u5165\u6743\u9650\u6807\u8BC6\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u6743\u9650\u6807\u8BC6\uFF01"})}]})}),(0,e.jsx)(D.Z,{span:12,order:2,children:(0,e.jsx)(oe.Z,{name:"component",label:P.formatMessage({id:"system.Menu.component",defaultMessage:"\u7EC4\u4EF6\u8DEF\u5F84"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u7EC4\u4EF6\u8DEF\u5F84",hidden:o!=="C",rules:[{required:!1,message:(0,e.jsx)(r._H,{id:"\u8BF7\u8F93\u5165\u7EC4\u4EF6\u8DEF\u5F84\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u7EC4\u4EF6\u8DEF\u5F84\uFF01"})}]})})]}),(0,e.jsxs)(p.Z,{gutter:[16,16],children:[(0,e.jsx)(D.Z,{span:12,order:1,children:(0,e.jsx)(oe.Z,{name:"query",label:P.formatMessage({id:"system.Menu.query",defaultMessage:"\u8DEF\u7531\u53C2\u6570"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u6743\u8DEF\u7531\u53C2\u6570",hidden:o!=="C",rules:[{required:!1,message:(0,e.jsx)(r._H,{id:"\u8BF7\u8F93\u5165\u8DEF\u7531\u53C2\u6570\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u8DEF\u7531\u53C2\u6570\uFF01"})}]})}),(0,e.jsx)(D.Z,{span:12,order:2,children:(0,e.jsx)(ie.Z.Group,{name:"isCache",valueEnum:{0:"\u7F13\u5B58",1:"\u4E0D\u7F13\u5B58"},initialValue:"0",label:P.formatMessage({id:"system.Menu.is_cache",defaultMessage:"\u662F\u5426\u7F13\u5B58"}),width:"xl",labelCol:{span:24},hidden:o!=="C",placeholder:"\u8BF7\u8F93\u5165\u662F\u5426\u7F13\u5B58",rules:[{required:!1,message:(0,e.jsx)(r._H,{id:"\u8BF7\u8F93\u5165\u662F\u5426\u7F13\u5B58\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u662F\u5426\u7F13\u5B58\uFF01"})}]})})]}),(0,e.jsxs)(p.Z,{gutter:[16,16],children:[(0,e.jsx)(D.Z,{span:12,order:1,children:(0,e.jsx)(ie.Z.Group,{valueEnum:Ce,name:"visible",label:P.formatMessage({id:"system.Menu.visible",defaultMessage:"\u53EF\u89C1\u72B6\u6001"}),initialValue:"0",width:"xl",labelCol:{span:24},hidden:o==="F",placeholder:"\u8BF7\u8F93\u5165\u53EF\u89C1\u72B6\u6001",rules:[{required:!1,message:(0,e.jsx)(r._H,{id:"\u8BF7\u8F93\u5165\u53EF\u89C1\u72B6\u6001\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u53EF\u89C1\u72B6\u6001\uFF01"})}]})}),(0,e.jsx)(D.Z,{span:12,order:2,children:(0,e.jsx)(ie.Z.Group,{valueEnum:je,name:"status",label:P.formatMessage({id:"system.Menu.status",defaultMessage:"\u83DC\u5355\u72B6\u6001"}),initialValue:"0",width:"xl",labelCol:{span:24},hidden:o==="F",placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u72B6\u6001",rules:[{required:!1,message:(0,e.jsx)(r._H,{id:"\u8BF7\u8F93\u5165\u83DC\u5355\u72B6\u6001\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u83DC\u5355\u72B6\u6001\uFF01"})}]})})]})]})]})},ft=ht,He=t(52346),pt=t(24480),vt=function(){var F=(0,x.Z)(i().mark(function a(s){var c,u;return i().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=y.default.loading("\u6B63\u5728\u6DFB\u52A0"),n.prev=1,n.next=4,(0,h.bL)((0,b.Z)({},s));case 4:return u=n.sent,c(),u.code===200?y.default.success("\u6DFB\u52A0\u6210\u529F"):y.default.error(u.msg),n.abrupt("return",!0);case 10:return n.prev=10,n.t0=n.catch(1),c(),y.default.error("\u6DFB\u52A0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),n.abrupt("return",!1);case 15:case"end":return n.stop()}},a,null,[[1,10]])}));return function(s){return F.apply(this,arguments)}}(),gt=function(){var F=(0,x.Z)(i().mark(function a(s){var c,u;return i().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=y.default.loading("\u6B63\u5728\u914D\u7F6E"),n.prev=1,n.next=4,(0,h._8)(s);case 4:return u=n.sent,c(),u.code===200?y.default.success("\u914D\u7F6E\u6210\u529F"):y.default.error(u.msg),n.abrupt("return",!0);case 10:return n.prev=10,n.t0=n.catch(1),c(),y.default.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),n.abrupt("return",!1);case 15:case"end":return n.stop()}},a,null,[[1,10]])}));return function(s){return F.apply(this,arguments)}}(),Ne=function(){var F=(0,x.Z)(i().mark(function a(s){var c,u;return i().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(c=y.default.loading("\u6B63\u5728\u5220\u9664"),s){n.next=3;break}return n.abrupt("return",!0);case 3:return n.prev=3,n.next=6,(0,h.n_)(s.map(function(o){return o.menuId}).join(","));case 6:return u=n.sent,c(),u.code===200?y.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):y.default.error(u.msg),n.abrupt("return",!0);case 12:return n.prev=12,n.t0=n.catch(3),c(),y.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),n.abrupt("return",!1);case 17:case"end":return n.stop()}},a,null,[[3,12]])}));return function(s){return F.apply(this,arguments)}}(),Ft=function(){var F=(0,x.Z)(i().mark(function a(s){var c,u,m;return i().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(c=y.default.loading("\u6B63\u5728\u5220\u9664"),s){o.next=3;break}return o.abrupt("return",!0);case 3:return o.prev=3,u=[s.menuId],o.next=7,(0,h.n_)(u.join(","));case 7:return m=o.sent,c(),m.code===200?y.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):y.default.error(m.msg),o.abrupt("return",!0);case 13:return o.prev=13,o.t0=o.catch(3),c(),y.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),o.abrupt("return",!1);case 18:case"end":return o.stop()}},a,null,[[3,13]])}));return function(s){return F.apply(this,arguments)}}(),yt=function(){var a=(0,d.useRef)(),s=(0,d.useState)(!1),c=(0,v.Z)(s,2),u=c[0],m=c[1],n=(0,d.useRef)(),o=(0,d.useState)(),U=(0,v.Z)(o,2),ee=U[0],W=U[1],$=(0,d.useState)([]),Z=(0,v.Z)($,2),O=Z[0],R=Z[1],te=(0,d.useState)([]),re=(0,v.Z)(te,2),ye=re[0],Ce=re[1],je=(0,d.useState)([]),P=(0,v.Z)(je,2),Me=P[0],Te=P[1],Ze=(0,d.useState)([]),V=(0,v.Z)(Ze,2),G=V[0],X=V[1],ue=(0,r.md)(),de=(0,r.YB)();(0,d.useEffect)(function(){(0,He.zP)("sys_show_hide").then(function(L){if(L.code===200){var B={};L.data.forEach(function(j){B[j.dictValue]=j.dictLabel}),Te(B)}}),(0,He.zP)("sys_normal_disable").then(function(L){if(L.code===200){var B={};L.data.forEach(function(j){B[j.dictValue]=j.dictLabel}),X(B)}})},[]);var jt=[{title:(0,e.jsx)(r._H,{id:"system.Menu.menu_name",defaultMessage:"\u83DC\u5355\u540D\u79F0"}),dataIndex:"menuName",valueType:"text"},{title:(0,e.jsx)(r._H,{id:"system.Menu.icon",defaultMessage:"\u83DC\u5355\u56FE\u6807"}),dataIndex:"icon",valueType:"text",hideInSearch:!0,render:function(B){return(0,$e.I)(B)}},{title:(0,e.jsx)(r._H,{id:"system.Menu.order_num",defaultMessage:"\u663E\u793A\u987A\u5E8F"}),dataIndex:"orderNum",valueType:"text",hideInSearch:!0},{title:(0,e.jsx)(r._H,{id:"system.Menu.perms",defaultMessage:"\u6743\u9650\u6807\u8BC6"}),dataIndex:"perms",valueType:"text"},{title:(0,e.jsx)(r._H,{id:"system.Menu.path",defaultMessage:"\u8DEF\u7531\u5730\u5740"}),dataIndex:"path",valueType:"text",hideInSearch:!0},{title:(0,e.jsx)(r._H,{id:"system.Menu.component",defaultMessage:"\u7EC4\u4EF6\u8DEF\u5F84"}),dataIndex:"component",valueType:"text",hideInSearch:!0},{title:(0,e.jsx)(r._H,{id:"system.Menu.menu_type",defaultMessage:"\u83DC\u5355\u7C7B\u578B"}),dataIndex:"menuType",valueType:"select",valueEnum:{M:"\u76EE\u5F55",C:"\u83DC\u5355",F:"\u6309\u94AE"},hideInTable:!0},{title:(0,e.jsx)(r._H,{id:"system.Menu.status",defaultMessage:"\u83DC\u5355\u72B6\u6001"}),dataIndex:"status",valueType:"select",valueEnum:G},{title:(0,e.jsx)(r._H,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",width:"220px",valueType:"option",render:function(B,j){return[(0,e.jsx)(H.Z,{type:"link",size:"small",hidden:!ue.hasPerms("system:menu:edit"),onClick:function(){m(!0),W(j)},children:(0,e.jsx)(r._H,{id:"pages.searchTable.edit",defaultMessage:"\u7F16\u8F91"})},"edit"),(0,e.jsx)(H.Z,{type:"link",size:"small",danger:!0,hidden:!ue.hasPerms("system:menu:remove"),onClick:(0,x.Z)(i().mark(function E(){return i().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:K.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var _=(0,x.Z)(i().mark(function ce(){var Ee;return i().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.next=2,Ft(j);case 2:Ee=me.sent,Ee&&n.current&&n.current.reload();case 4:case"end":return me.stop()}},ce)}));function se(){return _.apply(this,arguments)}return se}()});case 1:case"end":return S.stop()}},E)})),children:(0,e.jsx)(r._H,{id:"pages.searchTable.delete",defaultMessage:"\u5220\u9664"})},"batchRemove")]}}];return(0,e.jsxs)(w.Z,{children:[(0,e.jsx)("div",{style:{width:"100%",float:"right"},children:(0,e.jsx)(l.ZP,{headerTitle:de.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u4FE1\u606F"}),actionRef:n,formRef:a,rowKey:"menuId",search:{labelWidth:"auto"},toolBarRender:function(){return[(0,e.jsxs)(H.Z,{type:"primary",hidden:!ue.hasPerms("system:menu:add"),onClick:(0,x.Z)(i().mark(function B(){return i().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:W(void 0),m(!0);case 2:case"end":return E.stop()}},B)})),children:[(0,e.jsx)(I.Z,{})," ",(0,e.jsx)(r._H,{id:"pages.searchTable.new",defaultMessage:"\u65B0\u5EFA"})]},"add"),(0,e.jsxs)(H.Z,{type:"primary",hidden:(O==null?void 0:O.length)===0||!ue.hasPerms("system:menu:remove"),onClick:(0,x.Z)(i().mark(function B(){var j,E,Y;return i().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,Ne(O);case 2:j=_.sent,j&&(R([]),(E=n.current)===null||E===void 0||(Y=E.reloadAndRest)===null||Y===void 0||Y.call(E));case 4:case"end":return _.stop()}},B)})),children:[(0,e.jsx)(f.Z,{}),(0,e.jsx)(r._H,{id:"pages.searchTable.delete",defaultMessage:"\u5220\u9664"})]},"remove")]},request:function(B){return(0,h.Af)((0,b.Z)({},B)).then(function(j){var E={id:0,label:"\u4E3B\u7C7B\u76EE",children:[],value:0},Y=(0,pt.C2)(j.data,"menuId","menuName","","","");E.children=Y;var S=[];return S.push(E),Ce(S),{data:Y,total:j.data.length,success:!0}})},columns:jt,rowSelection:{onChange:function(B,j){R(j)}}},"menuList")}),(O==null?void 0:O.length)>0&&(0,e.jsx)(C.Z,{extra:(0,e.jsxs)("div",{children:[(0,e.jsx)(r._H,{id:"pages.searchTable.chosen",defaultMessage:"\u5DF2\u9009\u62E9"}),(0,e.jsx)("a",{style:{fontWeight:600},children:O.length}),(0,e.jsx)(r._H,{id:"pages.searchTable.item",defaultMessage:"\u9879"})]}),children:(0,e.jsx)(H.Z,{hidden:!ue.hasPerms("system:menu:remove"),onClick:(0,x.Z)(i().mark(function L(){return i().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:K.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var E=(0,x.Z)(i().mark(function S(){var _,se,ce;return i().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.next=2,Ne(O);case 2:_=le.sent,_&&(R([]),(se=n.current)===null||se===void 0||(ce=se.reloadAndRest)===null||ce===void 0||ce.call(se));case 4:case"end":return le.stop()}},S)}));function Y(){return E.apply(this,arguments)}return Y}()});case 1:case"end":return j.stop()}},L)})),children:(0,e.jsx)(r._H,{id:"pages.searchTable.batchDeletion",defaultMessage:"\u6279\u91CF\u5220\u9664"})},"remove")}),(0,e.jsx)(ft,{onSubmit:function(){var L=(0,x.Z)(i().mark(function B(j){var E;return i().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(E=!1,!j.menuId){S.next=7;break}return S.next=4,gt((0,b.Z)({},j));case 4:E=S.sent,S.next=10;break;case 7:return S.next=9,vt((0,b.Z)({},j));case 9:E=S.sent;case 10:E&&(m(!1),W(void 0),n.current&&n.current.reload());case 11:case"end":return S.stop()}},B)}));return function(B){return L.apply(this,arguments)}}(),onCancel:function(){m(!1),W(void 0)},visible:u,values:ee||{},visibleOptions:Me,statusOptions:G,menuTree:ye})]})},Ct=yt},78759:function(ne,z,t){"use strict";t.d(z,{Af:function(){return b},Th:function(){return x},bL:function(){return N},_8:function(){return I},n_:function(){return d}});var A=t(3182),K=t(94043),T=t.n(K),H=t(66548),v=t(11238);function b(C){return J.apply(this,arguments)}function J(){return J=(0,A.Z)(T().mark(function C(l){var h;return T().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return h=new URLSearchParams(l).toString(),p.abrupt("return",(0,v.ZP)("/api/system/menu/list",{data:l,method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 2:case"end":return p.stop()}},C)})),J.apply(this,arguments)}function y(C){return request("/api/system/menu/".concat(C),{method:"GET"})}function x(){return(0,v.ZP)("/api/system/menu/treeselect",{method:"GET"})}function N(C){return i.apply(this,arguments)}function i(){return i=(0,A.Z)(T().mark(function C(l){return T().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,v.ZP)("/api/system/menu",{method:"POST",data:l}));case 1:case"end":return g.stop()}},C)})),i.apply(this,arguments)}function I(C){return f.apply(this,arguments)}function f(){return f=(0,A.Z)(T().mark(function C(l){return T().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,v.ZP)("/api/system/menu",{method:"PUT",data:l}));case 1:case"end":return g.stop()}},C)})),f.apply(this,arguments)}function d(C){return r.apply(this,arguments)}function r(){return r=(0,A.Z)(T().mark(function C(l){return T().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,v.ZP)("/api/system/menu/".concat(l),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return g.stop()}},C)})),r.apply(this,arguments)}function w(C){return downLoadXlsx("/api/system/menu/export",{params:C},"menu_".concat(new Date().getTime(),".xlsx"))}},66548:function(ne,z,t){"use strict";t.d(z,{su:function(){return x}});var A=t(11849),K=t(3182),T=t(94043),H=t.n(T),v=t(11238),b={xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",zip:"application/zip"};function J(i){request(i,{method:"GET",responseType:"blob",getResponse:!0}).then(function(I){y(I,b.zip)})}function y(i,I){var f=document.createElement("a"),d=new Blob([i.data],{type:I}),r=new RegExp("filename=([^;]+\\.[^\\.;]+);*"),w=decodeURI(i.response.headers.get("content-disposition")),C=r.exec(w),l=C?C[1]:"file";l=l.replace(/"/g,""),f.style.display="none",f.href=URL.createObjectURL(d),f.setAttribute("download",l),document.body.appendChild(f),f.click(),URL.revokeObjectURL(f.href),document.body.removeChild(f)}function x(i,I,f){return N.apply(this,arguments)}function N(){return N=(0,K.Z)(H().mark(function i(I,f,d){return H().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",(0,v.ZP)(I,(0,A.Z)((0,A.Z)({},f),{},{method:"POST",responseType:"blob"})).then(function(C){var l=document.createElement("a"),h=C;l.style.display="none",l.href=URL.createObjectURL(h),l.setAttribute("download",d),document.body.appendChild(l),l.click(),URL.revokeObjectURL(l.href),document.body.removeChild(l)}));case 1:case"end":return w.stop()}},i)})),N.apply(this,arguments)}},24480:function(ne,z,t){"use strict";t.d(z,{C2:function(){return y},wC:function(){return N},f:function(){return I}});var A=t(17673),K="/user/login",T=/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+(?::\d+)?|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/,H=function(d){return T.test(d)},v=function(){return window.location.hostname==="preview.pro.ant.design"},b=function(){var d="production";return d==="development"?!0:v()};function J(f){return f.replace(/^\s+|\s+$/gm,"")}function y(f,d,r,w,C,l){var h={id:d||"id",name:r||"name",parentId:w||"parentId",parentName:C||"parentName",childrenList:l||"children"},g={},p={},Q=[];f.forEach(function(q){var M=q,k=M[h.parentId];g[k]==null&&(g[k]=[]),M.key=M[h.id],M.title=M[h.name],M.value=M[h.id],p[M[h.id]]=M,g[k].push(M)}),f.forEach(function(q){var M=q,k=M[h.parentId];p[k]==null&&(M[h.parentName]="",Q.push(M))}),Q.forEach(function(q){D(q)});function D(q){var M=q;g[M[h.id]]!==null&&(M[h.childrenList]=g[M[h.id]]),M[h.childrenList]&&M[h.childrenList].forEach(function(k){var he=k;he[h.parentName]=M[h.name],D(he)})}return Q}var x=function(){return parse(window.location.href.split("?")[1])};function N(f){var d=f.map(function(r){var w={id:r.id,title:r.label,key:"".concat(r.id),value:r.id};return r.children&&(w.children=N(r.children)),w});return d}function i(f){window.location.href="/api/common/download?fileName=".concat(encodeURI(f),"&delete=",!0)}function I(f,d){for(var r in d)Object.prototype.hasOwnProperty.call(d,r)&&(f.orderByColumn=r,f.isAsc=d[r]==="descend"?"descending":"ascending");return f}}}]);
