(self.webpackChunkruoyi_react=self.webpackChunkruoyi_react||[]).push([[7350],{12323:function(u){u.exports={card:"card___Am-TQ",miniChart:"miniChart___QiAb_",chartContent:"chartContent___2BQwg",chartLoading:"chartLoading___2bDkP"}},7542:function(u,p,a){"use strict";a.r(p),a.d(p,{default:function(){return U}});var I=a(11849),W=a(13062),m=a(71230),X=a(89032),i=a(15746),Y=a(58024),l=a(39144),b=a(66456),S=a(61128),c=a(2824),o=a(67294),j=a(3182),A=a(94043),h=a.n(A),D=a(11238);function F(){return d.apply(this,arguments)}function d(){return d=(0,j.Z)(h().mark(function x(){return h().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,D.ZP)("/api/monitor/cache",{method:"GET"}));case 1:case"end":return n.stop()}},x)})),d.apply(this,arguments)}var E=a(12323),r=a.n(E),T=a(78009),v=a(72178),e=a(85893),B=[{title:"col1",dataIndex:"col1",key:"col1"},{title:"col2",dataIndex:"col2",key:"col2"},{title:"col3",dataIndex:"col3",key:"col3"},{title:"col4",dataIndex:"col4",key:"col4"},{title:"col5",dataIndex:"col5",key:"col5"},{title:"col6",dataIndex:"col6",key:"col6"},{title:"col7",dataIndex:"col7",key:"col7"},{title:"col8",dataIndex:"col8",key:"col8"}],P=function(){var f=(0,o.useState)([]),n=(0,c.Z)(f,2),N=n[0],Q=n[1],G=(0,o.useState)([]),g=(0,c.Z)(G,2),L=g[0],M=g[1],R=(0,o.useState)([]),y=(0,c.Z)(R,2),z=y[0],H=y[1],K=(0,o.useState)([]),C=(0,c.Z)(K,2),O=C[0],$=C[1];(0,o.useEffect)(function(){F().then(function(t){if(t.code===200){var s=[];s.push({col1:"Redis\u7248\u672C",col2:t.data.info.redis_version,col3:"\u8FD0\u884C\u6A21\u5F0F",col4:t.data.info.redis_mode==="standalone"?"\u5355\u673A":"\u96C6\u7FA4",col5:"\u7AEF\u53E3",col6:t.data.info.tcp_port,col7:"\u5BA2\u6237\u7AEF\u6570",col8:t.data.info.connected_clients}),s.push({col1:"\u8FD0\u884C\u65F6\u95F4(\u5929)",col2:t.data.info.uptime_in_days,col3:"\u4F7F\u7528\u5185\u5B58",col4:t.data.info.used_memory_human,col5:"\u4F7F\u7528CPU",col6:"".concat(t.data.info.used_cpu_user_children,"%"),col7:"\u5185\u5B58\u914D\u7F6E",col8:t.data.info.maxmemory_human}),s.push({col1:"AOF\u662F\u5426\u5F00\u542F",col2:t.data.info.aof_enabled==="0"?"\u5426":"\u662F",col3:"RDB\u662F\u5426\u6210\u529F",col4:t.data.info.rdb_last_bgsave_status,col5:"Key\u6570\u91CF",col6:t.data.dbSize,col7:"\u7F51\u7EDC\u5165\u53E3/\u51FA\u53E3",col8:"".concat(t.data.info.instantaneous_input_kbps,"/").concat(t.data.info.instantaneous_output_kbps,"kps")}),Q(s);var V=t.data.commandStats.map(function(Z){return{type:Z.name,value:Number(Z.value)}});$(V),H(t.data.info.used_memory_human),M(t.data.info.used_memory/1024)}})},[]);var J={value:L,min:0,max:1024,range:[0,128,256,384,512,640,768,896,1024],color:["#43E089","#43E089","#6A859C","#6A859C","#6A859C","#6A859C","#C5473D","#C5473D"],statistic:{visible:!0,text:z,color:"#30bf78"}};return(0,e.jsxs)(T.ZP,{"data-inspector-line":"122","data-inspector-column":"4","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",breadcrumb:void 0,children:[(0,e.jsx)(m.Z,{"data-inspector-line":"123","data-inspector-column":"6","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",gutter:[24,24],children:(0,e.jsx)(i.Z,{"data-inspector-line":"124","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",span:24,children:(0,e.jsx)(l.Z,{"data-inspector-line":"125","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",title:"\u57FA\u672C\u4FE1\u606F",className:r().card,children:(0,e.jsx)(S.Z,{"data-inspector-line":"126","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",pagination:!1,showHeader:!1,dataSource:N,columns:B})})})}),(0,e.jsxs)(m.Z,{"data-inspector-line":"135","data-inspector-column":"6","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",gutter:[24,24],children:[(0,e.jsx)(i.Z,{"data-inspector-line":"136","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",span:12,children:(0,e.jsx)(l.Z,{"data-inspector-line":"137","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",title:"\u547D\u4EE4\u7EDF\u8BA1",className:r().card,children:(0,e.jsx)(v.yi,{"data-inspector-line":"138","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",forceFit:!0,radius:.8,padding:"auto",data:O,angleField:"value",colorField:"type"})})}),(0,e.jsx)(i.Z,{"data-inspector-line":"148","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",span:12,children:(0,e.jsx)(l.Z,{"data-inspector-line":"149","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",title:"\u5185\u5B58\u4FE1\u606F",className:r().card,children:(0,e.jsx)(v.aC,(0,I.Z)({"data-inspector-line":"150","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx"},J))})})]})]})},U=P}}]);
