(self.webpackChunkruoyi_react=self.webpackChunkruoyi_react||[]).push([[1875],{77885:function(V,I,n){"use strict";n.r(I),n.d(I,{default:function(){return me}});var Z=n(11849),C=n(57663),M=n(71577),j=n(54029),K=n(79166),A=n(2824),i=n(39428),F=n(34792),T=n(48086),g=n(3182),R=n(71194),b=n(50146),_=n(57119),P=n(72850),c=n(48176),t=n(67294),e=n(43581),f=n(16894),S=n(66548),u=n(11238),o=n(24480),E="VV+s";function v(d,y){return D.apply(this,arguments)}function D(){return D=(0,g.Z)((0,i.Z)().mark(function d(y,m){return(0,i.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,u.ZP)("/api/monitor/logininfor/list",{params:(0,o.f)(y,m),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return p.stop()}},d)})),D.apply(this,arguments)}function Y(d){return request("/api/monitor/logininfor/".concat(d),{method:"GET"})}function U(d){return l.apply(this,arguments)}function l(){return l=_asyncToGenerator(_regeneratorRuntime().mark(function d(y){return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",request("/api/monitor/logininfor",{method:"POST",data:y}));case 1:case"end":return s.stop()}},d)})),l.apply(this,arguments)}function B(d){return G.apply(this,arguments)}function G(){return G=_asyncToGenerator(_regeneratorRuntime().mark(function d(y){return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",request("/api/monitor/logininfor",{method:"PUT",data:y}));case 1:case"end":return s.stop()}},d)})),G.apply(this,arguments)}function re(d){return J.apply(this,arguments)}function J(){return J=(0,g.Z)((0,i.Z)().mark(function d(y){return(0,i.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,u.ZP)("/api/monitor/logininfor/".concat(y),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return s.stop()}},d)})),J.apply(this,arguments)}function ae(d){return(0,S.su)("/api/monitor/logininfor/export",{params:d},"login_infor_".concat(new Date().getTime(),".xlsx"))}function ie(){return Q.apply(this,arguments)}function Q(){return Q=(0,g.Z)((0,i.Z)().mark(function d(){return(0,i.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,u.ZP)("/api/monitor/logininfor/clean",{method:"DELETE"}));case 1:case"end":return m.stop()}},d)})),Q.apply(this,arguments)}var oe=n(52346),se=n(21349),ce=n(85224),r=n(85893),a="aVwr",ue=b.Z.confirm,le=function(){var d=(0,g.Z)((0,i.Z)().mark(function y(m){var s,p;return(0,i.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(s=T.default.loading("\u6B63\u5728\u5220\u9664"),m){x.next=3;break}return x.abrupt("return",!0);case 3:return x.prev=3,x.next=6,re(m.map(function(H){return H.infoId}).join(","));case 6:return p=x.sent,s(),p.code===200?T.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):T.default.error(p.msg),x.abrupt("return",!0);case 12:return x.prev=12,x.t0=x.catch(3),s(),T.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),x.abrupt("return",!1);case 17:case"end":return x.stop()}},y,null,[[3,12]])}));return function(m){return d.apply(this,arguments)}}(),de=function(){var d=(0,g.Z)((0,i.Z)().mark(function y(){return(0,i.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:ue({title:"\u662F\u5426\u786E\u8BA4\u6E05\u7A7A\u6240\u6709\u767B\u5F55\u65E5\u5FD7\u6570\u636E\u9879?",icon:(0,r.jsx)(_.Z,{"data-inspector-line":"44","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",_nk:"".concat(a,"11")}),content:"\u8BF7\u8C28\u614E\u64CD\u4F5C",onOk:function(){return(0,g.Z)((0,i.Z)().mark(function $(){var x,H;return(0,i.Z)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return x=T.default.loading("\u6B63\u5728\u5220\u9664"),w.prev=1,w.next=4,ie();case 4:return H=w.sent,x(),H.code===200?T.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):T.default.error(H.msg),w.abrupt("return",!0);case 10:return w.prev=10,w.t0=w.catch(1),x(),T.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),w.abrupt("return",!1);case 15:case"end":return w.stop()}},$,null,[[1,10]])}))()},onCancel:function(){}});case 1:case"end":return s.stop()}},y)}));return function(){return d.apply(this,arguments)}}(),pe=function(){var d=(0,g.Z)((0,i.Z)().mark(function y(){var m;return(0,i.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return m=T.default.loading("\u6B63\u5728\u5BFC\u51FA"),p.prev=1,p.next=4,ae();case 4:return T.default.success("\u5BFC\u51FA\u6210\u529F"),m(),p.abrupt("return",!0);case 9:return p.prev=9,p.t0=p.catch(1),m(),T.default.error("\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),p.abrupt("return",!1);case 14:case"end":return p.stop()}},y,null,[[1,9]])}));return function(){return d.apply(this,arguments)}}(),fe=function(){var y=(0,t.useRef)(),m=(0,t.useRef)(),s=(0,t.useState)([]),p=(0,A.Z)(s,2),$=p[0],x=p[1],H=(0,t.useState)([]),X=(0,A.Z)(H,2),w=X[0],he=X[1],q=(0,e.md)(),ge=(0,e.YB)();(0,t.useEffect)(function(){(0,oe.zP)("sys_common_status").then(function(O){if(O.code===200){var L={};O.data.forEach(function(h){L[h.dictValue]=h.dictLabel}),he(L)}})},[]);var ve=[{title:(0,r.jsx)(e._H,{"data-inspector-line":"113","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.info_id",defaultMessage:"\u8BBF\u95EEID",_nk:"".concat(a,"21")}),dataIndex:"infoId",valueType:"text",hideInSearch:!0},{title:(0,r.jsx)(e._H,{"data-inspector-line":"119","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.user_name",defaultMessage:"\u7528\u6237\u8D26\u53F7",_nk:"".concat(a,"22")}),dataIndex:"userName",valueType:"text"},{title:(0,r.jsx)(e._H,{"data-inspector-line":"124","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.ipaddr",defaultMessage:"\u767B\u5F55IP\u5730\u5740",_nk:"".concat(a,"23")}),dataIndex:"ipaddr",valueType:"text",copyable:!0},{title:(0,r.jsx)(e._H,{"data-inspector-line":"130","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.login_location",defaultMessage:"\u767B\u5F55\u5730\u70B9",_nk:"".concat(a,"24")}),dataIndex:"loginLocation",valueType:"text",hideInSearch:!0},{title:(0,r.jsx)(e._H,{"data-inspector-line":"136","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.browser",defaultMessage:"\u6D4F\u89C8\u5668\u7C7B\u578B",_nk:"".concat(a,"25")}),dataIndex:"browser",valueType:"text",hideInSearch:!0},{title:(0,r.jsx)(e._H,{"data-inspector-line":"142","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.os",defaultMessage:"\u64CD\u4F5C\u7CFB\u7EDF",_nk:"".concat(a,"26")}),dataIndex:"os",valueType:"text",hideInSearch:!0},{title:(0,r.jsx)(e._H,{"data-inspector-line":"148","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.status",defaultMessage:"\u767B\u5F55\u72B6\u6001",_nk:"".concat(a,"27")}),dataIndex:"status",valueType:"select",valueEnum:w,render:function(L,h){return(0,r.jsx)(K.Z,{"data-inspector-line":"153","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",status:h.status==="0"?"success":"error",text:w[h.status],_nk:"".concat(a,"31")})}},{title:(0,r.jsx)(e._H,{"data-inspector-line":"160","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.msg",defaultMessage:"\u63D0\u793A\u6D88\u606F",_nk:"".concat(a,"28")}),dataIndex:"msg",valueType:"text",hideInSearch:!0},{title:(0,r.jsx)(e._H,{"data-inspector-line":"166","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.login_time",defaultMessage:"\u8BBF\u95EE\u65F6\u95F4",_nk:"".concat(a,"29")}),dataIndex:"loginTime",valueType:"dateRange",sorter:!0,defaultSortOrder:"descend",render:function(L,h){return(0,r.jsx)("span",{"data-inspector-line":"171","data-inspector-column":"29","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",_nk:"".concat(a,"41"),children:h.loginTime})},search:{transform:function(L){return{"params[beginTime]":L[0],"params[endTime]":L[1]}}}}];return(0,r.jsxs)(se.Z,{"data-inspector-line":"184","data-inspector-column":"4","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",_nk:"".concat(a,"51"),children:[(0,r.jsx)("div",{"data-inspector-line":"185","data-inspector-column":"6","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",style:{width:"100%",float:"right"},_nk:"".concat(a,"61"),children:(0,r.jsx)(f.ZP,{"data-inspector-line":"186","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",headerTitle:ge.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u4FE1\u606F"}),actionRef:m,formRef:y,rowKey:"infoId",search:{labelWidth:"auto"},toolBarRender:function(){return[(0,r.jsxs)(M.Z,{"data-inspector-line":"199","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",type:"text",danger:!0,hidden:!q.hasPerms("monitor:logininfor:remove"),onClick:(0,g.Z)((0,i.Z)().mark(function L(){var h,k;return(0,i.Z)().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:de(),(h=m.current)===null||h===void 0||(k=h.reloadAndRest)===null||k===void 0||k.call(h);case 2:case"end":return W.stop()}},L)})),_nk:"".concat(a,"81"),children:[(0,r.jsx)(P.Z,{"data-inspector-line":"209","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",_nk:"".concat(a,"91")})," ",(0,r.jsx)(e._H,{"data-inspector-line":"210","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"pages.searchTable.clear",defaultMessage:"\u6E05\u7A7A",_nk:"".concat(a,"2a")})]},"clear"),(0,r.jsxs)(M.Z,{"data-inspector-line":"212","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",type:"text",hidden:!q.hasPerms("monitor:logininfor:export"),onClick:(0,g.Z)((0,i.Z)().mark(function L(){return(0,i.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:pe();case 1:case"end":return k.stop()}},L)})),_nk:"".concat(a,"82"),children:[(0,r.jsx)(c.Z,{"data-inspector-line":"220","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",_nk:"".concat(a,"a1")})," ",(0,r.jsx)(e._H,{"data-inspector-line":"221","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"pages.searchTable.export",defaultMessage:"\u5BFC\u51FA",_nk:"".concat(a,"2b")})]},"export")]},request:function(L,h){return v((0,Z.Z)({},L),h)},columns:ve,rowSelection:{onChange:function(L,h){x(h)}},_nk:"".concat(a,"71")},"logininforList")}),($==null?void 0:$.length)>0&&(0,r.jsx)(ce.Z,{"data-inspector-line":"234","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",extra:(0,r.jsxs)("div",{"data-inspector-line":"236","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",_nk:"".concat(a,"62"),children:[(0,r.jsx)(e._H,{"data-inspector-line":"237","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"pages.searchTable.chosen",defaultMessage:"\u5DF2\u9009\u62E9",_nk:"".concat(a,"2c")}),(0,r.jsx)("a",{"data-inspector-line":"238","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",style:{fontWeight:600},_nk:"".concat(a,"c1"),children:$.length}),(0,r.jsx)(e._H,{"data-inspector-line":"239","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"pages.searchTable.item",defaultMessage:"\u9879",_nk:"".concat(a,"2d")})]}),_nk:"".concat(a,"b1"),children:(0,r.jsx)(M.Z,{"data-inspector-line":"243","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",danger:!0,hidden:!q.hasPerms("monitor:logininfor:remove"),onClick:(0,g.Z)((0,i.Z)().mark(function O(){return(0,i.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:b.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var k=(0,g.Z)((0,i.Z)().mark(function W(){var te,z,ee;return(0,i.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,le($);case 2:te=N.sent,te&&(x([]),(z=m.current)===null||z===void 0||(ee=z.reloadAndRest)===null||ee===void 0||ee.call(z));case 4:case"end":return N.stop()}},W)}));function ne(){return k.apply(this,arguments)}return ne}()});case 1:case"end":return h.stop()}},O)})),_nk:"".concat(a,"83"),children:(0,r.jsx)(e._H,{"data-inspector-line":"263","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"pages.searchTable.batchDeletion",defaultMessage:"\u6279\u91CF\u5220\u9664",_nk:"".concat(a,"2e")})},"batchRemove")})]})},me=fe},52346:function(V,I,n){"use strict";n.d(I,{jK:function(){return i},j3:function(){return T},Vd:function(){return R},zP:function(){return b},oH:function(){return _},a7:function(){return c},sF:function(){return e},n2:function(){return S}});var Z=n(39428),C=n(3182),M=n(66548),j=n(11238),K=n(24480),A="epHD";function i(u,o){return F.apply(this,arguments)}function F(){return F=(0,C.Z)((0,Z.Z)().mark(function u(o,E){return(0,Z.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",(0,j.ZP)("/api/system/dict/type/list",{params:(0,K.f)(o,E),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return D.stop()}},u)})),F.apply(this,arguments)}function T(){return g.apply(this,arguments)}function g(){return g=(0,C.Z)((0,Z.Z)().mark(function u(){return(0,Z.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,j.ZP)("/api/system/dict/type/optionselect",{method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return E.stop()}},u)})),g.apply(this,arguments)}function R(u){return(0,j.ZP)("/api/system/dict/type/".concat(u),{method:"GET"})}function b(u){return(0,j.ZP)("/api/system/dict/data/type/".concat(u),{method:"GET"})}function _(u){return P.apply(this,arguments)}function P(){return P=(0,C.Z)((0,Z.Z)().mark(function u(o){return(0,Z.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,j.ZP)("/api/system/dict/type",{method:"POST",data:o}));case 1:case"end":return v.stop()}},u)})),P.apply(this,arguments)}function c(u){return t.apply(this,arguments)}function t(){return t=(0,C.Z)((0,Z.Z)().mark(function u(o){return(0,Z.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,j.ZP)("/api/system/dict/type",{method:"PUT",data:o}));case 1:case"end":return v.stop()}},u)})),t.apply(this,arguments)}function e(u){return f.apply(this,arguments)}function f(){return f=(0,C.Z)((0,Z.Z)().mark(function u(o){return(0,Z.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,j.ZP)("/api/system/dict/type/".concat(o),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return v.stop()}},u)})),f.apply(this,arguments)}function S(u){return(0,M.su)("/api/system/dict/type/export",{params:u},"dict_type_".concat(new Date().getTime(),".xlsx"))}},66548:function(V,I,n){"use strict";n.d(I,{p6:function(){return i},su:function(){return T}});var Z=n(39428),C=n(11849),M=n(3182),j=n(11238),K="iJKO",A={xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",zip:"application/zip"};function i(R){(0,j.ZP)(R,{method:"GET",responseType:"blob",getResponse:!0}).then(function(b){F(b,A.zip)})}function F(R,b){var _=document.createElement("a"),P=new Blob([R.data],{type:b}),c=new RegExp("filename=([^;]+\\.[^\\.;]+);*"),t=decodeURI(R.response.headers.get("content-disposition")),e=c.exec(t),f=e?e[1]:"file";f=f.replace(/"/g,""),_.style.display="none",_.href=URL.createObjectURL(P),_.setAttribute("download",f),document.body.appendChild(_),_.click(),URL.revokeObjectURL(_.href),document.body.removeChild(_)}function T(R,b,_){return g.apply(this,arguments)}function g(){return g=(0,M.Z)((0,Z.Z)().mark(function R(b,_,P){return(0,Z.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,j.ZP)(b,(0,C.Z)((0,C.Z)({},_),{},{method:"POST",responseType:"blob"})).then(function(e){var f=document.createElement("a"),S=e;f.style.display="none",f.href=URL.createObjectURL(S),f.setAttribute("download",P),document.body.appendChild(f),f.click(),URL.revokeObjectURL(f.href),document.body.removeChild(f)}));case 1:case"end":return t.stop()}},R)})),g.apply(this,arguments)}},24480:function(V,I,n){"use strict";n.d(I,{C2:function(){return T},wC:function(){return R},f:function(){return _},JG:function(){return P}});var Z=n(17673),C="JlWx",M="/user/login",j=/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+(?::\d+)?|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/,K=function(t){return j.test(t)},A=function(){return window.location.hostname==="preview.pro.ant.design"},i=function(){var t="production";return t==="development"?!0:A()};function F(c){return c.replace(/^\s+|\s+$/gm,"")}function T(c,t,e,f,S,u){var o={id:t||"id",name:e||"name",parentId:f||"parentId",parentName:S||"parentName",childrenList:u||"children"},E={},v={},D=[];c.forEach(function(U){var l=U,B=l[o.parentId];E[B]==null&&(E[B]=[]),l.key=l[o.id],l.title=l[o.name],l.value=l[o.id],v[l[o.id]]=l,E[B].push(l)}),c.forEach(function(U){var l=U,B=l[o.parentId];v[B]==null&&(l[o.parentName]="",D.push(l))}),D.forEach(function(U){Y(U)});function Y(U){var l=U;E[l[o.id]]!==null&&(l[o.childrenList]=E[l[o.id]]),l[o.childrenList]&&l[o.childrenList].forEach(function(B){var G=B;G[o.parentName]=l[o.name],Y(G)})}return D}var g=function(){return parse(window.location.href.split("?")[1])};function R(c){var t=c.map(function(e){var f={id:e.id,title:e.label,key:"".concat(e.id),value:e.id};return e.children&&(f.children=R(e.children)),f});return t}function b(c){window.location.href="/api/common/download?fileName=".concat(encodeURI(c),"&delete=",!0)}function _(c,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(c.orderByColumn=e,c.isAsc=t[e]==="descend"?"descending":"ascending");return c}function P(c,t){var e=document.createElement("textarea");e.readOnly=!0,e.style.position="absolute",e.style.left="-9999px",e.value=c,document.body.appendChild(e),e.select(),e.setSelectionRange(0,e.value.length),document.execCommand("Copy"),document.body.removeChild(e),t&&Object.prototype.toString.call(t)==="[object Function]"&&t()}}}]);
