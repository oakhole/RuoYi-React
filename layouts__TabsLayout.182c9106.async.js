(self.webpackChunkruoyi_react=self.webpackChunkruoyi_react||[]).push([[456],{23826:function(B){B.exports={tabItem:"tabItem___1vS9f",closeIcon:"closeIcon___2J7aW",active:"active___3rWkl"}},76125:function(B){B.exports={tabs:"tabs___2O5Eo",tabList:"tabList___Xo1dv",linkTabs:"linkTabs___2hVoG",tabLeftMenu:"tabLeftMenu___3bQ1n",tabMore:"tabMore___2ymdg",boxShadow:"boxShadow___2NrHz"}},99768:function(B,J,n){"use strict";n.r(J),n.d(J,{default:function(){return rt}});var bt=n(48736),V=n(27049),xt=n(59250),w=n(13013),ft=n(30887),A=n(28682),D=n(11849),H=n(67294),z=n(64140),P=n(92977),Q=n(57254),m=n(43581),U=n(54549),Y=n(19630),$=n(23826),M=n.n($),t=n(85893),W="RV/m",q=function(u){var p=(0,Y.k6)(),h=u.value,s=u.tabIndex,e=(0,m.tT)("system"),c=e.active,r=e.dispatch,b=e.tabWidth,C=e.tarnslateX,y=e.showTabs,G=e.tabsWidth,I=e.tabList,g=(0,m.j9)(),K=g.dropScope,F=I.length>1;return(0,t.jsxs)("div",{"data-inspector-line":"35","data-inspector-column":"4","data-inspector-relative-path":"src/components/KeepAliveTabs/components/SortableTab/index.tsx",className:"".concat(M().tabItem," link-tab ").concat(s===c?M().active:""),title:h.title,onClick:function(){var k=Math.floor(C/b),N=C-k*b;if(s-k<=0){r({type:"CHANGESTATE",payload:{active:s,tarnslateX:C-N}}),p.push((0,D.Z)({},h));return}if(s-k+1===y){var j=(s+1)*b-(G-100);r({type:"CHANGESTATE",payload:{active:s,tarnslateX:j}}),p.push((0,D.Z)({},h));return}r({type:"CHANGESTATE",payload:{active:s}}),p.push((0,D.Z)({},h))},_nk:"".concat(W,"11"),children:[h.title,F&&(0,t.jsx)("div",{"data-inspector-line":"65","data-inspector-column":"8","data-inspector-relative-path":"src/components/KeepAliveTabs/components/SortableTab/index.tsx",className:M().closeIcon,onClick:function(k){k.stopPropagation();var N=h.keepAliveName,j=JSON.parse(JSON.stringify(I));j.splice(s,1);var f=0;if(s<c)f=c-1,K(N);else if(s===c){if(c>0){f=c-1;var l=setTimeout(function(){clearTimeout(l),p.push(I[f])},10)}else{f=0;var a=setTimeout(function(){clearTimeout(a),p.push(j[f])},10)}var v=p.listen(function(){v();var o=setTimeout(function(){clearTimeout(o),K(N)},10)})}else f=c,K(N);r({type:"CHANGESTATE",payload:{tabList:j,active:f,tarnslateX:0}})},_nk:"".concat(W,"12"),children:(0,t.jsx)(U.Z,{"data-inspector-line":"111","data-inspector-column":"10","data-inspector-relative-path":"src/components/KeepAliveTabs/components/SortableTab/index.tsx",_nk:"".concat(W,"21")})})]})},_=q,tt=n(76125),E=n.n(tt),i="OxF8",et=(0,z.W8)(function(S){var u=S.index,p=S.value;return(0,t.jsx)(_,{"data-inspector-line":"18","data-inspector-column":"2","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",index:u,value:p,tabIndex:u,_nk:"".concat(i,"11")},"item-".concat(u))}),at=(0,z.JN)(function(){var S=(0,H.useRef)(),u=(0,m.tT)("system"),p=u.tabList,h=u.tarnslateX;return(0,t.jsx)("div",{"data-inspector-line":"26","data-inspector-column":"4","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",className:"".concat(E().tabList),ref:S,_nk:"".concat(i,"21"),children:(0,t.jsx)("div",{"data-inspector-line":"27","data-inspector-column":"6","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",className:E().linkTabs,style:{transform:"translateX(-".concat(h,"px)")},_nk:"".concat(i,"22"),children:p.map(function(s,e){return(0,t.jsx)(et,{"data-inspector-line":"30","data-inspector-column":"10","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",index:e,value:s,_nk:"iAr".concat(i,"31")},"item-".concat(e))})})})}),nt=function(){var u=(0,m.tT)("@@initialState"),p=u.initialState,h=p.collapsed,s=(0,m.tT)("system"),e=s.tabList,c=s.dispatch,r=s.active,b=s.showTabs,C=s.tabsWidth,y=s.tabWidth,G=s.tarnslateX,I=(0,m.j9)(),g=I.dropScope,K=I.clear,F=function(a){var v=a.oldIndex,o=a.newIndex,x=JSON.parse(JSON.stringify(e)),X=x[r];x.splice(o,0,x.splice(v,1)[0]);var Z=x.findIndex(function(R){return R===X});c({type:"CHANGESTATE",payload:{tabList:x,active:Z}})},L=[];if(e.length>b){var k=Math.floor(G/y),N=Math.floor(G/y)+b;e.forEach(function(l,a){a<k&&L.push(l),a>=N&&L.push(l)})}var j=(0,t.jsx)(A.Z,{"data-inspector-line":"72","data-inspector-column":"4","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",onClick:function(a){var v=b*y-C+100,o=e==null?void 0:e.findIndex(function(Z){return Z.pathname===a.key}),x=b-1;if(o>x){var X=(o-x)*y+v;c({type:"CHANGESTATE",payload:{tarnslateX:X,active:o}})}else c({type:"CHANGESTATE",payload:{tarnslateX:y*o,active:o}});m.m8.push((0,D.Z)({},e[o]))},_nk:"".concat(i,"41"),children:L.map(function(l){return(0,t.jsxs)(A.Z.Item,{"data-inspector-line":"97","data-inspector-column":"15","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",_nk:"iAr".concat(i,"51"),children:[" ",l.title]},l.pathname)})}),f=(0,t.jsxs)(A.Z,{"data-inspector-line":"102","data-inspector-column":"4","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",onClick:function(a){var v=0,o=JSON.parse(JSON.stringify(e));switch(a.key){case"closeCurrent":{var x=o[r].keepAliveName;if(r>0){v=r-1;var X=setTimeout(function(){clearTimeout(X),m.m8.push(e[v])},10)}else{v=0;var Z=setTimeout(function(){clearTimeout(Z),m.m8.push(o[v])},10)}var R=m.m8.listen(function(){R();var d=setTimeout(function(){clearTimeout(d),g(x)},10)});o.splice(r,1),c({type:"CHANGESTATE",payload:{tabList:o,active:v,tarnslateX:0}});break}case"closeOther":{var lt=o.filter(function(d,T){return T!==r}),dt=o.filter(function(d,T){return T===r});lt.forEach(function(d){return g(d.keepAliveName)}),c({type:"CHANGESTATE",payload:{tabList:dt,active:0,tarnslateX:0}});break}case"closeAll":{var pt=m.m8.listen(function(){pt();var d=setTimeout(function(){clearTimeout(d),K()},10)}),ut=setTimeout(function(){clearTimeout(ut),m.m8.push("/")},10);c({type:"CHANGESTATE",payload:{tabList:[],active:0,tarnslateX:0}});break}case"closeLeft":{var vt=o.filter(function(d,T){return T<r}),mt=o.filter(function(d,T){return T>=r});vt.forEach(function(d){return g(d.keepAliveName)}),c({type:"CHANGESTATE",payload:{tabList:mt,active:0,tarnslateX:0}});break}case"closeRight":{var ht=o.filter(function(d,T){return T>r}),Tt=o.filter(function(d,T){return T<=r});ht.forEach(function(d){return g(d.keepAliveName)}),c({type:"CHANGESTATE",payload:{tabList:Tt,tarnslateX:0}});break}}},_nk:"".concat(i,"42"),children:[(0,t.jsx)(A.Z.Item,{"data-inspector-line":"181","data-inspector-column":"6","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",_nk:"".concat(i,"52"),children:"\u5173\u95ED\u5F53\u524D\u6807\u7B7E"},"closeCurrent"),(0,t.jsx)(A.Z.Item,{"data-inspector-line":"182","data-inspector-column":"6","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",_nk:"".concat(i,"53"),children:"\u5173\u95ED\u5176\u4ED6\u6807\u7B7E"},"closeOther"),(0,t.jsx)(A.Z.Item,{"data-inspector-line":"183","data-inspector-column":"6","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",_nk:"".concat(i,"54"),children:"\u5173\u95ED\u5168\u90E8\u6807\u7B7E"},"closeAll"),(0,t.jsx)(A.Z.Item,{"data-inspector-line":"184","data-inspector-column":"6","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",disabled:r===0,_nk:"".concat(i,"55"),children:"\u5173\u95ED\u5F53\u524D\u5DE6\u8FB9\u6807\u7B7E"},"closeLeft"),(0,t.jsx)(A.Z.Item,{"data-inspector-line":"187","data-inspector-column":"6","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",disabled:r===e.length-1,_nk:"".concat(i,"56"),children:"\u5173\u95ED\u5F53\u524D\u53F3\u8FB9\u6807\u7B7E"},"closeRight")]});return(0,H.useEffect)(function(){window.onresize=function(){var a=document.getElementById("contentContainer")?document.getElementById("contentContainer").getBoundingClientRect().width:0;c({type:"CHANGESTATE",payload:{tabsWidth:a,tarnslateX:0}})};var l=setTimeout(function(){var a=document.getElementById("contentContainer")?document.getElementById("contentContainer").getBoundingClientRect().width:0;c({type:"CHANGESTATE",payload:{tabsWidth:a}})},100);return function(){clearTimeout(l)}},[h]),(0,H.useEffect)(function(){var l=setTimeout(function(){var a=document.getElementsByClassName("link-tab")[0]?document.getElementsByClassName("link-tab")[0].getBoundingClientRect().width:120,v=Math.ceil((C-100)/a);a>0&&y>0&&c({type:"CHANGESTATE",payload:{showTabs:v,tabWidth:a}})},100);return function(){clearTimeout(l)}},[C]),(0,t.jsxs)("div",{"data-inspector-line":"231","data-inspector-column":"4","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",className:E().tabs,id:"contentContainer",_nk:"".concat(i,"23"),children:[e.length>0&&(0,t.jsx)(at,{"data-inspector-line":"232","data-inspector-column":"29","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",onSortEnd:F,axis:"x",distance:1,_nk:"".concat(i,"61")}),(0,t.jsxs)("div",{"data-inspector-line":"233","data-inspector-column":"6","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",className:"".concat(E().tabLeftMenu,"  ").concat(e.length>=b&&E().boxShadow),_nk:"".concat(i,"24"),children:[e.length>b&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Z,{"data-inspector-line":"236","data-inspector-column":"12","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",overlay:j,className:E().tabMore,_nk:"".concat(i,"71"),children:(0,t.jsx)("a",{"data-inspector-line":"237","data-inspector-column":"14","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",className:"ant-dropdown-link",onClick:function(a){return a.preventDefault()},_nk:"".concat(i,"81"),children:(0,t.jsx)(P.Z,{"data-inspector-line":"238","data-inspector-column":"16","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",_nk:"".concat(i,"91")})})}),(0,t.jsx)(V.Z,{"data-inspector-line":"241","data-inspector-column":"12","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",type:"vertical",_nk:"".concat(i,"a1")})]}),e.length>1&&(0,t.jsx)(w.Z,{"data-inspector-line":"245","data-inspector-column":"10","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",overlay:f,className:E().menuRight,_nk:"".concat(i,"72"),children:(0,t.jsxs)("a",{"data-inspector-line":"246","data-inspector-column":"12","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",className:"ant-dropdown-link",onClick:function(a){return a.preventDefault()},_nk:"".concat(i,"82"),children:["\u64CD\u4F5C ",(0,t.jsx)(Q.Z,{"data-inspector-line":"247","data-inspector-column":"17","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",_nk:"".concat(i,"b1")})]})})]})]})},it=nt,ot=n(60923),O="jD5g",st=ot.Z.tabsLayout,ct=function(u){var p=function(){return st?(0,t.jsx)(it,{"data-inspector-line":"15","data-inspector-column":"27","data-inspector-relative-path":"src/layouts/TabsLayout.tsx",_nk:"".concat(O,"11")}):null};return(0,t.jsxs)("div",{"data-inspector-line":"19","data-inspector-column":"4","data-inspector-relative-path":"src/layouts/TabsLayout.tsx",_nk:"".concat(O,"21"),children:[p(),(0,t.jsx)("div",{"data-inspector-line":"21","data-inspector-column":"6","data-inspector-relative-path":"src/layouts/TabsLayout.tsx",style:{margin:"64px 24px 24px 24px"},_nk:"".concat(O,"22"),children:u.children})]})},rt=ct}}]);
