(self.webpackChunkruoyi_react=self.webpackChunkruoyi_react||[]).push([[1875],{77885:function(N,M,t){"use strict";t.r(M),t.d(M,{default:function(){return pe}});var j=t(11849),S=t(57663),y=t(71577),$=t(54029),P=t(79166),B=t(2824),W=t(34792),h=t(48086),x=t(3182),Z=t(71194),R=t(50146),E=t(94043),e=t.n(E),d=t(57119),g=t(72850),v=t(48176),_=t(67294),n=t(43581),a=t(43686),D=t(66548),u=t(11238),w=t(24480);function G(o,f){return b.apply(this,arguments)}function b(){return b=(0,x.Z)(e().mark(function o(f,c){return e().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,u.ZP)("/api/monitor/logininfor/list",{params:(0,w.f)(f,c),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return s.stop()}},o)})),b.apply(this,arguments)}function l(o){return request("/api/monitor/logininfor/".concat(o),{method:"GET"})}function I(o){return F.apply(this,arguments)}function F(){return F=_asyncToGenerator(_regeneratorRuntime.mark(function o(f){return _regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",request("/api/monitor/logininfor",{method:"POST",data:f}));case 1:case"end":return i.stop()}},o)})),F.apply(this,arguments)}function ge(o){return Y.apply(this,arguments)}function Y(){return Y=_asyncToGenerator(_regeneratorRuntime.mark(function o(f){return _regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",request("/api/monitor/logininfor",{method:"PUT",data:f}));case 1:case"end":return i.stop()}},o)})),Y.apply(this,arguments)}function ne(o){return z.apply(this,arguments)}function z(){return z=(0,x.Z)(e().mark(function o(f){return e().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,u.ZP)("/api/monitor/logininfor/".concat(f),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return i.stop()}},o)})),z.apply(this,arguments)}function te(o){return(0,D.su)("/api/monitor/logininfor/export",{params:o},"login_infor_".concat(new Date().getTime(),".xlsx"))}function re(){return V.apply(this,arguments)}function V(){return V=(0,x.Z)(e().mark(function o(){return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,u.ZP)("/api/monitor/logininfor/clean",{method:"DELETE"}));case 1:case"end":return c.stop()}},o)})),V.apply(this,arguments)}var ae=t(52346),ie=t(21349),oe=t(85224),r=t(85893),se=R.Z.confirm,ue=function(){var o=(0,x.Z)(e().mark(function f(c){var i,s;return e().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(i=h.default.loading("\u6B63\u5728\u5220\u9664"),c){m.next=3;break}return m.abrupt("return",!0);case 3:return m.prev=3,m.next=6,ne(c.map(function(A){return A.infoId}).join(","));case 6:return s=m.sent,i(),s.code===200?h.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):h.default.error(s.msg),m.abrupt("return",!0);case 12:return m.prev=12,m.t0=m.catch(3),i(),h.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),m.abrupt("return",!1);case 17:case"end":return m.stop()}},f,null,[[3,12]])}));return function(c){return o.apply(this,arguments)}}(),le=function(){var o=(0,x.Z)(e().mark(function f(){return e().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:se({title:"\u662F\u5426\u786E\u8BA4\u6E05\u7A7A\u6240\u6709\u767B\u5F55\u65E5\u5FD7\u6570\u636E\u9879?",icon:(0,r.jsx)(d.Z,{"data-inspector-line":"44","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx"}),content:"\u8BF7\u8C28\u614E\u64CD\u4F5C",onOk:function(){return(0,x.Z)(e().mark(function U(){var m,A;return e().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return m=h.default.loading("\u6B63\u5728\u5220\u9664"),L.prev=1,L.next=4,re();case 4:return A=L.sent,m(),A.code===200?h.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):h.default.error(A.msg),L.abrupt("return",!0);case 10:return L.prev=10,L.t0=L.catch(1),m(),h.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),L.abrupt("return",!1);case 15:case"end":return L.stop()}},U,null,[[1,10]])}))()},onCancel:function(){}});case 1:case"end":return i.stop()}},f)}));return function(){return o.apply(this,arguments)}}(),ce=function(){var o=(0,x.Z)(e().mark(function f(){var c;return e().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return c=h.default.loading("\u6B63\u5728\u5BFC\u51FA"),s.prev=1,s.next=4,te();case 4:return h.default.success("\u5BFC\u51FA\u6210\u529F"),c(),s.abrupt("return",!0);case 9:return s.prev=9,s.t0=s.catch(1),c(),h.default.error("\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),s.abrupt("return",!1);case 14:case"end":return s.stop()}},f,null,[[1,9]])}));return function(){return o.apply(this,arguments)}}(),de=function(){var f=(0,_.useRef)(),c=(0,_.useRef)(),i=(0,_.useState)([]),s=(0,B.Z)(i,2),U=s[0],m=s[1],A=(0,_.useState)([]),Q=(0,B.Z)(A,2),L=Q[0],fe=Q[1],X=(0,n.md)(),me=(0,n.YB)();(0,_.useEffect)(function(){(0,ae.zP)("sys_common_status").then(function(O){if(O.code===200){var T={};O.data.forEach(function(p){T[p.dictValue]=p.dictLabel}),fe(T)}})},[]);var he=[{title:(0,r.jsx)(n._H,{"data-inspector-line":"113","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.info_id",defaultMessage:"\u8BBF\u95EEID"}),dataIndex:"infoId",valueType:"text",hideInSearch:!0},{title:(0,r.jsx)(n._H,{"data-inspector-line":"119","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.user_name",defaultMessage:"\u7528\u6237\u8D26\u53F7"}),dataIndex:"userName",valueType:"text"},{title:(0,r.jsx)(n._H,{"data-inspector-line":"124","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.ipaddr",defaultMessage:"\u767B\u5F55IP\u5730\u5740"}),dataIndex:"ipaddr",valueType:"text",copyable:!0},{title:(0,r.jsx)(n._H,{"data-inspector-line":"130","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.login_location",defaultMessage:"\u767B\u5F55\u5730\u70B9"}),dataIndex:"loginLocation",valueType:"text",hideInSearch:!0},{title:(0,r.jsx)(n._H,{"data-inspector-line":"136","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.browser",defaultMessage:"\u6D4F\u89C8\u5668\u7C7B\u578B"}),dataIndex:"browser",valueType:"text",hideInSearch:!0},{title:(0,r.jsx)(n._H,{"data-inspector-line":"142","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.os",defaultMessage:"\u64CD\u4F5C\u7CFB\u7EDF"}),dataIndex:"os",valueType:"text",hideInSearch:!0},{title:(0,r.jsx)(n._H,{"data-inspector-line":"148","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.status",defaultMessage:"\u767B\u5F55\u72B6\u6001"}),dataIndex:"status",valueType:"select",valueEnum:L,render:function(T,p){return(0,r.jsx)(P.Z,{"data-inspector-line":"153","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",status:p.status==="0"?"success":"error",text:L[p.status]})}},{title:(0,r.jsx)(n._H,{"data-inspector-line":"160","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.msg",defaultMessage:"\u63D0\u793A\u6D88\u606F"}),dataIndex:"msg",valueType:"text",hideInSearch:!0},{title:(0,r.jsx)(n._H,{"data-inspector-line":"166","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.login_time",defaultMessage:"\u8BBF\u95EE\u65F6\u95F4"}),dataIndex:"loginTime",valueType:"dateRange",sorter:!0,defaultSortOrder:"descend",render:function(T,p){return(0,r.jsx)("span",{"data-inspector-line":"171","data-inspector-column":"29","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",children:p.loginTime})},search:{transform:function(T){return{"params[beginTime]":T[0],"params[endTime]":T[1]}}}}];return(0,r.jsxs)(ie.Z,{"data-inspector-line":"184","data-inspector-column":"4","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",children:[(0,r.jsx)("div",{"data-inspector-line":"185","data-inspector-column":"6","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",style:{width:"100%",float:"right"},children:(0,r.jsx)(a.ZP,{"data-inspector-line":"186","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",headerTitle:me.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u4FE1\u606F"}),actionRef:c,formRef:f,rowKey:"infoId",search:{labelWidth:"auto"},toolBarRender:function(){return[(0,r.jsxs)(y.Z,{"data-inspector-line":"199","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",type:"text",danger:!0,hidden:!X.hasPerms("monitor:logininfor:remove"),onClick:(0,x.Z)(e().mark(function T(){var p,C;return e().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:le(),(p=c.current)===null||p===void 0||(C=p.reloadAndRest)===null||C===void 0||C.call(p);case 2:case"end":return H.stop()}},T)})),children:[(0,r.jsx)(g.Z,{"data-inspector-line":"209","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx"})," ",(0,r.jsx)(n._H,{"data-inspector-line":"210","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"pages.searchTable.clear",defaultMessage:"\u6E05\u7A7A"})]},"clear"),(0,r.jsxs)(y.Z,{"data-inspector-line":"212","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",type:"text",hidden:!X.hasPerms("monitor:logininfor:export"),onClick:(0,x.Z)(e().mark(function T(){return e().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:ce();case 1:case"end":return C.stop()}},T)})),children:[(0,r.jsx)(v.Z,{"data-inspector-line":"220","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx"})," ",(0,r.jsx)(n._H,{"data-inspector-line":"221","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"pages.searchTable.export",defaultMessage:"\u5BFC\u51FA"})]},"export")]},request:function(T,p){return G((0,j.Z)({},T),p)},columns:he,rowSelection:{onChange:function(T,p){m(p)}}},"logininforList")}),(U==null?void 0:U.length)>0&&(0,r.jsx)(oe.Z,{"data-inspector-line":"234","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",extra:(0,r.jsxs)("div",{"data-inspector-line":"236","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",children:[(0,r.jsx)(n._H,{"data-inspector-line":"237","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"pages.searchTable.chosen",defaultMessage:"\u5DF2\u9009\u62E9"}),(0,r.jsx)("a",{"data-inspector-line":"238","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",style:{fontWeight:600},children:U.length}),(0,r.jsx)(n._H,{"data-inspector-line":"239","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"pages.searchTable.item",defaultMessage:"\u9879"})]}),children:(0,r.jsx)(y.Z,{"data-inspector-line":"243","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",danger:!0,hidden:!X.hasPerms("monitor:logininfor:remove"),onClick:(0,x.Z)(e().mark(function O(){return e().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:R.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var C=(0,x.Z)(e().mark(function H(){var ee,k,J;return e().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,ue(U);case 2:ee=K.sent,ee&&(m([]),(k=c.current)===null||k===void 0||(J=k.reloadAndRest)===null||J===void 0||J.call(k));case 4:case"end":return K.stop()}},H)}));function q(){return C.apply(this,arguments)}return q}()});case 1:case"end":return p.stop()}},O)})),children:(0,r.jsx)(n._H,{"data-inspector-line":"263","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"pages.searchTable.batchDeletion",defaultMessage:"\u6279\u91CF\u5220\u9664"})},"batchRemove")})]})},pe=de},52346:function(N,M,t){"use strict";t.d(M,{jK:function(){return W},Vd:function(){return x},zP:function(){return Z},oH:function(){return R},a7:function(){return e},sF:function(){return g},n2:function(){return _}});var j=t(3182),S=t(94043),y=t.n(S),$=t(66548),P=t(11238),B=t(24480);function W(n,a){return h.apply(this,arguments)}function h(){return h=(0,j.Z)(y().mark(function n(a,D){return y().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",(0,P.ZP)("/api/system/dict/type/list",{params:(0,B.f)(a,D),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return w.stop()}},n)})),h.apply(this,arguments)}function x(n){return(0,P.ZP)("/api/system/dict/type/".concat(n),{method:"GET"})}function Z(n){return(0,P.ZP)("/api/system/dict/data/type/".concat(n),{method:"GET"})}function R(n){return E.apply(this,arguments)}function E(){return E=(0,j.Z)(y().mark(function n(a){return y().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,P.ZP)("/api/system/dict/type",{method:"POST",data:a}));case 1:case"end":return u.stop()}},n)})),E.apply(this,arguments)}function e(n){return d.apply(this,arguments)}function d(){return d=(0,j.Z)(y().mark(function n(a){return y().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,P.ZP)("/api/system/dict/type",{method:"PUT",data:a}));case 1:case"end":return u.stop()}},n)})),d.apply(this,arguments)}function g(n){return v.apply(this,arguments)}function v(){return v=(0,j.Z)(y().mark(function n(a){return y().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,P.ZP)("/api/system/dict/type/".concat(a),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return u.stop()}},n)})),v.apply(this,arguments)}function _(n){return(0,$.su)("/api/system/dict/type/export",{params:n},"dict_type_".concat(new Date().getTime(),".xlsx"))}},66548:function(N,M,t){"use strict";t.d(M,{su:function(){return x}});var j=t(11849),S=t(3182),y=t(94043),$=t.n(y),P=t(11238),B={xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",zip:"application/zip"};function W(R){request(R,{method:"GET",responseType:"blob",getResponse:!0}).then(function(E){h(E,B.zip)})}function h(R,E){var e=document.createElement("a"),d=new Blob([R.data],{type:E}),g=new RegExp("filename=([^;]+\\.[^\\.;]+);*"),v=decodeURI(R.response.headers.get("content-disposition")),_=g.exec(v),n=_?_[1]:"file";n=n.replace(/"/g,""),e.style.display="none",e.href=URL.createObjectURL(d),e.setAttribute("download",n),document.body.appendChild(e),e.click(),URL.revokeObjectURL(e.href),document.body.removeChild(e)}function x(R,E,e){return Z.apply(this,arguments)}function Z(){return Z=(0,S.Z)($().mark(function R(E,e,d){return $().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,P.ZP)(E,(0,j.Z)((0,j.Z)({},e),{},{method:"POST",responseType:"blob"})).then(function(_){var n=document.createElement("a"),a=_;n.style.display="none",n.href=URL.createObjectURL(a),n.setAttribute("download",d),document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)}));case 1:case"end":return v.stop()}},R)})),Z.apply(this,arguments)}},24480:function(N,M,t){"use strict";t.d(M,{C2:function(){return h},wC:function(){return Z},f:function(){return E}});var j=t(17673),S="/user/login",y=/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+(?::\d+)?|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/,$=function(d){return y.test(d)},P=function(){return window.location.hostname==="preview.pro.ant.design"},B=function(){var d="production";return d==="development"?!0:P()};function W(e){return e.replace(/^\s+|\s+$/gm,"")}function h(e,d,g,v,_,n){var a={id:d||"id",name:g||"name",parentId:v||"parentId",parentName:_||"parentName",childrenList:n||"children"},D={},u={},w=[];e.forEach(function(b){var l=b,I=l[a.parentId];D[I]==null&&(D[I]=[]),l.key=l[a.id],l.title=l[a.name],l.value=l[a.id],u[l[a.id]]=l,D[I].push(l)}),e.forEach(function(b){var l=b,I=l[a.parentId];u[I]==null&&(l[a.parentName]="",w.push(l))}),w.forEach(function(b){G(b)});function G(b){var l=b;D[l[a.id]]!==null&&(l[a.childrenList]=D[l[a.id]]),l[a.childrenList]&&l[a.childrenList].forEach(function(I){var F=I;F[a.parentName]=l[a.name],G(F)})}return w}var x=function(){return parse(window.location.href.split("?")[1])};function Z(e){var d=e.map(function(g){var v={id:g.id,title:g.label,key:"".concat(g.id),value:g.id};return g.children&&(v.children=Z(g.children)),v});return d}function R(e){window.location.href="/api/common/download?fileName=".concat(encodeURI(e),"&delete=",!0)}function E(e,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(e.orderByColumn=g,e.isAsc=d[g]==="descend"?"descending":"ascending");return e}}}]);
