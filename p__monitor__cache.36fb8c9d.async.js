(self.webpackChunkruoyi_react=self.webpackChunkruoyi_react||[]).push([[7350],{12323:function(p){p.exports={card:"card___Am-TQ",miniChart:"miniChart___QiAb_",chartContent:"chartContent___2BQwg",chartLoading:"chartLoading___2bDkP"}},7542:function(p,m,a){"use strict";a.r(m),a.d(m,{default:function(){return P}});var h=a(11849),W=a(13062),v=a(71230),X=a(89032),l=a(15746),Y=a(58024),r=a(39144),b=a(66456),j=a(61128),s=a(2824),o=a(67294),A=a(3182),D=a(94043),f=a.n(D),F=a(11238),w="KMr+";function E(){return d.apply(this,arguments)}function d(){return d=(0,A.Z)(f().mark(function g(){return f().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,F.ZP)("/api/monitor/cache",{method:"GET"}));case 1:case"end":return c.stop()}},g)})),d.apply(this,arguments)}var k=a(12323),u=a.n(k),T=a(78009),x=a(72178),n=a(85893),e="rgU2",U=[{title:"col1",dataIndex:"col1",key:"col1"},{title:"col2",dataIndex:"col2",key:"col2"},{title:"col3",dataIndex:"col3",key:"col3"},{title:"col4",dataIndex:"col4",key:"col4"},{title:"col5",dataIndex:"col5",key:"col5"},{title:"col6",dataIndex:"col6",key:"col6"},{title:"col7",dataIndex:"col7",key:"col7"},{title:"col8",dataIndex:"col8",key:"col8"}],B=function(){var y=(0,o.useState)([]),c=(0,s.Z)(y,2),N=c[0],M=c[1],Q=(0,o.useState)([]),C=(0,s.Z)(Q,2),G=C[0],K=C[1],L=(0,o.useState)([]),Z=(0,s.Z)(L,2),R=Z[0],z=Z[1],H=(0,o.useState)([]),I=(0,s.Z)(H,2),O=I[0],$=I[1];(0,o.useEffect)(function(){E().then(function(t){if(t.code===200){var i=[];i.push({col1:"Redis\u7248\u672C",col2:t.data.info.redis_version,col3:"\u8FD0\u884C\u6A21\u5F0F",col4:t.data.info.redis_mode==="standalone"?"\u5355\u673A":"\u96C6\u7FA4",col5:"\u7AEF\u53E3",col6:t.data.info.tcp_port,col7:"\u5BA2\u6237\u7AEF\u6570",col8:t.data.info.connected_clients}),i.push({col1:"\u8FD0\u884C\u65F6\u95F4(\u5929)",col2:t.data.info.uptime_in_days,col3:"\u4F7F\u7528\u5185\u5B58",col4:t.data.info.used_memory_human,col5:"\u4F7F\u7528CPU",col6:"".concat(t.data.info.used_cpu_user_children,"%"),col7:"\u5185\u5B58\u914D\u7F6E",col8:t.data.info.maxmemory_human}),i.push({col1:"AOF\u662F\u5426\u5F00\u542F",col2:t.data.info.aof_enabled==="0"?"\u5426":"\u662F",col3:"RDB\u662F\u5426\u6210\u529F",col4:t.data.info.rdb_last_bgsave_status,col5:"Key\u6570\u91CF",col6:t.data.dbSize,col7:"\u7F51\u7EDC\u5165\u53E3/\u51FA\u53E3",col8:"".concat(t.data.info.instantaneous_input_kbps,"/").concat(t.data.info.instantaneous_output_kbps,"kps")}),M(i);var V=t.data.commandStats.map(function(S){return{type:S.name,value:Number(S.value)}});$(V),z(t.data.info.used_memory_human),K(t.data.info.used_memory/1024)}})},[]);var J={value:G,min:0,max:1024,range:[0,128,256,384,512,640,768,896,1024],color:["#43E089","#43E089","#6A859C","#6A859C","#6A859C","#6A859C","#C5473D","#C5473D"],statistic:{visible:!0,text:R,color:"#30bf78"}};return(0,n.jsxs)(T.ZP,{"data-inspector-line":"122","data-inspector-column":"4","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",breadcrumb:void 0,_nk:"".concat(e,"11"),children:[(0,n.jsx)(v.Z,{"data-inspector-line":"123","data-inspector-column":"6","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",gutter:[24,24],_nk:"".concat(e,"21"),children:(0,n.jsx)(l.Z,{"data-inspector-line":"124","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",span:24,_nk:"".concat(e,"31"),children:(0,n.jsx)(r.Z,{"data-inspector-line":"125","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",title:"\u57FA\u672C\u4FE1\u606F",className:u().card,_nk:"".concat(e,"41"),children:(0,n.jsx)(j.Z,{"data-inspector-line":"126","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",pagination:!1,showHeader:!1,dataSource:N,columns:U,_nk:"".concat(e,"51")})})})}),(0,n.jsxs)(v.Z,{"data-inspector-line":"135","data-inspector-column":"6","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",gutter:[24,24],_nk:"".concat(e,"22"),children:[(0,n.jsx)(l.Z,{"data-inspector-line":"136","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",span:12,_nk:"".concat(e,"32"),children:(0,n.jsx)(r.Z,{"data-inspector-line":"137","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",title:"\u547D\u4EE4\u7EDF\u8BA1",className:u().card,_nk:"".concat(e,"42"),children:(0,n.jsx)(x.yi,{"data-inspector-line":"138","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",forceFit:!0,radius:.8,padding:"auto",data:O,angleField:"value",colorField:"type",_nk:"".concat(e,"61")})})}),(0,n.jsx)(l.Z,{"data-inspector-line":"148","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",span:12,_nk:"".concat(e,"33"),children:(0,n.jsx)(r.Z,{"data-inspector-line":"149","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",title:"\u5185\u5B58\u4FE1\u606F",className:u().card,_nk:"".concat(e,"43"),children:(0,n.jsx)(x.aC,(0,h.Z)((0,h.Z)({"data-inspector-line":"150","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx"},J),{},{_nk:"".concat(e,"71")}))})})]})]})},P=B}}]);
