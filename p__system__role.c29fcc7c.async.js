(self.webpackChunkruoyi_react=self.webpackChunkruoyi_react||[]).push([[6932],{31199:function(Y,b,e){"use strict";var P=e(22122),B=e(28991),u=e(81253),O=e(67294),D=e(63990),E=["fieldProps","min","proFieldProps","max"],w=function(h,R){var Z=h.fieldProps,s=h.min,p=h.proFieldProps,f=h.max,t=(0,u.Z)(h,E);return O.createElement(D.Z,(0,P.Z)({mode:"edit",valueType:"digit",fieldProps:(0,B.Z)({min:s,max:f},Z),ref:R,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:p},t))};b.Z=O.forwardRef(w)},86615:function(Y,b,e){"use strict";var P=e(88983),B=e(47933),u=e(22122),O=e(28991),D=e(81253),E=e(67294),w=e(63990),I=e(22270),h=e(64893),R=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],Z=E.forwardRef(function(t,_){var l=t.fieldProps,y=t.options,a=t.radioType,m=t.layout,n=t.proFieldProps,c=t.valueEnum,o=(0,D.Z)(t,R);return E.createElement(w.Z,(0,u.Z)({mode:"edit",valueType:a==="button"?"radioButton":"radio",ref:_,valueEnum:(0,I.h)(c,void 0)},o,{fieldProps:(0,O.Z)({options:y,layout:m},l),proFieldProps:n,filedConfig:{customLightMode:!0}}))}),s=E.forwardRef(function(t,_){var l=t.fieldProps,y=t.children;return E.createElement(B.ZP,(0,u.Z)({},l,{ref:_}),y)}),p=(0,h.G)(s,{valuePropName:"checked",ignoreWidth:!0}),f=p;f.Group=Z,f.Button=B.ZP.Button,f.displayName="ProFormComponent",b.Z=f},5966:function(Y,b,e){"use strict";var P=e(22122),B=e(81253),u=e(67294),O=e(63990),D=["fieldProps","proFieldProps"],E=["fieldProps","proFieldProps"],w="text",I=function(s){var p=s.fieldProps,f=s.proFieldProps,t=(0,B.Z)(s,D);return u.createElement(O.Z,(0,P.Z)({mode:"edit",valueType:w,fieldProps:p,filedConfig:{valueType:w},proFieldProps:f},t))},h=function(s){var p=s.fieldProps,f=s.proFieldProps,t=(0,B.Z)(s,E);return u.createElement(O.Z,(0,P.Z)({mode:"edit",valueType:"password",fieldProps:p,proFieldProps:f,filedConfig:{valueType:w}},t))},R=I;R.Password=h,R.displayName="ProFormComponent",b.Z=R},90672:function(Y,b,e){"use strict";var P=e(22122),B=e(81253),u=e(67294),O=e(63990),D=["fieldProps","proFieldProps"],E=function(I,h){var R=I.fieldProps,Z=I.proFieldProps,s=(0,B.Z)(I,D);return u.createElement(O.Z,(0,P.Z)({ref:h,mode:"edit",valueType:"textarea",fieldProps:R,proFieldProps:Z},s))};b.Z=u.forwardRef(E)},52346:function(Y,b,e){"use strict";e.d(b,{jK:function(){return I},j3:function(){return R},Vd:function(){return s},zP:function(){return p},oH:function(){return f},a7:function(){return _},sF:function(){return y},n2:function(){return m}});var P=e(3182),B=e(94043),u=e.n(B),O=e(66548),D=e(11238),E=e(24480),w="epHD";function I(n,c){return h.apply(this,arguments)}function h(){return h=(0,P.Z)(u().mark(function n(c,o){return u().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.abrupt("return",(0,D.ZP)("/api/system/dict/type/list",{params:(0,E.f)(c,o),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return z.stop()}},n)})),h.apply(this,arguments)}function R(){return Z.apply(this,arguments)}function Z(){return Z=(0,P.Z)(u().mark(function n(){return u().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,D.ZP)("/api/system/dict/type/optionselect",{method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return o.stop()}},n)})),Z.apply(this,arguments)}function s(n){return(0,D.ZP)("/api/system/dict/type/".concat(n),{method:"GET"})}function p(n){return(0,D.ZP)("/api/system/dict/data/type/".concat(n),{method:"GET"})}function f(n){return t.apply(this,arguments)}function t(){return t=(0,P.Z)(u().mark(function n(c){return u().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.abrupt("return",(0,D.ZP)("/api/system/dict/type",{method:"POST",data:c}));case 1:case"end":return F.stop()}},n)})),t.apply(this,arguments)}function _(n){return l.apply(this,arguments)}function l(){return l=(0,P.Z)(u().mark(function n(c){return u().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.abrupt("return",(0,D.ZP)("/api/system/dict/type",{method:"PUT",data:c}));case 1:case"end":return F.stop()}},n)})),l.apply(this,arguments)}function y(n){return a.apply(this,arguments)}function a(){return a=(0,P.Z)(u().mark(function n(c){return u().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.abrupt("return",(0,D.ZP)("/api/system/dict/type/".concat(c),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return F.stop()}},n)})),a.apply(this,arguments)}function m(n){return(0,O.su)("/api/system/dict/type/export",{params:n},"dict_type_".concat(new Date().getTime(),".xlsx"))}},78759:function(Y,b,e){"use strict";e.d(b,{Af:function(){return I},Th:function(){return Z},bL:function(){return s},_8:function(){return f},n_:function(){return _}});var P=e(3182),B=e(94043),u=e.n(B),O=e(66548),D=e(24480),E=e(11238),w="3uCI";function I(a,m){return h.apply(this,arguments)}function h(){return h=(0,P.Z)(u().mark(function a(m,n){return u().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,E.ZP)("/api/system/menu/list",{params:(0,D.f)(m,n),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return o.stop()}},a)})),h.apply(this,arguments)}function R(a){return request("/api/system/menu/".concat(a),{method:"GET"})}function Z(){return(0,E.ZP)("/api/system/menu/treeselect",{method:"GET"})}function s(a){return p.apply(this,arguments)}function p(){return p=(0,P.Z)(u().mark(function a(m){return u().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,E.ZP)("/api/system/menu",{method:"POST",data:m}));case 1:case"end":return c.stop()}},a)})),p.apply(this,arguments)}function f(a){return t.apply(this,arguments)}function t(){return t=(0,P.Z)(u().mark(function a(m){return u().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,E.ZP)("/api/system/menu",{method:"PUT",data:m}));case 1:case"end":return c.stop()}},a)})),t.apply(this,arguments)}function _(a){return l.apply(this,arguments)}function l(){return l=(0,P.Z)(u().mark(function a(m){return u().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,E.ZP)("/api/system/menu/".concat(m),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return c.stop()}},a)})),l.apply(this,arguments)}function y(a){return downLoadXlsx("/api/system/menu/export",{params:a},"menu_".concat(new Date().getTime(),".xlsx"))}},16042:function(Y,b,e){"use strict";e.r(b),e.d(b,{default:function(){return Ie}});var P=e(71194),B=e(50146),u=e(62350),O=e(75443),D=e(57663),E=e(71577),w=e(54029),I=e(79166),h=e(2824),R=e(11849),Z=e(34792),s=e(48086),p=e(3182),f=e(94043),t=e.n(f),_=e(49101),l=e(48176),y=e(67294),a=e(43581),m=e(21349),n=e(85224),c=e(16894),o=e(94370),F=e(32157),z=e(7573),V=e(13062),x=e(71230),J=e(89032),G=e(15746),Ke=e(9715),ge=e(86835),Pe=e(952),Ee=e(71975),de=e(31199),pe=e(5966),xe=e(86615),Te=e(90672),r=e(85893),T="LuCB",De=function(d){var C=ge.Z.useForm(),j=(0,h.Z)(C,1),v=j[0],S=d.menuTree,i=d.menuCheckedKeys,L=(0,y.useState)(),te=(0,h.Z)(L,2),ue=te[0],q=te[1],le=d.statusOptions;(0,y.useEffect)(function(){v.resetFields(),v.setFieldsValue({roleId:d.values.roleId,roleName:d.values.roleName,roleKey:d.values.roleKey,roleSort:d.values.roleSort,dataScope:d.values.dataScope,menuCheckStrictly:d.values.menuCheckStrictly,deptCheckStrictly:d.values.deptCheckStrictly,status:d.values.status,delFlag:d.values.delFlag,createBy:d.values.createBy,createTime:d.values.createTime,updateBy:d.values.updateBy,updateTime:d.values.updateTime,remark:d.values.remark,menuIds:d.values.menuIds})},[v,d]);var H=(0,a.YB)(),X=function(){d.onCancel(),v.resetFields()},oe=function(){var ae=(0,p.Z)(t().mark(function Q(ee){return t().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:d.onSubmit((0,R.Z)((0,R.Z)({},ee),{},{menuIds:ue}));case 1:case"end":return re.stop()}},Q)}));return function(ee){return ae.apply(this,arguments)}}();return(0,r.jsxs)(Ee.a,{"data-inspector-line":"64","data-inspector-column":"4","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",form:v,title:H.formatMessage({id:"system.Role.modify_info",defaultMessage:"\u7F16\u8F91\u89D2\u8272\u4FE1\u606F"}),onFinish:oe,initialValues:d.values,visible:d.visible,drawerProps:{destroyOnClose:!0,onClose:X,maskClosable:!1,keyboard:!1},_nk:"".concat(T,"11"),children:[(0,r.jsx)(x.Z,{"data-inspector-line":"80","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],_nk:"".concat(T,"21"),children:(0,r.jsx)(G.Z,{"data-inspector-line":"81","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,_nk:"".concat(T,"31"),children:(0,r.jsx)(de.Z,{"data-inspector-line":"82","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",name:"roleId",label:H.formatMessage({id:"system.Role.role_id",defaultMessage:"\u89D2\u8272ID"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272ID",disabled:!0,hidden:!d.values.roleId,rules:[{required:!1,message:(0,r.jsx)(a._H,{"data-inspector-line":"95","data-inspector-column":"25","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u89D2\u8272ID\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272ID\uFF01",_nk:"".concat(T,"51")})}],_nk:"".concat(T,"41")})})}),(0,r.jsx)(x.Z,{"data-inspector-line":"101","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],_nk:"".concat(T,"22"),children:(0,r.jsx)(G.Z,{"data-inspector-line":"102","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,_nk:"".concat(T,"32"),children:(0,r.jsx)(pe.Z,{"data-inspector-line":"103","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",name:"roleName",label:H.formatMessage({id:"system.Role.role_name",defaultMessage:"\u89D2\u8272\u540D\u79F0"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",rules:[{required:!0,message:(0,r.jsx)(a._H,{"data-inspector-line":"115","data-inspector-column":"18","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0\uFF01",_nk:"".concat(T,"52")})}],_nk:"".concat(T,"61")})})}),(0,r.jsx)(x.Z,{"data-inspector-line":"122","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],_nk:"".concat(T,"23"),children:(0,r.jsx)(G.Z,{"data-inspector-line":"123","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,_nk:"".concat(T,"33"),children:(0,r.jsx)(pe.Z,{"data-inspector-line":"124","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",name:"roleKey",label:H.formatMessage({id:"system.Role.role_key",defaultMessage:"\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32",rules:[{required:!0,message:(0,r.jsx)(a._H,{"data-inspector-line":"136","data-inspector-column":"18","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32\uFF01",_nk:"".concat(T,"53")})}],_nk:"".concat(T,"62")})})}),(0,r.jsx)(x.Z,{"data-inspector-line":"146","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],_nk:"".concat(T,"24"),children:(0,r.jsx)(G.Z,{"data-inspector-line":"147","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,_nk:"".concat(T,"34"),children:(0,r.jsx)(de.Z,{"data-inspector-line":"148","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",name:"roleSort",label:H.formatMessage({id:"system.Role.role_sort",defaultMessage:"\u663E\u793A\u987A\u5E8F"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F",rules:[{required:!0,message:(0,r.jsx)(a._H,{"data-inspector-line":"160","data-inspector-column":"18","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F\uFF01",_nk:"".concat(T,"54")})}],_nk:"".concat(T,"42")})})}),(0,r.jsx)(x.Z,{"data-inspector-line":"167","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],_nk:"".concat(T,"25"),children:(0,r.jsx)(G.Z,{"data-inspector-line":"168","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,_nk:"".concat(T,"35"),children:(0,r.jsx)(xe.Z.Group,{"data-inspector-line":"169","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",valueEnum:le,name:"status",label:H.formatMessage({id:"system.Role.status",defaultMessage:"\u89D2\u8272\u72B6\u6001"}),labelCol:{span:24},width:"xl",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u72B6\u6001",rules:[{required:!0,message:(0,r.jsx)(a._H,{"data-inspector-line":"183","data-inspector-column":"18","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u89D2\u8272\u72B6\u6001\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u72B6\u6001\uFF01",_nk:"".concat(T,"55")})}],_nk:"".concat(T,"71")})})}),(0,r.jsx)(x.Z,{"data-inspector-line":"190","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],_nk:"".concat(T,"26"),children:(0,r.jsx)(G.Z,{"data-inspector-line":"191","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,_nk:"".concat(T,"36"),children:(0,r.jsx)(Pe.ZP.Item,{"data-inspector-line":"192","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",name:"menuIds",label:H.formatMessage({id:"system.Role.auth",defaultMessage:"\u83DC\u5355\u6743\u9650"}),_nk:"".concat(T,"72"),children:(0,r.jsx)(z.Z,{"data-inspector-line":"200","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",checkable:!0,multiple:!0,checkStrictly:!0,defaultExpandAll:!1,treeData:S,defaultCheckedKeys:i,onCheck:function(Q){q(Q.checked)},_nk:"".concat(T,"81")})})})}),(0,r.jsx)(x.Z,{"data-inspector-line":"214","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],_nk:"".concat(T,"27"),children:(0,r.jsx)(G.Z,{"data-inspector-line":"215","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,_nk:"".concat(T,"37"),children:(0,r.jsx)(Te.Z,{"data-inspector-line":"216","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",name:"remark",label:H.formatMessage({id:"system.Role.remark",defaultMessage:"\u5907\u6CE8"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",rules:[{required:!1,message:(0,r.jsx)(a._H,{"data-inspector-line":"227","data-inspector-column":"25","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u5907\u6CE8\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u5907\u6CE8\uFF01",_nk:"".concat(T,"56")})}],_nk:"".concat(T,"91")})})})]})},Fe=De,Me=e(52346),Re=e(78759),me=e(24480),g="+u3W",Ze=function(){var $=(0,p.Z)(t().mark(function d(C){var j,v;return t().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return j=s.default.loading("\u6B63\u5728\u6DFB\u52A0"),i.prev=1,i.next=4,(0,o._d)((0,R.Z)({},C));case 4:return v=i.sent,j(),v.code===200?s.default.success("\u6DFB\u52A0\u6210\u529F"):s.default.error(v.msg),i.abrupt("return",!0);case 10:return i.prev=10,i.t0=i.catch(1),j(),s.default.error("\u6DFB\u52A0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),i.abrupt("return",!1);case 15:case"end":return i.stop()}},d,null,[[1,10]])}));return function(C){return $.apply(this,arguments)}}(),Oe=function(){var $=(0,p.Z)(t().mark(function d(C){var j,v;return t().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return j=s.default.loading("\u6B63\u5728\u914D\u7F6E"),i.prev=1,i.next=4,(0,o.ul)(C);case 4:return v=i.sent,j(),v.code===200?s.default.success("\u914D\u7F6E\u6210\u529F"):s.default.error(v.msg),i.abrupt("return",!0);case 10:return i.prev=10,i.t0=i.catch(1),j(),s.default.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),i.abrupt("return",!1);case 15:case"end":return i.stop()}},d,null,[[1,10]])}));return function(C){return $.apply(this,arguments)}}(),Ce=function(){var $=(0,p.Z)(t().mark(function d(C){var j,v;return t().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(j=s.default.loading("\u6B63\u5728\u5220\u9664"),C){i.next=3;break}return i.abrupt("return",!0);case 3:return i.prev=3,i.next=6,(0,o.l5)(C.map(function(L){return L.roleId}).join(","));case 6:return v=i.sent,j(),v.code===200?s.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):s.default.error(v.msg),i.abrupt("return",!0);case 12:return i.prev=12,i.t0=i.catch(3),j(),s.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),i.abrupt("return",!1);case 17:case"end":return i.stop()}},d,null,[[3,12]])}));return function(C){return $.apply(this,arguments)}}(),je=function(){var $=(0,p.Z)(t().mark(function d(C){var j,v,S;return t().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(j=s.default.loading("\u6B63\u5728\u5220\u9664"),C){L.next=3;break}return L.abrupt("return",!0);case 3:return L.prev=3,v=[C.roleId],L.next=7,(0,o.l5)(v.join(","));case 7:return S=L.sent,j(),S.code===200?s.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):s.default.error(S.msg),L.abrupt("return",!0);case 13:return L.prev=13,L.t0=L.catch(3),j(),s.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),L.abrupt("return",!1);case 18:case"end":return L.stop()}},d,null,[[3,13]])}));return function(C){return $.apply(this,arguments)}}(),be=function(){var $=(0,p.Z)(t().mark(function d(){var C;return t().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return C=s.default.loading("\u6B63\u5728\u5BFC\u51FA"),v.prev=1,v.next=4,(0,o.Lp)();case 4:return C(),s.default.success("\u5BFC\u51FA\u6210\u529F"),v.abrupt("return",!0);case 9:return v.prev=9,v.t0=v.catch(1),C(),s.default.error("\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),v.abrupt("return",!1);case 14:case"end":return v.stop()}},d,null,[[1,9]])}));return function(){return $.apply(this,arguments)}}(),Be=function(){var d=(0,y.useRef)(),C=(0,y.useState)(!1),j=(0,h.Z)(C,2),v=j[0],S=j[1],i=(0,y.useRef)(),L=(0,y.useState)(),te=(0,h.Z)(L,2),ue=te[0],q=te[1],le=(0,y.useState)([]),H=(0,h.Z)(le,2),X=H[0],oe=H[1],ae=(0,y.useState)([]),Q=(0,h.Z)(ae,2),ee=Q[0],he=Q[1],re=(0,y.useState)(),fe=(0,h.Z)(re,2),Le=fe[0],ve=fe[1],Ue=(0,y.useState)([]),_e=(0,h.Z)(Ue,2),Ae=_e[0],ye=_e[1],ne=(0,a.md)(),ke=(0,a.YB)();(0,y.useEffect)(function(){(0,Me.zP)("sys_normal_disable").then(function(K){if(K.code===200){var U={};K.data.forEach(function(M){U[M.dictValue]=M.dictLabel}),he(U)}})},[]);var we=[{title:(0,r.jsx)(a._H,{"data-inspector-line":"168","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.role_id",defaultMessage:"\u89D2\u8272ID",_nk:"".concat(g,"11")}),dataIndex:"roleId",valueType:"text",hideInSearch:!0},{title:(0,r.jsx)(a._H,{"data-inspector-line":"174","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.role_name",defaultMessage:"\u89D2\u8272\u540D\u79F0",_nk:"".concat(g,"12")}),dataIndex:"roleName",valueType:"text"},{title:(0,r.jsx)(a._H,{"data-inspector-line":"179","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.role_key",defaultMessage:"\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32",_nk:"".concat(g,"13")}),dataIndex:"roleKey",valueType:"text"},{title:(0,r.jsx)(a._H,{"data-inspector-line":"184","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.role_sort",defaultMessage:"\u663E\u793A\u987A\u5E8F",_nk:"".concat(g,"14")}),dataIndex:"roleSort",valueType:"text",hideInSearch:!0},{title:(0,r.jsx)(a._H,{"data-inspector-line":"190","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.status",defaultMessage:"\u89D2\u8272\u72B6\u6001",_nk:"".concat(g,"15")}),dataIndex:"status",valueType:"select",valueEnum:ee,render:function(U,M){return(0,r.jsx)(I.Z,{"data-inspector-line":"195","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/index.tsx",status:M.status==="0"?"success":"error",text:ee[M.status],_nk:"".concat(g,"21")})}},{title:(0,r.jsx)(a._H,{"data-inspector-line":"202","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.create_time",defaultMessage:"\u521B\u5EFA\u65F6\u95F4",_nk:"".concat(g,"16")}),dataIndex:"createTime",valueType:"dateRange",sorter:!0,defaultSortOrder:"descend",render:function(U,M){return(0,r.jsx)("span",{"data-inspector-line":"207","data-inspector-column":"29","data-inspector-relative-path":"src/pages/system/role/index.tsx",_nk:"".concat(g,"31"),children:M.createTime})},search:{transform:function(U){return{"params[beginTime]":U[0],"params[endTime]":U[1]}}}},{title:(0,r.jsx)(a._H,{"data-inspector-line":"218","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.remark",defaultMessage:"\u5907\u6CE8",_nk:"".concat(g,"17")}),dataIndex:"remark",valueType:"textarea",hideInSearch:!0},{title:(0,r.jsx)(a._H,{"data-inspector-line":"224","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C",_nk:"".concat(g,"18")}),dataIndex:"option",valueType:"option",render:function(U,M){return[(0,r.jsx)(E.Z,{"data-inspector-line":"228","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/index.tsx",type:"link",size:"small",hidden:!ne.hasPerms("system:role:edit"),onClick:function(){(0,o.mj)(M.roleId).then(function(W){if(W.code===200){var k=(0,me.wC)(W.menus);ve(k),ye(W.checkedKeys.map(function(N){return"".concat(N)})),S(!0),q(M)}else s.default.warn(W.msg)})},_nk:"".concat(g,"41"),children:(0,r.jsx)(a._H,{"data-inspector-line":"251","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.edit",defaultMessage:"\u7F16\u8F91",_nk:"".concat(g,"19")})},"edit"),(0,r.jsx)(O.Z,{"data-inspector-line":"253","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/index.tsx",placement:"top",title:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",onConfirm:(0,p.Z)(t().mark(function A(){var W;return t().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,je(M);case 2:W=N.sent,W&&i.current&&i.current.reload();case 4:case"end":return N.stop()}},A)})),okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",_nk:"".concat(g,"51"),children:(0,r.jsx)(E.Z,{"data-inspector-line":"268","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/index.tsx",type:"link",size:"small",danger:!0,hidden:!ne.hasPerms("system:role:remove"),_nk:"".concat(g,"42"),children:"\u5220\u9664"},"remove")},"remove")]}}];return(0,r.jsxs)(m.Z,{"data-inspector-line":"283","data-inspector-column":"4","data-inspector-relative-path":"src/pages/system/role/index.tsx",_nk:"".concat(g,"61"),children:[(0,r.jsx)(c.ZP,{"data-inspector-line":"284","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/index.tsx",headerTitle:ke.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u4FE1\u606F"}),actionRef:i,formRef:d,rowKey:"roleId",search:{labelWidth:"auto"},toolBarRender:function(){return[(0,r.jsxs)(E.Z,{"data-inspector-line":"297","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/index.tsx",type:"text",hidden:!ne.hasPerms("system:role:add"),onClick:(0,p.Z)(t().mark(function U(){return t().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:(0,Re.Th)().then(function(W){if(W.code===200){var k=(0,me.wC)(W.data);ve(k),ye([]),S(!0),q(void 0)}else s.default.warn(W.msg)});case 1:case"end":return A.stop()}},U)})),_nk:"".concat(g,"43"),children:[(0,r.jsx)(_.Z,{"data-inspector-line":"315","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/index.tsx",_nk:"".concat(g,"81")})," ",(0,r.jsx)(a._H,{"data-inspector-line":"315","data-inspector-column":"29","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.new",defaultMessage:"\u65B0\u5EFA",_nk:"".concat(g,"1a")})]},"add"),(0,r.jsxs)(E.Z,{"data-inspector-line":"317","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/index.tsx",type:"text",hidden:!ne.hasPerms("system:role:export"),onClick:(0,p.Z)(t().mark(function U(){return t().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:be();case 1:case"end":return A.stop()}},U)})),_nk:"".concat(g,"44"),children:[(0,r.jsx)(l.Z,{"data-inspector-line":"325","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/index.tsx",_nk:"".concat(g,"91")})," ",(0,r.jsx)(a._H,{"data-inspector-line":"326","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.export",defaultMessage:"\u5BFC\u51FA",_nk:"".concat(g,"1b")})]},"export")]},request:function(U,M){return(0,o.JV)((0,R.Z)({},U),M)},columns:we,rowSelection:{onChange:function(U,M){oe(M)}},_nk:"".concat(g,"71")},"roleList"),(X==null?void 0:X.length)>0&&(0,r.jsx)(n.Z,{"data-inspector-line":"338","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/index.tsx",extra:(0,r.jsxs)("div",{"data-inspector-line":"340","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/index.tsx",_nk:"".concat(g,"b1"),children:[(0,r.jsx)(a._H,{"data-inspector-line":"341","data-inspector-column":"14","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.chosen",defaultMessage:"\u5DF2\u9009\u62E9",_nk:"".concat(g,"1c")}),(0,r.jsx)("a",{"data-inspector-line":"342","data-inspector-column":"14","data-inspector-relative-path":"src/pages/system/role/index.tsx",style:{fontWeight:600},_nk:"".concat(g,"c1"),children:X.length}),(0,r.jsx)(a._H,{"data-inspector-line":"343","data-inspector-column":"14","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.item",defaultMessage:"\u9879",_nk:"".concat(g,"1d")})]}),_nk:"".concat(g,"a1"),children:(0,r.jsx)(E.Z,{"data-inspector-line":"347","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/index.tsx",danger:!0,hidden:!ne.hasPerms("system:role:remove"),onClick:(0,p.Z)(t().mark(function K(){return t().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:B.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var A=(0,p.Z)(t().mark(function k(){var N,ie,ce;return t().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,Ce(X);case 2:N=se.sent,N&&(oe([]),(ie=i.current)===null||ie===void 0||(ce=ie.reloadAndRest)===null||ce===void 0||ce.call(ie));case 4:case"end":return se.stop()}},k)}));function W(){return A.apply(this,arguments)}return W}()});case 1:case"end":return M.stop()}},K)})),_nk:"".concat(g,"45"),children:(0,r.jsx)(a._H,{"data-inspector-line":"367","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.batchDeletion",defaultMessage:"\u6279\u91CF\u5220\u9664",_nk:"".concat(g,"1e")})},"batchRemove")}),(0,r.jsx)(Fe,{"data-inspector-line":"371","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/index.tsx",onSubmit:function(){var K=(0,p.Z)(t().mark(function U(M){var A;return t().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(A=!1,!M.roleId){k.next=7;break}return k.next=4,Oe((0,R.Z)({},M));case 4:A=k.sent,k.next=10;break;case 7:return k.next=9,Ze((0,R.Z)({},M));case 9:A=k.sent;case 10:A&&(S(!1),q(void 0),i.current&&i.current.reload());case 11:case"end":return k.stop()}},U)}));return function(U){return K.apply(this,arguments)}}(),onCancel:function(){S(!1),q(void 0)},visible:v,values:ue||{},menuTree:Le||[],menuCheckedKeys:Ae||[],statusOptions:ee,_nk:"".concat(g,"d1")})]})},Ie=Be},94370:function(Y,b,e){"use strict";e.d(b,{JV:function(){return I},_d:function(){return Z},ul:function(){return p},l5:function(){return t},Lp:function(){return l},mj:function(){return a}});var P=e(3182),B=e(94043),u=e.n(B),O=e(66548),D=e(11238),E=e(24480),w="3mDo";function I(m,n){return h.apply(this,arguments)}function h(){return h=(0,P.Z)(u().mark(function m(n,c){return u().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.abrupt("return",(0,D.ZP)("/api/system/role/list",{params:(0,E.f)(n,c),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return F.stop()}},m)})),h.apply(this,arguments)}function R(m){return request("/api/system/role/".concat(m),{method:"GET"})}function Z(m){return s.apply(this,arguments)}function s(){return s=(0,P.Z)(u().mark(function m(n){return u().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,D.ZP)("/api/system/role",{method:"POST",data:n}));case 1:case"end":return o.stop()}},m)})),s.apply(this,arguments)}function p(m){return f.apply(this,arguments)}function f(){return f=(0,P.Z)(u().mark(function m(n){return u().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,D.ZP)("/api/system/role",{method:"PUT",data:n}));case 1:case"end":return o.stop()}},m)})),f.apply(this,arguments)}function t(m){return _.apply(this,arguments)}function _(){return _=(0,P.Z)(u().mark(function m(n){return u().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,D.ZP)("/api/system/role/".concat(n),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return o.stop()}},m)})),_.apply(this,arguments)}function l(m){return y.apply(this,arguments)}function y(){return y=(0,P.Z)(u().mark(function m(n){return u().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,O.su)("/api/system/role/export",{params:n},"role_".concat(new Date().getTime(),".xlsx")));case 1:case"end":return o.stop()}},m)})),y.apply(this,arguments)}function a(m){return(0,D.ZP)("/api/system/menu/roleMenuTreeselect/".concat(m),{method:"get"})}},66548:function(Y,b,e){"use strict";e.d(b,{p6:function(){return I},su:function(){return R}});var P=e(11849),B=e(3182),u=e(94043),O=e.n(u),D=e(11238),E="iJKO",w={xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",zip:"application/zip"};function I(s){(0,D.ZP)(s,{method:"GET",responseType:"blob",getResponse:!0}).then(function(p){h(p,w.zip)})}function h(s,p){var f=document.createElement("a"),t=new Blob([s.data],{type:p}),_=new RegExp("filename=([^;]+\\.[^\\.;]+);*"),l=decodeURI(s.response.headers.get("content-disposition")),y=_.exec(l),a=y?y[1]:"file";a=a.replace(/"/g,""),f.style.display="none",f.href=URL.createObjectURL(t),f.setAttribute("download",a),document.body.appendChild(f),f.click(),URL.revokeObjectURL(f.href),document.body.removeChild(f)}function R(s,p,f){return Z.apply(this,arguments)}function Z(){return Z=(0,B.Z)(O().mark(function s(p,f,t){return O().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,D.ZP)(p,(0,P.Z)((0,P.Z)({},f),{},{method:"POST",responseType:"blob"})).then(function(y){var a=document.createElement("a"),m=y;a.style.display="none",a.href=URL.createObjectURL(m),a.setAttribute("download",t),document.body.appendChild(a),a.click(),URL.revokeObjectURL(a.href),document.body.removeChild(a)}));case 1:case"end":return l.stop()}},s)})),Z.apply(this,arguments)}},24480:function(Y,b,e){"use strict";e.d(b,{C2:function(){return h},wC:function(){return Z},f:function(){return p},JG:function(){return f}});var P=e(17673),B="JlWx",u="/user/login",O=/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+(?::\d+)?|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/,D=function(_){return O.test(_)},E=function(){return window.location.hostname==="preview.pro.ant.design"},w=function(){var _="production";return _==="development"?!0:E()};function I(t){return t.replace(/^\s+|\s+$/gm,"")}function h(t,_,l,y,a,m){var n={id:_||"id",name:l||"name",parentId:y||"parentId",parentName:a||"parentName",childrenList:m||"children"},c={},o={},F=[];t.forEach(function(V){var x=V,J=x[n.parentId];c[J]==null&&(c[J]=[]),x.key=x[n.id],x.title=x[n.name],x.value=x[n.id],o[x[n.id]]=x,c[J].push(x)}),t.forEach(function(V){var x=V,J=x[n.parentId];o[J]==null&&(x[n.parentName]="",F.push(x))}),F.forEach(function(V){z(V)});function z(V){var x=V;c[x[n.id]]!==null&&(x[n.childrenList]=c[x[n.id]]),x[n.childrenList]&&x[n.childrenList].forEach(function(J){var G=J;G[n.parentName]=x[n.name],z(G)})}return F}var R=function(){return parse(window.location.href.split("?")[1])};function Z(t){var _=t.map(function(l){var y={id:l.id,title:l.label,key:"".concat(l.id),value:l.id};return l.children&&(y.children=Z(l.children)),y});return _}function s(t){window.location.href="/api/common/download?fileName=".concat(encodeURI(t),"&delete=",!0)}function p(t,_){for(var l in _)Object.prototype.hasOwnProperty.call(_,l)&&(t.orderByColumn=l,t.isAsc=_[l]==="descend"?"descending":"ascending");return t}function f(t,_){var l=document.createElement("textarea");l.readOnly=!0,l.style.position="absolute",l.style.left="-9999px",l.value=t,document.body.appendChild(l),l.select(),l.setSelectionRange(0,l.value.length),document.execCommand("Copy"),document.body.removeChild(l),_&&Object.prototype.toString.call(_)==="[object Function]"&&_()}}}]);
