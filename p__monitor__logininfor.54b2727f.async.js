(self.webpackChunkruoyi_react=self.webpackChunkruoyi_react||[]).push([[1875],{77885:function(z,U,e){"use strict";e.r(U),e.d(U,{default:function(){return he}});var O=e(11849),H=e(57663),x=e(71577),A=e(54029),P=e(79166),$=e(2824),N=e(34792),E=e(48086),y=e(3182),K=e(71194),D=e(50146),w=e(94043),r=e.n(w),L=e(57119),a=e(72850),d=e(48176),n=e(67294),i=e(43581),_=e(16894),F=e(66548),t=e(11238),T=e(24480),j="VV+s";function m(u,g){return Z.apply(this,arguments)}function Z(){return Z=(0,y.Z)(r().mark(function u(g,f){return r().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,t.ZP)("/api/monitor/logininfor/list",{params:(0,T.f)(g,f),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return l.stop()}},u)})),Z.apply(this,arguments)}function k(u){return request("/api/monitor/logininfor/".concat(u),{method:"GET"})}function p(u){return C.apply(this,arguments)}function C(){return C=_asyncToGenerator(_regeneratorRuntime.mark(function u(g){return _regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",request("/api/monitor/logininfor",{method:"POST",data:g}));case 1:case"end":return c.stop()}},u)})),C.apply(this,arguments)}function V(u){return J.apply(this,arguments)}function J(){return J=_asyncToGenerator(_regeneratorRuntime.mark(function u(g){return _regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",request("/api/monitor/logininfor",{method:"PUT",data:g}));case 1:case"end":return c.stop()}},u)})),J.apply(this,arguments)}function ae(u){return Q.apply(this,arguments)}function Q(){return Q=(0,y.Z)(r().mark(function u(g){return r().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,t.ZP)("/api/monitor/logininfor/".concat(g),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return c.stop()}},u)})),Q.apply(this,arguments)}function ie(u){return(0,F.su)("/api/monitor/logininfor/export",{params:u},"login_infor_".concat(new Date().getTime(),".xlsx"))}function oe(){return X.apply(this,arguments)}function X(){return X=(0,y.Z)(r().mark(function u(){return r().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,t.ZP)("/api/monitor/logininfor/clean",{method:"DELETE"}));case 1:case"end":return f.stop()}},u)})),X.apply(this,arguments)}var se=e(52346),ce=e(21349),ue=e(85224),o=e(85893),s="aVwr",le=D.Z.confirm,de=function(){var u=(0,y.Z)(r().mark(function g(f){var c,l;return r().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(c=E.default.loading("\u6B63\u5728\u5220\u9664"),f){v.next=3;break}return v.abrupt("return",!0);case 3:return v.prev=3,v.next=6,ae(f.map(function(S){return S.infoId}).join(","));case 6:return l=v.sent,c(),l.code===200?E.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):E.default.error(l.msg),v.abrupt("return",!0);case 12:return v.prev=12,v.t0=v.catch(3),c(),E.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),v.abrupt("return",!1);case 17:case"end":return v.stop()}},g,null,[[3,12]])}));return function(f){return u.apply(this,arguments)}}(),pe=function(){var u=(0,y.Z)(r().mark(function g(){return r().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:le({title:"\u662F\u5426\u786E\u8BA4\u6E05\u7A7A\u6240\u6709\u767B\u5F55\u65E5\u5FD7\u6570\u636E\u9879?",icon:(0,o.jsx)(L.Z,{"data-inspector-line":"44","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",_nk:"".concat(s,"11")}),content:"\u8BF7\u8C28\u614E\u64CD\u4F5C",onOk:function(){return(0,y.Z)(r().mark(function B(){var v,S;return r().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return v=E.default.loading("\u6B63\u5728\u5220\u9664"),R.prev=1,R.next=4,oe();case 4:return S=R.sent,v(),S.code===200?E.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):E.default.error(S.msg),R.abrupt("return",!0);case 10:return R.prev=10,R.t0=R.catch(1),v(),E.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),R.abrupt("return",!1);case 15:case"end":return R.stop()}},B,null,[[1,10]])}))()},onCancel:function(){}});case 1:case"end":return c.stop()}},g)}));return function(){return u.apply(this,arguments)}}(),fe=function(){var u=(0,y.Z)(r().mark(function g(){var f;return r().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return f=E.default.loading("\u6B63\u5728\u5BFC\u51FA"),l.prev=1,l.next=4,ie();case 4:return E.default.success("\u5BFC\u51FA\u6210\u529F"),f(),l.abrupt("return",!0);case 9:return l.prev=9,l.t0=l.catch(1),f(),E.default.error("\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),l.abrupt("return",!1);case 14:case"end":return l.stop()}},g,null,[[1,9]])}));return function(){return u.apply(this,arguments)}}(),me=function(){var g=(0,n.useRef)(),f=(0,n.useRef)(),c=(0,n.useState)([]),l=(0,$.Z)(c,2),B=l[0],v=l[1],S=(0,n.useState)([]),q=(0,$.Z)(S,2),R=q[0],ge=q[1],ee=(0,i.md)(),ve=(0,i.YB)();(0,n.useEffect)(function(){(0,se.zP)("sys_common_status").then(function(M){if(M.code===200){var b={};M.data.forEach(function(h){b[h.dictValue]=h.dictLabel}),ge(b)}})},[]);var ye=[{title:(0,o.jsx)(i._H,{"data-inspector-line":"113","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.info_id",defaultMessage:"\u8BBF\u95EEID",_nk:"".concat(s,"21")}),dataIndex:"infoId",valueType:"text",hideInSearch:!0},{title:(0,o.jsx)(i._H,{"data-inspector-line":"119","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.user_name",defaultMessage:"\u7528\u6237\u8D26\u53F7",_nk:"".concat(s,"22")}),dataIndex:"userName",valueType:"text"},{title:(0,o.jsx)(i._H,{"data-inspector-line":"124","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.ipaddr",defaultMessage:"\u767B\u5F55IP\u5730\u5740",_nk:"".concat(s,"23")}),dataIndex:"ipaddr",valueType:"text",copyable:!0},{title:(0,o.jsx)(i._H,{"data-inspector-line":"130","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.login_location",defaultMessage:"\u767B\u5F55\u5730\u70B9",_nk:"".concat(s,"24")}),dataIndex:"loginLocation",valueType:"text",hideInSearch:!0},{title:(0,o.jsx)(i._H,{"data-inspector-line":"136","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.browser",defaultMessage:"\u6D4F\u89C8\u5668\u7C7B\u578B",_nk:"".concat(s,"25")}),dataIndex:"browser",valueType:"text",hideInSearch:!0},{title:(0,o.jsx)(i._H,{"data-inspector-line":"142","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.os",defaultMessage:"\u64CD\u4F5C\u7CFB\u7EDF",_nk:"".concat(s,"26")}),dataIndex:"os",valueType:"text",hideInSearch:!0},{title:(0,o.jsx)(i._H,{"data-inspector-line":"148","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.status",defaultMessage:"\u767B\u5F55\u72B6\u6001",_nk:"".concat(s,"27")}),dataIndex:"status",valueType:"select",valueEnum:R,render:function(b,h){return(0,o.jsx)(P.Z,{"data-inspector-line":"153","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",status:h.status==="0"?"success":"error",text:R[h.status],_nk:"".concat(s,"31")})}},{title:(0,o.jsx)(i._H,{"data-inspector-line":"160","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.msg",defaultMessage:"\u63D0\u793A\u6D88\u606F",_nk:"".concat(s,"28")}),dataIndex:"msg",valueType:"text",hideInSearch:!0},{title:(0,o.jsx)(i._H,{"data-inspector-line":"166","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"monitor.Logininfor.login_time",defaultMessage:"\u8BBF\u95EE\u65F6\u95F4",_nk:"".concat(s,"29")}),dataIndex:"loginTime",valueType:"dateRange",sorter:!0,defaultSortOrder:"descend",render:function(b,h){return(0,o.jsx)("span",{"data-inspector-line":"171","data-inspector-column":"29","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",_nk:"".concat(s,"41"),children:h.loginTime})},search:{transform:function(b){return{"params[beginTime]":b[0],"params[endTime]":b[1]}}}}];return(0,o.jsxs)(ce.Z,{"data-inspector-line":"184","data-inspector-column":"4","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",_nk:"".concat(s,"51"),children:[(0,o.jsx)("div",{"data-inspector-line":"185","data-inspector-column":"6","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",style:{width:"100%",float:"right"},_nk:"".concat(s,"61"),children:(0,o.jsx)(_.ZP,{"data-inspector-line":"186","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",headerTitle:ve.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u4FE1\u606F"}),actionRef:f,formRef:g,rowKey:"infoId",search:{labelWidth:"auto"},toolBarRender:function(){return[(0,o.jsxs)(x.Z,{"data-inspector-line":"199","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",type:"text",danger:!0,hidden:!ee.hasPerms("monitor:logininfor:remove"),onClick:(0,y.Z)(r().mark(function b(){var h,I;return r().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:pe(),(h=f.current)===null||h===void 0||(I=h.reloadAndRest)===null||I===void 0||I.call(h);case 2:case"end":return W.stop()}},b)})),_nk:"".concat(s,"81"),children:[(0,o.jsx)(a.Z,{"data-inspector-line":"209","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",_nk:"".concat(s,"91")})," ",(0,o.jsx)(i._H,{"data-inspector-line":"210","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"pages.searchTable.clear",defaultMessage:"\u6E05\u7A7A",_nk:"".concat(s,"2a")})]},"clear"),(0,o.jsxs)(x.Z,{"data-inspector-line":"212","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",type:"text",hidden:!ee.hasPerms("monitor:logininfor:export"),onClick:(0,y.Z)(r().mark(function b(){return r().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:fe();case 1:case"end":return I.stop()}},b)})),_nk:"".concat(s,"82"),children:[(0,o.jsx)(d.Z,{"data-inspector-line":"220","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",_nk:"".concat(s,"a1")})," ",(0,o.jsx)(i._H,{"data-inspector-line":"221","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"pages.searchTable.export",defaultMessage:"\u5BFC\u51FA",_nk:"".concat(s,"2b")})]},"export")]},request:function(b,h){return m((0,O.Z)({},b),h)},columns:ye,rowSelection:{onChange:function(b,h){v(h)}},_nk:"".concat(s,"71")},"logininforList")}),(B==null?void 0:B.length)>0&&(0,o.jsx)(ue.Z,{"data-inspector-line":"234","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",extra:(0,o.jsxs)("div",{"data-inspector-line":"236","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",_nk:"".concat(s,"62"),children:[(0,o.jsx)(i._H,{"data-inspector-line":"237","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"pages.searchTable.chosen",defaultMessage:"\u5DF2\u9009\u62E9",_nk:"".concat(s,"2c")}),(0,o.jsx)("a",{"data-inspector-line":"238","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",style:{fontWeight:600},_nk:"".concat(s,"c1"),children:B.length}),(0,o.jsx)(i._H,{"data-inspector-line":"239","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"pages.searchTable.item",defaultMessage:"\u9879",_nk:"".concat(s,"2d")})]}),_nk:"".concat(s,"b1"),children:(0,o.jsx)(x.Z,{"data-inspector-line":"243","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",danger:!0,hidden:!ee.hasPerms("monitor:logininfor:remove"),onClick:(0,y.Z)(r().mark(function M(){return r().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:D.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var I=(0,y.Z)(r().mark(function W(){var re,Y,ne;return r().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,de(B);case 2:re=G.sent,re&&(v([]),(Y=f.current)===null||Y===void 0||(ne=Y.reloadAndRest)===null||ne===void 0||ne.call(Y));case 4:case"end":return G.stop()}},W)}));function te(){return I.apply(this,arguments)}return te}()});case 1:case"end":return h.stop()}},M)})),_nk:"".concat(s,"83"),children:(0,o.jsx)(i._H,{"data-inspector-line":"263","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/logininfor/index.tsx",id:"pages.searchTable.batchDeletion",defaultMessage:"\u6279\u91CF\u5220\u9664",_nk:"".concat(s,"2e")})},"batchRemove")})]})},he=me},52346:function(z,U,e){"use strict";e.d(U,{jK:function(){return E},j3:function(){return K},Vd:function(){return w},zP:function(){return r},oH:function(){return L},a7:function(){return d},sF:function(){return i},n2:function(){return F}});var O=e(3182),H=e(94043),x=e.n(H),A=e(66548),P=e(11238),$=e(24480),N="epHD";function E(t,T){return y.apply(this,arguments)}function y(){return y=(0,O.Z)(x().mark(function t(T,j){return x().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,P.ZP)("/api/system/dict/type/list",{params:(0,$.f)(T,j),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return Z.stop()}},t)})),y.apply(this,arguments)}function K(){return D.apply(this,arguments)}function D(){return D=(0,O.Z)(x().mark(function t(){return x().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",(0,P.ZP)("/api/system/dict/type/optionselect",{method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return j.stop()}},t)})),D.apply(this,arguments)}function w(t){return(0,P.ZP)("/api/system/dict/type/".concat(t),{method:"GET"})}function r(t){return(0,P.ZP)("/api/system/dict/data/type/".concat(t),{method:"GET"})}function L(t){return a.apply(this,arguments)}function a(){return a=(0,O.Z)(x().mark(function t(T){return x().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,P.ZP)("/api/system/dict/type",{method:"POST",data:T}));case 1:case"end":return m.stop()}},t)})),a.apply(this,arguments)}function d(t){return n.apply(this,arguments)}function n(){return n=(0,O.Z)(x().mark(function t(T){return x().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,P.ZP)("/api/system/dict/type",{method:"PUT",data:T}));case 1:case"end":return m.stop()}},t)})),n.apply(this,arguments)}function i(t){return _.apply(this,arguments)}function _(){return _=(0,O.Z)(x().mark(function t(T){return x().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,P.ZP)("/api/system/dict/type/".concat(T),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return m.stop()}},t)})),_.apply(this,arguments)}function F(t){return(0,A.su)("/api/system/dict/type/export",{params:t},"dict_type_".concat(new Date().getTime(),".xlsx"))}},66548:function(z,U,e){"use strict";e.d(U,{p6:function(){return E},su:function(){return K}});var O=e(11849),H=e(3182),x=e(94043),A=e.n(x),P=e(11238),$="iJKO",N={xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",zip:"application/zip"};function E(w){(0,P.ZP)(w,{method:"GET",responseType:"blob",getResponse:!0}).then(function(r){y(r,N.zip)})}function y(w,r){var L=document.createElement("a"),a=new Blob([w.data],{type:r}),d=new RegExp("filename=([^;]+\\.[^\\.;]+);*"),n=decodeURI(w.response.headers.get("content-disposition")),i=d.exec(n),_=i?i[1]:"file";_=_.replace(/"/g,""),L.style.display="none",L.href=URL.createObjectURL(a),L.setAttribute("download",_),document.body.appendChild(L),L.click(),URL.revokeObjectURL(L.href),document.body.removeChild(L)}function K(w,r,L){return D.apply(this,arguments)}function D(){return D=(0,H.Z)(A().mark(function w(r,L,a){return A().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,P.ZP)(r,(0,O.Z)((0,O.Z)({},L),{},{method:"POST",responseType:"blob"})).then(function(i){var _=document.createElement("a"),F=i;_.style.display="none",_.href=URL.createObjectURL(F),_.setAttribute("download",a),document.body.appendChild(_),_.click(),URL.revokeObjectURL(_.href),document.body.removeChild(_)}));case 1:case"end":return n.stop()}},w)})),D.apply(this,arguments)}},24480:function(z,U,e){"use strict";e.d(U,{C2:function(){return y},wC:function(){return D},f:function(){return r},JG:function(){return L}});var O=e(17673),H="JlWx",x="/user/login",A=/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+(?::\d+)?|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/,P=function(d){return A.test(d)},$=function(){return window.location.hostname==="preview.pro.ant.design"},N=function(){var d="production";return d==="development"?!0:$()};function E(a){return a.replace(/^\s+|\s+$/gm,"")}function y(a,d,n,i,_,F){var t={id:d||"id",name:n||"name",parentId:i||"parentId",parentName:_||"parentName",childrenList:F||"children"},T={},j={},m=[];a.forEach(function(k){var p=k,C=p[t.parentId];T[C]==null&&(T[C]=[]),p.key=p[t.id],p.title=p[t.name],p.value=p[t.id],j[p[t.id]]=p,T[C].push(p)}),a.forEach(function(k){var p=k,C=p[t.parentId];j[C]==null&&(p[t.parentName]="",m.push(p))}),m.forEach(function(k){Z(k)});function Z(k){var p=k;T[p[t.id]]!==null&&(p[t.childrenList]=T[p[t.id]]),p[t.childrenList]&&p[t.childrenList].forEach(function(C){var V=C;V[t.parentName]=p[t.name],Z(V)})}return m}var K=function(){return parse(window.location.href.split("?")[1])};function D(a){var d=a.map(function(n){var i={id:n.id,title:n.label,key:"".concat(n.id),value:n.id};return n.children&&(i.children=D(n.children)),i});return d}function w(a){window.location.href="/api/common/download?fileName=".concat(encodeURI(a),"&delete=",!0)}function r(a,d){for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&(a.orderByColumn=n,a.isAsc=d[n]==="descend"?"descending":"ascending");return a}function L(a,d){var n=document.createElement("textarea");n.readOnly=!0,n.style.position="absolute",n.style.left="-9999px",n.value=a,document.body.appendChild(n),n.select(),n.setSelectionRange(0,n.value.length),document.execCommand("Copy"),document.body.removeChild(n),d&&Object.prototype.toString.call(d)==="[object Function]"&&d()}}}]);
