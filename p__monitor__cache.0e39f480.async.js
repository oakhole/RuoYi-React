(self.webpackChunkruoyi_react=self.webpackChunkruoyi_react||[]).push([[7350],{12323:function(p){p.exports={card:"card___Am-TQ",miniChart:"miniChart___QiAb_",chartContent:"chartContent___2BQwg",chartLoading:"chartLoading___2bDkP"}},7542:function(p,m,a){"use strict";a.r(m),a.d(m,{default:function(){return B}});var h=a(11849),V=a(13062),v=a(71230),W=a(89032),l=a(15746),X=a(58024),d=a(91894),Y=a(66456),j=a(64411),s=a(2824),o=a(67294),x=a(39428),A=a(3182),D=a(11238),b="KMr+";function F(){return r.apply(this,arguments)}function r(){return r=(0,A.Z)((0,x.Z)().mark(function g(){return(0,x.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,D.ZP)("/api/monitor/cache",{method:"GET"}));case 1:case"end":return c.stop()}},g)})),r.apply(this,arguments)}var k=a(12323),u=a.n(k),E=a(78009),f=a(72178),e=a(85893),n="rgU2",T=[{title:"col1",dataIndex:"col1",key:"col1"},{title:"col2",dataIndex:"col2",key:"col2"},{title:"col3",dataIndex:"col3",key:"col3"},{title:"col4",dataIndex:"col4",key:"col4"},{title:"col5",dataIndex:"col5",key:"col5"},{title:"col6",dataIndex:"col6",key:"col6"},{title:"col7",dataIndex:"col7",key:"col7"},{title:"col8",dataIndex:"col8",key:"col8"}],U=function(){var y=(0,o.useState)([]),c=(0,s.Z)(y,2),P=c[0],N=c[1],M=(0,o.useState)([]),C=(0,s.Z)(M,2),Q=C[0],R=C[1],G=(0,o.useState)([]),Z=(0,s.Z)(G,2),K=Z[0],L=Z[1],z=(0,o.useState)([]),I=(0,s.Z)(z,2),H=I[0],O=I[1];(0,o.useEffect)(function(){F().then(function(t){if(t.code===200){var i=[];i.push({col1:"Redis\u7248\u672C",col2:t.data.info.redis_version,col3:"\u8FD0\u884C\u6A21\u5F0F",col4:t.data.info.redis_mode==="standalone"?"\u5355\u673A":"\u96C6\u7FA4",col5:"\u7AEF\u53E3",col6:t.data.info.tcp_port,col7:"\u5BA2\u6237\u7AEF\u6570",col8:t.data.info.connected_clients}),i.push({col1:"\u8FD0\u884C\u65F6\u95F4(\u5929)",col2:t.data.info.uptime_in_days,col3:"\u4F7F\u7528\u5185\u5B58",col4:t.data.info.used_memory_human,col5:"\u4F7F\u7528CPU",col6:"".concat(t.data.info.used_cpu_user_children,"%"),col7:"\u5185\u5B58\u914D\u7F6E",col8:t.data.info.maxmemory_human}),i.push({col1:"AOF\u662F\u5426\u5F00\u542F",col2:t.data.info.aof_enabled==="0"?"\u5426":"\u662F",col3:"RDB\u662F\u5426\u6210\u529F",col4:t.data.info.rdb_last_bgsave_status,col5:"Key\u6570\u91CF",col6:t.data.dbSize,col7:"\u7F51\u7EDC\u5165\u53E3/\u51FA\u53E3",col8:"".concat(t.data.info.instantaneous_input_kbps,"/").concat(t.data.info.instantaneous_output_kbps,"kps")}),N(i);var J=t.data.commandStats.map(function(S){return{type:S.name,value:Number(S.value)}});O(J),L(t.data.info.used_memory_human),R(t.data.info.used_memory/1024)}})},[]);var $={value:Q,min:0,max:1024,range:[0,128,256,384,512,640,768,896,1024],color:["#43E089","#43E089","#6A859C","#6A859C","#6A859C","#6A859C","#C5473D","#C5473D"],statistic:{visible:!0,text:K,color:"#30bf78"}};return(0,e.jsxs)(E.ZP,{"data-inspector-line":"122","data-inspector-column":"4","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",breadcrumb:void 0,_nk:"".concat(n,"11"),children:[(0,e.jsx)(v.Z,{"data-inspector-line":"123","data-inspector-column":"6","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",gutter:[24,24],_nk:"".concat(n,"21"),children:(0,e.jsx)(l.Z,{"data-inspector-line":"124","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",span:24,_nk:"".concat(n,"31"),children:(0,e.jsx)(d.Z,{"data-inspector-line":"125","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",title:"\u57FA\u672C\u4FE1\u606F",className:u().card,_nk:"".concat(n,"41"),children:(0,e.jsx)(j.Z,{"data-inspector-line":"126","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",pagination:!1,showHeader:!1,dataSource:P,columns:T,_nk:"".concat(n,"51")})})})}),(0,e.jsxs)(v.Z,{"data-inspector-line":"135","data-inspector-column":"6","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",gutter:[24,24],_nk:"".concat(n,"22"),children:[(0,e.jsx)(l.Z,{"data-inspector-line":"136","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",span:12,_nk:"".concat(n,"32"),children:(0,e.jsx)(d.Z,{"data-inspector-line":"137","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",title:"\u547D\u4EE4\u7EDF\u8BA1",className:u().card,_nk:"".concat(n,"42"),children:(0,e.jsx)(f.yi,{"data-inspector-line":"138","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",forceFit:!0,radius:.8,padding:"auto",data:H,angleField:"value",colorField:"type",_nk:"".concat(n,"61")})})}),(0,e.jsx)(l.Z,{"data-inspector-line":"148","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",span:12,_nk:"".concat(n,"33"),children:(0,e.jsx)(d.Z,{"data-inspector-line":"149","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx",title:"\u5185\u5B58\u4FE1\u606F",className:u().card,_nk:"".concat(n,"43"),children:(0,e.jsx)(f.aC,(0,h.Z)((0,h.Z)({"data-inspector-line":"150","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/cache/index.tsx"},$),{},{_nk:"".concat(n,"71")}))})})]})]})},B=U}}]);
