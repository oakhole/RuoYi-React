(self.webpackChunkruoyi_react=self.webpackChunkruoyi_react||[]).push([[3362],{31199:function(X,I,t){"use strict";var S=t(22122),Z=t(28991),M=t(81253),y=t(67294),W=t(63990),B=["fieldProps","min","proFieldProps","max"],J=function(C,f){var U=C.fieldProps,b=C.min,F=C.proFieldProps,E=C.max,x=(0,M.Z)(C,B);return y.createElement(W.Z,(0,S.Z)({mode:"edit",valueType:"digit",fieldProps:(0,Z.Z)({min:b,max:E},U),ref:f,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:F},x))};I.Z=y.forwardRef(J)},86615:function(X,I,t){"use strict";var S=t(88983),Z=t(47933),M=t(22122),y=t(28991),W=t(81253),B=t(67294),J=t(63990),T=t(22270),C=t(64893),f=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],U=B.forwardRef(function(x,c){var p=x.fieldProps,N=x.options,i=x.radioType,q=x.layout,ee=x.proFieldProps,te=x.valueEnum,ae=(0,W.Z)(x,f);return B.createElement(J.Z,(0,M.Z)({mode:"edit",valueType:i==="button"?"radioButton":"radio",ref:c,valueEnum:(0,T.h)(te,void 0)},ae,{fieldProps:(0,y.Z)({options:N,layout:q},p),proFieldProps:ee,filedConfig:{customLightMode:!0}}))}),b=B.forwardRef(function(x,c){var p=x.fieldProps,N=x.children;return B.createElement(Z.ZP,(0,M.Z)({},p,{ref:c}),N)}),F=(0,C.G)(b,{valuePropName:"checked",ignoreWidth:!0}),E=F;E.Group=U,E.Button=Z.ZP.Button,E.displayName="ProFormComponent",I.Z=E},5966:function(X,I,t){"use strict";var S=t(22122),Z=t(81253),M=t(67294),y=t(63990),W=["fieldProps","proFieldProps"],B=["fieldProps","proFieldProps"],J="text",T=function(b){var F=b.fieldProps,E=b.proFieldProps,x=(0,Z.Z)(b,W);return M.createElement(y.Z,(0,S.Z)({mode:"edit",valueType:J,fieldProps:F,filedConfig:{valueType:J},proFieldProps:E},x))},C=function(b){var F=b.fieldProps,E=b.proFieldProps,x=(0,Z.Z)(b,B);return M.createElement(y.Z,(0,S.Z)({mode:"edit",valueType:"password",fieldProps:F,proFieldProps:E,filedConfig:{valueType:J}},x))},f=T;f.Password=C,f.displayName="ProFormComponent",I.Z=f},90672:function(X,I,t){"use strict";var S=t(22122),Z=t(81253),M=t(67294),y=t(63990),W=["fieldProps","proFieldProps"],B=function(T,C){var f=T.fieldProps,U=T.proFieldProps,b=(0,Z.Z)(T,W);return M.createElement(y.Z,(0,S.Z)({ref:C,mode:"edit",valueType:"textarea",fieldProps:f,proFieldProps:U},b))};I.Z=M.forwardRef(B)},38012:function(X,I,t){"use strict";t.r(I),t.d(I,{default:function(){return $e}});var S=t(71194),Z=t(50146),M=t(59250),y=t(13013),W=t(30887),B=t(28682),J=t(62350),T=t(75443),C=t(57663),f=t(71577),U=t(54029),b=t(79166),F=t(2824),E=t(11849),x=t(34792),c=t(48086),p=t(3182),N=t(94043),i=t.n(N),q=t(57254),ee=t(49101),te=t(34654),ae=t(48176),D=t(67294),l=t(43581),be=t(43686),Fe=t(66548),V=t(11238),Ee=t(24480);function Pe(u,a){return re.apply(this,arguments)}function re(){return re=(0,p.Z)(i().mark(function u(a,o){return i().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,V.ZP)("/api/monitor/job/list",{params:(0,Ee.f)(a,o),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return s.stop()}},u)})),re.apply(this,arguments)}function _e(u){return request("/api/monitor/job/".concat(u),{method:"GET"})}function Be(u){return ne.apply(this,arguments)}function ne(){return ne=(0,p.Z)(i().mark(function u(a){return i().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,V.ZP)("/api/monitor/job",{method:"POST",data:a}));case 1:case"end":return n.stop()}},u)})),ne.apply(this,arguments)}function Ze(u){return se.apply(this,arguments)}function se(){return se=(0,p.Z)(i().mark(function u(a){return i().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,V.ZP)("/api/monitor/job",{method:"PUT",data:a}));case 1:case"end":return n.stop()}},u)})),se.apply(this,arguments)}function ce(u){return oe.apply(this,arguments)}function oe(){return oe=(0,p.Z)(i().mark(function u(a){return i().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,V.ZP)("/api/monitor/job/".concat(a),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return n.stop()}},u)})),oe.apply(this,arguments)}function Ce(u){return(0,Fe.su)("/api/monitor/job/export",{params:u},"job_".concat(new Date().getTime(),".xlsx"))}function Me(u,a){return ie.apply(this,arguments)}function ie(){return ie=(0,p.Z)(i().mark(function u(a,o){var n;return i().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return n={jobId:a,jobGroup:o},j.abrupt("return",(0,V.ZP)("/api/monitor/job/run",{method:"PUT",data:n}));case 2:case"end":return j.stop()}},u)})),ie.apply(this,arguments)}var qe=t(13062),w=t(71230),et=t(89032),K=t(15746),tt=t(9715),pe=t(86835),ye=t(31199),k=t(5966),Te=t(90672),De=t(86615),e=t(85893),Oe=function(a){var o=pe.Z.useForm(),n=(0,F.Z)(o,1),s=n[0],j=a.statusOptions;(0,D.useEffect)(function(){s.resetFields(),s.setFieldsValue({jobId:a.values.jobId,jobName:a.values.jobName,jobGroup:a.values.jobGroup,invokeTarget:a.values.invokeTarget,cronExpression:a.values.cronExpression,misfirePolicy:a.values.misfirePolicy,concurrent:a.values.concurrent,status:a.values.status,createBy:a.values.createBy,createTime:a.values.createTime,updateBy:a.values.updateBy,updateTime:a.values.updateTime,remark:a.values.remark})},[s,a]);var r=(0,l.YB)(),m=function(){s.submit()},le=function(){a.onCancel(),s.resetFields()},z=function(ue){a.onSubmit(ue)};return(0,e.jsx)(Z.Z,{"data-inspector-line":"54","data-inspector-column":"4","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",width:640,title:r.formatMessage({id:"monitor.Job.modify",defaultMessage:"\u7F16\u8F91\u5B9A\u65F6\u4EFB\u52A1\u8C03\u5EA6"}),visible:a.visible,destroyOnClose:!0,onOk:m,onCancel:le,children:(0,e.jsxs)(pe.Z,{"data-inspector-line":"65","data-inspector-column":"6","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",form:s,onFinish:z,initialValues:a.values,children:[(0,e.jsx)(w.Z,{"data-inspector-line":"66","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",gutter:[16,16],children:(0,e.jsx)(K.Z,{"data-inspector-line":"67","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",span:24,order:1,children:(0,e.jsx)(ye.Z,{"data-inspector-line":"68","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",name:"jobId",label:r.formatMessage({id:"monitor.Job.job_id",defaultMessage:"\u4EFB\u52A1ID"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1ID",disabled:!0,hidden:!a.values.jobId,rules:[{required:!1,message:(0,e.jsx)(l._H,{"data-inspector-line":"81","data-inspector-column":"27","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u4EFB\u52A1ID\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1ID\uFF01"})}]})})}),(0,e.jsx)(w.Z,{"data-inspector-line":"87","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",gutter:[16,16],children:(0,e.jsx)(K.Z,{"data-inspector-line":"88","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",span:24,order:1,children:(0,e.jsx)(k.Z,{"data-inspector-line":"89","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",name:"jobName",label:r.formatMessage({id:"monitor.Job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0",rules:[{required:!0,message:(0,e.jsx)(l._H,{"data-inspector-line":"101","data-inspector-column":"20","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0\uFF01"})}]})})}),(0,e.jsx)(w.Z,{"data-inspector-line":"108","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",gutter:[16,16],children:(0,e.jsx)(K.Z,{"data-inspector-line":"109","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",span:24,order:1,children:(0,e.jsx)(k.Z,{"data-inspector-line":"110","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",name:"jobGroup",label:r.formatMessage({id:"monitor.Job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D",rules:[{required:!0,message:(0,e.jsx)(l._H,{"data-inspector-line":"122","data-inspector-column":"20","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D\uFF01"})}]})})}),(0,e.jsx)(w.Z,{"data-inspector-line":"129","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",gutter:[16,16],children:(0,e.jsx)(K.Z,{"data-inspector-line":"130","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",span:24,order:1,children:(0,e.jsx)(Te.Z,{"data-inspector-line":"131","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",name:"invokeTarget",label:r.formatMessage({id:"monitor.Job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32",rules:[{required:!0,message:(0,e.jsx)(l._H,{"data-inspector-line":"143","data-inspector-column":"20","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32\uFF01"})}]})})}),(0,e.jsx)(w.Z,{"data-inspector-line":"153","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",gutter:[16,16],children:(0,e.jsx)(K.Z,{"data-inspector-line":"154","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",span:24,order:1,children:(0,e.jsx)(k.Z,{"data-inspector-line":"155","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",name:"cronExpression",label:r.formatMessage({id:"monitor.Job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165cron\u6267\u884C\u8868\u8FBE\u5F0F",rules:[{required:!0,message:(0,e.jsx)(l._H,{"data-inspector-line":"167","data-inspector-column":"20","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",id:"\u8BF7\u8F93\u5165cron\u6267\u884C\u8868\u8FBE\u5F0F\uFF01",defaultMessage:"\u8BF7\u8F93\u5165cron\u6267\u884C\u8868\u8FBE\u5F0F\uFF01"})}]})})}),(0,e.jsx)(w.Z,{"data-inspector-line":"177","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",gutter:[16,16],children:(0,e.jsx)(K.Z,{"data-inspector-line":"178","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",span:24,order:1,children:(0,e.jsx)(k.Z,{"data-inspector-line":"179","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",name:"misfirePolicy",label:r.formatMessage({id:"monitor.Job.misfire_policy",defaultMessage:"\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565",rules:[{required:!1,message:(0,e.jsx)(l._H,{"data-inspector-line":"191","data-inspector-column":"20","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565\uFF01"})}]})})}),(0,e.jsx)(w.Z,{"data-inspector-line":"201","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",gutter:[16,16],children:(0,e.jsx)(K.Z,{"data-inspector-line":"202","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",span:24,order:1,children:(0,e.jsx)(k.Z,{"data-inspector-line":"203","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",name:"concurrent",label:r.formatMessage({id:"monitor.Job.concurrent",defaultMessage:"\u662F\u5426\u5E76\u53D1\u6267\u884C"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C",rules:[{required:!1,message:(0,e.jsx)(l._H,{"data-inspector-line":"215","data-inspector-column":"20","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C\uFF01"})}]})})}),(0,e.jsx)(w.Z,{"data-inspector-line":"225","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",gutter:[16,16],children:(0,e.jsx)(K.Z,{"data-inspector-line":"226","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",span:24,order:1,children:(0,e.jsx)(De.Z.Group,{"data-inspector-line":"227","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",valueEnum:j,name:"status",label:r.formatMessage({id:"monitor.Job.status",defaultMessage:"\u72B6\u6001"}),width:"xl",labelCol:{span:24},placeholder:"\u8BF7\u8F93\u5165\u72B6\u6001",rules:[{required:!1,message:(0,e.jsx)(l._H,{"data-inspector-line":"240","data-inspector-column":"27","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u72B6\u6001\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u72B6\u6001\uFF01"})}]})})})]})})},Ie=Oe,at=t(98858),O=t(4914),Ae=function(a){var o=a.values,n=a.statusOptions;(0,D.useEffect)(function(){},[a]);var s=(0,l.YB)(),j={0:"\u9ED8\u8BA4\u7B56\u7565",1:"\u7ACB\u5373\u6267\u884C",2:"\u6267\u884C\u4E00\u6B21",3:"\u653E\u5F03\u6267\u884C"},r=function(){a.onCancel()};return(0,e.jsx)(Z.Z,{"data-inspector-line":"34","data-inspector-column":"4","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",width:800,title:s.formatMessage({id:"monitor.Operlog.detail",defaultMessage:"\u64CD\u4F5C\u65E5\u5FD7\u8BE6\u7EC6\u4FE1\u606F"}),visible:a.visible,destroyOnClose:!0,onCancel:r,footer:[(0,e.jsx)(f.Z,{"data-inspector-line":"44","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",onClick:r,children:"\u5173\u95ED"},"back")],children:(0,e.jsxs)(O.Z,{"data-inspector-line":"49","data-inspector-column":"6","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",column:24,children:[(0,e.jsx)(O.Z.Item,{"data-inspector-line":"50","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",span:12,label:(0,e.jsx)(l._H,{"data-inspector-line":"52","data-inspector-column":"17","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",id:"monitor.Job.job_id",defaultMessage:"\u4EFB\u52A1\u7F16\u53F7"}),children:o.jobId}),(0,e.jsx)(O.Z.Item,{"data-inspector-line":"56","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",span:12,label:(0,e.jsx)(l._H,{"data-inspector-line":"58","data-inspector-column":"17","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",id:"monitor.Job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),children:o.jobName}),(0,e.jsx)(O.Z.Item,{"data-inspector-line":"62","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",span:12,label:(0,e.jsx)(l._H,{"data-inspector-line":"64","data-inspector-column":"17","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",id:"monitor.Job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),children:o.jobGroup}),(0,e.jsx)(O.Z.Item,{"data-inspector-line":"68","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",span:12,label:(0,e.jsx)(l._H,{"data-inspector-line":"70","data-inspector-column":"17","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",id:"monitor.Job.concurrent",defaultMessage:"\u662F\u5426\u5E76\u53D1\u6267\u884C"}),children:o.concurrent==="1"?"\u7981\u6B62":"\u5141\u8BB8"}),(0,e.jsx)(O.Z.Item,{"data-inspector-line":"74","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",span:12,label:(0,e.jsx)(l._H,{"data-inspector-line":"77","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",id:"monitor.Job.misfire_policy",defaultMessage:"\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565"}),children:j[o.misfirePolicy?o.misfirePolicy:"0"]}),(0,e.jsx)(O.Z.Item,{"data-inspector-line":"82","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",span:12,label:(0,e.jsx)(l._H,{"data-inspector-line":"84","data-inspector-column":"17","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",id:"monitor.Job.create_time",defaultMessage:"\u521B\u5EFA\u65F6\u95F4"}),children:o.createTime}),(0,e.jsx)(O.Z.Item,{"data-inspector-line":"88","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",span:12,label:(0,e.jsx)(l._H,{"data-inspector-line":"90","data-inspector-column":"17","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",id:"monitor.Job.status",defaultMessage:"\u72B6\u6001"}),children:n[o.status?o.status:0]}),(0,e.jsx)(O.Z.Item,{"data-inspector-line":"94","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",span:12,label:(0,e.jsx)(l._H,{"data-inspector-line":"97","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",id:"monitor.Job.next_valid_time",defaultMessage:"\u4E0B\u6B21\u6267\u884C\u65F6\u95F4"}),children:o.nextValidTime}),(0,e.jsx)(O.Z.Item,{"data-inspector-line":"102","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",span:24,label:(0,e.jsx)(l._H,{"data-inspector-line":"105","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",id:"monitor.Job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),children:o.cronExpression}),(0,e.jsx)(O.Z.Item,{"data-inspector-line":"110","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",span:24,label:(0,e.jsx)(l._H,{"data-inspector-line":"113","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",id:"monitor.Job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),children:o.invokeTarget})]})})},Re=Ae,me=t(52346),Je=t(21349),He=t(85224),Le=function(){var u=(0,p.Z)(i().mark(function a(o){var n,s;return i().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=c.default.loading("\u6B63\u5728\u6DFB\u52A0"),r.prev=1,r.next=4,Be((0,E.Z)({},o));case 4:return s=r.sent,n(),s.code===200?c.default.success("\u6DFB\u52A0\u6210\u529F"):c.default.error(s.msg),r.abrupt("return",!0);case 10:return r.prev=10,r.t0=r.catch(1),n(),c.default.error("\u6DFB\u52A0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),r.abrupt("return",!1);case 15:case"end":return r.stop()}},a,null,[[1,10]])}));return function(o){return u.apply(this,arguments)}}(),Se=function(){var u=(0,p.Z)(i().mark(function a(o){var n,s;return i().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=c.default.loading("\u6B63\u5728\u914D\u7F6E"),r.prev=1,r.next=4,Ze(o);case 4:return s=r.sent,n(),s.code===200?c.default.success("\u914D\u7F6E\u6210\u529F"):c.default.error(s.msg),r.abrupt("return",!0);case 10:return r.prev=10,r.t0=r.catch(1),n(),c.default.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),r.abrupt("return",!1);case 15:case"end":return r.stop()}},a,null,[[1,10]])}));return function(o){return u.apply(this,arguments)}}(),We=function(){var u=(0,p.Z)(i().mark(function a(o){var n,s;return i().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n=c.default.loading("\u6B63\u5728\u5220\u9664"),o){r.next=3;break}return r.abrupt("return",!0);case 3:return r.prev=3,r.next=6,ce(o.map(function(m){return m.jobId}).join(","));case 6:return s=r.sent,n(),s.code===200?c.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):c.default.error(s.msg),r.abrupt("return",!0);case 12:return r.prev=12,r.t0=r.catch(3),n(),c.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),r.abrupt("return",!1);case 17:case"end":return r.stop()}},a,null,[[3,12]])}));return function(o){return u.apply(this,arguments)}}(),Ue=function(){var u=(0,p.Z)(i().mark(function a(o){var n,s,j;return i().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(n=c.default.loading("\u6B63\u5728\u5220\u9664"),o){m.next=3;break}return m.abrupt("return",!0);case 3:return m.prev=3,s=[o.jobId],m.next=7,ce(s.join(","));case 7:return j=m.sent,n(),j.code===200?c.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):c.default.error(j.msg),m.abrupt("return",!0);case 13:return m.prev=13,m.t0=m.catch(3),n(),c.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),m.abrupt("return",!1);case 18:case"end":return m.stop()}},a,null,[[3,13]])}));return function(o){return u.apply(this,arguments)}}(),we=function(){var u=(0,p.Z)(i().mark(function a(){var o;return i().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o=c.default.loading("\u6B63\u5728\u5BFC\u51FA"),s.prev=1,s.next=4,Ce();case 4:return o(),c.default.success("\u5BFC\u51FA\u6210\u529F"),s.abrupt("return",!0);case 9:return s.prev=9,s.t0=s.catch(1),o(),c.default.error("\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),s.abrupt("return",!1);case 14:case"end":return s.stop()}},a,null,[[1,9]])}));return function(){return u.apply(this,arguments)}}(),Ke=function(){var a=(0,D.useRef)(),o=(0,D.useState)(!1),n=(0,F.Z)(o,2),s=n[0],j=n[1],r=(0,D.useState)(!1),m=(0,F.Z)(r,2),le=m[0],z=m[1],H=(0,D.useRef)(),ue=(0,D.useState)(),ve=(0,F.Z)(ue,2),he=ve[0],$=ve[1],Ge=(0,D.useState)([]),fe=(0,F.Z)(Ge,2),Y=fe[0],je=fe[1],Ne=(0,D.useState)([]),xe=(0,F.Z)(Ne,2),_=xe[0],Ve=xe[1],ke=(0,D.useState)([]),ge=(0,F.Z)(ke,2),ze=ge[0],Ye=ge[1],G=(0,l.md)(),Qe=(0,l.YB)();(0,D.useEffect)(function(){(0,me.zP)("sys_normal_disable").then(function(g){if(g.code===200){var v={};g.data.forEach(function(d){v[d.dictValue]=d.dictLabel}),Ve(v)}}),(0,me.zP)("sys_job_group").then(function(g){if(g.code===200){var v={};g.data.forEach(function(d){v[d.dictValue]=d.dictLabel}),Ye(v)}})},[]);var Xe=[{title:(0,e.jsx)(l._H,{"data-inspector-line":"175","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"monitor.Job.job_id",defaultMessage:"\u4EFB\u52A1ID"}),dataIndex:"jobId",valueType:"text",hideInSearch:!0},{title:(0,e.jsx)(l._H,{"data-inspector-line":"181","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"monitor.Job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),dataIndex:"jobName",valueType:"text",render:function(v,d){return(0,e.jsx)("a",{"data-inspector-line":"186","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",onClick:function(){z(!0),$(d)},children:v})}},{title:(0,e.jsx)(l._H,{"data-inspector-line":"198","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"monitor.Job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),dataIndex:"jobGroup",valueType:"text",valueEnum:ze},{title:(0,e.jsx)(l._H,{"data-inspector-line":"204","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"monitor.Job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),dataIndex:"invokeTarget",valueType:"textarea",hideInSearch:!0,copyable:!0,ellipsis:!0},{title:(0,e.jsx)(l._H,{"data-inspector-line":"212","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"monitor.Job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),dataIndex:"cronExpression",valueType:"text",hideInSearch:!0},{title:(0,e.jsx)(l._H,{"data-inspector-line":"218","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"monitor.Job.status",defaultMessage:"\u72B6\u6001"}),dataIndex:"status",valueType:"select",valueEnum:_,render:function(v,d){return(0,e.jsx)(b.Z,{"data-inspector-line":"223","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",status:d.status==="0"?"processing":"error",text:_[d.status]})}},{title:(0,e.jsx)(l._H,{"data-inspector-line":"230","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",width:"260px",render:function(v,d){return[(0,e.jsx)(f.Z,{"data-inspector-line":"235","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",type:"link",size:"small",hidden:!G.hasPerms("monitor:job:edit"),onClick:function(){j(!0),$(d)},children:"\u7F16\u8F91"},"edit"),(0,e.jsx)(f.Z,{"data-inspector-line":"247","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",type:"link",size:"small",onClick:function(){l.m8.push("/monitor/job/log/".concat(d.jobId))},children:"\u8C03\u5EA6\u65E5\u5FD7"},"history"),(0,e.jsx)(T.Z,{"data-inspector-line":"257","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",placement:"top",title:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",onConfirm:(0,p.Z)(i().mark(function h(){var A;return i().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,Ue(d);case 2:A=L.sent,A&&H.current&&H.current.reload();case 4:case"end":return L.stop()}},h)})),okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",children:(0,e.jsx)(f.Z,{"data-inspector-line":"272","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",type:"link",size:"small",danger:!0,hidden:!G.hasPerms("system:job:remove"),children:"\u5220\u9664"},"remove")},"remove"),(0,e.jsx)(y.Z,{"data-inspector-line":"282","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",overlay:function(){return(0,e.jsxs)(B.Z,{"data-inspector-line":"286","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",children:[(0,e.jsx)(B.Z.Item,{"data-inspector-line":"287","data-inspector-column":"16","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",children:(0,e.jsx)(T.Z,{"data-inspector-line":"288","data-inspector-column":"18","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",placement:"top",title:"\u786E\u8BA4\u8981\u7ACB\u5373\u6267\u884C\u4E00\u6B21\uFF1F",onConfirm:(0,p.Z)(i().mark(function A(){var P;return i().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,Me(d.jobId,d.jobGroup);case 2:P=R.sent,P&&c.default.success("\u6267\u884C\u6210\u529F");case 4:case"end":return R.stop()}},A)})),okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",children:(0,e.jsx)(f.Z,{"data-inspector-line":"301","data-inspector-column":"20","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",type:"link",size:"small",children:"\u6267\u884C\u4E00\u6B21"},"runOnce")},"runOnce")},"0"),(0,e.jsx)(B.Z.Item,{"data-inspector-line":"306","data-inspector-column":"16","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",children:(0,e.jsx)(f.Z,{"data-inspector-line":"307","data-inspector-column":"18","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",type:"link",size:"small",onClick:function(){z(!0),$(d)},children:"\u4EFB\u52A1\u8BE6\u60C5"},"runOnce")},"1")]})},children:(0,e.jsxs)("a",{"data-inspector-line":"323","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",className:"ant-dropdown-link",onClick:function(A){return A.preventDefault()},children:["\u66F4\u591A",(0,e.jsx)(q.Z,{"data-inspector-line":"325","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/index.tsx"})]})},"toolbar")]}}];return(0,e.jsxs)(Je.Z,{"data-inspector-line":"333","data-inspector-column":"4","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",children:[(0,e.jsx)("div",{"data-inspector-line":"334","data-inspector-column":"6","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",style:{width:"100%",float:"right"},children:(0,e.jsx)(be.ZP,{"data-inspector-line":"335","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",headerTitle:Qe.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u4FE1\u606F"}),actionRef:H,formRef:a,rowKey:"jobId",search:{labelWidth:"auto"},toolBarRender:function(){return[(0,e.jsxs)(f.Z,{"data-inspector-line":"348","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",type:"text",hidden:!G.hasPerms("monitor:job:add"),onClick:(0,p.Z)(i().mark(function v(){return i().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:$(void 0),j(!0);case 2:case"end":return h.stop()}},v)})),children:[(0,e.jsx)(ee.Z,{"data-inspector-line":"357","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/job/index.tsx"})," ",(0,e.jsx)(l._H,{"data-inspector-line":"357","data-inspector-column":"31","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"pages.searchTable.new",defaultMessage:"\u65B0\u5EFA"})]},"add"),(0,e.jsxs)(f.Z,{"data-inspector-line":"359","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",type:"text",hidden:!G.hasPerms("monitor:job:add"),onClick:function(){l.m8.push("/monitor/job/log")},children:[(0,e.jsx)(te.Z,{"data-inspector-line":"367","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/job/index.tsx"})," \u65E5\u5FD7"]},"log"),(0,e.jsxs)(f.Z,{"data-inspector-line":"369","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",type:"text",hidden:!G.hasPerms("monitor:job:export"),onClick:(0,p.Z)(i().mark(function v(){return i().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:we();case 1:case"end":return h.stop()}},v)})),children:[(0,e.jsx)(ae.Z,{"data-inspector-line":"377","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/job/index.tsx"})," ",(0,e.jsx)(l._H,{"data-inspector-line":"378","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"pages.searchTable.export",defaultMessage:"\u5BFC\u51FA"})]},"export")]},request:function(v,d){return Pe((0,E.Z)({},v),d)},columns:Xe,rowSelection:{onChange:function(v,d){je(d)}}},"jobList")}),(Y==null?void 0:Y.length)>0&&(0,e.jsx)(He.Z,{"data-inspector-line":"391","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",extra:(0,e.jsxs)("div",{"data-inspector-line":"393","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",children:[(0,e.jsx)(l._H,{"data-inspector-line":"394","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"pages.searchTable.chosen",defaultMessage:"\u5DF2\u9009\u62E9"}),(0,e.jsx)("a",{"data-inspector-line":"395","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",style:{fontWeight:600},children:Y.length}),(0,e.jsx)(l._H,{"data-inspector-line":"396","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"pages.searchTable.item",defaultMessage:"\u9879"})]}),children:(0,e.jsx)(f.Z,{"data-inspector-line":"400","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",danger:!0,hidden:!G.hasPerms("monitor:job:remove"),onClick:(0,p.Z)(i().mark(function g(){return i().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:Z.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var h=(0,p.Z)(i().mark(function P(){var L,R,de;return i().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,We(Y);case 2:L=Q.sent,L&&(je([]),(R=H.current)===null||R===void 0||(de=R.reloadAndRest)===null||de===void 0||de.call(R));case 4:case"end":return Q.stop()}},P)}));function A(){return h.apply(this,arguments)}return A}()});case 1:case"end":return d.stop()}},g)})),children:(0,e.jsx)(l._H,{"data-inspector-line":"420","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"pages.searchTable.batchDeletion",defaultMessage:"\u6279\u91CF\u5220\u9664"})},"batchRemove")}),(0,e.jsx)(Ie,{"data-inspector-line":"424","data-inspector-column":"6","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",onSubmit:function(){var g=(0,p.Z)(i().mark(function v(d){var h;return i().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(h=!1,!d.jobId){P.next=7;break}return P.next=4,Se((0,E.Z)({},d));case 4:h=P.sent,P.next=10;break;case 7:return P.next=9,Le((0,E.Z)({},d));case 9:h=P.sent;case 10:h&&(j(!1),$(void 0),H.current&&H.current.reload());case 11:case"end":return P.stop()}},v)}));return function(v){return g.apply(this,arguments)}}(),onCancel:function(){j(!1),$(void 0)},visible:s,values:he||{},statusOptions:_}),(0,e.jsx)(Re,{"data-inspector-line":"448","data-inspector-column":"6","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",onCancel:function(){z(!1),$(void 0)},visible:le,values:he||{},statusOptions:_})]})},$e=Ke}}]);
