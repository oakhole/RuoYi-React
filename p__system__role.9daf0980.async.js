(self.webpackChunkruoyi_react=self.webpackChunkruoyi_react||[]).push([[6932],{31199:function(N,C,e){"use strict";var E=e(22122),b=e(28991),c=e(81253),R=e(67294),T=e(63990),_=["fieldProps","min","proFieldProps","max"],k=function(m,M){var Z=m.fieldProps,s=m.min,p=m.proFieldProps,o=m.max,a=(0,c.Z)(m,_);return R.createElement(T.Z,(0,E.Z)({mode:"edit",valueType:"digit",fieldProps:(0,b.Z)({min:s,max:o},Z),ref:M,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:p},a))};C.Z=R.forwardRef(k)},86615:function(N,C,e){"use strict";var E=e(88983),b=e(47933),c=e(22122),R=e(28991),T=e(81253),_=e(67294),k=e(63990),L=e(22270),m=e(64893),M=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],Z=_.forwardRef(function(a,y){var x=a.fieldProps,g=a.options,t=a.radioType,n=a.layout,f=a.proFieldProps,u=a.valueEnum,l=(0,T.Z)(a,M);return _.createElement(k.Z,(0,c.Z)({mode:"edit",valueType:t==="button"?"radioButton":"radio",ref:y,valueEnum:(0,L.h)(u,void 0)},l,{fieldProps:(0,R.Z)({options:g,layout:n},x),proFieldProps:f,filedConfig:{customLightMode:!0}}))}),s=_.forwardRef(function(a,y){var x=a.fieldProps,g=a.children;return _.createElement(b.ZP,(0,c.Z)({},x,{ref:y}),g)}),p=(0,m.G)(s,{valuePropName:"checked",ignoreWidth:!0}),o=p;o.Group=Z,o.Button=b.ZP.Button,o.displayName="ProFormComponent",C.Z=o},5966:function(N,C,e){"use strict";var E=e(22122),b=e(81253),c=e(67294),R=e(63990),T=["fieldProps","proFieldProps"],_=["fieldProps","proFieldProps"],k="text",L=function(s){var p=s.fieldProps,o=s.proFieldProps,a=(0,b.Z)(s,T);return c.createElement(R.Z,(0,E.Z)({mode:"edit",valueType:k,fieldProps:p,filedConfig:{valueType:k},proFieldProps:o},a))},m=function(s){var p=s.fieldProps,o=s.proFieldProps,a=(0,b.Z)(s,_);return c.createElement(R.Z,(0,E.Z)({mode:"edit",valueType:"password",fieldProps:p,proFieldProps:o,filedConfig:{valueType:k}},a))},M=L;M.Password=m,M.displayName="ProFormComponent",C.Z=M},90672:function(N,C,e){"use strict";var E=e(22122),b=e(81253),c=e(67294),R=e(63990),T=["fieldProps","proFieldProps"],_=function(L,m){var M=L.fieldProps,Z=L.proFieldProps,s=(0,b.Z)(L,T);return c.createElement(R.Z,(0,E.Z)({ref:m,mode:"edit",valueType:"textarea",fieldProps:M,proFieldProps:Z},s))};C.Z=c.forwardRef(_)},52346:function(N,C,e){"use strict";e.d(C,{jK:function(){return L},Vd:function(){return M},zP:function(){return Z},oH:function(){return s},a7:function(){return o},sF:function(){return y},n2:function(){return g}});var E=e(3182),b=e(94043),c=e.n(b),R=e(66548),T=e(11238),_=e(24480),k="epHD";function L(t,n){return m.apply(this,arguments)}function m(){return m=(0,E.Z)(c().mark(function t(n,f){return c().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,T.ZP)("/api/system/dict/type/list",{params:(0,_.f)(n,f),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return l.stop()}},t)})),m.apply(this,arguments)}function M(t){return(0,T.ZP)("/api/system/dict/type/".concat(t),{method:"GET"})}function Z(t){return(0,T.ZP)("/api/system/dict/data/type/".concat(t),{method:"GET"})}function s(t){return p.apply(this,arguments)}function p(){return p=(0,E.Z)(c().mark(function t(n){return c().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,T.ZP)("/api/system/dict/type",{method:"POST",data:n}));case 1:case"end":return u.stop()}},t)})),p.apply(this,arguments)}function o(t){return a.apply(this,arguments)}function a(){return a=(0,E.Z)(c().mark(function t(n){return c().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,T.ZP)("/api/system/dict/type",{method:"PUT",data:n}));case 1:case"end":return u.stop()}},t)})),a.apply(this,arguments)}function y(t){return x.apply(this,arguments)}function x(){return x=(0,E.Z)(c().mark(function t(n){return c().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,T.ZP)("/api/system/dict/type/".concat(n),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return u.stop()}},t)})),x.apply(this,arguments)}function g(t){return(0,R.su)("/api/system/dict/type/export",{params:t},"dict_type_".concat(new Date().getTime(),".xlsx"))}},78759:function(N,C,e){"use strict";e.d(C,{Af:function(){return L},Th:function(){return Z},bL:function(){return s},_8:function(){return o},n_:function(){return y}});var E=e(3182),b=e(94043),c=e.n(b),R=e(66548),T=e(24480),_=e(11238),k="3uCI";function L(t,n){return m.apply(this,arguments)}function m(){return m=(0,E.Z)(c().mark(function t(n,f){return c().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,_.ZP)("/api/system/menu/list",{params:(0,T.f)(n,f),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return l.stop()}},t)})),m.apply(this,arguments)}function M(t){return request("/api/system/menu/".concat(t),{method:"GET"})}function Z(){return(0,_.ZP)("/api/system/menu/treeselect",{method:"GET"})}function s(t){return p.apply(this,arguments)}function p(){return p=(0,E.Z)(c().mark(function t(n){return c().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,_.ZP)("/api/system/menu",{method:"POST",data:n}));case 1:case"end":return u.stop()}},t)})),p.apply(this,arguments)}function o(t){return a.apply(this,arguments)}function a(){return a=(0,E.Z)(c().mark(function t(n){return c().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,_.ZP)("/api/system/menu",{method:"PUT",data:n}));case 1:case"end":return u.stop()}},t)})),a.apply(this,arguments)}function y(t){return x.apply(this,arguments)}function x(){return x=(0,E.Z)(c().mark(function t(n){return c().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,_.ZP)("/api/system/menu/".concat(n),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return u.stop()}},t)})),x.apply(this,arguments)}function g(t){return downLoadXlsx("/api/system/menu/export",{params:t},"menu_".concat(new Date().getTime(),".xlsx"))}},16042:function(N,C,e){"use strict";e.r(C),e.d(C,{default:function(){return Ie}});var E=e(71194),b=e(50146),c=e(62350),R=e(75443),T=e(57663),_=e(71577),k=e(54029),L=e(79166),m=e(2824),M=e(11849),Z=e(34792),s=e(48086),p=e(3182),o=e(94043),a=e.n(o),y=e(49101),x=e(48176),g=e(67294),t=e(43581),n=e(21349),f=e(85224),u=e(43686),l=e(94370),z=e(32157),Y=e(7573),F=e(13062),w=e(71230),ie=e(89032),V=e(15746),Ke=e(9715),ge=e(86835),Pe=e(952),Ee=e(71975),de=e(31199),pe=e(5966),xe=e(86615),Te=e(90672),r=e(85893),P="LuCB",De=function(d){var O=ge.Z.useForm(),j=(0,m.Z)(O,1),h=j[0],S=d.menuTree,i=d.menuCheckedKeys,B=(0,g.useState)(),ee=(0,m.Z)(B,2),ue=ee[0],Q=ee[1],le=d.statusOptions;(0,g.useEffect)(function(){h.resetFields(),h.setFieldsValue({roleId:d.values.roleId,roleName:d.values.roleName,roleKey:d.values.roleKey,roleSort:d.values.roleSort,dataScope:d.values.dataScope,menuCheckStrictly:d.values.menuCheckStrictly,deptCheckStrictly:d.values.deptCheckStrictly,status:d.values.status,delFlag:d.values.delFlag,createBy:d.values.createBy,createTime:d.values.createTime,updateBy:d.values.updateBy,updateTime:d.values.updateTime,remark:d.values.remark,menuIds:d.values.menuIds})},[h,d]);var H=(0,t.YB)(),J=function(){d.onCancel(),h.resetFields()},se=function(){var te=(0,p.Z)(a().mark(function X(q){return a().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:d.onSubmit((0,M.Z)((0,M.Z)({},q),{},{menuIds:ue}));case 1:case"end":return ae.stop()}},X)}));return function(q){return te.apply(this,arguments)}}();return(0,r.jsxs)(Ee.a,{"data-inspector-line":"64","data-inspector-column":"4","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",form:h,title:H.formatMessage({id:"system.Role.modify_info",defaultMessage:"\u7F16\u8F91\u89D2\u8272\u4FE1\u606F"}),onFinish:se,initialValues:d.values,visible:d.visible,drawerProps:{destroyOnClose:!0,onClose:J,maskClosable:!1,keyboard:!1},_nk:"".concat(P,"11"),children:[(0,r.jsx)(w.Z,{"data-inspector-line":"80","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],_nk:"".concat(P,"21"),children:(0,r.jsx)(V.Z,{"data-inspector-line":"81","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,_nk:"".concat(P,"31"),children:(0,r.jsx)(de.Z,{"data-inspector-line":"82","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",name:"roleId",label:H.formatMessage({id:"system.Role.role_id",defaultMessage:"\u89D2\u8272ID"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272ID",disabled:!0,hidden:!d.values.roleId,rules:[{required:!1,message:(0,r.jsx)(t._H,{"data-inspector-line":"95","data-inspector-column":"25","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u89D2\u8272ID\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272ID\uFF01",_nk:"".concat(P,"51")})}],_nk:"".concat(P,"41")})})}),(0,r.jsx)(w.Z,{"data-inspector-line":"101","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],_nk:"".concat(P,"22"),children:(0,r.jsx)(V.Z,{"data-inspector-line":"102","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,_nk:"".concat(P,"32"),children:(0,r.jsx)(pe.Z,{"data-inspector-line":"103","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",name:"roleName",label:H.formatMessage({id:"system.Role.role_name",defaultMessage:"\u89D2\u8272\u540D\u79F0"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",rules:[{required:!0,message:(0,r.jsx)(t._H,{"data-inspector-line":"115","data-inspector-column":"18","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0\uFF01",_nk:"".concat(P,"52")})}],_nk:"".concat(P,"61")})})}),(0,r.jsx)(w.Z,{"data-inspector-line":"122","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],_nk:"".concat(P,"23"),children:(0,r.jsx)(V.Z,{"data-inspector-line":"123","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,_nk:"".concat(P,"33"),children:(0,r.jsx)(pe.Z,{"data-inspector-line":"124","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",name:"roleKey",label:H.formatMessage({id:"system.Role.role_key",defaultMessage:"\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32",rules:[{required:!0,message:(0,r.jsx)(t._H,{"data-inspector-line":"136","data-inspector-column":"18","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32\uFF01",_nk:"".concat(P,"53")})}],_nk:"".concat(P,"62")})})}),(0,r.jsx)(w.Z,{"data-inspector-line":"146","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],_nk:"".concat(P,"24"),children:(0,r.jsx)(V.Z,{"data-inspector-line":"147","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,_nk:"".concat(P,"34"),children:(0,r.jsx)(de.Z,{"data-inspector-line":"148","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",name:"roleSort",label:H.formatMessage({id:"system.Role.role_sort",defaultMessage:"\u663E\u793A\u987A\u5E8F"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F",rules:[{required:!0,message:(0,r.jsx)(t._H,{"data-inspector-line":"160","data-inspector-column":"18","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F\uFF01",_nk:"".concat(P,"54")})}],_nk:"".concat(P,"42")})})}),(0,r.jsx)(w.Z,{"data-inspector-line":"167","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],_nk:"".concat(P,"25"),children:(0,r.jsx)(V.Z,{"data-inspector-line":"168","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,_nk:"".concat(P,"35"),children:(0,r.jsx)(xe.Z.Group,{"data-inspector-line":"169","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",valueEnum:le,name:"status",label:H.formatMessage({id:"system.Role.status",defaultMessage:"\u89D2\u8272\u72B6\u6001"}),labelCol:{span:24},width:"xl",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u72B6\u6001",rules:[{required:!0,message:(0,r.jsx)(t._H,{"data-inspector-line":"183","data-inspector-column":"18","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u89D2\u8272\u72B6\u6001\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u72B6\u6001\uFF01",_nk:"".concat(P,"55")})}],_nk:"".concat(P,"71")})})}),(0,r.jsx)(w.Z,{"data-inspector-line":"190","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],_nk:"".concat(P,"26"),children:(0,r.jsx)(V.Z,{"data-inspector-line":"191","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,_nk:"".concat(P,"36"),children:(0,r.jsx)(Pe.ZP.Item,{"data-inspector-line":"192","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",name:"menuIds",label:H.formatMessage({id:"system.Role.auth",defaultMessage:"\u83DC\u5355\u6743\u9650"}),_nk:"".concat(P,"72"),children:(0,r.jsx)(Y.Z,{"data-inspector-line":"200","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",checkable:!0,multiple:!0,checkStrictly:!0,defaultExpandAll:!1,treeData:S,defaultCheckedKeys:i,onCheck:function(X){Q(X.checked)},_nk:"".concat(P,"81")})})})}),(0,r.jsx)(w.Z,{"data-inspector-line":"214","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],_nk:"".concat(P,"27"),children:(0,r.jsx)(V.Z,{"data-inspector-line":"215","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,_nk:"".concat(P,"37"),children:(0,r.jsx)(Te.Z,{"data-inspector-line":"216","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",name:"remark",label:H.formatMessage({id:"system.Role.remark",defaultMessage:"\u5907\u6CE8"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",rules:[{required:!1,message:(0,r.jsx)(t._H,{"data-inspector-line":"227","data-inspector-column":"25","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u5907\u6CE8\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u5907\u6CE8\uFF01",_nk:"".concat(P,"56")})}],_nk:"".concat(P,"91")})})})]})},Me=De,Fe=e(52346),Re=e(78759),me=e(24480),v="+u3W",Ze=function(){var $=(0,p.Z)(a().mark(function d(O){var j,h;return a().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return j=s.default.loading("\u6B63\u5728\u6DFB\u52A0"),i.prev=1,i.next=4,(0,l._d)((0,M.Z)({},O));case 4:return h=i.sent,j(),h.code===200?s.default.success("\u6DFB\u52A0\u6210\u529F"):s.default.error(h.msg),i.abrupt("return",!0);case 10:return i.prev=10,i.t0=i.catch(1),j(),s.default.error("\u6DFB\u52A0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),i.abrupt("return",!1);case 15:case"end":return i.stop()}},d,null,[[1,10]])}));return function(O){return $.apply(this,arguments)}}(),Oe=function(){var $=(0,p.Z)(a().mark(function d(O){var j,h;return a().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return j=s.default.loading("\u6B63\u5728\u914D\u7F6E"),i.prev=1,i.next=4,(0,l.ul)(O);case 4:return h=i.sent,j(),h.code===200?s.default.success("\u914D\u7F6E\u6210\u529F"):s.default.error(h.msg),i.abrupt("return",!0);case 10:return i.prev=10,i.t0=i.catch(1),j(),s.default.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),i.abrupt("return",!1);case 15:case"end":return i.stop()}},d,null,[[1,10]])}));return function(O){return $.apply(this,arguments)}}(),je=function(){var $=(0,p.Z)(a().mark(function d(O){var j,h;return a().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(j=s.default.loading("\u6B63\u5728\u5220\u9664"),O){i.next=3;break}return i.abrupt("return",!0);case 3:return i.prev=3,i.next=6,(0,l.l5)(O.map(function(B){return B.roleId}).join(","));case 6:return h=i.sent,j(),h.code===200?s.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):s.default.error(h.msg),i.abrupt("return",!0);case 12:return i.prev=12,i.t0=i.catch(3),j(),s.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),i.abrupt("return",!1);case 17:case"end":return i.stop()}},d,null,[[3,12]])}));return function(O){return $.apply(this,arguments)}}(),Ce=function(){var $=(0,p.Z)(a().mark(function d(O){var j,h,S;return a().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(j=s.default.loading("\u6B63\u5728\u5220\u9664"),O){B.next=3;break}return B.abrupt("return",!0);case 3:return B.prev=3,h=[O.roleId],B.next=7,(0,l.l5)(h.join(","));case 7:return S=B.sent,j(),S.code===200?s.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):s.default.error(S.msg),B.abrupt("return",!0);case 13:return B.prev=13,B.t0=B.catch(3),j(),s.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),B.abrupt("return",!1);case 18:case"end":return B.stop()}},d,null,[[3,13]])}));return function(O){return $.apply(this,arguments)}}(),be=function(){var $=(0,p.Z)(a().mark(function d(){var O;return a().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return O=s.default.loading("\u6B63\u5728\u5BFC\u51FA"),h.prev=1,h.next=4,(0,l.Lp)();case 4:return O(),s.default.success("\u5BFC\u51FA\u6210\u529F"),h.abrupt("return",!0);case 9:return h.prev=9,h.t0=h.catch(1),O(),s.default.error("\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),h.abrupt("return",!1);case 14:case"end":return h.stop()}},d,null,[[1,9]])}));return function(){return $.apply(this,arguments)}}(),Be=function(){var d=(0,g.useRef)(),O=(0,g.useState)(!1),j=(0,m.Z)(O,2),h=j[0],S=j[1],i=(0,g.useRef)(),B=(0,g.useState)(),ee=(0,m.Z)(B,2),ue=ee[0],Q=ee[1],le=(0,g.useState)([]),H=(0,m.Z)(le,2),J=H[0],se=H[1],te=(0,g.useState)([]),X=(0,m.Z)(te,2),q=X[0],he=X[1],ae=(0,g.useState)(),fe=(0,m.Z)(ae,2),Le=fe[0],ve=fe[1],Ue=(0,g.useState)([]),_e=(0,m.Z)(Ue,2),Ae=_e[0],ye=_e[1],re=(0,t.md)(),ke=(0,t.YB)();(0,g.useEffect)(function(){(0,Fe.zP)("sys_normal_disable").then(function(K){if(K.code===200){var I={};K.data.forEach(function(D){I[D.dictValue]=D.dictLabel}),he(I)}})},[]);var we=[{title:(0,r.jsx)(t._H,{"data-inspector-line":"168","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.role_id",defaultMessage:"\u89D2\u8272ID",_nk:"".concat(v,"11")}),dataIndex:"roleId",valueType:"text",hideInSearch:!0},{title:(0,r.jsx)(t._H,{"data-inspector-line":"174","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.role_name",defaultMessage:"\u89D2\u8272\u540D\u79F0",_nk:"".concat(v,"12")}),dataIndex:"roleName",valueType:"text"},{title:(0,r.jsx)(t._H,{"data-inspector-line":"179","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.role_key",defaultMessage:"\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32",_nk:"".concat(v,"13")}),dataIndex:"roleKey",valueType:"text"},{title:(0,r.jsx)(t._H,{"data-inspector-line":"184","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.role_sort",defaultMessage:"\u663E\u793A\u987A\u5E8F",_nk:"".concat(v,"14")}),dataIndex:"roleSort",valueType:"text",hideInSearch:!0},{title:(0,r.jsx)(t._H,{"data-inspector-line":"190","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.status",defaultMessage:"\u89D2\u8272\u72B6\u6001",_nk:"".concat(v,"15")}),dataIndex:"status",valueType:"select",valueEnum:q,render:function(I,D){return(0,r.jsx)(L.Z,{"data-inspector-line":"195","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/index.tsx",status:D.status==="0"?"success":"error",text:q[D.status],_nk:"".concat(v,"21")})}},{title:(0,r.jsx)(t._H,{"data-inspector-line":"202","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.create_time",defaultMessage:"\u521B\u5EFA\u65F6\u95F4",_nk:"".concat(v,"16")}),dataIndex:"createTime",valueType:"dateRange",sorter:!0,defaultSortOrder:"descend",render:function(I,D){return(0,r.jsx)("span",{"data-inspector-line":"207","data-inspector-column":"29","data-inspector-relative-path":"src/pages/system/role/index.tsx",_nk:"".concat(v,"31"),children:D.createTime})},search:{transform:function(I){return{"params[beginTime]":I[0],"params[endTime]":I[1]}}}},{title:(0,r.jsx)(t._H,{"data-inspector-line":"218","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.remark",defaultMessage:"\u5907\u6CE8",_nk:"".concat(v,"17")}),dataIndex:"remark",valueType:"textarea",hideInSearch:!0},{title:(0,r.jsx)(t._H,{"data-inspector-line":"224","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C",_nk:"".concat(v,"18")}),dataIndex:"option",valueType:"option",render:function(I,D){return[(0,r.jsx)(_.Z,{"data-inspector-line":"228","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/index.tsx",type:"link",size:"small",hidden:!re.hasPerms("system:role:edit"),onClick:function(){(0,l.mj)(D.roleId).then(function(W){if(W.code===200){var A=(0,me.wC)(W.menus);ve(A),ye(W.checkedKeys.map(function(G){return"".concat(G)})),S(!0),Q(D)}else s.default.warn(W.msg)})},_nk:"".concat(v,"41"),children:(0,r.jsx)(t._H,{"data-inspector-line":"251","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.edit",defaultMessage:"\u7F16\u8F91",_nk:"".concat(v,"19")})},"edit"),(0,r.jsx)(R.Z,{"data-inspector-line":"253","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/index.tsx",placement:"top",title:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",onConfirm:(0,p.Z)(a().mark(function U(){var W;return a().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,Ce(D);case 2:W=G.sent,W&&i.current&&i.current.reload();case 4:case"end":return G.stop()}},U)})),okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",_nk:"".concat(v,"51"),children:(0,r.jsx)(_.Z,{"data-inspector-line":"268","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/index.tsx",type:"link",size:"small",danger:!0,hidden:!re.hasPerms("system:role:remove"),_nk:"".concat(v,"42"),children:"\u5220\u9664"},"remove")},"remove")]}}];return(0,r.jsxs)(n.Z,{"data-inspector-line":"283","data-inspector-column":"4","data-inspector-relative-path":"src/pages/system/role/index.tsx",_nk:"".concat(v,"61"),children:[(0,r.jsx)(u.ZP,{"data-inspector-line":"284","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/index.tsx",headerTitle:ke.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u4FE1\u606F"}),actionRef:i,formRef:d,rowKey:"roleId",search:{labelWidth:"auto"},toolBarRender:function(){return[(0,r.jsxs)(_.Z,{"data-inspector-line":"297","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/index.tsx",type:"text",hidden:!re.hasPerms("system:role:add"),onClick:(0,p.Z)(a().mark(function I(){return a().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:(0,Re.Th)().then(function(W){if(W.code===200){var A=(0,me.wC)(W.data);ve(A),ye([]),S(!0),Q(void 0)}else s.default.warn(W.msg)});case 1:case"end":return U.stop()}},I)})),_nk:"".concat(v,"43"),children:[(0,r.jsx)(y.Z,{"data-inspector-line":"315","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/index.tsx",_nk:"".concat(v,"81")})," ",(0,r.jsx)(t._H,{"data-inspector-line":"315","data-inspector-column":"29","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.new",defaultMessage:"\u65B0\u5EFA",_nk:"".concat(v,"1a")})]},"add"),(0,r.jsxs)(_.Z,{"data-inspector-line":"317","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/index.tsx",type:"text",hidden:!re.hasPerms("system:role:export"),onClick:(0,p.Z)(a().mark(function I(){return a().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:be();case 1:case"end":return U.stop()}},I)})),_nk:"".concat(v,"44"),children:[(0,r.jsx)(x.Z,{"data-inspector-line":"325","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/index.tsx",_nk:"".concat(v,"91")})," ",(0,r.jsx)(t._H,{"data-inspector-line":"326","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.export",defaultMessage:"\u5BFC\u51FA",_nk:"".concat(v,"1b")})]},"export")]},request:function(I,D){return(0,l.JV)((0,M.Z)({},I),D)},columns:we,rowSelection:{onChange:function(I,D){se(D)}},_nk:"".concat(v,"71")},"roleList"),(J==null?void 0:J.length)>0&&(0,r.jsx)(f.Z,{"data-inspector-line":"338","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/index.tsx",extra:(0,r.jsxs)("div",{"data-inspector-line":"340","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/index.tsx",_nk:"".concat(v,"b1"),children:[(0,r.jsx)(t._H,{"data-inspector-line":"341","data-inspector-column":"14","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.chosen",defaultMessage:"\u5DF2\u9009\u62E9",_nk:"".concat(v,"1c")}),(0,r.jsx)("a",{"data-inspector-line":"342","data-inspector-column":"14","data-inspector-relative-path":"src/pages/system/role/index.tsx",style:{fontWeight:600},_nk:"".concat(v,"c1"),children:J.length}),(0,r.jsx)(t._H,{"data-inspector-line":"343","data-inspector-column":"14","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.item",defaultMessage:"\u9879",_nk:"".concat(v,"1d")})]}),_nk:"".concat(v,"a1"),children:(0,r.jsx)(_.Z,{"data-inspector-line":"347","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/index.tsx",danger:!0,hidden:!re.hasPerms("system:role:remove"),onClick:(0,p.Z)(a().mark(function K(){return a().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:b.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var U=(0,p.Z)(a().mark(function A(){var G,oe,ce;return a().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,je(J);case 2:G=ne.sent,G&&(se([]),(oe=i.current)===null||oe===void 0||(ce=oe.reloadAndRest)===null||ce===void 0||ce.call(oe));case 4:case"end":return ne.stop()}},A)}));function W(){return U.apply(this,arguments)}return W}()});case 1:case"end":return D.stop()}},K)})),_nk:"".concat(v,"45"),children:(0,r.jsx)(t._H,{"data-inspector-line":"367","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.batchDeletion",defaultMessage:"\u6279\u91CF\u5220\u9664",_nk:"".concat(v,"1e")})},"batchRemove")}),(0,r.jsx)(Me,{"data-inspector-line":"371","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/index.tsx",onSubmit:function(){var K=(0,p.Z)(a().mark(function I(D){var U;return a().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(U=!1,!D.roleId){A.next=7;break}return A.next=4,Oe((0,M.Z)({},D));case 4:U=A.sent,A.next=10;break;case 7:return A.next=9,Ze((0,M.Z)({},D));case 9:U=A.sent;case 10:U&&(S(!1),Q(void 0),i.current&&i.current.reload());case 11:case"end":return A.stop()}},I)}));return function(I){return K.apply(this,arguments)}}(),onCancel:function(){S(!1),Q(void 0)},visible:h,values:ue||{},menuTree:Le||[],menuCheckedKeys:Ae||[],statusOptions:q,_nk:"".concat(v,"d1")})]})},Ie=Be},94370:function(N,C,e){"use strict";e.d(C,{JV:function(){return L},_d:function(){return Z},ul:function(){return p},l5:function(){return a},Lp:function(){return x},mj:function(){return t}});var E=e(3182),b=e(94043),c=e.n(b),R=e(66548),T=e(11238),_=e(24480),k="3mDo";function L(n,f){return m.apply(this,arguments)}function m(){return m=(0,E.Z)(c().mark(function n(f,u){return c().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.abrupt("return",(0,T.ZP)("/api/system/role/list",{params:(0,_.f)(f,u),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return z.stop()}},n)})),m.apply(this,arguments)}function M(n){return request("/api/system/role/".concat(n),{method:"GET"})}function Z(n){return s.apply(this,arguments)}function s(){return s=(0,E.Z)(c().mark(function n(f){return c().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,T.ZP)("/api/system/role",{method:"POST",data:f}));case 1:case"end":return l.stop()}},n)})),s.apply(this,arguments)}function p(n){return o.apply(this,arguments)}function o(){return o=(0,E.Z)(c().mark(function n(f){return c().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,T.ZP)("/api/system/role",{method:"PUT",data:f}));case 1:case"end":return l.stop()}},n)})),o.apply(this,arguments)}function a(n){return y.apply(this,arguments)}function y(){return y=(0,E.Z)(c().mark(function n(f){return c().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,T.ZP)("/api/system/role/".concat(f),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return l.stop()}},n)})),y.apply(this,arguments)}function x(n){return g.apply(this,arguments)}function g(){return g=(0,E.Z)(c().mark(function n(f){return c().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,R.su)("/api/system/role/export",{params:f},"role_".concat(new Date().getTime(),".xlsx")));case 1:case"end":return l.stop()}},n)})),g.apply(this,arguments)}function t(n){return(0,T.ZP)("/api/system/menu/roleMenuTreeselect/".concat(n),{method:"get"})}},66548:function(N,C,e){"use strict";e.d(C,{su:function(){return M}});var E=e(11849),b=e(3182),c=e(94043),R=e.n(c),T=e(11238),_="iJKO",k={xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",zip:"application/zip"};function L(s){request(s,{method:"GET",responseType:"blob",getResponse:!0}).then(function(p){m(p,k.zip)})}function m(s,p){var o=document.createElement("a"),a=new Blob([s.data],{type:p}),y=new RegExp("filename=([^;]+\\.[^\\.;]+);*"),x=decodeURI(s.response.headers.get("content-disposition")),g=y.exec(x),t=g?g[1]:"file";t=t.replace(/"/g,""),o.style.display="none",o.href=URL.createObjectURL(a),o.setAttribute("download",t),document.body.appendChild(o),o.click(),URL.revokeObjectURL(o.href),document.body.removeChild(o)}function M(s,p,o){return Z.apply(this,arguments)}function Z(){return Z=(0,b.Z)(R().mark(function s(p,o,a){return R().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,T.ZP)(p,(0,E.Z)((0,E.Z)({},o),{},{method:"POST",responseType:"blob"})).then(function(g){var t=document.createElement("a"),n=g;t.style.display="none",t.href=URL.createObjectURL(n),t.setAttribute("download",a),document.body.appendChild(t),t.click(),URL.revokeObjectURL(t.href),document.body.removeChild(t)}));case 1:case"end":return x.stop()}},s)})),Z.apply(this,arguments)}},24480:function(N,C,e){"use strict";e.d(C,{C2:function(){return m},wC:function(){return Z},f:function(){return p}});var E=e(17673),b="JlWx",c="/user/login",R=/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+(?::\d+)?|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/,T=function(a){return R.test(a)},_=function(){return window.location.hostname==="preview.pro.ant.design"},k=function(){var a="production";return a==="development"?!0:_()};function L(o){return o.replace(/^\s+|\s+$/gm,"")}function m(o,a,y,x,g,t){var n={id:a||"id",name:y||"name",parentId:x||"parentId",parentName:g||"parentName",childrenList:t||"children"},f={},u={},l=[];o.forEach(function(Y){var F=Y,w=F[n.parentId];f[w]==null&&(f[w]=[]),F.key=F[n.id],F.title=F[n.name],F.value=F[n.id],u[F[n.id]]=F,f[w].push(F)}),o.forEach(function(Y){var F=Y,w=F[n.parentId];u[w]==null&&(F[n.parentName]="",l.push(F))}),l.forEach(function(Y){z(Y)});function z(Y){var F=Y;f[F[n.id]]!==null&&(F[n.childrenList]=f[F[n.id]]),F[n.childrenList]&&F[n.childrenList].forEach(function(w){var ie=w;ie[n.parentName]=F[n.name],z(ie)})}return l}var M=function(){return parse(window.location.href.split("?")[1])};function Z(o){var a=o.map(function(y){var x={id:y.id,title:y.label,key:"".concat(y.id),value:y.id};return y.children&&(x.children=Z(y.children)),x});return a}function s(o){window.location.href="/api/common/download?fileName=".concat(encodeURI(o),"&delete=",!0)}function p(o,a){for(var y in a)Object.prototype.hasOwnProperty.call(a,y)&&(o.orderByColumn=y,o.isAsc=a[y]==="descend"?"descending":"ascending");return o}}}]);
