(self.webpackChunkruoyi_react=self.webpackChunkruoyi_react||[]).push([[6932],{31199:function($,Z,e){"use strict";var x=e(22122),M=e(28991),d=e(81253),T=e(67294),p=e(63990),h=["fieldProps","min","proFieldProps","max"],b=function(_,D){var n=_.fieldProps,E=_.min,i=_.proFieldProps,f=_.max,r=(0,d.Z)(_,h);return T.createElement(p.Z,(0,x.Z)({mode:"edit",valueType:"digit",fieldProps:(0,M.Z)({min:E,max:f},n),ref:D,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:i},r))};Z.Z=T.forwardRef(b)},86615:function($,Z,e){"use strict";var x=e(88983),M=e(47933),d=e(22122),T=e(28991),p=e(81253),h=e(67294),b=e(63990),c=e(22270),_=e(64893),D=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],n=h.forwardRef(function(r,a){var v=r.fieldProps,o=r.options,s=r.radioType,l=r.layout,y=r.proFieldProps,g=r.valueEnum,H=(0,p.Z)(r,D);return h.createElement(b.Z,(0,d.Z)({mode:"edit",valueType:s==="button"?"radioButton":"radio",ref:a,valueEnum:(0,c.h)(g,void 0)},H,{fieldProps:(0,T.Z)({options:o,layout:l},v),proFieldProps:y,filedConfig:{customLightMode:!0}}))}),E=h.forwardRef(function(r,a){var v=r.fieldProps,o=r.children;return h.createElement(M.ZP,(0,d.Z)({},v,{ref:a}),o)}),i=(0,_.G)(E,{valuePropName:"checked",ignoreWidth:!0}),f=i;f.Group=n,f.Button=M.ZP.Button,f.displayName="ProFormComponent",Z.Z=f},5966:function($,Z,e){"use strict";var x=e(22122),M=e(81253),d=e(67294),T=e(63990),p=["fieldProps","proFieldProps"],h=["fieldProps","proFieldProps"],b="text",c=function(E){var i=E.fieldProps,f=E.proFieldProps,r=(0,M.Z)(E,p);return d.createElement(T.Z,(0,x.Z)({mode:"edit",valueType:b,fieldProps:i,filedConfig:{valueType:b},proFieldProps:f},r))},_=function(E){var i=E.fieldProps,f=E.proFieldProps,r=(0,M.Z)(E,h);return d.createElement(T.Z,(0,x.Z)({mode:"edit",valueType:"password",fieldProps:i,proFieldProps:f,filedConfig:{valueType:b}},r))},D=c;D.Password=_,D.displayName="ProFormComponent",Z.Z=D},90672:function($,Z,e){"use strict";var x=e(22122),M=e(81253),d=e(67294),T=e(63990),p=["fieldProps","proFieldProps"],h=function(c,_){var D=c.fieldProps,n=c.proFieldProps,E=(0,M.Z)(c,p);return d.createElement(T.Z,(0,x.Z)({ref:_,mode:"edit",valueType:"textarea",fieldProps:D,proFieldProps:n},E))};Z.Z=d.forwardRef(h)},85224:function($,Z,e){"use strict";var x=e(22122),M=e(28991),d=e(84305),T=e(75901),p=e(81253),h=e(67294),b=e(94184),c=e.n(b),_=e(97435),D=e(56264),n=e.n(D),E=e(64335),i=["children","className","extra","style","renderContent"],f=function(a){var v=a.children,o=a.className,s=a.extra,l=a.style,y=a.renderContent,g=(0,p.Z)(a,i),H=(0,h.useContext)(T.ZP.ConfigContext),W=H.getPrefixCls,F=a.prefixCls||W("pro"),U="".concat(F,"-footer-bar"),O=(0,h.useContext)(E.Z),te=(0,h.useMemo)(function(){var z=O.hasSiderMenu,ie=O.isMobile,le=O.siderWidth;if(!!z)return le?ie?"100%":"calc(100% - ".concat(le,"px)"):"100%"},[O.collapsed,O.hasSiderMenu,O.isMobile,O.siderWidth]),oe=h.createElement(h.Fragment,null,h.createElement("div",{className:"".concat(U,"-left")},s),h.createElement("div",{className:"".concat(U,"-right")},v));return(0,h.useEffect)(function(){return!O||!(O==null?void 0:O.setHasFooterToolbar)?function(){}:(O==null||O.setHasFooterToolbar(!0),function(){var z;O==null||(z=O.setHasFooterToolbar)===null||z===void 0||z.call(O,!1)})},[]),h.createElement("div",(0,x.Z)({className:c()(o,"".concat(U)),style:(0,M.Z)({width:te},l)},(0,_.Z)(g,["prefixCls"])),y?y((0,M.Z)((0,M.Z)((0,M.Z)({},a),O),{},{leftWidth:te}),oe):oe)};Z.Z=f},56264:function($){$.exports={"ant-pro-footer-bar":"ant-pro-footer-bar","ant-pro-footer-bar-left":"ant-pro-footer-bar-left","ant-pro-footer-bar-right":"ant-pro-footer-bar-right"}},52346:function($,Z,e){"use strict";e.d(Z,{jK:function(){return b},Vd:function(){return _},zP:function(){return D},oH:function(){return n},a7:function(){return i},sF:function(){return r},n2:function(){return v}});var x=e(3182),M=e(94043),d=e.n(M),T=e(66548),p=e(11238),h=e(24480);function b(o,s){return c.apply(this,arguments)}function c(){return c=(0,x.Z)(d().mark(function o(s,l){return d().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,p.ZP)("/api/system/dict/type/list",{params:(0,h.f)(s,l),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return g.stop()}},o)})),c.apply(this,arguments)}function _(o){return(0,p.ZP)("/api/system/dict/type/".concat(o),{method:"GET"})}function D(o){return(0,p.ZP)("/api/system/dict/data/type/".concat(o),{method:"GET"})}function n(o){return E.apply(this,arguments)}function E(){return E=(0,x.Z)(d().mark(function o(s){return d().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",(0,p.ZP)("/api/system/dict/type",{method:"POST",data:s}));case 1:case"end":return y.stop()}},o)})),E.apply(this,arguments)}function i(o){return f.apply(this,arguments)}function f(){return f=(0,x.Z)(d().mark(function o(s){return d().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",(0,p.ZP)("/api/system/dict/type",{method:"PUT",data:s}));case 1:case"end":return y.stop()}},o)})),f.apply(this,arguments)}function r(o){return a.apply(this,arguments)}function a(){return a=(0,x.Z)(d().mark(function o(s){return d().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",(0,p.ZP)("/api/system/dict/type/".concat(s),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return y.stop()}},o)})),a.apply(this,arguments)}function v(o){return(0,T.su)("/api/system/dict/type/export",{params:o},"dict_type_".concat(new Date().getTime(),".xlsx"))}},78759:function($,Z,e){"use strict";e.d(Z,{Af:function(){return h},Th:function(){return _},bL:function(){return D},_8:function(){return E},n_:function(){return f}});var x=e(3182),M=e(94043),d=e.n(M),T=e(66548),p=e(11238);function h(v){return b.apply(this,arguments)}function b(){return b=(0,x.Z)(d().mark(function v(o){var s;return d().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return s=new URLSearchParams(o).toString(),y.abrupt("return",(0,p.ZP)("/api/system/menu/list",{data:o,method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 2:case"end":return y.stop()}},v)})),b.apply(this,arguments)}function c(v){return request("/api/system/menu/".concat(v),{method:"GET"})}function _(){return(0,p.ZP)("/api/system/menu/treeselect",{method:"GET"})}function D(v){return n.apply(this,arguments)}function n(){return n=(0,x.Z)(d().mark(function v(o){return d().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,p.ZP)("/api/system/menu",{method:"POST",data:o}));case 1:case"end":return l.stop()}},v)})),n.apply(this,arguments)}function E(v){return i.apply(this,arguments)}function i(){return i=(0,x.Z)(d().mark(function v(o){return d().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,p.ZP)("/api/system/menu",{method:"PUT",data:o}));case 1:case"end":return l.stop()}},v)})),i.apply(this,arguments)}function f(v){return r.apply(this,arguments)}function r(){return r=(0,x.Z)(d().mark(function v(o){return d().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,p.ZP)("/api/system/menu/".concat(o),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return l.stop()}},v)})),r.apply(this,arguments)}function a(v){return downLoadXlsx("/api/system/menu/export",{params:v},"menu_".concat(new Date().getTime(),".xlsx"))}},16042:function($,Z,e){"use strict";e.r(Z),e.d(Z,{default:function(){return Ze}});var x=e(71194),M=e(50146),d=e(57663),T=e(71577),p=e(2824),h=e(11849),b=e(34792),c=e(48086),_=e(3182),D=e(94043),n=e.n(D),E=e(49101),i=e(73171),f=e(48176),r=e(67294),a=e(43581),v=e(21349),o=e(85224),s=e(19374),l=e(94370),y=e(32157),g=e(7573),H=e(13062),W=e(71230),F=e(89032),U=e(15746),O=e(9715),te=e(86835),oe=e(952),z=e(31199),ie=e(5966),le=e(86615),ge=e(90672),t=e(85893),Ee=function(m){var j=te.Z.useForm(),B=(0,p.Z)(j,1),P=B[0],K=m.menuTree,u=m.menuCheckedKeys,A=(0,r.useState)(),ae=(0,p.Z)(A,2),ue=ae[0],V=ae[1],de=m.statusOptions;(0,r.useEffect)(function(){P.resetFields(),P.setFieldsValue({roleId:m.values.roleId,roleName:m.values.roleName,roleKey:m.values.roleKey,roleSort:m.values.roleSort,dataScope:m.values.dataScope,menuCheckStrictly:m.values.menuCheckStrictly,deptCheckStrictly:m.values.deptCheckStrictly,status:m.values.status,delFlag:m.values.delFlag,createBy:m.values.createBy,createTime:m.values.createTime,updateBy:m.values.updateBy,updateTime:m.values.updateTime,remark:m.values.remark,menuIds:m.values.menuIds})},[P,m]);var k=(0,a.YB)(),Y=function(){P.submit()},re=function(){m.onCancel(),P.resetFields()},ce=function(J){m.onSubmit((0,h.Z)((0,h.Z)({},J),{},{menuIds:ue}))};return(0,t.jsx)(M.Z,{"data-inspector-line":"73","data-inspector-column":"4","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",width:640,title:k.formatMessage({id:"system.Role.modify_info",defaultMessage:"\u7F16\u8F91\u89D2\u8272\u4FE1\u606F"}),visible:m.visible,destroyOnClose:!0,onOk:Y,onCancel:re,children:(0,t.jsxs)(te.Z,{"data-inspector-line":"84","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",form:P,onFinish:ce,initialValues:m.values,children:[(0,t.jsx)(W.Z,{"data-inspector-line":"85","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],children:(0,t.jsx)(U.Z,{"data-inspector-line":"86","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,children:(0,t.jsx)(z.Z,{"data-inspector-line":"87","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",name:"roleId",label:k.formatMessage({id:"system.Role.role_id",defaultMessage:"\u89D2\u8272ID"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272ID",disabled:!0,hidden:!m.values.roleId,rules:[{required:!1,message:(0,t.jsx)(a._H,{"data-inspector-line":"100","data-inspector-column":"27","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u89D2\u8272ID\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272ID\uFF01"})}]})})}),(0,t.jsx)(W.Z,{"data-inspector-line":"106","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],children:(0,t.jsx)(U.Z,{"data-inspector-line":"107","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,children:(0,t.jsx)(ie.Z,{"data-inspector-line":"108","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",name:"roleName",label:k.formatMessage({id:"system.Role.role_name",defaultMessage:"\u89D2\u8272\u540D\u79F0"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",rules:[{required:!0,message:(0,t.jsx)(a._H,{"data-inspector-line":"120","data-inspector-column":"20","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0\uFF01"})}]})})}),(0,t.jsx)(W.Z,{"data-inspector-line":"127","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],children:(0,t.jsx)(U.Z,{"data-inspector-line":"128","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,children:(0,t.jsx)(ie.Z,{"data-inspector-line":"129","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",name:"roleKey",label:k.formatMessage({id:"system.Role.role_key",defaultMessage:"\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32",rules:[{required:!0,message:(0,t.jsx)(a._H,{"data-inspector-line":"141","data-inspector-column":"20","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32\uFF01"})}]})})}),(0,t.jsx)(W.Z,{"data-inspector-line":"151","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],children:(0,t.jsx)(U.Z,{"data-inspector-line":"152","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,children:(0,t.jsx)(z.Z,{"data-inspector-line":"153","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",name:"roleSort",label:k.formatMessage({id:"system.Role.role_sort",defaultMessage:"\u663E\u793A\u987A\u5E8F"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F",rules:[{required:!0,message:(0,t.jsx)(a._H,{"data-inspector-line":"165","data-inspector-column":"20","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F\uFF01"})}]})})}),(0,t.jsx)(W.Z,{"data-inspector-line":"172","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],children:(0,t.jsx)(U.Z,{"data-inspector-line":"173","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,children:(0,t.jsx)(le.Z.Group,{"data-inspector-line":"174","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",valueEnum:de,name:"status",label:k.formatMessage({id:"system.Role.status",defaultMessage:"\u89D2\u8272\u72B6\u6001"}),labelCol:{span:24},width:"xl",placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u72B6\u6001",rules:[{required:!0,message:(0,t.jsx)(a._H,{"data-inspector-line":"188","data-inspector-column":"20","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u89D2\u8272\u72B6\u6001\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u72B6\u6001\uFF01"})}]})})}),(0,t.jsx)(W.Z,{"data-inspector-line":"195","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],children:(0,t.jsx)(U.Z,{"data-inspector-line":"196","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,children:(0,t.jsx)(oe.ZP.Item,{"data-inspector-line":"197","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",name:"menuIds",label:k.formatMessage({id:"system.Role.auth",defaultMessage:"\u83DC\u5355\u6743\u9650"}),children:(0,t.jsx)(g.Z,{"data-inspector-line":"205","data-inspector-column":"14","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",checkable:!0,multiple:!0,checkStrictly:!0,defaultExpandAll:!1,treeData:K,defaultCheckedKeys:u,onCheck:function(J){V(J.checked)}})})})}),(0,t.jsx)(W.Z,{"data-inspector-line":"219","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",gutter:[16,16],children:(0,t.jsx)(U.Z,{"data-inspector-line":"220","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",span:24,order:1,children:(0,t.jsx)(ge.Z,{"data-inspector-line":"221","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",name:"remark",label:k.formatMessage({id:"system.Role.remark",defaultMessage:"\u5907\u6CE8"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",rules:[{required:!1,message:(0,t.jsx)(a._H,{"data-inspector-line":"232","data-inspector-column":"27","data-inspector-relative-path":"src/pages/system/role/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u5907\u6CE8\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u5907\u6CE8\uFF01"})}]})})})]})})},Pe=Ee,xe=e(52346),Me=e(78759),me=e(24480),Te=function(){var G=(0,_.Z)(n().mark(function m(j){var B,P;return n().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return B=c.default.loading("\u6B63\u5728\u6DFB\u52A0"),u.prev=1,u.next=4,(0,l._d)((0,h.Z)({},j));case 4:return P=u.sent,B(),P.code===200?c.default.success("\u6DFB\u52A0\u6210\u529F"):c.default.error(P.msg),u.abrupt("return",!0);case 10:return u.prev=10,u.t0=u.catch(1),B(),c.default.error("\u6DFB\u52A0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),u.abrupt("return",!1);case 15:case"end":return u.stop()}},m,null,[[1,10]])}));return function(j){return G.apply(this,arguments)}}(),De=function(){var G=(0,_.Z)(n().mark(function m(j){var B,P;return n().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return B=c.default.loading("\u6B63\u5728\u914D\u7F6E"),u.prev=1,u.next=4,(0,l.ul)(j);case 4:return P=u.sent,B(),P.code===200?c.default.success("\u914D\u7F6E\u6210\u529F"):c.default.error(P.msg),u.abrupt("return",!0);case 10:return u.prev=10,u.t0=u.catch(1),B(),c.default.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),u.abrupt("return",!1);case 15:case"end":return u.stop()}},m,null,[[1,10]])}));return function(j){return G.apply(this,arguments)}}(),fe=function(){var G=(0,_.Z)(n().mark(function m(j){var B,P;return n().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(B=c.default.loading("\u6B63\u5728\u5220\u9664"),j){u.next=3;break}return u.abrupt("return",!0);case 3:return u.prev=3,u.next=6,(0,l.l5)(j.map(function(A){return A.roleId}).join(","));case 6:return P=u.sent,B(),P.code===200?c.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):c.default.error(P.msg),u.abrupt("return",!0);case 12:return u.prev=12,u.t0=u.catch(3),B(),c.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),u.abrupt("return",!1);case 17:case"end":return u.stop()}},m,null,[[3,12]])}));return function(j){return G.apply(this,arguments)}}(),Re=function(){var G=(0,_.Z)(n().mark(function m(j){var B,P,K;return n().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(B=c.default.loading("\u6B63\u5728\u5220\u9664"),j){A.next=3;break}return A.abrupt("return",!0);case 3:return A.prev=3,P=[j.roleId],A.next=7,(0,l.l5)(P.join(","));case 7:return K=A.sent,B(),K.code===200?c.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):c.default.error(K.msg),A.abrupt("return",!0);case 13:return A.prev=13,A.t0=A.catch(3),B(),c.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),A.abrupt("return",!1);case 18:case"end":return A.stop()}},m,null,[[3,13]])}));return function(j){return G.apply(this,arguments)}}(),Fe=function(){var G=(0,_.Z)(n().mark(function m(){var j;return n().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return j=c.default.loading("\u6B63\u5728\u5BFC\u51FA"),P.prev=1,P.next=4,(0,l.Lp)();case 4:return j(),c.default.success("\u5BFC\u51FA\u6210\u529F"),P.abrupt("return",!0);case 9:return P.prev=9,P.t0=P.catch(1),j(),c.default.error("\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),P.abrupt("return",!1);case 14:case"end":return P.stop()}},m,null,[[1,9]])}));return function(){return G.apply(this,arguments)}}(),Oe=function(){var m=(0,r.useRef)(),j=(0,r.useState)(!1),B=(0,p.Z)(j,2),P=B[0],K=B[1],u=(0,r.useRef)(),A=(0,r.useState)(),ae=(0,p.Z)(A,2),ue=ae[0],V=ae[1],de=(0,r.useState)([]),k=(0,p.Z)(de,2),Y=k[0],re=k[1],ce=(0,r.useState)([]),X=(0,p.Z)(ce,2),J=X[0],Ce=X[1],be=(0,r.useState)(),he=(0,p.Z)(be,2),je=he[0],ve=he[1],Be=(0,r.useState)([]),_e=(0,p.Z)(Be,2),Ie=_e[0],ye=_e[1],Q=(0,a.md)(),Le=(0,a.YB)();(0,r.useEffect)(function(){(0,xe.zP)("sys_normal_disable").then(function(S){if(S.code===200){var I={};S.data.forEach(function(R){I[R.dictValue]=R.dictLabel}),Ce(I)}})},[]);var Ue=[{title:(0,t.jsx)(a._H,{"data-inspector-line":"166","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.role_id",defaultMessage:"\u89D2\u8272ID"}),dataIndex:"roleId",valueType:"text",hideInSearch:!0},{title:(0,t.jsx)(a._H,{"data-inspector-line":"172","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.role_name",defaultMessage:"\u89D2\u8272\u540D\u79F0"}),dataIndex:"roleName",valueType:"text"},{title:(0,t.jsx)(a._H,{"data-inspector-line":"177","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.role_key",defaultMessage:"\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32"}),dataIndex:"roleKey",valueType:"text"},{title:(0,t.jsx)(a._H,{"data-inspector-line":"182","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.role_sort",defaultMessage:"\u663E\u793A\u987A\u5E8F"}),dataIndex:"roleSort",valueType:"text",sorter:!0},{title:(0,t.jsx)(a._H,{"data-inspector-line":"188","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.status",defaultMessage:"\u89D2\u8272\u72B6\u6001"}),dataIndex:"status",valueType:"select",valueEnum:J},{title:(0,t.jsx)(a._H,{"data-inspector-line":"194","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.create_time",defaultMessage:"\u521B\u5EFA\u65F6\u95F4"}),dataIndex:"createTime",valueType:"dateRange",sorter:!0,defaultSortOrder:"descend",render:function(I,R){return(0,t.jsx)("span",{"data-inspector-line":"199","data-inspector-column":"29","data-inspector-relative-path":"src/pages/system/role/index.tsx",children:R.createTime})},search:{transform:function(I){return{"params[beginTime]":I[0],"params[endTime]":I[1]}}},hideInSearch:!0},{title:(0,t.jsx)(a._H,{"data-inspector-line":"211","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"system.Role.remark",defaultMessage:"\u5907\u6CE8"}),dataIndex:"remark",valueType:"textarea",hideInSearch:!0},{title:(0,t.jsx)(a._H,{"data-inspector-line":"217","data-inspector-column":"13","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",width:"220px",valueType:"option",render:function(I,R){return[(0,t.jsx)(T.Z,{"data-inspector-line":"222","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/index.tsx",type:"link",size:"small",hidden:!Q.hasPerms("system:role:edit"),onClick:function(){(0,l.mj)(R.roleId).then(function(w){if(w.code===200){var L=(0,me.wC)(w.menus);ve(L),ye(w.checkedKeys.map(function(N){return"".concat(N)})),K(!0),V(R)}else c.default.warn(w.msg)})},children:(0,t.jsx)(a._H,{"data-inspector-line":"245","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.edit",defaultMessage:"\u7F16\u8F91"})},"edit"),(0,t.jsx)(T.Z,{"data-inspector-line":"247","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/index.tsx",type:"link",size:"small",danger:!0,hidden:!Q.hasPerms("system:role:remove"),onClick:(0,_.Z)(n().mark(function C(){return n().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:M.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var N=(0,_.Z)(n().mark(function se(){var pe;return n().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,Re(R);case 2:pe=ne.sent,pe&&u.current&&u.current.reload();case 4:case"end":return ne.stop()}},se)}));function q(){return N.apply(this,arguments)}return q}()});case 1:case"end":return L.stop()}},C)})),children:(0,t.jsx)(a._H,{"data-inspector-line":"270","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.delete",defaultMessage:"\u5220\u9664"})},"batchRemove")]}}];return(0,t.jsxs)(v.Z,{"data-inspector-line":"277","data-inspector-column":"4","data-inspector-relative-path":"src/pages/system/role/index.tsx",children:[(0,t.jsx)("div",{"data-inspector-line":"278","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/index.tsx",style:{width:"100%",float:"right"},children:(0,t.jsx)(s.ZP,{"data-inspector-line":"279","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/index.tsx",headerTitle:Le.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u4FE1\u606F"}),actionRef:u,formRef:m,rowKey:"roleId",search:{labelWidth:"auto"},toolBarRender:function(){return[(0,t.jsxs)(T.Z,{"data-inspector-line":"292","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/index.tsx",type:"text",hidden:!Q.hasPerms("system:role:add"),onClick:(0,_.Z)(n().mark(function I(){return n().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:(0,Me.Th)().then(function(w){if(w.code===200){var L=(0,me.wC)(w.data);ve(L),ye([]),K(!0),V(void 0)}else c.default.warn(w.msg)});case 1:case"end":return C.stop()}},I)})),children:[(0,t.jsx)(E.Z,{"data-inspector-line":"310","data-inspector-column":"14","data-inspector-relative-path":"src/pages/system/role/index.tsx"})," ",(0,t.jsx)(a._H,{"data-inspector-line":"310","data-inspector-column":"31","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.new",defaultMessage:"\u65B0\u5EFA"})]},"add"),(0,t.jsxs)(T.Z,{"data-inspector-line":"312","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/index.tsx",danger:!0,type:"text",hidden:(Y==null?void 0:Y.length)===0||!Q.hasPerms("system:role:remove"),onClick:(0,_.Z)(n().mark(function I(){var R,C,w;return n().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,fe(Y);case 2:R=N.sent,R&&(re([]),(C=u.current)===null||C===void 0||(w=C.reloadAndRest)===null||w===void 0||w.call(C));case 4:case"end":return N.stop()}},I)})),children:[(0,t.jsx)(i.Z,{"data-inspector-line":"325","data-inspector-column":"14","data-inspector-relative-path":"src/pages/system/role/index.tsx"})," ",(0,t.jsx)(a._H,{"data-inspector-line":"326","data-inspector-column":"14","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.delete",defaultMessage:"\u5220\u9664"})]},"remove"),(0,t.jsxs)(T.Z,{"data-inspector-line":"328","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/index.tsx",type:"text",hidden:!Q.hasPerms("system:role:export"),onClick:(0,_.Z)(n().mark(function I(){return n().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:Fe();case 1:case"end":return C.stop()}},I)})),children:[(0,t.jsx)(f.Z,{"data-inspector-line":"336","data-inspector-column":"14","data-inspector-relative-path":"src/pages/system/role/index.tsx"})," ",(0,t.jsx)(a._H,{"data-inspector-line":"337","data-inspector-column":"14","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.export",defaultMessage:"\u5BFC\u51FA"})]},"export")]},request:function(I,R){return(0,l.JV)((0,h.Z)({},I),R)},columns:Ue,rowSelection:{onChange:function(I,R){re(R)}}},"roleList")}),(Y==null?void 0:Y.length)>0&&(0,t.jsx)(o.Z,{"data-inspector-line":"350","data-inspector-column":"8","data-inspector-relative-path":"src/pages/system/role/index.tsx",extra:(0,t.jsxs)("div",{"data-inspector-line":"352","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/index.tsx",children:[(0,t.jsx)(a._H,{"data-inspector-line":"353","data-inspector-column":"14","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.chosen",defaultMessage:"\u5DF2\u9009\u62E9"}),(0,t.jsx)("a",{"data-inspector-line":"354","data-inspector-column":"14","data-inspector-relative-path":"src/pages/system/role/index.tsx",style:{fontWeight:600},children:Y.length}),(0,t.jsx)(a._H,{"data-inspector-line":"355","data-inspector-column":"14","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.item",defaultMessage:"\u9879"})]}),children:(0,t.jsx)(T.Z,{"data-inspector-line":"359","data-inspector-column":"10","data-inspector-relative-path":"src/pages/system/role/index.tsx",hidden:!Q.hasPerms("system:role:remove"),onClick:(0,_.Z)(n().mark(function S(){return n().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:M.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var C=(0,_.Z)(n().mark(function L(){var N,q,se;return n().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.next=2,fe(Y);case 2:N=ee.sent,N&&(re([]),(q=u.current)===null||q===void 0||(se=q.reloadAndRest)===null||se===void 0||se.call(q));case 4:case"end":return ee.stop()}},L)}));function w(){return C.apply(this,arguments)}return w}()});case 1:case"end":return R.stop()}},S)})),children:(0,t.jsx)(a._H,{"data-inspector-line":"378","data-inspector-column":"12","data-inspector-relative-path":"src/pages/system/role/index.tsx",id:"pages.searchTable.batchDeletion",defaultMessage:"\u6279\u91CF\u5220\u9664"})},"remove")}),(0,t.jsx)(Pe,{"data-inspector-line":"382","data-inspector-column":"6","data-inspector-relative-path":"src/pages/system/role/index.tsx",onSubmit:function(){var S=(0,_.Z)(n().mark(function I(R){var C;return n().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(C=!1,!R.roleId){L.next=7;break}return L.next=4,De((0,h.Z)({},R));case 4:C=L.sent,L.next=10;break;case 7:return L.next=9,Te((0,h.Z)({},R));case 9:C=L.sent;case 10:C&&(K(!1),V(void 0),u.current&&u.current.reload());case 11:case"end":return L.stop()}},I)}));return function(I){return S.apply(this,arguments)}}(),onCancel:function(){K(!1),V(void 0)},visible:P,values:ue||{},menuTree:je||[],menuCheckedKeys:Ie||[],statusOptions:J})]})},Ze=Oe},94370:function($,Z,e){"use strict";e.d(Z,{JV:function(){return b},_d:function(){return D},ul:function(){return E},l5:function(){return f},Lp:function(){return a},mj:function(){return o}});var x=e(3182),M=e(94043),d=e.n(M),T=e(66548),p=e(11238),h=e(24480);function b(s,l){return c.apply(this,arguments)}function c(){return c=(0,x.Z)(d().mark(function s(l,y){return d().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.abrupt("return",(0,p.ZP)("/api/system/role/list",{params:(0,h.f)(l,y),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return H.stop()}},s)})),c.apply(this,arguments)}function _(s){return request("/api/system/role/".concat(s),{method:"GET"})}function D(s){return n.apply(this,arguments)}function n(){return n=(0,x.Z)(d().mark(function s(l){return d().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,p.ZP)("/api/system/role",{method:"POST",data:l}));case 1:case"end":return g.stop()}},s)})),n.apply(this,arguments)}function E(s){return i.apply(this,arguments)}function i(){return i=(0,x.Z)(d().mark(function s(l){return d().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,p.ZP)("/api/system/role",{method:"PUT",data:l}));case 1:case"end":return g.stop()}},s)})),i.apply(this,arguments)}function f(s){return r.apply(this,arguments)}function r(){return r=(0,x.Z)(d().mark(function s(l){return d().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,p.ZP)("/api/system/role/".concat(l),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return g.stop()}},s)})),r.apply(this,arguments)}function a(s){return v.apply(this,arguments)}function v(){return v=(0,x.Z)(d().mark(function s(l){return d().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,T.su)("/api/system/role/export",{params:l},"role_".concat(new Date().getTime(),".xlsx")));case 1:case"end":return g.stop()}},s)})),v.apply(this,arguments)}function o(s){return(0,p.ZP)("/api/system/menu/roleMenuTreeselect/".concat(s),{method:"get"})}},66548:function($,Z,e){"use strict";e.d(Z,{su:function(){return _}});var x=e(11849),M=e(3182),d=e(94043),T=e.n(d),p=e(11238),h={xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",zip:"application/zip"};function b(n){request(n,{method:"GET",responseType:"blob",getResponse:!0}).then(function(E){c(E,h.zip)})}function c(n,E){var i=document.createElement("a"),f=new Blob([n.data],{type:E}),r=new RegExp("filename=([^;]+\\.[^\\.;]+);*"),a=decodeURI(n.response.headers.get("content-disposition")),v=r.exec(a),o=v?v[1]:"file";o=o.replace(/"/g,""),i.style.display="none",i.href=URL.createObjectURL(f),i.setAttribute("download",o),document.body.appendChild(i),i.click(),URL.revokeObjectURL(i.href),document.body.removeChild(i)}function _(n,E,i){return D.apply(this,arguments)}function D(){return D=(0,M.Z)(T().mark(function n(E,i,f){return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,p.ZP)(E,(0,x.Z)((0,x.Z)({},i),{},{method:"POST",responseType:"blob"})).then(function(v){var o=document.createElement("a"),s=v;o.style.display="none",o.href=URL.createObjectURL(s),o.setAttribute("download",f),document.body.appendChild(o),o.click(),URL.revokeObjectURL(o.href),document.body.removeChild(o)}));case 1:case"end":return a.stop()}},n)})),D.apply(this,arguments)}},24480:function($,Z,e){"use strict";e.d(Z,{C2:function(){return c},wC:function(){return D},f:function(){return E}});var x=e(17673),M="/user/login",d=/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+(?::\d+)?|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/,T=function(f){return d.test(f)},p=function(){return window.location.hostname==="preview.pro.ant.design"},h=function(){var f="production";return f==="development"?!0:p()};function b(i){return i.replace(/^\s+|\s+$/gm,"")}function c(i,f,r,a,v,o){var s={id:f||"id",name:r||"name",parentId:a||"parentId",parentName:v||"parentName",childrenList:o||"children"},l={},y={},g=[];i.forEach(function(W){var F=W,U=F[s.parentId];l[U]==null&&(l[U]=[]),F.key=F[s.id],F.title=F[s.name],F.value=F[s.id],y[F[s.id]]=F,l[U].push(F)}),i.forEach(function(W){var F=W,U=F[s.parentId];y[U]==null&&(F[s.parentName]="",g.push(F))}),g.forEach(function(W){H(W)});function H(W){var F=W;l[F[s.id]]!==null&&(F[s.childrenList]=l[F[s.id]]),F[s.childrenList]&&F[s.childrenList].forEach(function(U){var O=U;O[s.parentName]=F[s.name],H(O)})}return g}var _=function(){return parse(window.location.href.split("?")[1])};function D(i){var f=i.map(function(r){var a={id:r.id,title:r.label,key:"".concat(r.id),value:r.id};return r.children&&(a.children=D(r.children)),a});return f}function n(i){window.location.href="/api/common/download?fileName=".concat(encodeURI(i),"&delete=",!0)}function E(i,f){for(var r in f)Object.prototype.hasOwnProperty.call(f,r)&&(i.orderByColumn=r,i.isAsc=f[r]==="descend"?"descending":"ascending");return i}}}]);
