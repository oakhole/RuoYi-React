(self.webpackChunkruoyi_react=self.webpackChunkruoyi_react||[]).push([[9531],{5966:function(q,W,a){"use strict";var _=a(22122),$=a(81253),ee=a(67294),B=a(49983),ue=["fieldProps","proFieldProps"],R=["fieldProps","proFieldProps"],z="text",L=function(C){var O=C.fieldProps,U=C.proFieldProps,i=(0,$.Z)(C,ue);return ee.createElement(B.Z,(0,_.Z)({mode:"edit",valueType:z,fieldProps:O,filedConfig:{valueType:z},proFieldProps:U},i))},Z=function(C){var O=C.fieldProps,U=C.proFieldProps,i=(0,$.Z)(C,R);return ee.createElement(B.Z,(0,_.Z)({mode:"edit",valueType:"password",fieldProps:O,proFieldProps:U,filedConfig:{valueType:z}},i))},x=L;x.Password=Z,x.displayName="ProFormComponent",W.Z=x},34687:function(q){q.exports={container:"container___1sYa-",content:"content___2zk1-",leftSide:"leftSide___2aWGU",mask:"mask___39TQs",circles:"circles___3walM",animate:"animate___l2Pb9",slogan:"slogan___1osln",title:"title___1-xuF",desc:"desc___-njyT",rightSide:"rightSide___3YT8h",form:"form___8RDj_",top:"top___1C1Zi",header:"header___5xZ3f",logo:"logo___2hXsy",main:"main___x4OjT",icon:"icon___rzGKO",other:"other___lLyaU",register:"register___11Twg",prefixIcon:"prefixIcon___23Xrx"}},59252:function(q,W,a){"use strict";a.r(W),a.d(W,{default:function(){return Qe}});var _=a(49111),$=a(19650),ee=a(47673),B=a(4107),ue=a(18106),R=a(51752),z=a(34792),L=a(48086),Z=a(11849),x=a(3182),F=a(2824),C=a(17462),O=a(76772),U=a(94043),i=a.n(U),xe=a(89366),oe=a(2603),Pe=a(80821),Ze=a(80521),je=a(36108),ye=a(48107),Ce=a(39464),l=a(67294),He=a(9715),Fe=a(86835),Je=a(57663),Se=a(71577),K=a(22122),ae=a(28991),Ee=a(87757),Y=a.n(Ee),ce=a(92137),de=a(81253),re=a(28481),me=a(64893),Te=["rules","name","phoneName","fieldProps","captchaTextRender","captchaProps"],Ie=l.forwardRef(function(t,m){var v=(0,l.useState)(t.countDown||60),f=(0,re.Z)(v,2),P=f[0],b=f[1],I=(0,l.useState)(!1),S=(0,re.Z)(I,2),N=S[0],G=S[1],X=(0,l.useState)(),j=(0,re.Z)(X,2),ne=j[0],D=j[1],M=t.rules,pe=t.name,A=t.phoneName,E=t.fieldProps,Q=t.captchaTextRender,le=Q===void 0?function(h,g){return h?"".concat(g," \u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"}:Q,ie=t.captchaProps,H=(0,de.Z)(t,Te),J=function(){var h=(0,ce.Z)(Y().mark(function g(y){return Y().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,D(!0),s.next=4,H.onGetCaptcha(y);case 4:D(!1),G(!0),s.next=13;break;case 8:s.prev=8,s.t0=s.catch(0),G(!1),D(!1),console.log(s.t0);case 13:case"end":return s.stop()}},g,null,[[0,8]])}));return function(y){return h.apply(this,arguments)}}();return(0,l.useEffect)(function(){var h=0,g=t.countDown;return N&&(h=window.setInterval(function(){b(function(y){return y<=1?(G(!1),clearInterval(h),g||60):y-1})},1e3)),function(){return clearInterval(h)}},[N]),l.createElement(Fe.Z.Item,{noStyle:!0,shouldUpdate:!0},function(h){var g=h.getFieldValue,y=h.validateFields;return l.createElement("div",{style:(0,ae.Z)((0,ae.Z)({},E==null?void 0:E.style),{},{display:"flex",alignItems:"center"}),ref:m},l.createElement(B.Z,(0,K.Z)({},E,{style:{flex:1,transition:"width .3s",marginRight:8}})),l.createElement(Se.Z,(0,K.Z)({style:{display:"block"},disabled:N,loading:ne},ie,{onClick:(0,ce.Z)(Y().mark(function w(){var s;return Y().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!A){r.next=9;break}return r.next=4,y([A].flat(1));case 4:return s=g([A].flat(1)),r.next=7,J(s);case 7:r.next=11;break;case 9:return r.next=11,J("");case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),console.log(r.t0);case 16:case"end":return r.stop()}},w,null,[[0,13]])}))}),le(N,P)))})}),Ne=(0,me.G)(Ie),De=Ne,we=a(63185),Be=a(9676),Re=a(49983),Le=a(22270),Oe=["options","fieldProps","proFieldProps","valueEnum"],Ue=l.forwardRef(function(t,m){var v=t.options,f=t.fieldProps,P=t.proFieldProps,b=t.valueEnum,I=(0,de.Z)(t,Oe);return l.createElement(Re.Z,(0,K.Z)({ref:m,valueType:"checkbox",mode:"edit",valueEnum:(0,Le.h)(b,void 0),fieldProps:(0,ae.Z)({options:v},f),proFieldProps:P},I))}),be=l.forwardRef(function(t,m){var v=t.fieldProps,f=t.children;return l.createElement(Be.Z,(0,K.Z)({ref:m},v),f)}),Ge=(0,me.G)(be,{valuePropName:"checked"}),fe=Ge;fe.Group=Ue;var Me=fe,Ae=a(952),V=a(5966),T=a(43581),We=a(73727),$e=a(29791),ze=a(36571);function Ke(t,m){return te.apply(this,arguments)}function te(){return te=(0,x.Z)(i().mark(function t(m,v){return i().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,T.WY)("/api/login/captcha",(0,Z.Z)({method:"GET",params:(0,Z.Z)({},m)},v||{})));case 1:case"end":return P.stop()}},t)})),te.apply(this,arguments)}function Ye(t){return se.apply(this,arguments)}function se(){return se=(0,x.Z)(i().mark(function t(m){return i().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,T.WY)("/api/captchaImage",(0,Z.Z)({method:"GET"},m||{})));case 1:case"end":return f.stop()}},t)})),se.apply(this,arguments)}var Ve=a(34687),n=a.n(Ve),e=a(85893),ve=function(m){var v=m.content;return(0,e.jsx)(O.Z,{closable:!0,style:{marginBottom:24},message:v,type:"error",showIcon:!0})},Xe=function(){var m=(0,l.useState)(!1),v=(0,F.Z)(m,2),f=v[0],P=v[1],b=(0,l.useState)({}),I=(0,F.Z)(b,2),S=I[0],N=I[1],G=(0,l.useState)("account"),X=(0,F.Z)(G,2),j=X[0],ne=X[1],D=(0,T.tT)("@@initialState"),M=D.initialState,pe=D.setInitialState,A=(0,l.useState)(""),E=(0,F.Z)(A,2),Q=E[0],le=E[1],ie=(0,l.useState)(""),H=(0,F.Z)(ie,2),J=H[0],h=H[1],g=function(){var s=(0,x.Z)(i().mark(function u(){return i().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:Ye().then(function(p){p&&(le(p.uuid),h(p.img))});case 1:case"end":return c.stop()}},u)}));return function(){return s.apply(this,arguments)}}();(0,l.useEffect)(function(){g()},[]);var y=function(){var s=(0,x.Z)(i().mark(function u(){var r,c;return i().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,M==null||(r=M.fetchUserInfo)===null||r===void 0?void 0:r.call(M);case 2:if(c=o.sent,!c){o.next=6;break}return o.next=6,pe(function(k){return(0,Z.Z)((0,Z.Z)({},k),{},{currentUser:c})});case 6:case"end":return o.stop()}},u)}));return function(){return s.apply(this,arguments)}}(),w=function(){var s=(0,x.Z)(i().mark(function u(r){var c,p,o,k,he,ge;return i().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return P(!0),d.prev=1,r.uuid=Q,d.next=5,(0,ze.x4)((0,Z.Z)((0,Z.Z)({},r),{},{type:j}));case 5:if(c=d.sent,c.code!==200){d.next=18;break}return localStorage.setItem("token",c.token||""),p="\u767B\u5F55\u6210\u529F\uFF01",L.default.success(p),d.next=12,y();case 12:if(T.m8){d.next=14;break}return d.abrupt("return");case 14:return o=T.m8.location.query,k=o,he=k.redirect,T.m8.push(he||"/"),d.abrupt("return");case 18:N(c),g(),d.next=26;break;case 22:d.prev=22,d.t0=d.catch(1),ge="\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01",L.default.error(ge);case 26:P(!1);case 27:case"end":return d.stop()}},u,null,[[1,22]])}));return function(r){return s.apply(this,arguments)}}();return(0,e.jsx)("div",{className:n().container,children:(0,e.jsxs)("div",{className:n().content,children:[(0,e.jsxs)("div",{className:n().leftSide,children:[(0,e.jsx)("div",{className:n().mask}),(0,e.jsxs)("ul",{className:n().circles,children:[(0,e.jsx)("li",{}),(0,e.jsx)("li",{}),(0,e.jsx)("li",{}),(0,e.jsx)("li",{}),(0,e.jsx)("li",{}),(0,e.jsx)("li",{}),(0,e.jsx)("li",{}),(0,e.jsx)("li",{}),(0,e.jsx)("li",{}),(0,e.jsx)("li",{})]}),(0,e.jsxs)("div",{className:n().slogan,children:[(0,e.jsx)("div",{className:n().title,children:"\u6B22\u8FCE\u5149\u4E34"}),(0,e.jsx)("div",{className:n().desc,children:"\u6B22\u8FCE\u6765\u5230\u597D\u73A9\u4FF1\u4E50\u90E8\uFF0C\u5728\u8FD9\u91CC\u548C\u5FD7\u540C\u9053\u5408\u7684\u670B\u53CB\u4E00\u8D77\u5206\u4EAB\u6709\u8DA3\u7684\u6545\u4E8B\uFF0C\u4E00\u8D77\u7EC4\u7EC7\u6709\u8DA3\u7684\u6D3B\u52A8..."})]})]}),(0,e.jsx)("div",{className:n().rightSide,children:(0,e.jsxs)("div",{className:n().form,children:[(0,e.jsxs)("div",{className:n().top,children:[(0,e.jsx)("div",{className:n().header,children:(0,e.jsx)(We.rU,{to:"/",children:(0,e.jsx)("span",{className:n().title,children:"RuoYi-React"})})}),(0,e.jsx)("div",{className:n().desc,children:"\u57FA\u4E8E RuoYi-Vue \u63D0\u4F9B\u670D\u52A1\u5B9E\u73B0 React \u524D\u7AEF UI"})]}),(0,e.jsxs)("div",{className:n().main,children:[(0,e.jsxs)(Ae.ZP,{initialValues:{autoLogin:!0,username:"admin",password:"admin123"},submitter:{searchConfig:{submitText:"\u767B\u5F55"},render:function(u,r){return r.pop()},submitButtonProps:{loading:f,size:"large",style:{width:"100%",fontWeight:600,backgroundImage:"linear-gradient(to right, #6366f1, #2563eb)",borderRadius:"9999px",justifyContent:"center",backgroundColor:"transparent"}}},onFinish:function(){var s=(0,x.Z)(i().mark(function u(r){return i().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,w(r);case 2:case"end":return p.stop()}},u)}));return function(u){return s.apply(this,arguments)}}(),isKeyPressSubmit:!0,children:[(0,e.jsxs)(R.Z,{activeKey:j,onChange:ne,children:[(0,e.jsx)(R.Z.TabPane,{tab:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"},"account"),(0,e.jsx)(R.Z.TabPane,{tab:"\u624B\u673A\u53F7\u767B\u5F55",style:{color:"white"}},"mobile")]}),S.code===500&&j==="account"&&(0,e.jsx)(ve,{content:S.msg||"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),j==="account"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(V.Z,{name:"username",fieldProps:{size:"middle",prefix:(0,e.jsx)(xe.Z,{className:n().prefixIcon})},placeholder:"\u8D26\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u60A8\u7684\u8D26\u53F7"}]}),(0,e.jsx)(V.Z.Password,{name:"password",fieldProps:{size:"middle",prefix:(0,e.jsx)(oe.Z,{className:n().prefixIcon})},placeholder:"\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u60A8\u7684\u5BC6\u7801"}]}),(0,e.jsxs)(B.Z.Group,{compact:!0,children:[(0,e.jsx)(V.Z,{name:"code",fieldProps:{size:"middle",prefix:(0,e.jsx)(Pe.Z,{className:n().prefixIcon})},placeholder:"\u9A8C\u8BC1\u7801",style:{verticalAlign:"middle"},rules:[{pattern:/^\d+$/,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u9A8C\u8BC1\u7801"}]}),(0,e.jsx)("img",{style:{height:"32px",verticalAlign:"middle",cursor:"pointer",float:"right"},src:"data:image/gif;base64,"+J,onClick:g})]})]}),S.code===500&&j==="mobile"&&(0,e.jsx)(ve,{content:S.msg||"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),j==="mobile"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(V.Z,{fieldProps:{size:"middle",prefix:(0,e.jsx)(Ze.Z,{className:n().prefixIcon})},name:"mobile",placeholder:"\u624B\u673A\u53F7\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7\u7801"},{pattern:/^1\d{10}$/,message:"\u4E0D\u5408\u6CD5\u7684\u624B\u673A\u53F7\uFF01"}]}),(0,e.jsx)(De,{fieldProps:{size:"large",prefix:(0,e.jsx)(oe.Z,{className:n().prefixIcon})},captchaProps:{size:"middle"},placeholder:"\u77ED\u4FE1\u9A8C\u8BC1\u7801",captchaTextRender:function(u,r){return u?"".concat(r," ","\u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"},name:"captcha",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u60A8\u7684\u9A8C\u8BC1\u7801"}],onGetCaptcha:function(){var s=(0,x.Z)(i().mark(function u(r){var c;return i().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Ke({phone:r});case 2:if(c=o.sent,c!==!1){o.next=5;break}return o.abrupt("return");case 5:L.default.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F\uFF01\u9A8C\u8BC1\u7801\u4E3A\uFF1A1234");case 6:case"end":return o.stop()}},u)}));return function(u){return s.apply(this,arguments)}}()})]}),(0,e.jsx)("div",{style:{marginBottom:24},children:(0,e.jsx)(Me,{noStyle:!0,name:"autoLogin",children:"\u8BB0\u4F4F\u5BC6\u7801"})})]}),(0,e.jsxs)($.Z,{className:n().other,children:["\u5176\u4ED6\u767B\u5F55\u65B9\u5F0F :",(0,e.jsx)(je.Z,{className:n().icon}),(0,e.jsx)(ye.Z,{className:n().icon}),(0,e.jsx)(Ce.Z,{className:n().icon})]}),(0,e.jsx)($e.Z,{})]})]})})]})})},Qe=Xe}}]);
