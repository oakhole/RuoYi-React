(self.webpackChunkruoyi_react=self.webpackChunkruoyi_react||[]).push([[9475],{72178:function(dt,S,d){"use strict";d.d(S,{sg:function(){return X0},yi:function(){return j0},aC:function(){return $0},x1:function(){return im},Kj:function(){return om},Ex:function(){return vm},Fk:function(){return pm},TZ:function(){return xm},m:function(){return _m},cQ:function(){return Im},kB:function(){return Dm}});var b={};d.r(b),d.d(b,{Base:function(){return Da},Circle:function(){return fw},Ellipse:function(){return cw},Image:function(){return dw},Line:function(){return gw},Marker:function(){return xw},Path:function(){return Pf},Polygon:function(){return Lw},Polyline:function(){return Ow},Rect:function(){return Fw},Text:function(){return Nw}});var P={};d.r(P),d.d(P,{Canvas:function(){return Sv},Event:function(){return ur.Event},Group:function(){return Ef},Shape:function(){return b},__esModule:function(){return Yw.X},version:function(){return Hw}});var D={};d.r(D),d.d(D,{Base:function(){return Pa},Circle:function(){return $w},Dom:function(){return Jw},Ellipse:function(){return tS},Image:function(){return rS},Line:function(){return iS},Marker:function(){return oS},Path:function(){return lS},Polygon:function(){return fS},Polyline:function(){return cS},Rect:function(){return yS},Text:function(){return CS}});var O={};d.r(O),d.d(O,{Canvas:function(){return Iv},Event:function(){return ur.Event},Group:function(){return Lf},Shape:function(){return D},version:function(){return WS}});var L={};d.r(L),d.d(L,{Chart:function(){return fl},ComponentController:function(){return ro},DIRECTION:function(){return bt},Event:function(){return Sr},Facet:function(){return Pr},Geometry:function(){return no},GeometryLabel:function(){return yl},Interaction:function(){return ha},InteractionAction:function(){return tn},LAYER:function(){return ut},Types:function(){return zb},Util:function(){return md},VERSION:function(){return Xb},View:function(){return ws},getActionClass:function(){return Si},getAnimation:function(){return pf},getEngine:function(){return ft},getFacet:function(){return Hr},getGeometryLabel:function(){return jc},getGeometryLabelLayout:function(){return Uc},getInteraction:function(){return Ea},getShapeFactory:function(){return yf},getTheme:function(){return B},registerAction:function(){return Ir},registerAnimation:function(){return li},registerComponentController:function(){return ir},registerEngine:function(){return ot},registerFacet:function(){return Wr},registerGeometry:function(){return ga},registerGeometryLabel:function(){return Ms},registerGeometryLabelLayout:function(){return Oo},registerInteraction:function(){return on},registerShape:function(){return vn},registerShapeFactory:function(){return go},registerTheme:function(){return Y}});var T={};d.r(T),d.d(T,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var A={};d.r(A),d.d(A,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var E={};d.r(E),d.d(E,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var p={};d.r(p),d.d(p,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var w={};d.r(w),d.d(w,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var y={};d.r(y),d.d(y,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var x={};d.r(x),d.d(x,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var m={};d.r(m),d.d(m,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var M={};d.r(M),d.d(M,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var k={};d.r(k),d.d(k,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var R={};d.r(R),d.d(R,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var N={};d.r(N),d.d(N,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var W={};d.r(W),d.d(W,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var Q={};d.r(Q),d.d(Q,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var H={};d.r(H),d.d(H,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var $={};d.r($),d.d($,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var it={};d.r(it),d.d(it,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var nt={};d.r(nt),d.d(nt,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var wt={};d.r(wt),d.d(wt,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var yt={};d.r(yt),d.d(yt,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var Lt={};d.r(Lt),d.d(Lt,{EVENT_MAP:function(){return sn},onEvent:function(){return ii}});var Mt={};d.r(Mt),d.d(Mt,{calculationItemsBBox:function(){return Nm},cloneEvent:function(){return pu},formatPadding:function(){return Qh},isNaN:function(){return fo},isViewportChanged:function(){return Rm},processParallelEdges:function(){return _R}});var J={};d.r(J),d.d(J,{getColorsWithSubjectColor:function(){return jm},mixColor:function(){return ja}});var tt={};d.r(tt),d.d(tt,{Line:function(){return Vo},applyMatrix:function(){return Vs},distance:function(){return Hs},floydWarshall:function(){return rc},fractionToLine:function(){return oc},getAdjMatrix:function(){return nc},getBBoxBoundLine:function(){return ac},getCircleCenterByPoints:function(){return ec},getCircleIntersectByPoint:function(){return ox},getDegree:function(){return bu},getEllipseIntersectByPoint:function(){return sx},getLineIntersect:function(){return Xs},getPointsCenter:function(){return dx},getRectIntersectByPoint:function(){return ax},intersectBBox:function(){return cx},invertMatrix:function(){return lx},isPointInPolygon:function(){return Ws},isPointsOverlap:function(){return sc},isPolygonsIntersect:function(){return ic},itemIntersectByLine:function(){return vx},move:function(){return hx},pointLineSquareDist:function(){return px},pointRectSquareDist:function(){return gx},rotate:function(){return u3},scale:function(){return l3},scaleMatrix:function(){return ux},squareDist:function(){return wu},translate:function(){return fx}});var q={};d.r(q),d.d(q,{getClosedSpline:function(){return lc},getControlPoint:function(){return Su},getSpline:function(){return yx},paddedHull:function(){return Cx},pathToPoints:function(){return Cu},pointsToPolygon:function(){return mx},roundedHull:function(){return Sx}});var lt={};d.r(lt),d.d(lt,{getBBox:function(){return Eu},getChartRegion:function(){return B3},getComboBBox:function(){return vc},getLabelPosition:function(){return Au},getLetterWidth:function(){return Fx},getLoopCfgs:function(){return kx},getTextSize:function(){return Rx},plainCombosToTrees:function(){return hc},radialLayout:function(){return Dx},reconstructTree:function(){return cc},traverseTree:function(){return $i},traverseTreeUp:function(){return La}});var gt={};d.r(gt),d.d(gt,{adjMatrix:function(){return Wu},breadthFirstSearch:function(){return T9},degree:function(){return C1},depthFirstSearch:function(){return nb},detectAllCycles:function(){return L9},detectAllDirectedCycle:function(){return sb},detectAllUndirectedCycle:function(){return ob},detectDirectedCycle:function(){return I9},findAllPath:function(){return F9},findShortestPath:function(){return D9},floydWarshall:function(){return T1},getConnectedComponents:function(){return ab},getPageRank:function(){return W9},minimumSpanningTree:function(){return V9}});var K=d(67294),j=d(67984),Z=d(80123),f=d(49242),ut;(function(i){i.FORE="fore",i.MID="mid",i.BG="bg"})(ut||(ut={}));var bt;(function(i){i.TOP="top",i.TOP_LEFT="top-left",i.TOP_RIGHT="top-right",i.RIGHT="right",i.RIGHT_TOP="right-top",i.RIGHT_BOTTOM="right-bottom",i.LEFT="left",i.LEFT_TOP="left-top",i.LEFT_BOTTOM="left-bottom",i.BOTTOM="bottom",i.BOTTOM_LEFT="bottom-left",i.BOTTOM_RIGHT="bottom-right",i.RADIUS="radius",i.CIRCLE="circle",i.NONE="none"})(bt||(bt={}));var Rt;(function(i){i.AXIS="axis",i.GRID="grid",i.LEGEND="legend",i.TOOLTIP="tooltip",i.ANNOTATION="annotation",i.OTHER="other"})(Rt||(Rt={}));var Vt={FORE:3,MID:2,BG:1},Ft;(function(i){i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_PAINT="beforepaint",i.AFTER_PAINT="afterpaint",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata",i.BEFORE_CLEAR="beforeclear",i.AFTER_CLEAR="afterclear",i.BEFORE_DESTROY="beforedestroy"})(Ft||(Ft={}));var Qt;(function(i){i.MOUSE_ENTER="plot:mouseenter",i.MOUSE_DOWN="plot:mousedown",i.MOUSE_MOVE="plot:mousemove",i.MOUSE_UP="plot:mouseup",i.MOUSE_LEAVE="plot:mouseleave",i.TOUCH_START="plot:touchstart",i.TOUCH_MOVE="plot:touchmove",i.TOUCH_END="plot:touchend",i.TOUCH_CANCEL="plot:touchcancel",i.CLICK="plot:click",i.DBLCLICK="plot:dblclick",i.CONTEXTMENU="plot:contextmenu",i.LEAVE="plot:leave",i.ENTER="plot:enter"})(Qt||(Qt={}));var ae;(function(i){i.ACTIVE="active",i.INACTIVE="inactive",i.SELECTED="selected",i.DEFAULT="default"})(ae||(ae={}));var ue=["color","shape","size"],Kt="_origin",Bt=1,Ct=1,pt=.25,Pt={};function ft(i){var r=Pt[i];if(!r)throw new Error("G engine '"+i+"' is not exist, please register it at first.");return r}function ot(i,r){Pt[i]=r}var St=d(6056),Ot=d(45442);function Zt(i){var r=getComputedStyle(i);return{width:(i.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(i.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function le(i){return typeof i=="number"&&!isNaN(i)}function be(i,r,t,e){var n=t,a=e;if(r){var o=Zt(i);n=o.width?o.width:n,a=o.height?o.height:a}return{width:Math.max(le(n)?n:Bt,Bt),height:Math.max(le(a)?a:Ct,Ct)}}function Be(i){var r=i.parentNode;r&&r.removeChild(i)}var Fe=d(90494),lr=function(i){(0,Z.__extends)(r,i);function r(t){var e=i.call(this)||this;e.destroyed=!1;var n=t.visible,a=n===void 0?!0:n;return e.visible=a,e}return r.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},r.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(Fe.default),dr=lr,ur=d(65722),Tr=d(68060),sr=d(25228),zr=d(58368),fn=d(13541),Yr=d(72469),nn=d(51441),pi=nn.Axis.Line,gi=nn.Axis.Circle,xi=nn.Grid.Line,bi=nn.Grid.Circle,Xt=nn.Legend.Category,Jt=nn.Legend.Continuous,oe=nn.Tooltip.Html,fe=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function xe(i){var r="linear";return fe.test(i)?r="time":(0,f.isString)(i)&&(r="cat"),r}function Se(i,r,t){var e=r||[];if((0,f.isNumber)(i)||(0,f.isNil)((0,f.firstValue)(e,i))&&(0,f.isEmpty)(t)){var n=(0,Yr.getScale)("identity");return new n({field:i.toString(),values:[i]})}var a=(0,f.valuesOfKey)(e,i),o=(0,f.get)(t,"type",xe(a[0])),s=(0,Yr.getScale)(o);return new s((0,Z.__assign)({field:i,values:a},t))}function Me(i,r){if(i.type!=="identity"&&r.type!=="identity"){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);i.change(t)}}function _e(i){return i.alias||i.field}var me=d(31437);function Ue(i){var r,t;switch(i){case bt.TOP:r={x:0,y:1},t={x:1,y:1};break;case bt.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case bt.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case bt.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}function Ne(i){var r,t;return i.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}function er(i,r){var t={start:{x:0,y:0},end:{x:0,y:0}};i.isRect?t=Ue(r):i.isPolar&&(t=Ne(i));var e=t.start,n=t.end;return{start:i.convert(e),end:i.convert(n)}}function hr(i,r){if(i.isRect)return i.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(r)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(r)?-1:1;if(i.isPolar){var t=i.x.start;return t<0?-1:1}return 1}function nr(i){var r=i.start,t=i.end;return r.x===t.x}function fr(i,r){var t=i.start,e=i.end,n=nr(i);return n?(t.y-e.y)*(r.x-t.x)>0?1:-1:(e.x-t.x)*(t.y-r.y)>0?-1:1}function or(i,r){return(0,f.get)(i,["components","axis",r],{})}function br(i){var r=i.x,t=i.y,e=i.circleCenter,n=t.start>t.end,a=i.isTransposed?i.convert({x:n?0:1,y:0}):i.convert({x:0,y:n?0:1}),o=[a.x-e.x,a.y-e.y],s=[1,0],l=a.y>e.y?me.angle(o,s):me.angle(o,s)*-1,u=l+(r.end-r.start),h=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2));return{center:e,radius:h,startAngle:l,endAngle:u}}function We(i,r){return(0,f.isBoolean)(i)?i===!1?!1:{}:(0,f.get)(i,[r])}function Cr(i,r){return(0,f.get)(i,"position",r)}function Lr(i,r){return(0,f.get)(r,["title","text"],_e(i))}var Pr=function(){function i(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=(0,f.deepMix)({},this.getDefaultCfg(),t)}return i.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},i.prototype.render=function(){this.renderViews()},i.prototype.update=function(){},i.prototype.clear=function(){this.clearFacetViews()},i.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},i.prototype.facetToView=function(r){var t=r.region,e=r.data,n=r.padding,a=n===void 0?this.cfg.padding:n,o=this.view.createView({region:t,padding:a});o.data(e||[]),r.view=o,this.beforeEachView(o,r);var s=this.cfg.eachView;return s&&s(o,r),this.afterEachView(o,r),o},i.prototype.createContainer=function(){var r=this.view.getLayer(ut.FORE);return r.addGroup()},i.prototype.renderViews=function(){this.createFacetViews()},i.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},i.prototype.clearFacetViews=function(){var r=this;(0,f.each)(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},i.prototype.getFieldValues=function(r,t){var e=[],n={};return(0,f.each)(r,function(a){var o=a[t];!(0,f.isNil)(o)&&!n[o]&&(e.push(o),n[o]=!0)}),e},i.prototype.getRegion=function(r,t,e,n){var a=1/(t===0?1:t),o=1/(r===0?1:r),s={x:a*e,y:o*n},l={x:a*(e+1),y:o*(n+1)};return{start:s,end:l}},i.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},i.prototype.getDefaultTitleCfg=function(){var r=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:r}}},i.prototype.processAxis=function(r,t){var e=r.getOptions(),n=e.coordinate,a=r.geometries,o=(0,f.get)(n,"type","rect");if(o==="rect"&&a.length){(0,f.isNil)(e.axes)&&(e.axes={});var s=e.axes,l=a[0].getXYFields(),u=l[0],h=l[1],c=We(s,u),v=We(s,h);c!==!1&&(e.axes[u]=this.getXAxisOption(u,s,c,t)),v!==!1&&(e.axes[h]=this.getYAxisOption(h,s,v,t))}},i.prototype.getFacetDataFilter=function(r){return function(t){return(0,f.every)(r,function(e){var n=e.field,a=e.value;return!(0,f.isNil)(a)&&n?t[n]===a:!0})}},i}(),Br={},Hr=function(i){return Br[(0,f.lowerCase)(i)]},Wr=function(i,r){Br[(0,f.lowerCase)(i)]=r},Nn=function(){function i(r,t){this.context=r,this.cfg=t,r.addAction(this)}return i.prototype.applyCfg=function(r){(0,f.assign)(this,r)},i.prototype.init=function(){this.applyCfg(this.cfg)},i.prototype.destroy=function(){this.context.removeAction(this),this.context=null},i}(),tn=Nn,Xn=function(i){(0,Z.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.callback=null},r}(tn),ui=Xn,Zn={};function wi(i,r){var t=Zn[i],e=null;if(t){var n=t.ActionClass,a=t.cfg;e=new n(r,a),e.name=i,e.init()}return e}function Si(i){var r=Zn[i];return(0,f.get)(r,"ActionClass")}function Ir(i,r,t){Zn[i]={ActionClass:r,cfg:t}}function fi(i){delete Zn[i]}function Pi(i,r){var t=new ui(r);return t.callback=i,t.name="callback",t}function hi(i){if((0,f.isEmpty)(i))return null;var r=i[0].x,t=i[0].x,e=i[0].y,n=i[0].y;return(0,f.each)(i,function(a){r=r>a.x?a.x:r,t=t<a.x?a.x:t,e=e>a.y?a.y:e,n=n<a.y?a.y:n}),{minX:r,maxX:t,minY:e,maxY:n,centerX:(r+t)/2,centerY:(e+n)/2}}function xn(i,r,t,e){return{x:i+t*Math.cos(e),y:r+t*Math.sin(e)}}function ci(i,r,t,e,n,a){a===void 0&&(a=0);var o=xn(i,r,t,e),s=xn(i,r,t,n),l=xn(i,r,a,e),u=xn(i,r,a,n);if(n-e==Math.PI*2){var h=xn(i,r,t,e+Math.PI),c=xn(i,r,a,e+Math.PI),v=[["M",o.x,o.y],["A",t,t,0,1,1,h.x,h.y],["A",t,t,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(v.push(["A",a,a,0,1,0,c.x,c.y]),v.push(["A",a,a,0,1,0,u.x,u.y])),v.push(["M",o.x,o.y]),v.push(["Z"]),v}var g=n-e<=Math.PI?0:1,C=[["M",o.x,o.y],["A",t,t,0,g,1,s.x,s.y],["L",u.x,u.y]];return a&&C.push(["A",a,a,0,g,0,l.x,l.y]),C.push(["L",o.x,o.y]),C.push(["Z"]),C}function _i(i,r,t,e,n){var a=xn(i,r,t,e),o=xn(i,r,t,n);if((0,f.isNumberEqual)(n-e,Math.PI*2)){var s=xn(i,r,t,e+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var l=n-e<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,l,1,o.x,o.y]]}function Kn(i,r){var t=i.points,e=hi(t),n,a,o=r.startAngle,s=r.endAngle,l=s-o;return r.isTransposed?(n=e.maxY*l,a=e.minY*l):(n=e.maxX*l,a=e.minX*l),n+=o,a+=o,{startAngle:a,endAngle:n}}function ai(i,r){if((0,f.isNumber)(i)&&(0,f.isNumber)(r))return[i,r];for(var t=-1,e=0,n=0,a,o=i.length-1,s,l=0;++t<i.length;)a=o,o=t,l+=s=i[a]*r[o]-i[o]*r[a],e+=(i[a]+i[o])*s,n+=(r[a]+r[o])*s;return l*=3,[e/l,n/l]}function _n(i,r){var t=i.attr(),e=r.attr();return(0,f.each)(t,function(n,a){e[a]===void 0&&(e[a]=void 0)}),e}function Vi(i,r,t){var e=Math.min(r,t),n=Math.max(r,t);return i>=e&&i<=n}function Hi(i,r,t){if((0,f.isString)(i))return i.padEnd(r,t);if((0,f.isArray)(i)){var e=i.length;if(e<r)for(var n=r-e,a=0;a<n;a++)i.push(t)}return i}function En(i,r){return r.forEach(function(t){delete i[t]}),i}function $n(i,r,t){r===void 0&&(r=[]),t===void 0&&(t={});for(var e=0,n=i;e<n.length;e++){var a=n[e];t[a]||(r.push(a),t[a]=!0)}return r}function Wn(i){if(i.isPolar&&!i.isTransposed)return(i.endAngle-i.startAngle)*i.getRadius();var r=i.convert({x:0,y:0}),t=i.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function Ri(i){if(i.isPolar){var r=i.startAngle,t=i.endAngle;return t-r==Math.PI*2}return!1}function ei(i,r){var t=i.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function sa(i,r){var t=!1;if(i)if(i.type==="theta"){var e=i.start,n=i.end;t=Vi(r.x,e.x,n.x)&&Vi(r.y,e.y,n.y)}else{var a=i.invert(r);t=Vi(a.x,0,1)&&Vi(a.y,0,1)}return t}function oi(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function ba(i,r){r===void 0&&(r=0);var t=i.start,e=i.end,n=i.getWidth(),a=i.getHeight();if(i.isPolar){var o=i.startAngle,s=i.endAngle,l=i.getCenter(),u=i.getRadius();return{type:"path",startState:{path:ci(l.x,l.y,u+r,o,o)},endState:function(c){var v=(s-o)*c+o,g=ci(l.x,l.y,u+r,o,v);return{path:g}},attrs:{path:ci(l.x,l.y,u+r,o,s)}}}var h;return i.isTransposed?h={height:a+r*2}:h={width:n+r*2},{type:"rect",startState:{x:t.x-r,y:e.y-r,width:i.isTransposed?n+r*2:0,height:i.isTransposed?0:a+r*2},endState:h,attrs:{x:t.x-r,y:e.y-r,width:n+r*2,height:a+r*2}}}function Wi(i,r){var t=[];if(i.length){t.push(["M",i[0].x,i[0].y]);for(var e=1,n=i.length;e<n;e+=1){var a=i[e];t.push(["L",a.x,a.y])}r&&t.push(["Z"])}return t}function Ji(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convert({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function Oa(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],u=e?"y":"x",h=Math.abs(s[u]-o[u])*(a-n),c=s[u]>=o[u]?1:0,v=h>Math.PI?1:0,g=t.convert(s),C=ei(t,g);if(C>=.5)if(h===Math.PI*2){var F={x:(s.x+o.x)/2,y:(s.y+o.y)/2},G=t.convert(F);l.push(["A",C,C,0,v,c,G.x,G.y]),l.push(["A",C,C,0,v,c,g.x,g.y])}else l.push(["A",C,C,0,v,c,g.x,g.y]);return l}function Dt(i){(0,f.each)(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var jt=function(i,r,t,e){var n=[],a,o,s=!!e,l,u;if(s){l=[Infinity,Infinity],u=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var v=i[h];l=me.min([0,0],l,v),u=me.max([0,0],u,v)}l=me.min([0,0],l,e[0]),u=me.max([0,0],u,e[1])}for(var h=0,g=i.length;h<g;h++){var v=i[h];if(t)a=i[h?h-1:g-1],o=i[(h+1)%g];else if(h===0||h===g-1){n.push(v);continue}else a=i[h-1],o=i[h+1];var C=[0,0];C=me.sub(C,o,a),C=me.scale(C,C,r);var F=me.distance(v,a),G=me.distance(v,o),V=F+G;V!==0&&(F/=V,G/=V);var X=me.scale([0,0],C,-F),at=me.scale([0,0],C,G),st=me.add([0,0],v,X),xt=me.add([0,0],v,at);s&&(st=me.max([0,0],st,l),st=me.min([0,0],st,u),xt=me.max([0,0],xt,l),xt=me.min([0,0],xt,u)),n.push(st),n.push(xt)}return t&&n.push(n.shift()),n};function re(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=jt(n,.4,e,t),l=n.length,u=[],h,c,v,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],v=n[a+1],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]]);return e&&(h=s[l],c=s[l+1],v=n[0],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]])),u}function ye(i,r){return Wi(i,r)}function ge(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return ye(i,r);for(var o=0,s=i.length;o<s;o++){var l=i[o];(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)}var u=t||[[0,0],[1,1]],h=re(e,r,u);return h.unshift(["M",n.x,n.y]),h}function Pe(i,r){var t=[];return(0,f.each)(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(Ji(e,i));break;case"z":default:t.push(e);break}}),t}function $e(i,r){var t=[],e,n,a,o;return(0,f.each)(r,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(Ji(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(Oa(e,n,i)):t.push(Ji(s,i));break;case"z":default:t.push(s);break}}),Dt(t),t}var Qe=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.x=r,this.y=t,this.height=n,this.width=e}return i.fromRange=function(r,t,e,n){return new i(r,t,e-r,n-t)},Object.defineProperty(i.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,f.each)(r,function(n){e.x=Math.min(n.x,e.x),e.y=Math.min(n.y,e.y),e.width=Math.max(n.maxX,e.maxX)-e.x,e.height=Math.max(n.maxY,e.maxY)-e.y}),e},i.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,f.each)(r,function(n){e.x=Math.max(n.x,e.x),e.y=Math.max(n.y,e.y),e.width=Math.min(n.maxX,e.maxX)-e.x,e.height=Math.min(n.maxY,e.maxY)-e.y}),e},i.prototype.cut=function(r,t){var e=r.width,n=r.height;switch(t){case bt.TOP:case bt.TOP_LEFT:case bt.TOP_RIGHT:return i.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case bt.RIGHT:case bt.RIGHT_TOP:case bt.RIGHT_BOTTOM:return i.fromRange(this.minX,this.minY,this.maxX-e,this.maxY);case bt.BOTTOM:case bt.BOTTOM_LEFT:case bt.BOTTOM_RIGHT:return i.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case bt.LEFT:case bt.LEFT_TOP:case bt.LEFT_BOTTOM:return i.fromRange(this.minX+e,this.minY,this.maxX,this.maxY);default:return this}},i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return new i(this.x+a,this.y+t,this.width-a-e,this.height-t-n)},i.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},i.prototype.size=function(){return this.width*this.height},i}(),Et=function(i,r){var t=r.start,e=r.end;return new Qe(i.x+i.width*t.x,i.y+i.height*t.y,i.width*Math.abs(e.x-t.x),i.height*Math.abs(e.y-t.y))};function ht(i){return[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}var et=d(70146);function ct(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?n:null}function It(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?e.attr("path"):null}function Ht(i){var r=i.event,t,e=r.target;return e&&(t=e.get("element")),t}function se(i){var r=i.event,t=r.target,e;return t&&(e=t.get("delegateObject")),e}function ve(i){var r=i.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function ce(i){return i&&i.component&&i.component.isList()}function Oe(i){return i&&i.component&&i.component.isSlider()}function ke(i){var r=i.event,t=r.target;return t&&t.get("name")==="mask"}function Ye(i,r){var t=i.event.target;if(t.get("type")==="path"){var e=It(i,r);return e?rr(i.view,e):void 0}var n=ct(i,r);return n?Gr(i.view,n):null}function ar(i,r,t){var e=ct(i,t);if(!e)return null;var n=i.view,a=Li(n,r,{x:e.x,y:e.y}),o=Li(n,r,{x:e.maxX,y:e.maxY}),s={minX:a.x,minY:a.y,maxX:o.x,maxY:o.y};return Gr(r,s)}function Ge(i){var r=i.geometries,t=[];return(0,f.each)(r,function(e){var n=e.elements;t=t.concat(n)}),i.views&&i.views.length&&(0,f.each)(i.views,function(e){t=t.concat(Ge(e))}),t}function Re(i,r,t){var e=Ge(i);return e.filter(function(n){return wr(n,r)===t})}function Mr(i,r){var t=i.geometries,e=[];return(0,f.each)(t,function(n){var a=n.getElementsBy(function(o){return o.hasState(r)});e=e.concat(a)}),e}function wr(i,r){var t=i.getModel(),e=t.data,n;return(0,f.isArray)(e)?n=e[0][r]:n=e[r],n}function Nr(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function Gr(i,r){var t=Ge(i),e=[];return(0,f.each)(t,function(n){var a=n.shape,o=a.getCanvasBBox();Nr(r,o)&&e.push(n)}),e}function cr(i){var r=[];return(0,f.each)(i,function(t){var e=t[0];if(e!=="A")for(var n=1;n<t.length;n=n+2)r.push([t[n],t[n+1]]);else{var a=t.length;r.push([t[a-2],t[a-1]])}}),r}function rr(i,r){var t=Ge(i),e=cr(r),n=t.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=cr(o.attr("path"));else{var l=o.getCanvasBBox();s=ht(l)}return(0,et.default)(e,s)});return n}function Xr(i){return i.getComponents().map(function(r){return r.component})}function cn(i,r){var t=r.x-i.x,e=r.y-i.y;return Math.sqrt(t*t+e*e)}function Mn(i,r){if(i.length<=2)return ye(i,!1);var t=i[0],e=[];(0,f.each)(i,function(a){e.push(a.x),e.push(a.y)});var n=re(e,r,null);return n.unshift(["M",t.x,t.y]),n}function Qn(i,r){return i.x<=r.x&&i.maxX>=r.x&&i.y<=r.y&&i.maxY>r.y}function Jn(i){var r=i.parent,t=null;return r&&(t=r.views.filter(function(e){return e!==i})),t}function wa(i,r){var t=i.getCoordinate();return t.invert(r)}function Li(i,r,t){var e=wa(i,t);return r.getCoordinate().convert(e)}function Yn(i,r,t,e){var n=!1;return(0,f.each)(i,function(a){if(a[t]===r[t]&&a[e]===r[e])return n=!0,!1}),n}function qi(i,r){var t=i.getScaleByField(r);return!t&&i.views&&(0,f.each)(i.views,function(e){if(t=qi(e,r),t)return!1}),t}var Sa=function(){function i(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return i.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)return this.cacheMap[r[0]];r.length===2&&(this.cacheMap[r[0]]=r[1])},i.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},i.prototype.addAction=function(r){this.actions.push(r)},i.prototype.removeAction=function(r){var t=this.actions,e=this.actions.indexOf(r);e>=0&&t.splice(e,1)},i.prototype.getCurrentPoint=function(){var r=this.event;if(r)if(r.target instanceof HTMLElement){var t=this.view.getCanvas(),e=t.getPointByClient(r.clientX,r.clientY);return e}else return{x:r.x,y:r.y};return null},i.prototype.getCurrentShape=function(){return(0,f.get)(this.event,["gEvent","shape"])},i.prototype.isInPlot=function(){var r=this.getCurrentPoint();return r?this.view.isPointInPlot(r):!1},i.prototype.isInShape=function(r){var t=this.getCurrentShape();return t?t.get("name")===r:!1},i.prototype.isInComponent=function(r){var t=Xr(this.view),e=this.getCurrentPoint();return e?!!t.find(function(n){var a=n.getBBox();return r?n.get("name")===r&&Qn(a,e):Qn(a,e)}):!1},i.prototype.destroy=function(){this.view=null,this.event=null,(0,f.each)(this.actions.slice(),function(r){r.destroy()}),this.actions=null,this.cacheMap=null},i}(),ka=Sa,Ca=function(){function i(r,t){this.view=r,this.cfg=t}return i.prototype.init=function(){this.initEvents()},i.prototype.initEvents=function(){},i.prototype.clearEvents=function(){},i.prototype.destroy=function(){this.clearEvents()},i}(),ha=Ca;function ca(i,r){var t=i.split(":"),e=t[0],n=r.getAction(e)||wi(e,r);if(!n)throw new Error("There is no action named "+e);var a=t[1];return{action:n,methodName:a}}function va(i){var r=i.action,t=i.methodName;if(r[t])r[t]();else throw new Error("Action("+r.name+") doesn't have a method called "+t)}var si={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},ji=function(i){(0,Z.__extends)(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.callbackCaches={},n.emitCaches={},n.steps=e,n}return r.prototype.init=function(){this.initContext(),i.prototype.init.call(this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;(0,f.each)(this.steps,function(e,n){(0,f.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.bindEvent(a.trigger,o)})})},r.prototype.clearEvents=function(){var t=this;(0,f.each)(this.steps,function(e,n){(0,f.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.offEvent(a.trigger,o)})})},r.prototype.initContext=function(){var t=this.view,e=new ka(t);this.context=e;var n=this.steps;(0,f.each)(n,function(a){(0,f.each)(a,function(o){if((0,f.isFunction)(o.action))o.actionObject={action:Pi(o.action,e),methodName:"execute"};else if((0,f.isString)(o.action))o.actionObject=ca(o.action,e);else if((0,f.isArray)(o.action)){var s=o.action;o.actionObject=[],(0,f.each)(s,function(l){o.actionObject.push(ca(l,e))})}})})},r.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t||t===si.SHOW_ENABLE)return!0;if(t===si.PROCESSING)return e===si.START;if(t===si.START)return e!==si.PROCESSING;if(t===si.END)return e===si.PROCESSING||e===si.START;if(t===si.ROLLBACK){if(n[si.END])return e===si.END;if(e===si.START)return!0}return!1},r.prototype.isAllowExcute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return e.once&&this.emitCaches[n]?!1:e.isEnable?e.isEnable(this.context):!0}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,e){t!==si.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},r.prototype.getKey=function(t,e){return t+e.trigger+e.action},r.prototype.getActionCallback=function(t,e){var n=this,a=this.context,o=this.callbackCaches,s=e.actionObject;if(e.action&&s){var l=this.getKey(t,e);if(!o[l]){var u=function(h){a.event=h,n.isAllowExcute(t,e)?((0,f.isArray)(s)?(0,f.each)(s,function(c){a.event=h,va(c)}):(a.event=h,va(s)),n.afterExecute(t,e),e.callback&&(a.event=h,e.callback(a))):a.event=null};e.debounce?o[l]=(0,f.debounce)(u,e.debounce.wait,e.debounce.immediate):e.throttle?o[l]=(0,f.throttle)(u,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):o[l]=u}return o[l]}return null},r.prototype.bindEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.addEventListener(n[1],e):n[0]==="document"?document.addEventListener(n[1],e):this.view.on(t,e)},r.prototype.offEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.removeEventListener(n[1],e):n[0]==="document"?document.removeEventListener(n[1],e):this.view.off(t,e)},r}(ha),Ba=ji,Ma={};function Ea(i){return Ma[(0,f.lowerCase)(i)]}function on(i,r){Ma[(0,f.lowerCase)(i)]=r}function Ha(i,r,t){var e=Ea(i);if(!e)return null;if((0,f.isPlainObject)(e)){var n=(0,f.mix)((0,f.clone)(e),t);return new Ba(r,n)}else{var a=e;return new a(r,t)}}var ri=d(7755),dn=d(31506);function da(i){var r,t={point:{default:{fill:i.pointFillColor,r:i.pointSize,stroke:i.pointBorderColor,lineWidth:i.pointBorder,fillOpacity:i.pointFillOpacity},active:{stroke:i.pointActiveBorderColor,lineWidth:i.pointActiveBorder},selected:{stroke:i.pointSelectedBorderColor,lineWidth:i.pointSelectedBorder},inactive:{fillOpacity:i.pointInactiveFillOpacity,strokeOpacity:i.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:i.hollowPointFillColor,lineWidth:i.hollowPointBorder,stroke:i.hollowPointBorderColor,strokeOpacity:i.hollowPointBorderOpacity,r:i.hollowPointSize},active:{stroke:i.hollowPointActiveBorderColor,strokeOpacity:i.hollowPointActiveBorderOpacity},selected:{lineWidth:i.hollowPointSelectedBorder,stroke:i.hollowPointSelectedBorderColor,strokeOpacity:i.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:i.hollowPointInactiveBorderOpacity}},area:{default:{fill:i.areaFillColor,fillOpacity:i.areaFillOpacity,stroke:null},active:{fillOpacity:i.areaActiveFillOpacity},selected:{fillOpacity:i.areaSelectedFillOpacity},inactive:{fillOpacity:i.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:i.hollowAreaBorderColor,lineWidth:i.hollowAreaBorder,strokeOpacity:i.hollowAreaBorderOpacity},active:{fill:null,lineWidth:i.hollowAreaActiveBorder},selected:{fill:null,lineWidth:i.hollowAreaSelectedBorder},inactive:{strokeOpacity:i.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:i.intervalFillColor,fillOpacity:i.intervalFillOpacity},active:{stroke:i.intervalActiveBorderColor,lineWidth:i.intervalActiveBorder},selected:{stroke:i.intervalSelectedBorderColor,lineWidth:i.intervalSelectedBorder},inactive:{fillOpacity:i.intervalInactiveFillOpacity,strokeOpacity:i.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:i.hollowIntervalFillColor,stroke:i.hollowIntervalBorderColor,lineWidth:i.hollowIntervalBorder,strokeOpacity:i.hollowIntervalBorderOpacity},active:{stroke:i.hollowIntervalActiveBorderColor,lineWidth:i.hollowIntervalActiveBorder,strokeOpacity:i.hollowIntervalActiveBorderOpacity},selected:{stroke:i.hollowIntervalSelectedBorderColor,lineWidth:i.hollowIntervalSelectedBorder,strokeOpacity:i.hollowIntervalSelectedBorderOpacity},inactive:{stroke:i.hollowIntervalInactiveBorderColor,lineWidth:i.hollowIntervalInactiveBorder,strokeOpacity:i.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:i.lineBorderColor,lineWidth:i.lineBorder,strokeOpacity:i.lineBorderOpacity,fill:null,lineAppendWidth:10},active:{lineWidth:i.lineActiveBorder},selected:{lineWidth:i.lineSelectedBorder},inactive:{strokeOpacity:i.lineInactiveBorderOpacity}}},e={title:{autoRotate:!0,position:"center",style:{fill:i.axisTitleTextFillColor,fontSize:i.axisTitleTextFontSize,lineHeight:i.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},label:{autoRotate:!0,autoEllipsis:!0,autoHide:!0,offset:16,style:{fill:i.axisLabelFillColor,fontSize:i.axisLabelFontSize,lineHeight:i.axisLabelLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},line:{style:{lineWidth:i.axisLineBorder,stroke:i.axisLineBorderColor}},tickLine:{style:{lineWidth:i.axisTickLineBorder,stroke:i.axisTickLineBorderColor},alignTick:!0,length:i.axisTickLineLength},subTickLine:null,animate:!0},n={line:{type:"line",style:{stroke:i.axisGridBorderColor,lineWidth:i.axisGridBorder,lineDash:i.axisGridLineDash}},alignTick:!0,animate:!0},a={title:null,marker:{symbol:"circle",style:{r:i.legendCircleMarkerSize,fill:i.legendMarkerColor}},itemName:{spacing:5,style:{fill:i.legendItemNameFillColor,fontFamily:i.fontFamily,fontSize:i.legendItemNameFontSize,lineHeight:i.legendItemNameLineHeight,fontWeight:i.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1,maxItemWidth:.2};return{background:i.backgroundColor,defaultColor:i.brandColor,padding:"auto",fontFamily:i.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:i.paletteQualitative10,colors20:i.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(o){var s=o.geometry.coordinate;if(s.isPolar&&s.isTransposed){var l=Kn(o.getModel(),s),u=l.startAngle,h=l.endAngle,c=(u+h)/2,v=7.5,g=v*Math.cos(c),C=v*Math.sin(c);return{matrix:dn.transform(null,[["t",g,C]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,Z.__assign)((0,Z.__assign)({},t.line.default),{lineDash:[1,1]})},active:{style:(0,Z.__assign)((0,Z.__assign)({},t.line.active),{lineDash:[1,1]})},inactive:{style:(0,Z.__assign)((0,Z.__assign)({},t.line.inactive),{lineDash:[1,1]})},selected:{style:(0,Z.__assign)((0,Z.__assign)({},t.line.selected),{lineDash:[1,1]})}},dash:{default:{style:(0,Z.__assign)((0,Z.__assign)({},t.line.default),{lineDash:[5.5,1]})},active:{style:(0,Z.__assign)((0,Z.__assign)({},t.line.active),{lineDash:[5.5,1]})},inactive:{style:(0,Z.__assign)((0,Z.__assign)({},t.line.inactive),{lineDash:[5.5,1]})},selected:{style:(0,Z.__assign)((0,Z.__assign)({},t.line.selected),{lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}}},components:{axis:{top:(0,f.deepMix)({},e,{position:"top",grid:null,title:null,verticalLimitLength:1/2}),bottom:(0,f.deepMix)({},e,{position:"bottom",grid:null,title:null,verticalLimitLength:1/2}),left:(0,f.deepMix)({},e,{position:"left",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),right:(0,f.deepMix)({},e,{position:"right",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),circle:(0,f.deepMix)({},e,{title:null,label:{offset:8},grid:(0,f.deepMix)({},n,{line:{type:"line"}})}),radius:(0,f.deepMix)({},e,{title:null,label:{offset:8},grid:(0,f.deepMix)({},n,{line:{type:"circle"}})})},legend:{right:(0,f.deepMix)({},a,{layout:"vertical"}),left:(0,f.deepMix)({},a,{layout:"vertical"}),top:(0,f.deepMix)({},a,{layout:"horizontal"}),bottom:(0,f.deepMix)({},a,{layout:"horizontal"}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:i.sliderRailHeight,defaultLength:i.sliderRailWidth,style:{fill:i.sliderRailFillColor,stroke:i.sliderRailBorderColor,lineWidth:i.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:i.sliderLabelTextFillColor,fontSize:i.sliderLabelTextFontSize,lineHeight:i.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},handler:{size:i.sliderHandlerWidth,style:{fill:i.sliderHandlerFillColor,stroke:i.sliderHandlerBorderColor}},slidable:!0},margin:[0,0,0,0]},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:i.tooltipCrosshairsBorderColor,lineWidth:i.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r[""+ri.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:i.tooltipContainerFillColor,opacity:i.tooltipContainerFillOpacity,boxShadow:i.tooltipContainerShadow,borderRadius:i.tooltipContainerBorderRadius+"px",color:i.tooltipTextFillColor,fontSize:i.tooltipTextFontSize+"px",fontFamily:i.fontFamily,lineHeight:i.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},r[""+ri.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},r[""+ri.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},r[""+ri.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r[""+ri.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r[""+ri.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:i.annotationArcBorderColor,lineWidth:i.annotationArcBorder},animate:!0},line:{style:{stroke:i.annotationLineBorderColor,lineDash:i.annotationLineDash,lineWidth:i.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textAlign:"start",fontFamily:i.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:i.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:i.annotationRegionBorder,stroke:i.annotationRegionBorderColor,fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:i.brandColor,lineWidth:2}},line:{style:{stroke:i.annotationLineBorderColor,lineWidth:i.annotationLineBorder},length:i.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},animate:!0}}},labels:{offset:12,style:{fill:i.labelFillColor,fontSize:i.labelFontSize,fontFamily:i.fontFamily,stroke:i.labelBorderColor,lineWidth:i.labelBorder},autoRotate:!0},innerLabels:{style:{fill:i.innerLabelFillColor,fontSize:i.innerLabelFontSize,fontFamily:i.fontFamily,stroke:i.innerLabelBorderColor,lineWidth:i.innerLabelBorder},autoRotate:!0},pieLabels:{labelHeight:14,offset:30,labelLine:{style:{lineWidth:i.labelLineBorder}},autoRotate:!0}}}var un={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},pa={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},zt=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],vt=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],z={backgroundColor:"transparent",brandColor:zt[0],paletteQualitative10:zt,paletteQualitative20:vt,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:un[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:un[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:un[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:un[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:un[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:un[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:un[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:zt[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:un[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:un[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:un[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:un[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:un[25],annotationArcBorderColor:un[15],annotationArcBorder:.5,annotationLineBorderColor:un[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:un[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:pa[95],annotationTextBorder:1.5,annotationRegionFillColor:un[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:un[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:un[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:un[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:pa[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:un[25],pointFillColor:zt[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:pa[100],pointBorderOpacity:1,pointActiveBorderColor:un[100],pointSelectedBorder:2,pointSelectedBorderColor:un[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:zt[0],hollowPointBorderOpacity:.95,hollowPointFillColor:pa[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:un[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:un[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:zt[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:zt[0],areaFillOpacity:.25,areaActiveFillColor:zt[0],areaActiveFillOpacity:.5,areaSelectedFillColor:zt[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:zt[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:un[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:un[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:zt[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:un[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:un[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:zt[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:pa[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:un[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:un[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},_=da(z),I={default:_};function B(i){return(0,f.get)(I,(0,f.lowerCase)(i),I.default)}function Y(i,r){I[(0,f.lowerCase)(i)]=(0,f.deepMix)({},I.default,r)}function U(i,r,t){var e=t.translate(i),n=t.translate(r);return(0,f.isNumberEqual)(e,n)}function rt(i,r){var t=r.coordinate,e=r.getXScale(),n=e.range,a=n[n.length-1],o=n[0],s=t.invert(i),l=s.x;return t.isPolar&&l>(1+a)/2&&(l=o),e.translate(e.invert(l))}function mt(i,r,t){var e=t.coordinate,n=t.getYScale(),a=n.field,o=e.invert(r),s=n.invert(o.y),l=(0,f.find)(i,function(u){var h=u[Kt];return h[a][0]<=s&&h[a][1]>=s});return l||i[i.length-1]}var Tt=(0,f.memoize)(function(i){if(i.isCategory)return 1;for(var r=i.values,t=r.length,e=i.translate(r[0]),n=e,a=0;a<t;a++){var o=r[a],s=i.translate(o);s<e&&(e=s),s>n&&(n=s)}return(n-e)/(t-1)});function _t(i,r,t){var e=t;if(!t){var n=r.getAttribute("position"),a=n.getFields();e=a[0]}var o=r.scales;return o[e]?o[e].getText(i[e]):(0,f.hasKey)(i,e)?i[e]:e}function $t(i){var r=(0,f.values)(i.attributes);return(0,f.filter)(r,function(t){return(0,f.contains)(ue,t.type)})}function ne(i){for(var r=$t(i),t,e=0,n=r;e<n.length;e++){var a=n[e],o=a.getScale(a.type);if(o&&o.isLinear){t=o;break}}var s=i.getXScale(),l=i.getYScale();return t||l||s}function pe(i,r){var t=r.field,e=i[t];if((0,f.isArray)(e)){var n=e.map(function(a){return r.getText(a)});return n.join("-")}return r.getText(e)}function Ce(i,r){var t,e=r.getGroupScales();if(e.length&&(t=e[0]),t){var n=t.field;return t.getText(i[n])}var a=ne(r);return _e(a)}function Ae(i,r,t){if(r.length===0)return null;var e=t.type,n=t.getXScale(),a=t.getYScale(),o=n.field,s=a.field,l=null;if(e==="heatmap"||e==="point"){for(var u=t.coordinate,h=u.invert(i),c=n.invert(h.x),v=a.invert(h.y),g=Infinity,C=0;C<r.length;C++){var F=r[C],G=F[Kt],V=Math.pow(G[o]-c,2)+Math.pow(G[s]-v,2);V<g&&(g=V,l=F)}return l}var X=r[0],at=r[r.length-1],st=rt(i,t),xt=X[Kt][o],kt=X[Kt][s],Gt=at[Kt][o],Wt=a.isLinear&&(0,f.isArray)(kt);if((0,f.isArray)(xt)){for(var C=0;C<r.length;C++){var Yt=r[C],G=Yt[Kt];if(n.translate(G[o][0])<=st&&n.translate(G[o][1])>=st)if(Wt)(0,f.isArray)(l)||(l=[]),l.push(Yt);else{l=Yt;break}}(0,f.isArray)(l)&&(l=mt(l,i,t))}else{var ie=void 0;if(!n.isLinear&&n.type!=="timeCat"){for(var C=0;C<r.length;C++){var Yt=r[C],G=Yt[Kt];if(U(G[o],st,n))if(Wt)(0,f.isArray)(l)||(l=[]),l.push(Yt);else{l=Yt;break}else n.translate(G[o])<=st&&(at=Yt,ie=r[C+1])}(0,f.isArray)(l)&&(l=mt(l,i,t))}else{if((st>n.translate(Gt)||st<n.translate(xt))&&(st>n.max||st<n.min))return null;for(var de=0,he=r.length-1,Ee=void 0;de<=he;){Ee=Math.floor((de+he)/2);var Ie=r[Ee][Kt][o];if(U(Ie,st,n))return r[Ee];n.translate(Ie)<=n.translate(st)?(de=Ee+1,at=r[Ee],ie=r[Ee+1]):(he===0&&(at=r[0]),he=Ee-1)}}at&&ie&&Math.abs(n.translate(at[Kt][o])-st)>Math.abs(n.translate(ie[Kt][o])-st)&&(at=ie)}var Le=Tt(t.getXScale());return!l&&Math.abs(n.translate(at[Kt][o])-st)<=Le/2&&(l=at),l}function Te(i,r,t){t===void 0&&(t="");var e=i[Kt],n=_t(e,r,t),a=r.tooltipOption,o=r.theme.defaultColor,s=[],l,u;function h(kt,Gt){if(!(0,f.isNil)(Gt)&&Gt!==""){var Wt={title:n,data:e,mappingData:i,name:kt,value:Gt,color:i.color||o,marker:!0};s.push(Wt)}}if((0,f.isObject)(a)){var c=a.fields,v=a.callback;if(v){var g=c.map(function(kt){return i[Kt][kt]}),C=v.apply(void 0,g),F=(0,Z.__assign)({data:i[Kt],mappingData:i,title:n,color:i.color||o,marker:!0},C);s.push(F)}else for(var G=r.scales,V=0,X=c;V<X.length;V++){var at=X[V];if(!(0,f.isNil)(e[at])){var st=G[at];l=_e(st),u=st.getText(e[at]),h(l,u)}}}else{var xt=ne(r);(0,f.isNil)(e[xt.field])||(u=pe(e,xt),l=Ce(e,r),h(l,u))}return s}var tr={};function ir(i,r){tr[i]=r}function At(i){delete tr[i]}function Ut(){return Object.keys(tr)}function qt(i){return tr[i]}var ee=function(){function i(r){this.option=this.wrapperOption(r)}return i.prototype.update=function(r){return this.option=this.wrapperOption(r),this},i.prototype.hasAction=function(r){var t=this.option.actions;return(0,f.some)(t,function(e){return e[0]===r})},i.prototype.create=function(r,t){var e=this.option,n=e.type,a=e.cfg,o=n==="theta",s=(0,Z.__assign)({start:r,end:t},a),l=(0,fn.getCoordinate)(o?"polar":n);return this.coordinate=new l(s),this.coordinate.type=n,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},i.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},i.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},i.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},i.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},i.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},i.prototype.getOption=function(){return this.option},i.prototype.getCoordinate=function(){return this.coordinate},i.prototype.wrapperOption=function(r){return(0,Z.__assign)({type:"rect",actions:[],cfg:{}},r)},i.prototype.execActions=function(r){var t=this,e=this.option.actions;(0,f.each)(e,function(n){var a,o=n[0],s=n.slice(1),l=(0,f.isNil)(r)?!0:r.includes(o);l&&(a=t.coordinate)[o].apply(a,s)})},i}(),we=ee,Ze=function(){function i(r,t,e){this.view=r,this.gEvent=t,this.data=e,this.type=t.type}return Object.defineProperty(i.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),i.prototype.toString=function(){return"[Event (type="+this.type+")]"},i.prototype.clone=function(){return new i(this.view,this.gEvent,this.data)},i}(),Sr=Ze;function an(i){return!(0,f.isNumber)(i)&&!(0,f.isArray)(i)}function ni(i){i===void 0&&(i=0);var r=(0,f.isArray)(i)?i:[i];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=(0,Z.__spreadArrays)(r,r);break;case 3:r=(0,Z.__spreadArrays)(r,[r[1]]);break;default:r=r.slice(0,4);break}return r}var Ui=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.top=r,this.right=t,this.bottom=e,this.left=n}return i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return this.top+=t,this.right+=e,this.bottom+=n,this.left+=a,this},i.prototype.inc=function(r,t){var e=r.width,n=r.height;switch(t){case bt.TOP:case bt.TOP_LEFT:case bt.TOP_RIGHT:this.top+=n;break;case bt.RIGHT:case bt.RIGHT_TOP:case bt.RIGHT_BOTTOM:this.right+=e;break;case bt.BOTTOM:case bt.BOTTOM_LEFT:case bt.BOTTOM_RIGHT:this.bottom+=n;break;case bt.LEFT:case bt.LEFT_TOP:case bt.LEFT_BOTTOM:this.left+=e;break;default:break}return this},i.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},i}();function ta(i){var r=i.padding;if(!an(r))return ni(r);var t=i.viewBBox,e=i.autoPadding,n=new Ui;(0,f.each)(i.getComponents(),function(s){var l=s.component,u=s.type;if(!(u===Rt.GRID||u===Rt.TOOLTIP)){var h=l.getLayoutBBox(),c=new Qe(h.x,h.y,h.width,h.height);if(u===Rt.AXIS){var v=c.exceed(t);n.shrink(v)}else{var g=s.direction;n.inc(c,g)}}});var a=n.getPadding();if(e){var o=ni(i.appendPadding);return[Math.max(e[0]-o[0],a[0]),Math.max(e[1]-o[1],a[1]),Math.max(e[2]-o[2],a[2]),Math.max(e[3]-o[3],a[3])]}return a}function Lo(i){var r=i.getController("axis"),t=i.getController("legend"),e=i.getController("annotation"),n=i.getController("slider"),a=ta(i);i.coordinateBBox=i.viewBBox.shrink(a).shrink(ni(i.appendPadding)),i.adjustCoordinate(),[r,n,t,e].forEach(function(o){o&&o.layout()})}var hf=function(){function i(){this.scales=new Map,this.syncScales=new Map}return i.prototype.createScale=function(r,t,e,n){var a=e,o=this.getScaleMeta(n);if(t.length===0&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),a=(0,f.deepMix)(l,o.scaleDef,e)}var u=Se(r,t,a);return this.cacheScale(u,e,n),u},i.prototype.sync=function(){var r=this;this.syncScales.forEach(function(t,e){var n=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,o=[];(0,f.each)(t,function(s){var l=r.getScale(s);a=(0,f.isNumber)(l.max)?Math.max(a,l.max):a,n=(0,f.isNumber)(l.min)?Math.min(n,l.min):n,(0,f.each)(l.values,function(u){o.includes(u)||o.push(u)})}),(0,f.each)(t,function(s){var l=r.getScale(s);l.isContinuous?l.change({min:n,max:a,values:o}):l.isCategory&&l.change({values:o})})})},i.prototype.cacheScale=function(r,t,e){var n=this.getScaleMeta(e);n&&n.scale.type===r.type?(Me(n.scale,r),n.scaleDef=t):(n={key:e,scale:r,scaleDef:t},this.scales.set(e,n));var a=this.getSyncKey(n);if(n.syncKey=a,this.removeFromSyncScales(e),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(e)}},i.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var e=(0,f.last)(r.split("-")),n=this.syncScales.get(e);n&&n.length&&(t=this.getScaleMeta(n[0]))}return t&&t.scale},i.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var e=t.syncKey,n=this.syncScales.get(e);if(n&&n.length){var a=n.indexOf(r);a!==-1&&n.splice(a,1)}}this.scales.delete(r)},i.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},i.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(e,n){var a=e.indexOf(r);if(a!==-1)return e.splice(a,1),e.length===0&&t.syncScales.delete(n),!1})},i.prototype.getSyncKey=function(r){var t=r.scale,e=r.scaleDef,n=t.field,a=(0,f.get)(e,["sync"]);return a===!0?n:a===!1?void 0:a},i.prototype.getScaleMeta=function(r){return this.scales.get(r)},i}(),ll=function(i){(0,Z.__extends)(r,i);function r(t){var e=i.call(this,{visible:t.visible})||this;e.id=(0,f.uniqueId)("view"),e.views=[],e.geometries=[],e.controllers=[],e.interactions={},e.limitInPlot=!1,e.options={data:[],animate:!0},e.usedControllers=Ut(),e.scalePool=new hf,e.layoutFunc=Lo,e.isPreMouseInPlot=!1,e.isDataChanged=!1,e.isCoordinateChanged=!1,e.createdScaleKeys=new Map,e.onCanvasEvent=function(G){var V=G.name;if(!V.includes(":")){var X=e.createViewEvent(G);e.doPlotEvent(X),e.emit(V,X)}},e.onDelegateEvents=function(G){var V=G.name;if(!!V.includes(":")){var X=e.createViewEvent(G);e.emit(V,X)}};var n=t.parent,a=t.canvas,o=t.backgroundGroup,s=t.middleGroup,l=t.foregroundGroup,u=t.region,h=u===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:u,c=t.padding,v=t.appendPadding,g=t.theme,C=t.options,F=t.limitInPlot;return e.parent=n,e.canvas=a,e.backgroundGroup=o,e.middleGroup=s,e.foregroundGroup=l,e.region=h,e.padding=c,e.appendPadding=v,e.options=(0,Z.__assign)((0,Z.__assign)({},e.options),C),e.limitInPlot=F,e.themeObject=(0,f.isObject)(g)?(0,f.deepMix)({},B("default"),g):B(g),e.init(),e}return r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.coordinateController=new we(this.options.coordinate),this.initOptions();for(var t=this.views,e=0;e<t.length;e++)t[e].init()},r.prototype.render=function(t){t===void 0&&(t=!1),this.emit(Ft.BEFORE_RENDER),this.paint(t),this.emit(Ft.AFTER_RENDER),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit(Ft.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,n=0;n<e.length;n++)e[n].clear();this.geometries=[];for(var a=this.controllers,n=0;n<a.length;n++)a[n].clear();this.createdScaleKeys.forEach(function(s,l){t.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();for(var o=this.views,n=0;n<o.length;n++)o[n].clear();this.emit(Ft.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(Ft.BEFORE_DESTROY);var t=this.interactions;(0,f.each)(t,function(s){s&&s.destroy()}),this.clear();for(var e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.geometries,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}for(var s=this.controllers,n=0,a=s.length;n<a;n++){var l=s[n];l.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return(0,f.set)(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,e){return(0,f.isFunction)(e)?((0,f.set)(this.options,["filters",t],e),this):(!e&&(0,f.get)(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,e){return(0,f.isBoolean)(t)?(0,f.set)(this.options,["axes"],t):(0,f.set)(this.options,["axes",t],e),this},r.prototype.legend=function(t,e){return(0,f.isBoolean)(t)?(0,f.set)(this.options,["legends"],t):(0,f.isString)(t)?(0,f.set)(this.options,["legends",t],e):(0,f.set)(this.options,["legends"],t),this},r.prototype.scale=function(t,e){var n=this;return(0,f.isString)(t)?(0,f.set)(this.options,["scales",t],e):(0,f.isObject)(t)&&(0,f.each)(t,function(a,o){(0,f.set)(n.options,["scales",o],a)}),this},r.prototype.tooltip=function(t){return(0,f.set)(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,e){return(0,f.isString)(t)?(0,f.set)(this.options,"coordinate",{type:t,cfg:e}):(0,f.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},r.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=Hr(t);if(!n)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new n(this,(0,Z.__assign)((0,Z.__assign)({},e),{type:t})),this},r.prototype.animate=function(t){return(0,f.set)(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),(0,f.mix)(this.options,t),this.initOptions(),this},r.prototype.option=function(t,e){if(r.prototype[t])throw new Error(`Can't use built in variable name "`+t+'", please change another one.');return(0,f.set)(this.options,t,e),this},r.prototype.theme=function(t){return this.themeObject=(0,f.isObject)(t)?(0,f.deepMix)({},this.themeObject,t):B(t),this},r.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var a=Ha(t,this,e);return a&&(a.init(),this.interactions[t]=a),this},r.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(Ft.BEFORE_CHANGE_DATA),this.data(t),this.paint(!0);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.changeData(t)}this.emit(Ft.AFTER_CHANGE_DATA)},r.prototype.createView=function(t){var e={data:this.options.data,scales:(0,f.clone)(this.options.scales),axes:(0,f.clone)(this.options.axes),coordinate:(0,f.clone)(this.coordinateController.getOption()),tooltip:(0,f.clone)(this.options.tooltip),legends:(0,f.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},n=new r((0,Z.__assign)((0,Z.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:Vt.BG}),middleGroup:this.middleGroup.addGroup({zIndex:Vt.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:Vt.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,Z.__assign)((0,Z.__assign)({},e),(0,f.get)(t,"options",{}))}));return this.views.push(n),n},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var e=(0,f.remove)(this.views,function(n){return n===t})[0];return e&&e.destroy(),e},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={};return this.geometries.map(function(e){var n=e.getYScale(),a=n.field;if(!t[a])return t[a]=!0,n})},r.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},a=0,o=e.length;a<o;a++){var s=e[a],l=t==="x"?s.getXScale():s.getYScale();l&&!n[l.field]&&(n[l.field]=l)}return n},r.prototype.getScaleByField=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getLayer=function(t){return t===ut.BG?this.backgroundGroup:t===ut.MID?this.middleGroup:t===ut.FORE?this.foregroundGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return sa(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return(0,f.flatten)(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(e){return e.getGroupScales()});return $n((0,f.flatten)(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},r.prototype.getXY=function(t){var e=this.getCoordinate(),n=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if((0,f.each)(t,function(l,u){n[u]&&(o=n[u].scale(l)),a[u]&&(s=a[u].scale(l))}),!(0,f.isNil)(o)&&!(0,f.isNil)(s))return e.convert({x:o,y:s})},r.prototype.getController=function(t){return(0,f.find)(this.controllers,function(e){return e.name===t})},r.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],a=0,o=e.length;a<o;a++){var s=e[a],l=s.dataArray;s.sort(l);for(var u=void 0,h=0,c=l.length;h<c;h++){var v=l[h];u=Ae(t,v,s),u&&n.push(u)}}for(var g=this.views,a=0,o=g.length;a<o;a++){var C=g[a],F=C.getSnapRecords(t);n=n.concat(F)}return n},r.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];t=t.concat(o.getComponents())}return t},r.prototype.filterData=function(t){var e=this.options.filters;return(0,f.size)(e)===0?t:(0,f.filter)(t,function(n,a){var o=Object.keys(e);return o.every(function(s){var l=e[s];return l(n[s],n,a)})})},r.prototype.filterFieldData=function(t,e){var n=this.options.filters,a=(0,f.get)(n,t);return(0,f.isUndefined)(a)?e:e.filter(function(o,s){return a(o[t],o,s)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if((0,f.isEqual)(e,a)&&(0,f.isEqual)(n,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(Ft.BEFORE_PAINT),this.renderBackgroundStyleShape(),this.renderLayoutRecursive(t),this.renderPaintRecursive(t),this.emit(Ft.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,f.get)(this.themeObject,"background");if(t){this.backgruondStyleRectShape||(this.backgruondStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{zIndex:-1}}));var e=this.viewBBox,n=e.x,a=e.y,o=e.width,s=e.height;this.backgruondStyleRectShape.attr({fill:t,x:n,y:a,width:o,height:s})}else this.backgruondStyleRectShape&&(this.backgruondStyleRectShape.remove(!0),this.backgruondStyleRectShape=void 0)}},r.prototype.renderLayoutRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.doLayout();var e=this.viewBBox,n=this.coordinateBBox;an(this.padding)&&(this.autoPadding=[n.tl.y-e.tl.y,e.tr.x-n.tr.x,e.bl.y-n.bl.y,n.tl.x-e.tl.x]);for(var a=this.views,o=0,s=a.length;o<s;o++){var l=a[o];l.renderLayoutRecursive(t)}},r.prototype.renderPaintRecursive=function(t){if(this.limitInPlot){var e=this.middleGroup,n=ba(this.coordinateInstance),a=n.type,o=n.attrs;e.setClip({type:a,attrs:o})}this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,l=0,u=s.length;l<u;l++){var h=s[l];h.renderPaintRecursive(t)}},r.prototype.createScale=function(t,e,n,a){var o=(0,f.get)(this.options.scales,[t]),s=(0,Z.__assign)((0,Z.__assign)({},o),n);return this.parent?this.parent.createScale(t,e,s,a):this.scalePool.createScale(t,e,s,a)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.renderDataRecursive(t)}},r.prototype.calculateViewBBox=function(){var t,e,n,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,e=o.y,n=o.width,a=o.height}else t=0,e=0,n=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,l=s.start,u=s.end,h=new Qe(t+n*l.x,e+a*l.y,n*(u.x-l.x),a*(u.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(h))&&(this.viewBBox=new Qe(t+n*l.x,e+a*l.y,n*(u.x-l.x),a*(u.y-l.y)),this.coordinateBBox=this.viewBBox)},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var a=t[e],o=qt(a);o&&this.controllers.push(new o(this))}},r.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,a=e?e.get("origin"):null,o=new Sr(this,t,a);return o.type=n,o},r.prototype.doPlotEvent=function(t){var e=t.type,n=t.x,a=t.y,o={x:n,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(e)){var l=this.isPointInPlot(o);if(l){var u="plot:"+e;t.type=u,this.emit(u,t),(e==="mouseleave"||e==="touchend")&&(this.isPreMouseInPlot=!1)}e==="mousemove"||e==="touchmove"?(this.isPreMouseInPlot&&!l?(e==="mousemove"&&(t.type=Qt.MOUSE_LEAVE,this.emit(Qt.MOUSE_LEAVE,t)),t.type=Qt.LEAVE,this.emit(Qt.LEAVE,t)):!this.isPreMouseInPlot&&l&&(e==="mousemove"&&(t.type=Qt.MOUSE_ENTER,this.emit(Qt.MOUSE_ENTER,t)),t.type=Qt.ENTER,this.emit(Qt.ENTER,t)),this.isPreMouseInPlot=l):(e==="mouseleave"||e==="touchend")&&this.isPreMouseInPlot&&(e==="mouseleave"&&(t.type=Qt.MOUSE_LEAVE,this.emit(Qt.MOUSE_LEAVE,t)),t.type=Qt.LEAVE,this.emit(Qt.LEAVE,t),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=(0,f.get)(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var l=a[o];l.scales=this.getGeometryScales();var u={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?l.update(u):l.init(u)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),a=n.data,o=n.scales,s=o===void 0?{}:o,l=this.filteredData,u=0,h=t.length;u<h;u++){var c=t[u],v=s[c],g=this.getScaleKey(c);this.createScale(c,e.includes(c)?a:l,v,g),this.createdScaleKeys.set(g,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync()},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var a=t[n];e[a]=this.getScaleByField(a)}return e},r.prototype.getScaleFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getScaleFields();$n(s,t,e)}return t},r.prototype.getGroupedFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getGroupFields();$n(s,t,e)}return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,e=(0,Z.__spreadArrays)([this.getXScale()],this.getYScales()).filter(function(o){return!!o}),n=this.getCoordinate(),a=this.options.scales;(0,f.each)(e,function(o){var s=o.field,l=o.values,u=o.isCategory,h=o.isIdentity;if((u||h)&&l&&!(0,f.get)(a,[s,"range"])){var c=l.length,v=void 0;if(c===1)v=[.5,1];else{var g=1,C=0;Ri(n)?n.isTransposed?(g=(0,f.get)(t.theme,"widthRatio.multiplePie",1/1.3),C=1/c*g,v=[C/2,1-C/2]):v=[0,1-1/c]:(C=1/c/2,v=[C,1-C])}o.range=v}})},r.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var a=e[n];t?a.update():(a.clear(),a.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},r.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=n,l.canvasRegion=a,e||l.animate(!1),l.paint(t)}},r.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++){var n=this.getComponents()[e];n.component.render()}},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){for(var t=this.options,e=t.geometries,n=e===void 0?[]:e,a=t.interactions,o=a===void 0?[]:a,s=t.views,l=s===void 0?[]:s,u=t.annotations,h=u===void 0?[]:u,c=0;c<n.length;c++){var v=n[c];this.createGeometry(v)}for(var g=0;g<o.length;g++){var C=o[g],F=C.type,G=C.cfg;this.interaction(F,G)}for(var V=0;V<l.length;V++){var X=l[V];this.createView(X)}for(var at=this.getController("annotation"),st=0;st<h.length;st++){var xt=h[st];at.annotation(xt)}},r.prototype.createGeometry=function(t){var e=t.type,n=t.cfg,a=n===void 0?{}:n;if(this[e]){var o=this[e](a);(0,f.each)(t,function(s,l){(0,f.isFunction)(o[l])&&o[l](s)})}},r.prototype.getScaleKey=function(t){return this.id+"-"+t},r}(dr);function ga(i,r){ll.prototype[i.toLowerCase()]=function(t){t===void 0&&(t={});var e=(0,Z.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),n=new r(e);return this.geometries.push(n),n}}var ws=ll,ul=function(i){(0,Z.__extends)(r,i);function r(t){var e=this,n=t.container,a=t.width,o=t.height,s=t.autoFit,l=s===void 0?!1:s,u=t.padding,h=t.appendPadding,c=t.renderer,v=c===void 0?"canvas":c,g=t.pixelRatio,C=t.localRefresh,F=C===void 0?!0:C,G=t.visible,V=G===void 0?!0:G,X=t.defaultInteractions,at=X===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:X,st=t.options,xt=t.limitInPlot,kt=t.theme,Gt=(0,f.isString)(n)?document.getElementById(n):n,Wt=(0,St.Z)('<div style="position:relative;"></div>');Gt.appendChild(Wt);var Yt=be(Gt,l,a,o),ie=ft(v),de=new ie.Canvas((0,Z.__assign)({container:Wt,pixelRatio:g,localRefresh:F},Yt));return e=i.call(this,{parent:null,canvas:de,backgroundGroup:de.addGroup({zIndex:Vt.BG}),middleGroup:de.addGroup({zIndex:Vt.MID}),foregroundGroup:de.addGroup({zIndex:Vt.FORE}),padding:u,appendPadding:h,visible:V,options:st,limitInPlot:xt,theme:kt})||this,e.onResize=(0,f.debounce)(function(){e.forceFit()},300),e.ele=Gt,e.canvas=de,e.width=Yt.width,e.height=Yt.height,e.autoFit=l,e.localRefresh=F,e.renderer=v,e.wrapperElement=Wt,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions(at),e}return r.prototype.initDefaultInteractions=function(t){var e=this;(0,f.each)(t,function(n){e.interaction(n)})},r.prototype.changeSize=function(t,e){return this.width===t&&this.height===e?this:(this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),Be(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return i.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=be(this.ele,!0,this.width,this.height),e=t.width,n=t.height;this.changeSize(e,n)}},r.prototype.updateCanvasStyle=function(){(0,Ot.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}(ws),fl=ul,ro=function(){function i(r){this.visible=!0,this.components=[],this.view=r}return i.prototype.clear=function(){(0,f.each)(this.components,function(r){r.component.destroy()}),this.components=[]},i.prototype.destroy=function(){this.clear()},i.prototype.getComponents=function(){return this.components},i.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},i}(),Ss=0,po=1/2,hl=1/2,cl=.05,vl=function(){function i(r){var t=r.xField,e=r.yField,n=r.adjustNames,a=n===void 0?["x","y"]:n,o=r.dimValuesMap;this.adjustNames=a,this.xField=t,this.yField=e,this.dimValuesMap=o}return i.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},i.prototype.getAdjustRange=function(r,t,e){var n=this.yField,a=e.indexOf(t),o=e.length,s,l;return!n&&this.isAdjust("y")?(s=0,l=1):o>1?(s=e[a===0?0:a-1],l=e[a===o-1?o-1:a+1],a!==0?s+=(t-s)/2:s-=(l-t)/2,a!==o-1?l-=(l-t)/2:l+=(t-e[o-2])/2):(s=t===0?0:t-.5,l=t===0?1:t+.5),{pre:s,next:l}},i.prototype.adjustData=function(r,t){var e=this,n=this.getDimValues(t);f.each(r,function(a,o){f.each(n,function(s,l){e.adjustDim(l,s,a,o)})})},i.prototype.groupData=function(r,t){return f.each(r,function(e){e[t]===void 0&&(e[t]=Ss)}),f.groupBy(r,t)},i.prototype.adjustDim=function(r,t,e,n){},i.prototype.getDimValues=function(r){var t=this,e=t.xField,n=t.yField,a=f.assign({},this.dimValuesMap),o=[];if(e&&this.isAdjust("x")&&o.push(e),n&&this.isAdjust("y")&&o.push(n),o.forEach(function(l){a&&a[l]||(a[l]=f.valuesOfKey(r,l).sort(function(u,h){return u-h}))}),!n&&this.isAdjust("y")){var s="y";a[s]=[Ss,1]}return a},i}(),ya=vl,dl={},Cs=function(i){return dl[i.toLowerCase()]},Io=function(i,r){if(Cs(i))throw new Error("Adjust type '"+i+"' existed.");dl[i.toLowerCase()]=r},Nt=d(8108),cf=function(i){(0,Nt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.cacheMap={},e.adjustDataArray=[],e.mergeData=[];var n=t.marginRatio,a=n===void 0?po:n,o=t.dodgeRatio,s=o===void 0?hl:o,l=t.dodgeBy,u=t.intervalPadding,h=t.dodgePadding,c=t.xDimensionLength,v=t.groupNum,g=t.defaultSize,C=t.maxColumnWidth,F=t.minColumnWidth,G=t.columnWidthRatio,V=t.customOffset;return e.marginRatio=a,e.dodgeRatio=s,e.dodgeBy=l,e.intervalPadding=u,e.dodgePadding=h,e.xDimensionLegenth=c,e.groupNum=v,e.defaultSize=g,e.maxColumnWidth=C,e.minColumnWidth=F,e.columnWidthRatio=G,e.customOffset=V,e}return r.prototype.process=function(t){var e=f.clone(t),n=f.flatten(e),a=this.dodgeBy,o=a?f.group(n,a):e;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=n,this.adjustData(o,n),this.adjustDataArray=[],this.mergeData=[],e},r.prototype.adjustDim=function(t,e,n,a){var o=this,s=this.customOffset,l=this.getDistribution(t),u=this.groupData(n,t);return f.each(u,function(h,c){var v;e.length===1?v={pre:e[0]-1,next:e[0]+1}:v=o.getAdjustRange(t,parseFloat(c),e),f.each(h,function(g){var C=g[t],F=l[C],G=F.indexOf(a);if(f.isNil(s))g[t]=o.getDodgeOffset(v,G,F.length);else{var V=v.pre,X=v.next;g[t]=f.isFunction(s)?s(g,v):(V+X)/2+s}})}),[]},r.prototype.getDodgeOffset=function(t,e,n){var a=this,o=a.dodgeRatio,s=a.marginRatio,l=a.intervalPadding,u=a.dodgePadding,h=t.pre,c=t.next,v=c-h,g;if(!f.isNil(l)&&f.isNil(u)&&l>=0){var C=this.getIntervalOnlyOffset(n,e);g=h+C}else if(!f.isNil(u)&&f.isNil(l)&&u>=0){var C=this.getDodgeOnlyOffset(n,e);g=h+C}else if(!f.isNil(l)&&!f.isNil(u)&&l>=0&&u>=0){var C=this.getIntervalAndDodgeOffset(n,e);g=h+C}else{var F=v*o/n,G=s*F,C=1/2*(v-n*F-(n-1)*G)+((e+1)*F+e*G)-1/2*F-1/2*v;g=(h+c)/2+C}return g},r.prototype.getIntervalOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.intervalPadding,s=n.xDimensionLegenth,l=n.groupNum,u=n.dodgeRatio,h=n.maxColumnWidth,c=n.minColumnWidth,v=n.columnWidthRatio,g=o/s,C=(1-(l-1)*g)/l*u/(t-1),F=((1-g*(l-1))/l-C*(t-1))/t;if(F=f.isNil(v)?F:1/l/t*v,!f.isNil(h)){var G=h/s;F=Math.min(F,G)}if(!f.isNil(c)){var V=c/s;F=Math.max(F,V)}F=a?a/s:F,C=((1-(l-1)*g)/l-t*F)/(t-1);var X=((1/2+e)*F+e*C+1/2*g)*l-g/2;return X},r.prototype.getDodgeOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,u=n.marginRatio,h=n.maxColumnWidth,c=n.minColumnWidth,v=n.columnWidthRatio,g=o/s,C=1*u/(l-1),F=((1-C*(l-1))/l-g*(t-1))/t;if(F=v?1/l/t*v:F,!f.isNil(h)){var G=h/s;F=Math.min(F,G)}if(!f.isNil(c)){var V=c/s;F=Math.max(F,V)}F=a?a/s:F,C=(1-(F*t+g*(t-1))*l)/(l-1);var X=((1/2+e)*F+e*g+1/2*C)*l-C/2;return X},r.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,a=n.intervalPadding,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,u=a/s,h=o/s,c=((1-u*(l-1))/l-h*(t-1))/t,v=((1/2+e)*c+e*h+1/2*u)*l-u/2;return v},r.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,a=n[t];return a||(a={},f.each(e,function(o,s){var l=f.valuesOfKey(o,t);l.length||l.push(0),f.each(l,function(u){a[u]||(a[u]=[]),a[u].push(s)})}),n[t]=a),a},r}(ya),vf=cf;function xb(i,r){return(r-i)*Math.random()+i}var bb=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=f.clone(t),n=f.flatten(e);return this.adjustData(e,n),e},r.prototype.adjustDim=function(t,e,n){var a=this,o=this.groupData(n,t);return f.each(o,function(s,l){return a.adjustGroup(s,t,parseFloat(l),e)})},r.prototype.getAdjustOffset=function(t){var e=t.pre,n=t.next,a=(n-e)*cl;return xb(e+a,n-a)},r.prototype.adjustGroup=function(t,e,n,a){var o=this,s=this.getAdjustRange(e,n,a);return f.each(t,function(l){l[e]=o.getAdjustOffset(s)}),t},r}(ya),wb=bb,df=f.Cache,Sb=function(i){(0,Nt.__extends)(r,i);function r(t){var e=i.call(this,t)||this,n=t.adjustNames,a=n===void 0?["y"]:n,o=t.height,s=o===void 0?NaN:o,l=t.size,u=l===void 0?10:l,h=t.reverseOrder,c=h===void 0?!1:h;return e.adjustNames=a,e.height=s,e.size=u,e.reverseOrder=c,e}return r.prototype.process=function(t){var e=this,n=e.yField,a=e.reverseOrder,o=n?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(o):o},r.prototype.reverse=function(t){return t.slice(0).reverse()},r.prototype.processStack=function(t){var e=this,n=e.xField,a=e.yField,o=e.reverseOrder,s=o?this.reverse(t):t,l=new df,u=new df;return s.map(function(h){return h.map(function(c){var v,g=f.get(c,n,0),C=f.get(c,[a]),F=g.toString();if(C=f.isArray(C)?C[1]:C,!f.isNil(C)){var G=C>=0?l:u;G.has(F)||G.set(F,0);var V=G.get(F),X=C+V;return G.set(F,X),(0,Nt.__assign)((0,Nt.__assign)({},c),(v={},v[a]=[V,X],v))}return c})})},r.prototype.processOneDimStack=function(t){var e=this,n=this,a=n.xField,o=n.height,s=n.reverseOrder,l="y",u=s?this.reverse(t):t,h=new df;return u.map(function(c){return c.map(function(v){var g,C=e.size,F=v[a],G=C*2/o;h.has(F)||h.set(F,G/2);var V=h.get(F);return h.set(F,V+G),(0,Nt.__assign)((0,Nt.__assign)({},v),(g={},g[l]=V,g))})})},r}(ya),Cb=Sb,Mb=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=f.flatten(t),n=this,a=n.xField,o=n.yField,s=this.getXValuesMaxMap(e),l=Math.max.apply(Math,Object.keys(s).map(function(u){return s[u]}));return f.map(t,function(u){return f.map(u,function(h){var c,v,g=h[o],C=h[a];if(f.isArray(g)){var F=(l-s[C])/2;return(0,Nt.__assign)((0,Nt.__assign)({},h),(c={},c[o]=f.map(g,function(V){return F+V}),c))}var G=(l-g)/2;return(0,Nt.__assign)((0,Nt.__assign)({},h),(v={},v[o]=[G,g+G],v))})})},r.prototype.getXValuesMaxMap=function(t){var e=this,n=this,a=n.xField,o=n.yField,s=f.groupBy(t,function(l){return l[a]});return f.mapValues(s,function(l){return e.getDimMaxValue(l,o)})},r.prototype.getDimMaxValue=function(t,e){var n=f.map(t,function(o){return f.get(o,e,[])}),a=f.flatten(n);return Math.max.apply(Math,a)},r}(ya),Eb=Mb;Io("Dodge",vf),Io("Jitter",wb),Io("Stack",Cb),Io("Symmetric",Eb);var Gc={};function pf(i){return Gc[i.toLowerCase()]}function li(i,r){Gc[i.toLowerCase()]=r}var $o={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},Ab={interval:function(i){return{enter:{animation:i.isRect?i.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:i.isPolar&&i.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},zc={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",i.isPolar&&i.isTransposed&&(r="wave-in")),{animation:r}},schema:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":r="grow-in-xy",{animation:r}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Tb(i,r){return{delay:(0,f.isFunction)(i.delay)?i.delay(r):i.delay,easing:(0,f.isFunction)(i.easing)?i.easing(r):i.easing,duration:(0,f.isFunction)(i.duration)?i.duration(r):i.duration,callback:i.callback}}function Xc(i,r,t){var e=Ab[i];return e&&((0,f.isFunction)(e)&&(e=e(r)),e=(0,f.deepMix)({},$o,e),t)?e[t]:e}function Qo(i,r,t){var e=(0,f.get)(i.get("origin"),"data",Kt),n=r.animation,a=Tb(r,e);if(n){var o=pf(n);o&&o(i,a,t)}else i.animate(t.toAttrs,a)}function Pb(i,r,t,e,n){if(zc[t]){var a=zc[t](e),o=pf((0,f.get)(a,"animation",""));if(o){var s=(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},$o.appear),a),r);i.stopAnimate(),o(i,s,{coordinate:e,minYPoint:n,toAttrs:null})}}}var _b=d(31207),Lb=function(i){(0,Z.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.states=[];var n=t.shapeFactory,a=t.container,o=t.offscreenGroup,s=t.visible,l=s===void 0?!0:s;return e.shapeFactory=n,e.container=a,e.offscreenGroup=o,e.visible=l,e}return r.prototype.draw=function(t,e){e===void 0&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),this.visible===!1&&this.changeVisible(!1)},r.prototype.update=function(t){var e=this,n=e.shapeFactory,a=e.shape;if(!!a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=n.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,this.syncShapeStyle(a,s,"",this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var t=this,e=t.shapeFactory,n=t.shape;if(n){var a=this.getAnimateCfg("leave");a?Qo(n,a,{coordinate:e.coordinate,toAttrs:(0,Z.__assign)({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(e){e.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(e){e.hide()}))},r.prototype.setState=function(t,e){var n=this,a=this,o=a.states,s=a.shapeFactory,l=a.model,u=a.shape,h=a.shapeType,c=o.indexOf(t);if(e){if(c>-1)return;o.push(t),(t==="active"||t==="selected")&&u.toFront()}else{if(c===-1)return;o.splice(c,1),(t==="active"||t==="selected")&&u.toBack()}var v=s.drawShape(h,l,this.getOffscreenGroup());o.length?o.forEach(function(C){n.syncShapeStyle(u,v,C,null)}):this.syncShapeStyle(u,v,"reset",null),v.remove(!0);var g={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",g),(0,_b.propagationDelegate)(this.shape,"statechange",g)},r.prototype.clearStates=function(){var t=this,e=this.states;(0,f.each)(e,function(n){t.setState(n,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var t=this,e=t.shape,n=t.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return e&&(a=e.getCanvasBBox()),n&&n.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,n=t.geometry,a=t.shapeFactory,o=n.stateOption,s=a.defaultShapeType,l=a.theme[e]||a.theme[s];this.statesStyle=(0,f.deepMix)({},l,o)}return this.statesStyle},r.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),a=(0,f.get)(n,[t,"style"],{}),o=a[e]||a;return(0,f.isFunction)(o)?o(this):o},r.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},r.prototype.drawShape=function(t,e){e===void 0&&(e=!1);var n=this,a=n.shapeFactory,o=n.container,s=n.shapeType;if(this.shape=a.drawShape(s,t,o),this.shape){this.setShapeInfo(this.shape,t);var l=this.shape.cfg.name;l?(0,f.isString)(l)&&(this.shape.cfg.name=["element",l]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var u=e?"enter":"appear",h=this.getAnimateCfg(u);h&&Qo(this.shape,h,{coordinate:a.coordinate,toAttrs:(0,Z.__assign)({},this.shape.attr())})}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,e){var n=this;if(t.cfg.origin=e,t.cfg.element=this,t.isGroup()){var a=t.get("children");a.forEach(function(o){n.setShapeInfo(o,e)})}},r.prototype.syncShapeStyle=function(t,e,n,a,o){if(n===void 0&&(n=""),o===void 0&&(o=0),t.isGroup())for(var s=t.get("children"),l=e.get("children"),u=0;u<s.length;u++)this.syncShapeStyle(s[u],l[u],n,a,o+u);else{if(n&&n!=="reset"){var h=t.get("name");(0,f.isArray)(h)&&(h=h[1]);var c=this.getStateStyle(n,h||o);e.attr(c)}var v=_n(t,e);this.animate?a?Qo(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:v,shapeModel:this.model}):n?(t.stopAnimate(),t.animate(v,{duration:300})):t.attr(v):t.attr(v)}},r.prototype.getShapeType=function(t){var e=(0,f.get)(t,"shape");return(0,f.isArray)(e)?e[0]:e},r}(dr),Vc=Lb,Hc={},Wc={};function jc(i){return Hc[i.toLowerCase()]}function Ms(i,r){Hc[i.toLowerCase()]=r}function Uc(i){return Wc[i.toLowerCase()]}function Oo(i,r){Wc[i.toLowerCase()]=r}var pl=d(57350),Ib={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(i,r){var t=this.getShape(i);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(i){var r=this[i]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getMarker:function(i,r){var t=this.getShape(i);if(!t.getMarker){var e=this.defaultShapeType;t=this.getShape(e)}var n=this.theme,a=(0,f.get)(n,[i,"default"],{}),o=t.getMarker(r);return(0,f.deepMix)({},a,o)},drawShape:function(i,r,t){var e=this.getShape(i);return e.draw(r,t)}},Ob={coordinate:null,parsePath:function(i){var r=this.coordinate,t=(0,pl.parsePathString)(i);return r.isPolar?t=$e(r,t):t=Pe(r,t),t},parsePoint:function(i){var r=this.coordinate;return r.convert(i)},parsePoints:function(i){var r=this.coordinate;return i.map(function(t){return r.convert(t)})},draw:function(i,r){}},gf={};function go(i,r){var t=(0,f.upperFirst)(i),e=(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},Ib),r),{geometryType:i});return gf[t]=e,e}function vn(i,r,t){var e=(0,f.upperFirst)(i),n=gf[e],a=(0,Z.__assign)((0,Z.__assign)({},Ob),t);return n[r]=a,a}function yf(i){var r=(0,f.upperFirst)(i);return gf[r]}function kb(i,r,t){if(t===void 0&&(t={}),!r)return[i];var e=(0,f.groupToMap)(i,r),n=[];if(r.length===1&&t[r[0]])for(var a=t[r[0]],o=0,s=a;o<s.length;o++){var l=s[o],u=e["_"+l];u&&n.push(u)}else for(var h in e)if(e.hasOwnProperty(h)){var c=e[h];n.push(c)}return n}function Zc(i,r){return(0,f.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,f.isEqual)(i[t],r[t])})}function Es(i){return(0,f.isArray)(i)?i:i.split("*")}function Bb(i,r){var t=[];return(0,f.each)(r,function(e,n){var a=n.split(" ")[0];a===i&&t.push(e)}),t}var Db=function(i){(0,Z.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="base",e.attributes={},e.elements=[],e.elementsMap={},e.animateOption=!0,e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[],e.hasSorted=!1,e.isCoordinateChanged=!1;var n=t.container,a=t.labelsContainer,o=t.coordinate,s=t.data,l=t.sortable,u=l===void 0?!1:l,h=t.visible,c=h===void 0?!0:h,v=t.theme,g=t.scales,C=g===void 0?{}:g,F=t.scaleDefs,G=F===void 0?{}:F;return e.container=n,e.labelsContainer=a,e.coordinate=o,e.data=s,e.sortable=u,e.visible=c,e.userTheme=v,e.scales=C,e.scaleDefs=G,e}return r.prototype.position=function(t){var e=t;(0,f.isPlainObject)(t)||(e={fields:Es(t)});var n=(0,f.get)(e,"fields");return n.length===1&&(n.unshift("1"),(0,f.set)(e,"fields",n)),(0,f.set)(this.attributeOption,"position",e),this},r.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},r.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},r.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},r.prototype.adjust=function(t){var e=t;return((0,f.isString)(t)||(0,f.isPlainObject)(t))&&(e=[t]),(0,f.each)(e,function(n,a){(0,f.isObject)(n)||(e[a]={type:n})}),this.adjustOption=e,this},r.prototype.style=function(t,e){if((0,f.isString)(t)){var n=Es(t);this.styleOption={fields:n,callback:e}}else{var a=t,n=a.fields,o=a.callback,s=a.cfg;n||o||s?this.styleOption=t:this.styleOption={cfg:t}}return this},r.prototype.tooltip=function(t,e){if((0,f.isString)(t)){var n=Es(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,e,n){if((0,f.isString)(t)){var a={},o=Es(t);a.fields=o,(0,f.isFunction)(e)?a.callback=e:(0,f.isPlainObject)(e)&&(a.cfg=e),n&&(a.cfg=n),this.labelOption=a}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){t===void 0&&(t={});var e=t.data,n=t.isDataChanged,a=t.isCoordinateChanged,o=this,s=o.attributeOption,l=o.lastAttributeOption;(0,f.isEqual)(s,l)?e&&(n||!(0,f.isEqual)(e,this.data))?(this.setCfg(t),this.processData(e)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},r.prototype.paint=function(t){var e=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=(0,f.deepMix)({},Xc(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var n=this.getOffscreenGroup();n.clear();for(var a=this.beforeMappingData,o=this.beforeMapping(a),s=[],l=0,u=o.length;l<u;l++){var h=o[l],c=this.mapping(h);s.push(c),this.createElements(c,l,t)}if(this.canDoGroupAnimation(t)){var v=this.container,g=this.type,C=this.coordinate,F=(0,f.get)(this.animateOption,"appear"),G=this.getYScale(),V=C.convert({x:0,y:G.scale(this.getYMinValue())});Pb(v,F,g,C,V)}this.labelOption&&this.renderLabels((0,f.flatten)(s),t),this.dataArray=s,(0,f.each)(this.lastElementsMap,function(X){X.animate=e.animateOption,X.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=(0,Z.__assign)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,a=t.offscreenGroup;e&&e.clear(),n&&n.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,i.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return(0,f.each)(this.attributes,function(e){ue.includes(e.type)&&t.push(e)}),t},r.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&(0,f.isEmpty)(n.scales)&&(e=n.values[0]),e},r.prototype.getAttributeValues=function(t,e){for(var n=[],a=t.scales,o=0,s=a.length;o<s;o++){var l=a[o],u=l.field;l.isIdentity?n.push(l.values):n.push(e[u])}return t.mapping.apply(t,n)},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getShapeMarker=function(t,e){var n=this.getShapeFactory();return n.getMarker(t,e)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(e){return t(e)})},r.prototype.getElementId=function(t){t=(0,f.isArray)(t)?t[0]:t;var e=t[Kt];if(this.idFields.length){for(var n=e[this.idFields[0]],a=1;a<this.idFields.length;a++)n+="-"+e[this.idFields[a]];return n}var o=this.type,s=this.getXScale(),l=this.getYScale(),u=s.field||"x",h=l.field||"y",c=e[h],v;s.type==="identity"?v=s.values[0]:v=e[u];var g;o==="interval"||o==="schema"?g=v:o==="line"||o==="area"||o==="path"?g=o:g=v+"-"+c;for(var C=this.groupScales,a=0,F=C.length;a<F;a++){var G=C[a],V=G.field;g=g+"-"+e[V]}var X=this.getAdjust("dodge");if(X){var at=X.dodgeBy;at&&(g=g+"-"+e[at])}return this.getAdjust("jitter")&&(g=g+"-"+t.x+"-"+t.y),g},r.prototype.getScaleFields=function(){var t=[],e={},n=this,a=n.attributeOption,o=n.labelOption,s=n.tooltipOption;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];u.fields?$n(u.fields,t,e):u.values&&$n(u.values,t,e)}return o&&o.fields&&$n(o.fields,t,e),(0,f.isObject)(s)&&s.fields&&$n(s.fields,t,e),t},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.elements,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getGroupFields=function(){for(var t=[],e={},n=0,a=ue.length;n<a;n++){var o=ue[n],s=this.attributeOption[o];s&&s.fields&&$n(s.fields,t,e)}return t},r.prototype.getXYFields=function(){var t=this.attributeOption.position.fields,e=t[0],n=t[1];return[e,n]},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,a=0;a<t.length;a++){var o=t[a];o.sort(function(s,l){return e.translate(s[Kt][n])-e.translate(l[Kt][n])})}this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if(!!yf(t))return this.shapeFactory||(this.shapeFactory=(0,f.clone)(yf(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale(),a=this.normalizeValues(t[e.field],e),o;return n?o=this.normalizeValues(t[n.field],n):o=t.y?t.y:.1,{x:a,y:o,y0:n?n.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,e){e===void 0&&(e=!1);var n=this.container,a=this.getDrawCfg(t),o=this.getShapeFactory(),s=new Vc({shapeFactory:o,container:n,offscreenGroup:this.getOffscreenGroup()});return s.animate=this.animateOption,s.geometry=this,s.draw(a,e),s},r.prototype.getDrawCfg=function(t){var e=t[Kt],n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),n.shape=a;var o=this.theme.geometries[this.shapeType];n.defaultStyle=(0,f.get)(o,[a,"default"],{}).style;var s=this.styleOption;return s&&(n.style=this.getStyleCfg(s,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);for(var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,u=0,h=t.length;u<h;u++){var c=t[u],v=this.getElementId(c);s[v]&&(v=v+"-"+e+"-"+u);var g=o[v];if(!g)g=this.createElement(c,n);else{var C=this.getDrawCfg(c),F=g.getModel();(this.isCoordinateChanged||Zc(C,F))&&(g.animate=this.animateOption,g.update(C)),delete o[v]}l.push(g),s[v]=g}return l},r.prototype.getLabelType=function(){var t=this,e=t.labelOption,n=t.coordinate,a=t.type,o=n.type,s=(0,f.get)(e,["cfg","type"]);return s||(o==="polar"?s="polar":o==="theta"?s="pie":a==="interval"||a==="polygon"?s="interval":s="base"),s},r.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max,a;return e>=0?a=e:n<=0?a=n:a=0,a},r.prototype.createAttrOption=function(t,e,n){if((0,f.isNil)(e)||(0,f.isObject)(e))(0,f.isObject)(e)&&(0,f.isEqual)(Object.keys(e),["values"])?(0,f.set)(this.attributeOption,t,{fields:e.values}):(0,f.set)(this.attributeOption,t,e);else{var a={};(0,f.isNumber)(e)?a.values=[e]:a.fields=Es(e),n&&((0,f.isFunction)(n)?a.callback=n:a.values=n),(0,f.set)(this.attributeOption,t,a)}},r.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,a=e.attributeOption,o=e.theme,s=e.shapeType;this.groupScales=[];var l={},u=function(v){if(a.hasOwnProperty(v)){var g=a[v];if(!g)return{value:void 0};var C=(0,Z.__assign)({},g),F=C.callback,G=C.values,V=C.fields,X=V===void 0?[]:V,at=X.map(function(xt){var kt=t.scales[xt];return kt.isCategory&&!l[xt]&&ue.includes(v)&&(t.groupScales.push(kt),l[xt]=!0),kt});C.scales=at,v!=="position"&&at.length===1&&at[0].type==="identity"?C.values=at[0].values:!F&&!G&&(v==="size"?C.values=o.sizes:v==="shape"?C.values=o.shapes[s]||[]:v==="color"&&(at.length?C.values=at[0].values.length<=10?o.colors10:o.colors20:C.values=o.colors10));var st=(0,zr.getAttribute)(v);n[v]=new st(C)}};for(var h in a){var c=u(h);if(typeof c=="object")return c.value}},r.prototype.processData=function(t){this.hasSorted=!1;for(var e=this.getAttribute("position").scales,n=e.filter(function(xt){return xt.isCategory}),a=this.groupData(t),o=[],s=0,l=a.length;s<l;s++){for(var u=a[s],h=[],c=0,v=u.length;c<v;c++){var g=u[c],C={};for(var F in g)C[F]=g[F];C[Kt]=g;for(var G=0,V=n;G<V.length;G++){var X=V[G],at=X.field;C[at]=X.translate(C[at])}h.push(C)}o.push(h)}var st=this.adjustData(o);return this.beforeMappingData=st,st},r.prototype.adjustData=function(t){var e=this.adjustOption,n=t;if(e)for(var a=this.getXScale(),o=this.getYScale(),s=a.field,l=o?o.field:null,u=0,h=e.length;u<h;u++){var c=e[u],v=(0,Z.__assign)({xField:s,yField:l},c),g=c.type;if(g==="dodge"){var C=[];if(a.isCategory||a.type==="identity")C.push("x");else if(!o)C.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");v.adjustNames=C,v.dodgeRatio=this.theme.columnWidthRatio}else if(g==="stack"){var F=this.coordinate;if(!o){v.height=F.getHeight();var G=this.getDefaultValue("size")||3;v.size=G}!F.isTransposed&&(0,f.isNil)(v.reverseOrder)&&(v.reverseOrder=!0)}var V=Cs(g),X=new V(v);n=X.process(n),this.adjusts[g]=X}return n},r.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,a={},o=[],s=0;s<e.length;s++){var l=e[s],u=l.field;o.push(u),(0,f.get)(n,[u,"values"])&&(a[u]=n[u].values)}return kb(t,o,a)},r.prototype.updateStackRange=function(t,e){for(var n=(0,f.flatten)(e),a=t.field,o=t.min,s=t.max,l=0;l<n.length;l++){var u=n[l],h=Math.min.apply(null,u[a]),c=Math.max.apply(null,u[a]);h<o&&(o=h),c>s&&(s=c)}var v=this.scaleDefs,g={};o<t.min&&!(0,f.get)(v,[a,"min"])&&(g.min=o),s>t.max&&!(0,f.get)(v,[a,"max"])&&(g.max=s),t.change(g)},r.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,a=e.length;n<a;n++){var o=e[n];this.generateShapePoints(o);var s=e[n+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return e},r.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),l=n?this.getAttributeValues(n,o):null,u=e.getShapePoints(l,s);o.points=u}},r.prototype.normalizeValues=function(t,e){var n=[];if((0,f.isArray)(t))for(var a=0;a<t.length;a++){var o=t[a];n.push(e.scale(o))}else n=e.scale(t);return n},r.prototype.mapping=function(t){for(var e=this.attributes,n=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[Kt],points:o.points,nextPoints:o.nextPoints};for(var l in e)if(e.hasOwnProperty(l)){var u=e[l],h=u.names,c=this.getAttributeValues(u,o);if(h.length>1)for(var v=0;v<c.length;v+=1){var g=c[v],C=h[v];s[C]=(0,f.isArray)(g)&&g.length===1?g[0]:g}else s[h[0]]=c.length===1?c[0]:c}this.convertPoint(s),n.push(s)}return n},r.prototype.convertPoint=function(t){var e=t.x,n=t.y,a,o,s,l=this.coordinate;if((0,f.isArray)(e)&&(0,f.isArray)(n)){a=[],o=[];for(var u=0,h=0,c=e.length,v=n.length;u<c&&h<v;u+=1,h+=1)s=l.convert({x:e[u],y:n[h]}),a.push(s.x),o.push(s.y)}else if((0,f.isArray)(n)){o=[];for(var g=0;g<n.length;g++){var C=n[g];s=l.convert({x:e,y:C}),a&&a!==s.x?((0,f.isArray)(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if((0,f.isArray)(e)){a=[];for(var g=0;g<e.length;g++){var F=e[g];s=l.convert({x:F,y:n}),o&&o!==s.y?((0,f.isArray)(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var G=l.convert({x:e,y:n});a=G.x,o=G.y}t.x=a,t.y=o},r.prototype.getStyleCfg=function(t,e){var n=t.fields,a=n===void 0?[]:n,o=t.callback,s=t.cfg;if(s)return s;var l=a.map(function(u){return e[u]});return o.apply(void 0,l)},r.prototype.setCfg=function(t){var e=this,n=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;n&&(this.coordinate=n),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],(0,f.each)(s,function(l,u){l&&l.key&&e.idFields.push(u)})),o&&(this.theme=this.userTheme?(0,f.deepMix)({},o,this.userTheme):o)},r.prototype.renderLabels=function(t,e){e===void 0&&(e=!1);var n=this.geometryLabel;if(!n){var a=this.getLabelType(),o=jc(a);n=new o(this),this.geometryLabel=n}n.render(t,e);var s=n.labelsRenderer.shapesMap;(0,f.each)(this.elementsMap,function(l,u){var h=Bb(u,s);if(h.length){l.labelShape=h;for(var c=0;c<h.length;c++)for(var v=h[c],g=v.getChildren(),C=0;C<g.length;C++){var F=g[C];F.cfg.name=["element","label"],F.cfg.element=l}}})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&((0,f.get)(this.animateOption,"appear")===void 0||(0,f.get)(this.animateOption,"appear")&&(0,f.get)(this.animateOption,["appear","animation"])===void 0)},r}(dr),no=Db,gl=dn.transform;function mf(i,r,t){var e=gl(i.getMatrix(),[["t",r,t]]);i.setMatrix(e)}function Kc(i,r){var t=i.attr(),e=t.x,n=t.y,a=gl(i.getMatrix(),[["t",-e,-n],["r",r],["t",e,n]]);i.setMatrix(a)}function LY(){return[1,0,0,0,1,0,0,0,1]}function Fb(i,r){var t=i.getBBox(),e=(t.minX+t.maxX)/2,n=(t.minY+t.maxY)/2;i.applyToMatrix([e,n,1]);var a=gl(i.getMatrix(),[["t",-e,-n],["s",r,r],["t",e,n]]);i.setMatrix(a)}var Rb=function(){function i(r){this.shapesMap={},this.lastShapesMap={};var t=r.layout,e=r.container;this.layout=t,this.container=e}return i.prototype.render=function(r,t,e){var n=this;e===void 0&&(e=!1),this.shapesMap={};var a=this.container,o=this.createOffscreenGroup();if(r.length){for(var s=0,l=r;s<l.length;s++){var u=l[s];u&&this.renderLabel(u,o)}this.doLayout(r,t),this.renderLabelLine(r),this.adjustLabel(r)}var h=this.lastShapesMap,c=this.shapesMap;(0,f.each)(c,function(v,g){if(v.destroyed)delete c[g];else{if(h[g]){var C=v.get("data"),F=v.get("origin"),G=v.get("coordinate"),V=h[g],X=v.get("animateCfg");V.set("data",C),V.set("origin",F),V.set("animateCfg",X),V.set("coordinate",G);var at=(0,f.get)(X,"update"),st=V.getChildren();v.getChildren().map(function(kt,Gt){var Wt=st[Gt];Wt.set("data",C),Wt.set("origin",F),Wt.set("animateCfg",X),Wt.set("coordinate",G);var Yt=_n(Wt,kt);at?Qo(Wt,at,{toAttrs:Yt,coordinate:G}):Wt.attr(Yt)}),n.shapesMap[g]=V}else{a.add(v);var xt=(0,f.get)(v.get("animateCfg"),e?"enter":"appear");xt&&Qo(v,xt,{toAttrs:(0,Z.__assign)({},v.attr()),coordinate:v.get("coordinate")})}delete h[g]}}),(0,f.each)(h,function(v){var g=(0,f.get)(v.get("animateCfg"),"leave");g?Qo(v,g,{toAttrs:null,coordinate:v.get("coordinate")}):v.remove(!0)}),this.lastShapesMap=c,o.destroy()},i.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},i.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},i.prototype.renderLabel=function(r,t){var e=r.id,n=r.data,a=r.mappingData,o=r.coordinate,s=r.animate,l=r.content,u={id:e,data:n,origin:a,coordinate:o},h=t.addGroup((0,Z.__assign)({name:"label",animateCfg:this.animate===!1||s===null||s===!1?!1:(0,f.deepMix)({},this.animate,s)},u)),c;if(l.isGroup&&l.isGroup()||l.isShape&&l.isShape()){var v=l.getCanvasBBox(),g=v.width,C=v.height,F=(0,f.get)(r,"textAlign","left"),G=r.x,V=r.y-C/2;F==="center"?G=G-g/2:(F==="right"||F==="end")&&(G=G-g),mf(l,G,V),c=l,h.add(l)}else c=h.addShape("text",(0,Z.__assign)({attrs:(0,Z.__assign)({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:(0,f.get)(r,"textBaseline","middle"),text:r.content},r.style)},u));r.rotate&&Kc(c,r.rotate),this.shapesMap[e]=h},i.prototype.doLayout=function(r,t){var e=this;if(this.layout){var n=(0,f.isArray)(this.layout)?this.layout:[this.layout];(0,f.each)(n,function(a){var o=Uc((0,f.get)(a,"type",""));if(o){var s=[],l=[];(0,f.each)(e.shapesMap,function(u,h){s.push(u),l.push(t[h])}),o(r,s,l,e.region,a.cfg)}})}},i.prototype.renderLabelLine=function(r){var t=this;(0,f.each)(r,function(e){var n=(0,f.get)(e,"coordinate");if(!(!e||!n)){var a=n.getCenter(),o=n.getRadius();if(!!e.labelLine){var s=(0,f.get)(e,"labelLine",{}),l=e.id,u=s.path;if(!u){var h=xn(a.x,a.y,o,e.angle);u=[["M",h.x,h.y],["L",e.x,e.y]]}var c=t.shapesMap[l];c.destroyed||c.addShape("path",{capture:!1,attrs:(0,Z.__assign)({path:u,stroke:e.color?e.color:(0,f.get)(e,["style","fill"],"#000"),fill:null},s.style),id:l,origin:e.mappingData,data:e.data,coordinate:e.coordinate})}}})},i.prototype.createOffscreenGroup=function(){var r=this.container,t=r.getGroupBase(),e=new t({});return e},i.prototype.adjustLabel=function(r){var t=this;(0,f.each)(r,function(e){if(e){var n=e.id,a=t.shapesMap[n];if(!a.destroyed){var o=a.find(function(s){return s.get("type")==="text"});o&&(e.offsetX&&o.attr("x",o.attr("x")+e.offsetX),e.offsetY&&o.attr("y",o.attr("y")+e.offsetY))}}})},i}(),Nb=Rb;function Yb(i){var r=0;return(0,f.each)(i,function(t){r+=t}),r/i.length}var Gb=function(){function i(r){this.geometry=r}return i.prototype.getLabelItems=function(r){var t=this,e=[],n=this.getLabelCfgs(r);return(0,f.each)(r,function(a,o){var s=n[o];if(!s||(0,f.isNil)(a.x)||(0,f.isNil)(a.y)){e.push(null);return}var l=(0,f.isArray)(s.content)?s.content:[s.content];s.content=l;var u=l.length;(0,f.each)(l,function(h,c){if((0,f.isNil)(h)||h===""){e.push(null);return}var v=(0,Z.__assign)((0,Z.__assign)({},s),t.getLabelPoint(s,a,c));v.textAlign||(v.textAlign=t.getLabelAlign(v,c,u)),v.offset<=0&&(v.labelLine=null),e.push(v)})}),e},i.prototype.render=function(r,t){t===void 0&&(t=!1);var e=this.getLabelItems(r),n=this.getLabelsRenderer(),a=this.getGeometryShapes();n.render(e,a,t)},i.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},i.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},i.prototype.getCoordinate=function(){return this.geometry.coordinate},i.prototype.getDefaultLabelCfg=function(){return(0,f.get)(this.geometry.theme,"labels",{})},i.prototype.setLabelPosition=function(r,t,e,n){},i.prototype.getDefaultOffset=function(r){var t=this.getCoordinate(),e=this.getOffsetVector(r);return t.isTransposed?e[0]:e[1]},i.prototype.getLabelOffset=function(r,t,e){var n=this.getDefaultOffset(r.offset),a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",l=o?1:-1,u={x:0,y:0};return t>0||e===1?u[s]=n*l:u[s]=n*l*-1,u},i.prototype.getLabelPoint=function(r,t,e){var n=this.getCoordinate(),a=r.content.length;function o(F,G){var V=F;return(0,f.isArray)(V)&&(r.content.length===1?V.length<=2?V=V[F.length-1]:V=Yb(V):V=V[G]),V}var s={content:r.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"};if(t&&this.geometry.type==="polygon"){var l=ai(t.x,t.y);s.x=l[0],s.y=l[1]}else s.x=o(t.x,e),s.y=o(t.y,e);var u=(0,f.isArray)(t.shape)?t.shape[0]:t.shape;if(u==="funnel"||u==="pyramid"){var h=(0,f.get)(t,"nextPoints"),c=(0,f.get)(t,"points");if(h){var v=n.convert(c[1]),g=n.convert(h[1]);s.x=(v.x+g.x)/2,s.y=(v.y+g.y)/2}else if(u==="pyramid"){var v=n.convert(c[1]),g=n.convert(c[2]);s.x=(v.x+g.x)/2,s.y=(v.y+g.y)/2}}r.position&&this.setLabelPosition(s,t,e,r.position);var C=this.getLabelOffset(r,e,a);return s.start={x:s.x,y:s.y},s.x+=C.x,s.y+=C.y,s.color=t.color,s},i.prototype.getLabelAlign=function(r,t,e){var n="center",a=this.getCoordinate();if(a.isTransposed){var o=this.getDefaultOffset(r.offset);o<0?n="right":o===0?n="center":n="left",e>1&&t===0&&(n==="right"?n="left":n==="left"&&(n="right"))}return n},i.prototype.getLabelId=function(r){var t=this.geometry,e=t.type,n=t.getXScale(),a=t.getYScale(),o=r[Kt],s=t.getElementId(r);return e==="line"||e==="area"?s+=" "+o[n.field]:e==="path"&&(s+=" "+o[n.field]+"-"+o[a.field]),s},i.prototype.getLabelsRenderer=function(){var r=this.geometry,t=r.labelsContainer,e=r.labelOption,n=r.canvasRegion,a=r.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new Nb({container:t,layout:(0,f.get)(e,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=n,s.animate=a?Xc("label",o):!1,s},i.prototype.getLabelCfgs=function(r){var t=this,e=this.geometry,n=this.getDefaultLabelCfg(),a=e.type,o=e.theme,s=e.labelOption,l=e.scales,u=e.coordinate,h=s,c=h.fields,v=h.callback,g=h.cfg,C=c.map(function(G){return l[G]}),F=[];return(0,f.each)(r,function(G,V){var X=G[Kt],at=t.getLabelText(X,C),st;if(v){var xt=c.map(function(Wt){return X[Wt]});if(st=v.apply(void 0,xt),(0,f.isNil)(st)){F.push(null);return}}var kt=(0,Z.__assign)((0,Z.__assign)({id:t.getLabelId(G),data:X,mappingData:G,coordinate:u},g),st),Gt=kt.content;(0,f.isFunction)(Gt)?kt.content=Gt(X,G,V):(0,f.isUndefined)(Gt)&&(kt.content=at[0]),(0,f.isFunction)(kt.position)&&(kt.position=kt.position(X,G,V)),a==="polygon"||kt.offset<0&&!["line","point","path"].includes(a)?kt=(0,f.deepMix)({},n,o.innerLabels,kt):kt=(0,f.deepMix)({},n,o.labels,kt),F.push(kt)}),F},i.prototype.getLabelText=function(r,t){var e=[];return(0,f.each)(t,function(n){var a=r[n.field];(0,f.isArray)(a)?a=a.map(function(o){return n.getText(o)}):a=n.getText(a),(0,f.isNil)(a)||a===""?e.push(null):e.push(a)}),e},i.prototype.getOffsetVector=function(r){r===void 0&&(r=0);var t=this.getCoordinate();return t.isTransposed?t.applyMatrix(r,0):t.applyMatrix(0,r)},i.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return(0,f.each)(r.elementsMap,function(e,n){t[n]=e.shape}),(0,f.each)(r.getOffscreenGroup().getChildren(),function(e){var n=r.getElementId(e.get("origin").mappingData);t[n]=e}),t},i}(),yl=Gb,zb=d(61102),Xb="4.0.15",ko={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},kn={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Aa=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Vb=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Hb={backgroundColor:"#141414",brandColor:Aa[0],paletteQualitative10:Aa,paletteQualitative20:Vb,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:kn[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:kn[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:kn[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:kn[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:kn[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:kn[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:kn[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Aa[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:kn[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:kn[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:kn[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:ko[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:ko[25],annotationArcBorderColor:kn[15],annotationArcBorder:.5,annotationLineBorderColor:kn[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:kn[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:ko[95],annotationTextBorder:1.5,annotationRegionFillColor:kn[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:kn[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:kn[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:kn[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:ko[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:kn[25],pointFillColor:Aa[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:ko[100],pointBorderOpacity:1,pointActiveBorderColor:kn[100],pointSelectedBorder:2,pointSelectedBorderColor:kn[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Aa[0],hollowPointBorderOpacity:.95,hollowPointFillColor:ko[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:kn[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:kn[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Aa[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Aa[0],areaFillOpacity:.25,areaActiveFillColor:Aa[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Aa[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Aa[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:kn[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:kn[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Aa[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:kn[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:kn[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Aa[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:ko[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:kn[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:kn[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},Ar=d(70655),Ii=d(73890),mn=d(21830),ml=d(46812),Oi=d(66631),Cn=d(27154),Wb=d(9217),jb=d(5253),IY=d(39984),Ub=d(98229),Zb=d(35755);function Kb(){return window?window.devicePixelRatio:1}function $c(i,r,t,e){var n=i-t,a=r-e;return Math.sqrt(n*n+a*a)}function Bo(i,r,t,e,n,a){return n>=i&&n<=i+t&&a>=r&&a<=r+e}function xf(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function $b(i,r){return!i||!r?i||r:{minX:Math.min(i.minX,r.minX),minY:Math.min(i.minY,r.minY),maxX:Math.max(i.maxX,r.maxX),maxY:Math.max(i.maxY,r.maxY)}}function Qc(i,r){return i[0]===r[0]&&i[1]===r[1]}var OY=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,kY=/[^\s\,]+/gi,Qb=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Jb=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,qb=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Jc=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function qc(i,r){var t=i.match(Jc);(0,Cn.default)(t,function(e){var n=e.split(":");r.addColorStop(n[0],n[1])})}function tw(i,r,t){var e=Qb.exec(t),n=parseFloat(e[1])%360*(Math.PI/180),a=e[2],o=r.getBBox(),s,l;n>=0&&n<1/2*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):1/2*Math.PI<=n&&n<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=n&&n<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var u=Math.tan(n),h=u*u,c=(l.x-s.x+u*(l.y-s.y))/(h+1)+s.x,v=u*(l.x-s.x+u*(l.y-s.y))/(h+1)+s.y,g=i.createLinearGradient(s.x,s.y,c,v);return qc(a,g),g}function ew(i,r,t){var e=Jb.exec(t),n=parseFloat(e[1]),a=parseFloat(e[2]),o=parseFloat(e[3]),s=e[4];if(o===0){var l=s.match(Jc);return l[l.length-1].split(":")[1]}var u=r.getBBox(),h=u.maxX-u.minX,c=u.maxY-u.minY,v=Math.sqrt(h*h+c*c)/2,g=i.createRadialGradient(u.minX+h*n,u.minY+c*a,0,u.minX+h/2,u.minY+c/2,o*v);return qc(s,g),g}function rw(i,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var e,n,a=qb.exec(t),o=a[1],s=a[2];function l(){e=i.createPattern(n,o),r.set("pattern",e),r.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return n=new Image,s.match(/^data:/i)||(n.crossOrigin="Anonymous"),n.src=s,n.complete?l():(n.onload=l,n.src=n.src),e}function nw(i,r,t){if((0,mn.default)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return tw(i,r,t);if(t[0]==="r")return ew(i,r,t);if(t[0]==="p")return rw(i,r,t)}return t}}function iw(i){var r=0,t=0,e=0,n=0;return(0,Oi.default)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,[r,t,e,n]}function xl(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function bf(i,r){return xl(i)*xl(r)?(i[0]*r[0]+i[1]*r[1])/(xl(i)*xl(r)):1}function tv(i,r){return(i[0]*r[1]<i[1]*r[0]?-1:1)*Math.acos(bf(i,r))}function ev(i,r){var t=r[1],e=r[2],n=(0,jb.default)((0,Wb.default)(r[3]),Math.PI*2),a=r[4],o=r[5],s=i[0],l=i[1],u=r[6],h=r[7],c=Math.cos(n)*(s-u)/2+Math.sin(n)*(l-h)/2,v=-1*Math.sin(n)*(s-u)/2+Math.cos(n)*(l-h)/2,g=c*c/(t*t)+v*v/(e*e);g>1&&(t*=Math.sqrt(g),e*=Math.sqrt(g));var C=t*t*(v*v)+e*e*(c*c),F=C?Math.sqrt((t*t*(e*e)-C)/C):1;a===o&&(F*=-1),isNaN(F)&&(F=0);var G=e?F*t*v/e:0,V=t?F*-e*c/t:0,X=(s+u)/2+Math.cos(n)*G-Math.sin(n)*V,at=(l+h)/2+Math.sin(n)*G+Math.cos(n)*V,st=[(c-G)/t,(v-V)/e],xt=[(-1*c-G)/t,(-1*v-V)/e],kt=tv([1,0],st),Gt=tv(st,xt);return bf(st,xt)<=-1&&(Gt=Math.PI),bf(st,xt)>=1&&(Gt=0),o===0&&Gt>0&&(Gt=Gt-2*Math.PI),o===1&&Gt<0&&(Gt=Gt+2*Math.PI),{cx:X,cy:at,rx:Qc(i,[u,h])?0:t,ry:Qc(i,[u,h])?0:e,startAngle:kt,endAngle:kt+Gt,xRotation:n,arcFlag:a,sweepFlag:o}}var bl=Math.sin,wl=Math.cos,wf=Math.atan2,Sl=Math.PI;function rv(i,r,t,e,n,a,o){var s=r.stroke,l=r.lineWidth,u=t-n,h=e-a,c=wf(h,u),v=new Pf({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*wl(Sl/6)+","+10*bl(Sl/6)+" L0,0 L"+10*wl(Sl/6)+",-"+10*bl(Sl/6),stroke:s,lineWidth:l}});v.translate(n,a),v.rotateAtPoint(n,a,c),i.set(o?"startArrowShape":"endArrowShape",v)}function nv(i,r,t,e,n,a,o){var s=r.startArrow,l=r.endArrow,u=r.stroke,h=r.lineWidth,c=o?s:l,v=c.d,g=c.fill,C=c.stroke,F=c.lineWidth,G=(0,Ar.__rest)(c,["d","fill","stroke","lineWidth"]),V=t-n,X=e-a,at=wf(X,V);v&&(n=n-wl(at)*v,a=a-bl(at)*v);var st=new Pf({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:(0,Ar.__assign)((0,Ar.__assign)({},G),{stroke:C||u,lineWidth:F||h,fill:g})});st.translate(n,a),st.rotateAtPoint(n,a,at),i.set(o?"startArrowShape":"endArrowShape",st)}function Do(i,r,t,e,n){var a=wf(e-r,t-i);return{dx:wl(a)*n,dy:bl(a)*n}}function Sf(i,r,t,e,n,a){typeof r.startArrow=="object"?nv(i,r,t,e,n,a,!0):r.startArrow?rv(i,r,t,e,n,a,!0):i.set("startArrowShape",null)}function Cf(i,r,t,e,n,a){typeof r.endArrow=="object"?nv(i,r,t,e,n,a,!1):r.endArrow?rv(i,r,t,e,n,a,!1):i.set("startArrowShape",null)}var iv={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Jo(i,r){var t=r.attr();for(var e in t){var n=t[e],a=iv[e]?iv[e]:e;a==="matrix"&&n?i.transform(n[0],n[1],n[3],n[4],n[6],n[7]):a==="lineDash"&&i.setLineDash?(0,f.isArray)(n)&&i.setLineDash(n):(a==="strokeStyle"||a==="fillStyle"?n=nw(i,r,n):a==="globalAlpha"&&(n=n*i.globalAlpha),i[a]=n)}}function Mf(i,r,t){for(var e=0;e<r.length;e++){var n=r[e];n.get("visible")?n.draw(i,t):n.skipDraw()}}function av(i,r,t,e){var n=t.path,a=t.startArrow,o=t.endArrow,s=[0,0],l=[0,0],u={dx:0,dy:0};r.beginPath();for(var h=0;h<n.length;h++){var c=n[h],v=c[0];if(h===0&&a&&a.d){var g=i.getStartTangent();u=Do(g[0][0],g[0][1],g[1][0],g[1][1],a.d)}else if(h===n.length-2&&n[h+1][0]==="Z"&&o&&o.d){var C=n[h+1];if(C[0]==="Z"){var g=i.getEndTangent();u=Do(g[0][0],g[0][1],g[1][0],g[1][1],o.d)}}else if(h===n.length-1&&o&&o.d&&n[0]!=="Z"){var g=i.getEndTangent();u=Do(g[0][0],g[0][1],g[1][0],g[1][1],o.d)}var F=u.dx,G=u.dy;switch(v){case"M":r.moveTo(c[1]-F,c[2]-G),l=[c[1],c[2]];break;case"L":r.lineTo(c[1]-F,c[2]-G);break;case"Q":r.quadraticCurveTo(c[1],c[2],c[3]-F,c[4]-G);break;case"C":r.bezierCurveTo(c[1],c[2],c[3],c[4],c[5]-F,c[6]-G);break;case"A":{var V=void 0;e?(V=e[h],V||(V=ev(s,c),e[h]=V)):V=ev(s,c);var X=V.cx,at=V.cy,st=V.rx,xt=V.ry,kt=V.startAngle,Gt=V.endAngle,Wt=V.xRotation,Yt=V.sweepFlag;if(r.ellipse)r.ellipse(X,at,st,xt,Wt,kt,Gt,1-Yt);else{var ie=st>xt?st:xt,de=st>xt?1:st/xt,he=st>xt?xt/st:1;r.translate(X,at),r.rotate(Wt),r.scale(de,he),r.arc(0,0,ie,kt,Gt,1-Yt),r.scale(1/de,1/he),r.rotate(-Wt),r.translate(-X,-at)}break}case"Z":r.closePath();break;default:break}if(v==="Z")s=l;else{var Ee=c.length;s=[c[Ee-2],c[Ee-1]]}}}function ov(i,r){var t=i.get("canvas");t&&(r==="remove"&&(i._cacheCanvasBBox=i.get("cacheCanvasBBox")),i.get("hasChanged")||(t.refreshElement(i,r,t),t.get("autoDraw")&&t.draw(),i.set("hasChanged",!0)))}function aw(i){var r;if(i.destroyed)r=i._cacheCanvasBBox;else{var t=i.get("cacheCanvasBBox"),e=t&&!!(t.width&&t.height),n=i.getCanvasBBox(),a=n&&!!(n.width&&n.height);e&&a?r=$b(t,n):e?r=t:a&&(r=n)}return r}function sv(i){if(!i.length)return null;var r=[],t=[],e=[],n=[];return(0,f.each)(i,function(a){var o=aw(a);o&&(r.push(o.minX),t.push(o.minY),e.push(o.maxX),n.push(o.maxY))}),{minX:Math.min.apply(null,r),minY:Math.min.apply(null,t),maxX:Math.max.apply(null,e),maxY:Math.max.apply(null,n)}}function ow(i,r){return!i||!r||!xf(i,r)?null:{minX:Math.max(i.minX,r.minX),minY:Math.max(i.minY,r.minY),maxX:Math.min(i.maxX,r.maxX),maxY:Math.min(i.maxY,r.maxY)}}var lv=d(41056),sw=function(i){(0,Ar.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.onCanvasChange=function(t){ov(this,t)},r.prototype.getShapeBase=function(){return b},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,e){e&&(t.save(),Jo(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getChildren();n.length&&(t.save(),Jo(t,this),this._applyClip(t,this.getClip()),Mf(t,n,e),t.restore()),this.set("cacheCanvasBBox",this.getCanvasBBox()),this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}(ur.AbstractGroup),Ef=sw,lw=function(i){(0,Ar.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ar.__assign)((0,Ar.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return b},r.prototype.getGroupBase=function(){return Ef},r.prototype.onCanvasChange=function(t){ov(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=(0,lv.b)(t),a=n(this),o=e/2,s=a.x-o,l=a.y-o,u=a.x+a.width+o,h=a.y+a.height+o;return{x:s,minX:s,y:l,minY:l,width:a.width+e,height:a.height+e,maxX:u,maxY:h}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,e){e&&(t.save(),Jo(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getClip();if(e){var a=n?sv([this,n]):this.getCanvasBBox();if(!xf(e,a)){this.set("hasChanged",!1);return}}t.save(),Jo(t,this),this._applyClip(t,this.getClip()),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype._afterDraw=function(){var t=this.getCanvasBBox(),e=this.getCanvas();if(this.set("cacheCanvasBBox",t),e){var n=e.getViewRange();this.set("isInView",xf(t,n))}this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isFill()&&(!(0,Ii.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&n>0&&(!(0,Ii.default)(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,e){var n=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}(ur.AbstractShape),Da=lw,uw=function(i){(0,Ar.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ar.__assign)((0,Ar.__assign)({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,u=s.y,h=s.r,c=o/2,v=$c(l,u,t,e);return a&&n?v<=h+c:a?v<=h:n?v>=h-c&&v<=h+c:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.r;t.beginPath(),t.arc(n,a,o,0,Math.PI*2,!1),t.closePath()},r}(Da),fw=uw;function Cl(i,r,t,e){return i/(t*t)+r/(e*e)}var hw=function(i){(0,Ar.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ar.__assign)((0,Ar.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=o/2,u=s.x,h=s.y,c=s.rx,v=s.ry,g=(t-u)*(t-u),C=(e-h)*(e-h);return a&&n?Cl(g,C,c+l,v+l)<=1:a?Cl(g,C,c,v)<=1:n?Cl(g,C,c-l,v-l)>=1&&Cl(g,C,c+l,v+l)<=1:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.rx,s=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,a,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,u=o>s?1:o/s,h=o>s?s/o:1;t.save(),t.translate(n,a),t.scale(u,h),t.arc(0,0,l,0,Math.PI*2),t.restore(),t.closePath()}},r}(Da),cw=hw;function uv(i){return i instanceof HTMLElement&&(0,mn.default)(i.nodeName)&&i.nodeName.toUpperCase()==="CANVAS"}var vw=function(i){(0,Ar.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ar.__assign)((0,Ar.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var e=this,n=this.attrs;if((0,mn.default)(t)){var a=new Image;a.onload=function(){if(e.destroyed)return!1;e.attr("img",a),e.set("loading",!1),e._afterLoading();var o=e.get("callback");o&&o.call(e)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):uv(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="img"&&this._setImage(e)},r.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.sx,u=e.sy,h=e.swidth,c=e.sheight,v=e.img;(v instanceof Image||uv(v))&&(!(0,Ii.default)(l)&&!(0,Ii.default)(u)&&!(0,Ii.default)(h)&&!(0,Ii.default)(c)?t.drawImage(v,l,u,h,c,n,a,o,s):t.drawImage(v,n,a,o,s))},r}(Da),dw=vw,io=d(68366);function yo(i,r,t,e,n,a,o){var s=Math.min(i,t),l=Math.max(i,t),u=Math.min(r,e),h=Math.max(r,e),c=n/2;return a>=s-c&&a<=l+c&&o>=u-c&&o<=h+c?io.default.pointToLine(i,r,t,e,a,o)<=n/2:!1}var pw=function(i){(0,Ar.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ar.__assign)((0,Ar.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2,s=t.startArrow,l=t.endArrow;s&&Sf(this,t,a,o,e,n),l&&Cf(this,t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr(),l=s.x1,u=s.y1,h=s.x2,c=s.y2;return yo(l,u,h,c,o,t,e)},r.prototype.createPath=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2,l=e.startArrow,u=e.endArrow,h={dx:0,dy:0},c={dx:0,dy:0};l&&l.d&&(h=Do(n,a,o,s,e.startArrow.d)),u&&u.d&&(c=Do(n,a,o,s,e.endArrow.d)),t.beginPath(),t.moveTo(n+h.dx,a+h.dy),t.lineTo(o-c.dx,s-c.dy)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return io.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return io.default.pointAt(n,a,o,s,t)},r}(Da),gw=pw,fv=d(74479),yw={circle:function(i,r,t){return[["M",i-t,r],["A",t,t,0,1,0,i+t,r],["A",t,t,0,1,0,i-t,r]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["Z"]]},"triangle-down":function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},mw=function(i){(0,Ar.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return(0,f.isNil)(t.r)?t.radius:t.r},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.symbol||"circle",o=this._getR(t),s,l;return(0,ml.default)(a)?(s=a,l=s(e,n,o),l=(0,fv.Z)(l)):(s=r.Symbols[a],l=s(e,n,o)),s?l:(console.warn(a+" marker is not supported."),null)},r.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");av(this,t,{path:e},n)},r.Symbols=yw,r}(Da),xw=mw,Ml=d(15730),bw=d(49274),ww=d(26632);function hv(i,r,t){var e=(0,ww.getOffScreenContext)();return i.createPath(e),e.isPointInPath(r,t)}var Sw=1e-6;function Af(i){return Math.abs(i)<Sw?0:i<0?-1:1}function Cw(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}function cv(i,r,t){var e=!1,n=i.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=i[a],s=i[(a+1)%n];if(Cw(o,s,[r,t]))return!0;Af(o[1]-t)>0!=Af(s[1]-t)>0&&Af(r-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(e=!e)}return e}var Mw=d(2879);function As(i,r,t,e,n,a,o,s){var l=(Math.atan2(s-r,o-i)+Math.PI*2)%(Math.PI*2);if(l<e||l>n)return!1;var u={x:i+t*Math.cos(l),y:r+t*Math.sin(l)};return $c(u.x,u.y,o,s)<=a/2}var Tf=d(35600),vv=d(77160);function Ew(i){for(var r=!1,t=i.length,e=0;e<t;e++){var n=i[e],a=n[0];if(a==="C"||a==="A"||a==="Q"){r=!0;break}}return r}function Aw(i,r,t,e){for(var n=!1,a=r/2,o=0;o<i.length;o++){var s=i[o],l=s.currentPoint,u=s.params,h=s.prePoint,c=s.box;if(!(c&&!Bo(c.x-a,c.y-a,c.width+r,c.height+r,t,e))){switch(s.command){case"L":case"Z":n=yo(h[0],h[1],l[0],l[1],r,t,e);break;case"Q":var v=Mw.default.pointDistance(h[0],h[1],u[1],u[2],u[3],u[4],t,e);n=v<=r/2;break;case"C":var g=Ml.default.pointDistance(h[0],h[1],u[1],u[2],u[3],u[4],u[5],u[6],t,e);n=g<=r/2;break;case"A":var C=s.arcParams,F=C.cx,G=C.cy,V=C.rx,X=C.ry,at=C.startAngle,st=C.endAngle,xt=C.xRotation,kt=[t,e,1],Gt=[1,0,0,0,1,0,0,0,1],Wt=V>X?V:X,Yt=V>X?1:V/X,ie=V>X?X/V:1;Tf.translate(Gt,Gt,[-F,-G]),Tf.rotate(Gt,Gt,-xt),Tf.scale(Gt,Gt,[1/Yt,1/ie]),vv.transformMat3(kt,kt,Gt),n=As(0,0,Wt,at,st,r,kt[0],kt[1]);break;default:break}if(n)break}}return n}function Tw(i){for(var r=i.length,t=[],e=[],n=[],a=0;a<r;a++){var o=i[a],s=o[0];s==="M"?(n.length&&(e.push(n),n=[]),n.push([o[1],o[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([o[1],o[2]])}return n.length>0&&e.push(n),{polygons:t,polylines:e}}var El=(0,Ar.__assign)({hasArc:Ew,extractPolygons:Tw,isPointInStroke:Aw},ur.PathUtil);function dv(i,r,t){for(var e=!1,n=0;n<i.length;n++){var a=i[n];if(e=cv(a,r,t),e)break}return e}var Pw=function(i){(0,Ar.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ar.__assign)((0,Ar.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="path"&&this._setPathArr(e),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=(0,fv.Z)(t);var e=El.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,bw.default)(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var a=this.getStartTangent();Sf(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(n){var a=this.getEndTangent();Cf(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.getSegments(),l=this.get("hasArc"),u=!1;if(n&&(u=El.isPointInStroke(s,o,t,e)),!u&&a)if(l)u=hv(this,t,e);else{var h=this.attr("path"),c=El.extractPolygons(h);u=dv(c.polygons,t,e)||dv(c.polylines,t,e)}return u},r.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");av(this,t,e,n)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,f.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var e=this.get("tCache");e||(this._calculateCurve(),this._setTcache(),e=this.get("tCache"));var n,a,o=this.get("curve");if(!e||e.length===0)return o?{x:o[0][1],y:o[0][2]}:null;(0,f.each)(e,function(h,c){t>=h[0]&&t<=h[1]&&(n=(t-h[0])/(h[1]-h[0]),a=c)});var s=o[a];if((0,f.isNil)(s)||(0,f.isNil)(a))return null;var l=s.length,u=o[a+1];return Ml.default.pointAt(s[l-2],s[l-1],u[1],u[2],u[3],u[4],u[5],u[6],n)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",El.pathToCurve(t))},r.prototype._setTcache=function(){var t=0,e=0,n=[],a,o,s,l,u=this.get("curve");if(!!u){if((0,f.each)(u,function(h,c){s=u[c+1],l=h.length,s&&(t+=Ml.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,f.each)(u,function(h,c){s=u[c+1],l=h.length,s&&(a=[],a[0]=e/t,o=Ml.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),e+=o||0,a[1]=e/t,n.push(a))}),this.set("tCache",n)}},r.prototype.getStartTangent=function(){var t=this.getSegments(),e;if(t.length>1){var n=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;e=[],o?(e.push([n[0]-o[0],n[1]-o[1]]),e.push([n[0],n[1]])):(e.push([a[0],a[1]]),e.push([n[0],n[1]]))}return e},r.prototype.getEndTangent=function(){var t=this.getSegments(),e=t.length,n;if(e>1){var a=t[e-2].currentPoint,o=t[e-1].currentPoint,s=t[e-1].endTangent;n=[],s?(n.push([o[0]-s[0],o[1]-s[1]]),n.push([o[0],o[1]])):(n.push([a[0],a[1]]),n.push([o[0],o[1]]))}return n},r}(Da),Pf=Pw;function pv(i,r,t,e,n){var a=i.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=i[o][0],l=i[o][1],u=i[o+1][0],h=i[o+1][1];if(yo(s,l,u,h,r,t,e))return!0}if(n){var c=i[0],v=i[a-1];if(yo(c[0],c[1],v[0],v[1],r,t,e))return!0}return!1}var _w=function(i){(0,Ar.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr().points,l=!1;return n&&(l=pv(s,o,t,e,!0)),!l&&a&&(l=cv(s,t,e)),l},r.prototype.createPath=function(t){var e=this.attr(),n=e.points;if(!(n.length<2)){t.beginPath();for(var a=0;a<n.length;a++){var o=n[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},r}(Da),Lw=_w,gv=d(65386),Iw=function(i){(0,Ar.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ar.__assign)((0,Ar.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,a=e.startArrow,o=e.endArrow,s=n.length,l=n[0][0],u=n[0][1],h=n[s-1][0],c=n[s-1][1];a&&Sf(this,t,n[1][0],n[1][1],l,u),o&&Cf(this,t,n[s-2][0],n[s-2][1],h,c)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr().points;return pv(s,o,t,e,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var e=this.attr(),n=e.points,a=e.startArrow,o=e.endArrow,s=n.length;if(!(n.length<2)){var l=n[0][0],u=n[0][1],h=n[s-1][0],c=n[s-1][1];if(a&&a.d){var v=Do(l,u,n[1][0],n[1][1],a.d);l+=v.dx,u+=v.dy}if(o&&o.d){var v=Do(n[s-2][0],n[s-2][1],h,c,o.d);h-=v.dx,c-=v.dy}t.beginPath(),t.moveTo(l,u);for(var g=0;g<s-1;g++){var C=n[g];t.lineTo(C[0],C[1])}t.lineTo(h,c)}},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,f.isNil)(e)?(this.set("totalLength",gv.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),io.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(l,u){t[u+1]&&(o=[],o[0]=n/e,s=io.default.length(l[0],l[1],t[u+1][0],t[u+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(Da),Ow=Iw;function kw(i,r,t,e,n,a,o){var s=n/2;return Bo(i-s,r-s,t,n,a,o)||Bo(i+t-s,r-s,n,e,a,o)||Bo(i+s,r+e-s,t,n,a,o)||Bo(i-s,r+s,n,e,a,o)}function Bw(i,r,t,e,n,a,o,s){var l=a/2;return yo(i+n,r,i+t-n,r,a,o,s)||yo(i+t,r+n,i+t,r+e-n,a,o,s)||yo(i+t-n,r+e,i+n,r+e,a,o,s)||yo(i,r+e-n,i,r+n,a,o,s)||As(i+t-n,r+n,n,1.5*Math.PI,2*Math.PI,a,o,s)||As(i+t-n,r+e-n,n,0,.5*Math.PI,a,o,s)||As(i+n,r+e-n,n,.5*Math.PI,Math.PI,a,o,s)||As(i+n,r+n,n,Math.PI,1.5*Math.PI,a,o,s)}var Dw=function(i){(0,Ar.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ar.__assign)((0,Ar.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,u=s.y,h=s.width,c=s.height,v=s.radius;if(v){var C=!1;return n&&(C=Bw(l,u,h,c,v,o,t,e)),!C&&a&&(C=hv(this,t,e)),C}else{var g=o/2;if(a&&n)return Bo(l-g,u-g,h+g,c+g,t,e);if(a)return Bo(l,u,h,c,t,e);if(n)return kw(l,u,h,c,o,t,e)}},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.radius;if(t.beginPath(),l===0)t.rect(n,a,o,s);else{var u=iw(l),h=u[0],c=u[1],v=u[2],g=u[3];t.moveTo(n+h,a),t.lineTo(n+o-c,a),c!==0&&t.arc(n+o-c,a+c,c,-Math.PI/2,0),t.lineTo(n+o,a+s-v),v!==0&&t.arc(n+o-v,a+s-v,v,0,Math.PI/2),t.lineTo(n+g,a+s),g!==0&&t.arc(n+g,a+s-g,g,Math.PI/2,Math.PI),t.lineTo(n,a+h),h!==0&&t.arc(n+h,a+h,h,Math.PI,Math.PI*1.5),t.closePath()}},r}(Da),Fw=Dw,yv=d(8914),Rw=function(i){(0,Ar.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ar.__assign)((0,Ar.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,yv.assembleFont)(t)},r.prototype._setText=function(t){var e=null;(0,mn.default)(t)&&t.indexOf(`
`)!==-1&&(e=t.split(`
`)),this.set("textArr",e)},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(e)},r.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=t.fontSize*1;return e?e-n:n*.14},r.prototype._drawTextArr=function(t,e,n){var a=this.attrs,o=a.textBaseline,s=a.x,l=a.y,u=a.fontSize*1,h=this._getSpaceingY(),c=(0,yv.getTextHeight)(a.text,a.fontSize,a.lineHeight),v;(0,Cn.default)(e,function(g,C){v=l+C*(h+u)-c+u,o==="middle"&&(v+=c-u-(c-u)/2),o==="top"&&(v+=c-u),n?t.fillText(g,s,v):t.strokeText(g,s,v)})},r.prototype._drawText=function(t,e){var n=this.attr(),a=n.x,o=n.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,e);else{var l=n.text;e?t.fillText(l,a,o):t.strokeText(l,a,o)}},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isStroke()&&n>0&&(!(0,Ii.default)(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!(0,Ii.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}(Da),Nw=Rw,Yw=d(4555),BY=d(85424),Gw=d(22487),mv=d(6052);function zw(i,r){if(r){var t=(0,mv.U_)(r);return(0,mv.rG)(t,i)}return i}function xv(i,r,t){var e=i.getTotalMatrix();if(e){var n=zw([r,t,1],e),a=n[0],o=n[1];return[a,o]}return[r,t]}function bv(i,r,t){if(i.isCanvas&&i.isCanvas())return!0;if(!(0,Gw.isAllowCapture)(i)&&i.cfg.isInView===!1)return!1;if(i.cfg.clipShape){var e=xv(i,r,t),n=e[0],a=e[1];if(i.isClipped(n,a))return!1}var o=i.cfg.cacheCanvasBBox;return o||(o=i.getCanvasBBox()),r>=o.minX&&r<=o.maxX&&t>=o.minY&&t<=o.maxY}function wv(i,r,t){if(!bv(i,r,t))return null;for(var e=null,n=i.getChildren(),a=n.length,o=a-1;o>=0;o--){var s=n[o];if(s.isGroup())e=wv(s,r,t);else if(bv(s,r,t)){var l=s,u=xv(s,r,t),h=u[0],c=u[1];l.isInShape(h,c)&&(e=s)}if(e)break}return e}var Xw=function(i){(0,Ar.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return b},r.prototype.getGroupBase=function(){return Ef},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Kb();return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},r.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},r.prototype.setDOMSize=function(t,e){i.prototype.setDOMSize.call(this,t,e);var n=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*e,o>1&&n.scale(o,o)},r.prototype.clear=function(){i.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),e=this.get("el");t.clearRect(0,0,e.width,e.height)},r.prototype.getShape=function(t,e){return this.get("quickHit")?wv(this,t,e):i.prototype.getShape.call(this,t,e,null)},r.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),e=this.getViewRange(),n;if(t.length&&t[0]===this)n=e;else if(n=sv(t),n){n.minX=Math.floor(n.minX),n.minY=Math.floor(n.minY),n.maxX=Math.ceil(n.maxX),n.maxY=Math.ceil(n.maxY);var a=this.get("clipView");a&&(n=ow(n,e))}return n},r.prototype.refreshElement=function(t){var e=this.get("refreshElements");e.push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,Zb.default)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),Jo(t,this),Mf(t,n),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),a=this._getRefreshRegion();a&&(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),Jo(t,this),Mf(t,n,a),t.restore()),(0,Cn.default)(e,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=(0,Ub.default)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},r.prototype.skipDraw=function(){},r}(ur.AbstractCanvas),Sv=Xw,Vw=d(71270),Hw=Vw.version,_f={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},pn={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},DY=null;function Ta(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Cv(i){var r=_f[i.type],t=i.getParent();if(!r)throw new Error("the type "+i.type+" is not supported by svg");var e=Ta(r);if(i.get("id")&&(e.id=i.get("id")),i.set("el",e),i.set("attrs",{}),t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(e)}return e}function Mv(i,r){var t=i.get("el"),e=(0,f.toArray)(t.children).sort(r),n=document.createDocumentFragment();e.forEach(function(a){n.appendChild(a)}),t.appendChild(n)}function Ww(i,r){var t=i.parentNode,e=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),n=e[r],a=e.indexOf(i);if(n){if(a>r)t.insertBefore(i,n);else if(a<r){var o=e[r+1];o?t.insertBefore(i,o):t.appendChild(i)}}else t.appendChild(i)}function jw(i,r){var t=i.cfg.el,e=i.attr(),n={dx:e.shadowOffsetX,dy:e.shadowOffsetY,blur:e.shadowBlur,color:e.shadowColor};if(!n.dx&&!n.dy&&!n.blur&&!n.color)t.removeAttribute("filter");else{var a=r.find("filter",n);a||(a=r.addShadow(n)),t.setAttribute("filter","url(#"+a+")")}}function Ts(i){var r=i.attr().matrix;if(r){for(var t=i.cfg.el,e=[],n=0;n<9;n+=3)e.push(r[n]+","+r[n+1]);e=e.join(","),e.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+e+")"):console.warn("invalid matrix:",r)}}function Ps(i,r){var t=i.getClip(),e=i.get("el");if(!t)e.removeAttribute("clip-path");else if(t&&!e.hasAttribute("clip-path")){Cv(t),t.createPath(r);var n=r.addClip(t);e.setAttribute("clip-path","url(#"+n+")")}}function Ev(i,r){r.forEach(function(t){t.draw(i)})}function Av(i,r){var t=i.get("canvas");if(t&&t.get("autoDraw")){var e=t.get("context"),n=i.getParent(),a=n?n.getChildren():[t],o=i.get("el");if(r==="remove"){var s=i.get("isClipShape");if(s){var l=o&&o.parentNode,u=l&&l.parentNode;l&&u&&u.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(r==="show")o.setAttribute("visibility","visible");else if(r==="hide")o.setAttribute("visibility","hidden");else if(r==="zIndex")Ww(o,a.indexOf(i));else if(r==="sort"){var h=i.get("children");h&&h.length&&Mv(i,function(c,v){return h.indexOf(c)-h.indexOf(v)?1:0})}else r==="clear"?o&&(o.innerHTML=""):r==="matrix"?Ts(i):r==="clip"?Ps(i,e):r==="attr"||r==="add"&&i.draw(e)}}var Uw=function(i){(0,Ar.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isEntityGroup=function(){return!0},r.prototype.createDom=function(){var t=Ta("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.createPath(n,t)}},r.prototype.onCanvasChange=function(t){Av(this,t)},r.prototype.getShapeBase=function(){return D},r.prototype.getGroupBase=function(){return r},r.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),Ps(this,t),this.createPath(t),e.length&&Ev(t,e))},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){pn[s]&&a.setAttribute(pn[s],o)}),Ts(this)},r}(ur.AbstractGroup),Lf=Uw,Zw=function(i){(0,Ar.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ar.__assign)((0,Ar.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.draw(n,t)}},r.prototype.getShapeBase=function(){return D},r.prototype.getGroupBase=function(){return Lf},r.prototype.onCanvasChange=function(t){Av(this,t)},r.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=(0,lv.b)(this.get("type"));n&&(e=n(this))}if(e){var a=e.x,o=e.y,s=e.width,l=e.height,u=this.getHitLineWidth(),h=u/2,c=a-h,v=o-h,g=a+s+h,C=o+l+h;return{x:c,y:v,minX:c,minY:v,maxX:g,maxY:C,width:s+u,height:l+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},r.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},r.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},r.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||Cv(this),Ps(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},r.prototype.createPath=function(t,e){},r.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),a=n.fill,o=n.fillStyle,s=n.stroke,l=n.strokeStyle,u=n.fillOpacity,h=n.strokeOpacity,c=n.lineWidth,v=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",a):"fillStyle"in n&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),u&&v.setAttribute(pn.fillOpacity,u)),this.canStroke&&c>0&&(e?"stroke"in n?this._setColor(t,"stroke",s):"strokeStyle"in n&&this._setColor(t,"stroke",l):this._setColor(t,"stroke",s||l),h&&v.setAttribute(pn.strokeOpacity,h),c&&v.setAttribute(pn.lineWidth,c))},r.prototype._setColor=function(t,e,n){var a=this.get("el");if(!n){a.setAttribute(pn[e],"none");return}if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=t.find("gradient",n);o||(o=t.addGradient(n)),a.setAttribute(pn[e],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=t.find("pattern",n);o||(o=t.addPattern(n)),a.setAttribute(pn[e],"url(#"+o+")")}else a.setAttribute(pn[e],n)},r.prototype.shadow=function(t,e){var n=this.attr(),a=e||n,o=a.shadowOffsetX,s=a.shadowOffsetY,l=a.shadowBlur,u=a.shadowColor;(o||s||l||u)&&jw(this,t)},r.prototype.transform=function(t){var e=this.attr(),n=(t||e).matrix;n&&Ts(this)},r.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},r.prototype.isPointInPath=function(t,e){var n=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,l=e+o.top,u=document.elementFromPoint(s,l);return!!(u&&u.isEqualNode(n))},r.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},r}(ur.AbstractShape),Pa=Zw,Kw=function(i){(0,Ar.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ar.__assign)((0,Ar.__assign)({},t),{x:0,y:0,r:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):pn[s]&&a.setAttribute(pn[s],o)})},r}(Pa),$w=Kw,Qw=function(i){(0,Ar.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){pn[s]&&a.setAttribute(pn[s],o)}),a.innerHTML=n.html},r}(Pa),Jw=Qw,qw=function(i){(0,Ar.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ar.__assign)((0,Ar.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):pn[s]&&a.setAttribute(pn[s],o)})},r}(Pa),tS=qw,eS=function(i){(0,Ar.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ar.__assign)((0,Ar.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(e||a,function(s,l){l==="img"?n._setImage(a.img):pn[l]&&o.setAttribute(pn[l],s)})},r.prototype.setAttr=function(t,e){this.attrs[t]=e,t==="img"&&this._setImage(e)},r.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if((0,f.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,f.isString)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",a.toDataURL())}},r}(Pa),rS=eS,nS=function(i){(0,Ar.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ar.__assign)((0,Ar.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var l=(0,f.isObject)(o)?t.addArrow(n,pn[s]):t.getDefaultArrow(n,pn[s]);a.setAttribute(pn[s],"url(#"+l+")")}else a.removeAttribute(pn[s]);else pn[s]&&a.setAttribute(pn[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return io.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return io.default.pointAt(n,a,o,s,t)},r}(Pa),iS=nS,Al={circle:function(i,r,t){return[["M",i,r],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["z"]]},triangleDown:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},Tv={get:function(i){return Al[i]},register:function(i,r){Al[i]=r},remove:function(i){delete Al[i]},getAll:function(){return Al}},aS=function(i){(0,Ar.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t){var e=this.get("el");e.setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var t=this._getPath();return(0,f.isArray)(t)?t.map(function(e){return e.join(" ")}).join(""):t},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return(0,f.isFunction)(o)?s=o:s=Tv.get(o),s?s(e,n,a):(console.warn(s+" symbol is not exist."),null)},r.symbolsFactory=Tv,r}(Pa),oS=aS,sS=function(i){(0,Ar.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ar.__assign)((0,Ar.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(e||a,function(s,l){if(l==="path"&&(0,f.isArray)(s))o.setAttribute("d",n._formatPath(s));else if(l==="startArrow"||l==="endArrow")if(s){var u=(0,f.isObject)(s)?t.addArrow(a,pn[l]):t.getDefaultArrow(a,pn[l]);o.setAttribute(pn[l],"url(#"+u+")")}else o.removeAttribute(pn[l]);else pn[l]&&o.setAttribute(pn[l],s)})},r.prototype._formatPath=function(t){var e=t.map(function(n){return n.join(" ")}).join("");return~e.indexOf("NaN")?"":e},r.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},r.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength(),a=e?e.getPointAtLength(t*n):null;return a?{x:a.x,y:a.y}:null},r}(Pa),lS=sS,uS=function(i){(0,Ar.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):pn[s]&&a.setAttribute(pn[s],o)})},r}(Pa),fS=uS,hS=function(i){(0,Ar.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ar.__assign)((0,Ar.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):pn[s]&&a.setAttribute(pn[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,f.isNil)(e)?(this.set("totalLength",gv.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),io.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(l,u){t[u+1]&&(o=[],o[0]=n/e,s=io.default.length(l[0],l[1],t[u+1][0],t[u+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(Pa),cS=hS,vS=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,dS=/[^\s\,]+/gi;function pS(i){var r=0,t=0,e=0,n=0;return(0,f.isArray)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,{r1:r,r2:t,r3:e,r4:n}}function FY(i){if(i=i||[],isArray(i))return i;if(isString(i))return i=i.match(vS),each(i,function(r,t){if(r=r.match(dS),r[0].length>1){var e=r[0].charAt(0);r.splice(1,0,r[0].substr(1)),r[0]=e}each(r,function(n,a){isNaN(n)||(r[a]=+n)}),i[t]=r}),i}var gS=function(i){(0,Ar.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ar.__assign)((0,Ar.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];(0,f.each)(e||a,function(u,h){l.indexOf(h)!==-1&&!s?(o.setAttribute("d",n._assembleRect(a)),s=!0):l.indexOf(h)===-1&&pn[h]&&o.setAttribute(pn[h],u)})},r.prototype._assembleRect=function(t){var e=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+e+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=pS(s);(0,f.isArray)(s)?s.length===1?l.r1=l.r2=l.r3=l.r4=s[0]:s.length===2?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):s.length===3?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s;var u=[["M "+(e+l.r1)+","+n],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]];return u.join(" ")},r}(Pa),yS=gS,mS=d(56463),Pv=.3,xS={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},bS={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},wS={left:"left",start:"left",center:"middle",right:"end",end:"end"},SS=function(i){(0,Ar.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ar.__assign)((0,Ar.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");this._setFont(),(0,f.each)(e||a,function(s,l){l==="text"?n._setText(""+s):l==="matrix"&&s?Ts(n):pn[l]&&o.setAttribute(pn[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},r.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,a=e.textAlign,o=(0,mS.detect)();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",bS[n]||"alphabetic"):t.setAttribute("alignment-baseline",xS[n]||"baseline"),t.setAttribute("text-anchor",wS[a]||"left")},r.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),a=n.x,o=n.textBaseline,s=o===void 0?"bottom":o;if(!t)e.innerHTML="";else if(~t.indexOf(`
`)){var l=t.split(`
`),u=l.length-1,h="";(0,f.each)(l,function(c,v){v===0?s==="alphabetic"?h+='<tspan x="'+a+'" dy="'+-u+'em">'+c+"</tspan>":s==="top"?h+='<tspan x="'+a+'" dy="0.9em">'+c+"</tspan>":s==="middle"?h+='<tspan x="'+a+'" dy="'+-(u-1)/2+'em">'+c+"</tspan>":s==="bottom"?h+='<tspan x="'+a+'" dy="-'+(u+Pv)+'em">'+c+"</tspan>":s==="hanging"&&(h+='<tspan x="'+a+'" dy="'+(-(u-1)-Pv)+'em">'+c+"</tspan>"):h+='<tspan x="'+a+'" dy="1em">'+c+"</tspan>"}),e.innerHTML=h}else e.innerHTML=t},r}(Pa),CS=SS,MS=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,ES=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,AS=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function _v(i){var r=i.match(AS);if(!r)return"";var t="";return r.sort(function(e,n){return e=e.split(":"),n=n.split(":"),Number(e[0])-Number(n[0])}),(0,f.each)(r,function(e){e=e.split(":"),t+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'}),t}function TS(i,r){var t=MS.exec(i),e=(0,f.mod)((0,f.toRadian)(parseFloat(t[1])),Math.PI*2),n=t[2],a,o;e>=0&&e<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=e&&e<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=e&&e<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(e),l=s*s,u=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,h=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;r.setAttribute("x1",a.x),r.setAttribute("y1",a.y),r.setAttribute("x2",u),r.setAttribute("y2",h),r.innerHTML=_v(n)}function PS(i,r){var t=ES.exec(i),e=parseFloat(t[1]),n=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];r.setAttribute("cx",e),r.setAttribute("cy",n),r.setAttribute("r",a),r.innerHTML=_v(o)}var _S=function(){function i(r){this.cfg={};var t=null,e=(0,f.uniqueId)("gradient_");return r.toLowerCase()[0]==="l"?(t=Ta("linearGradient"),TS(r,t)):(t=Ta("radialGradient"),PS(r,t)),t.setAttribute("id",e),this.el=t,this.id=e,this.cfg=r,this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),LS=_S,IS={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},OS={x:"-40%",y:"-40%",width:"200%",height:"200%"},kS=function(){function i(r){this.type="filter",this.cfg={},this.type="filter";var t=Ta("filter");return(0,f.each)(OS,function(e,n){t.setAttribute(n,e)}),this.el=t,this.id=(0,f.uniqueId)("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,t),this}return i.prototype.match=function(r,t){if(this.type!==r)return!1;var e=!0,n=this.cfg;return(0,f.each)(Object.keys(n),function(a){if(n[a]!==t[a])return e=!1,!1}),e},i.prototype.update=function(r,t){var e=this.cfg;return e[IS[r]]=t,this._parseShadow(e,this.el),this},i.prototype._parseShadow=function(r,t){var e=`<feDropShadow
      dx="`+(r.dx||0)+`"
      dy="`+(r.dy||0)+`"
      stdDeviation="`+(r.blur?r.blur/10:0)+`"
      flood-color="`+(r.color?r.color:"#000")+`"
      flood-opacity="`+(r.opacity?r.opacity:1)+`"
      />`;t.innerHTML=e},i}(),BS=kS,DS=function(){function i(r,t){this.cfg={};var e=Ta("marker"),n=(0,f.uniqueId)("marker_");e.setAttribute("id",n);var a=Ta("path");a.setAttribute("stroke",r.stroke||"none"),a.setAttribute("fill",r.fill||"none"),e.appendChild(a),e.setAttribute("overflow","visible"),e.setAttribute("orient","auto-start-reverse"),this.el=e,this.child=a,this.id=n;var o=r[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=r.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(r.lineWidth,a)),this}return i.prototype.match=function(){return!1},i.prototype._setDefaultPath=function(r,t){var e=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),e.setAttribute("refX",""+10*Math.cos(Math.PI/6)),e.setAttribute("refY",""+5)},i.prototype._setMarker=function(r,t){var e=this.el,n=this.cfg.path,a=this.cfg.d;(0,f.isArray)(n)&&(n=n.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",n),e.appendChild(t),a&&e.setAttribute("refX",""+a/r)},i.prototype.update=function(r){var t=this.child;t.attr?t.attr("fill",r):t.setAttribute("fill",r)},i}(),Lv=DS,FS=function(){function i(r){this.type="clip",this.cfg={};var t=Ta("clipPath");this.el=t,this.id=(0,f.uniqueId)("clip_"),t.id=this.id;var e=r.cfg.el;return t.appendChild(e),this.cfg=r,this}return i.prototype.match=function(){return!1},i.prototype.remove=function(){var r=this.el;r.parentNode.removeChild(r)},i}(),RS=FS,NS=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,YS=function(){function i(r){this.cfg={};var t=Ta("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var e=Ta("image");t.appendChild(e);var n=(0,f.uniqueId)("pattern_");t.id=n,this.el=t,this.id=n,this.cfg=r;var a=NS.exec(r),o=a[2];e.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function l(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?l():(s.onload=l,s.src=s.src),this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),GS=YS,zS=function(){function i(r){var t=Ta("defs"),e=(0,f.uniqueId)("defs_");t.id=e,r.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=r}return i.prototype.find=function(r,t){for(var e=this.children,n=null,a=0;a<e.length;a++)if(e[a].match(r,t)){n=e[a].id;break}return n},i.prototype.findById=function(r){for(var t=this.children,e=null,n=0;n<t.length;n++)if(t[n].id===r){e=t[n];break}return e},i.prototype.add=function(r){this.children.push(r),r.canvas=this.canvas,r.parent=this},i.prototype.getDefaultArrow=function(r,t){var e=r.stroke||r.strokeStyle;if(this.defaultArrow[e])return this.defaultArrow[e].id;var n=new Lv(r,t);return this.defaultArrow[e]=n,this.el.appendChild(n.el),this.add(n),n.id},i.prototype.addGradient=function(r){var t=new LS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addArrow=function(r,t){var e=new Lv(r,t);return this.el.appendChild(e.el),this.add(e),e.id},i.prototype.addShadow=function(r){var t=new BS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addPattern=function(r){var t=new GS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addClip=function(r){var t=new RS(r);return this.el.appendChild(t.el),this.add(t),t.id},i}(),XS=zS,VS=function(i){(0,Ar.__extends)(r,i);function r(t){return i.call(this,(0,Ar.__assign)((0,Ar.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return r.prototype.getShapeBase=function(){return D},r.prototype.getGroupBase=function(){return Lf},r.prototype.getShape=function(t,e,n){var a=n.target||n.srcElement;if(!_f[a.tagName]){for(var o=a.parentNode;o&&!_f[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},r.prototype.createDom=function(){var t=Ta("svg"),e=new XS(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},r.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&Mv(this,function(s,l){return a.indexOf(s)-a.indexOf(l)?1:0})}else if(t==="clear"){if(n){n.innerHTML="";var o=e.el;o.innerHTML="",n.appendChild(o)}}else t==="matrix"?Ts(this):t==="clip"?Ps(this,e):t==="changeSize"&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();Ps(this,t),e.length&&Ev(t,e)},r}(ur.AbstractCanvas),Iv=VS,HS=d(23231),WS=HS.version;function If(i){return i?!1:i==null||isNaN(i)}function Ov(i){if((0,f.isArray)(i))return If(i[1].y);var r=i.y;return(0,f.isArray)(r)?If(r[0]):If(r)}function Of(i,r,t){if(r===void 0&&(r=!1),t===void 0&&(t=!0),!i.length||i.length===1&&!t)return[];if(r){for(var e=[],n=0,a=i.length;n<a;n++){var o=i[n];Ov(o)||e.push(o)}return[e]}for(var s=[],l=[],n=0,a=i.length;n<a;n++){var o=i[n];Ov(o)?l.length&&(l.length===1&&!t||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function Ci(i,r,t,e){e===void 0&&(e="");var n=i.style,a=n===void 0?{}:n,o=i.defaultStyle,s=i.color,l=i.size,u=(0,Z.__assign)((0,Z.__assign)({},o),a);return s&&(r&&(a.stroke||(u.stroke=s)),t&&(a.fill||(u.fill=s))),e&&(0,f.isNil)(a[e])&&!(0,f.isNil)(l)&&(u[e]=l),u}function kf(i){var r=i.x,t=(0,f.isArray)(i.y)?i.y:[i.y];return t.map(function(e,n){return{x:(0,f.isArray)(r)?r[n]:r,y:e}})}var jS={line:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dot:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dash:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},smooth:function(i,r,t){return[["M",i-t,r],["A",t/2,t/2,0,1,1,i,r],["A",t/2,t/2,0,1,0,i+t,r]]},hv:function(i,r,t){return[["M",i-t-1,r-2.5],["L",i,r-2.5],["L",i,r+2.5],["L",i+t+1,r+2.5]]},vh:function(i,r,t){return[["M",i-t-1,r+2.5],["L",i,r+2.5],["L",i,r-2.5],["L",i+t+1,r-2.5]]},hvh:function(i,r,t){return[["M",i-(t+1),r+2.5],["L",i-t/2,r+2.5],["L",i-t/2,r-2.5],["L",i+t/2,r-2.5],["L",i+t/2,r+2.5],["L",i+t+1,r+2.5]]},vhv:function(i,r){return[["M",i-5,r+2.5],["L",i-5,r],["L",i,r],["L",i,r-3],["L",i,r+3],["L",i+6.5,r+3]]}};function kv(i,r){var t=i.color;return{symbol:jS[r],style:{lineWidth:2,r:6,stroke:t}}}function US(i,r,t){for(var e=i.isStack,n=i.connectNulls,a=i.isInCircle,o=i.showSinglePoint,s=Ci(i,!0,!1,"lineWidth"),l=Of(i.points,n,o),u=[],h=0,c=l.length;h<c;h++){var v=l[h];u=u.concat(KS(v,a,e,r,t,s))}return s.path=u,s}function Bf(i,r,t,e,n){if(i.length===1)return[["M",i[0].x,i[0].y-n.lineWidth/2],["L",i[0].x,i[0].y],["L",i[0].x,i[0].y+n.lineWidth/2]];var a;return t?(r&&i.length&&i.push({x:i[0].x,y:i[0].y}),a=ge(i,!1,e)):(a=ye(i,!1),r&&a.push(["Z"])),a}function ZS(i,r,t,e,n,a){var o=[],s=[];(0,f.each)(i,function(h){var c=kf(h);o.push(c[1]),s.push(c[0])});var l=Bf(o,r,e,n,a),u=Bf(s,r,e,n,a);return t?l:l.concat(u)}function KS(i,r,t,e,n,a){if(i.length){var o=i[0];return(0,f.isArray)(o.y)?ZS(i,r,t,e,n,a):Bf(i,r,e,n,a)}return[]}var RY=go("line",{defaultShapeType:"line"});(0,f.each)(["line","dot","dash","smooth"],function(i){vn("line",i,{draw:function(r,t){var e=i==="smooth",n;if(e){var a=this.coordinate,o=a.start,s=a.end;n=[[o.x,s.y],[s.x,o.y]]}var l=US(r,e,n),u=t.addShape({type:"path",attrs:l,name:"line"});return u},getMarker:function(r){return kv(r,i)}})});var NY=null,$S=function(i){(0,Z.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="path",e.shapeType="line";var n=t.connectNulls,a=n===void 0?!1:n,o=t.showSinglePoint,s=o===void 0?!0:o;return e.connectNulls=a,e.showSinglePoint=s,e}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,u=a.container,h=this.getElementId(t),c=this.getShapeInfo(t),v=o[h];if(v){var C=v.getModel();(this.isCoordinateChanged||Zc(C,c))&&(v.animate=this.animateOption,v.update(c)),delete o[h]}else{var g=this.getShapeFactory();v=new Vc({shapeFactory:g,container:u,offscreenGroup:this.getOffscreenGroup()}),v.geometry=this,v.animate=this.animateOption,v.draw(c,n)}return l.push(v),s[h]=v,l},r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push({x:s.x,y:s.y}),n.push(s[Kt])}return{points:e,data:n}},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),a=n.points,o=n.data;return e.mappingData=t,e.data=o,e.isStack=!!this.getAdjust("stack"),e.points=a,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},r}(no),Df=$S;function QS(i,r,t,e,n){var a=[];if(i.length){for(var o=[],s=[],l=0,u=i.length;l<u;l++){var h=i[l];o.push(h[1]),s.push(h[0])}s=s.reverse(),(0,f.each)([o,s],function(c,v){var g=[],C=e.parsePoints(c),F=C[0];o.length===1&&s.length===1?g=v===0?[["M",F.x-.5,F.y],["L",F.x+.5,F.y]]:[["L",F.x+.5,F.y],["L",F.x-.5,F.y]]:(r&&C.push({x:F.x,y:F.y}),t?g=ge(C,!1,n):g=ye(C,!1),v>0&&(g[0][0]="L")),a=a.concat(g)}),a.push(["Z"])}return a}function Tl(i,r,t,e,n){for(var a=Ci(i,r,!r,"lineWidth"),o=i.connectNulls,s=i.isInCircle,l=i.points,u=i.showSinglePoint,h=Of(l,o,u),c=[],v=0,g=h.length;v<g;v++){var C=h[v];c=c.concat(QS(C,s,t,e,n))}return a.path=c,a}function Bv(i){var r=i.start,t=i.end;return[[r.x,t.y],[t.x,r.y]]}var YY=go("area",{defaultShapeType:"area",getDefaultPoints:function(i){var r=i.x,t=i.y0,e=(0,f.isArray)(i.y)?i.y:[t,i.y];return e.map(function(n){return{x:r,y:n}})}});vn("area","area",{draw:function(i,r){var t=Tl(i,!1,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}});var GY=null,JS=function(i){(0,Z.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0;var n=t.startOnZero,a=n===void 0?!0:n,o=t.sortable,s=o===void 0?!0:o,l=t.showSinglePoint,u=l===void 0?!1:l;return e.startOnZero=a,e.sortable=s,e.showSinglePoint=u,e}return r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push(s.points),n.push(s[Kt])}return{points:e,data:n}},r.prototype.getYMinValue=function(){if(this.startOnZero)return i.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},r}(Df),qS=JS,zY=go("edge",{defaultShapeType:"line",getDefaultPoints:function(i){return kf(i)}});vn("edge","line",{draw:function(i,r){var t=Ci(i,!0,!1,"lineWidth"),e=ye(this.parsePoints(i.points),this.coordinate.isPolar);return r.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:e})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var XY=null,t2=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return r}(no),e2=t2,r2=d(55223),n2=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this.prepareRange(t),o=this.prepareSize(),s=(0,f.get)(this.styleOption,["style","shadowBlur"]);return(0,f.isNumber)(s)||(s=o/2),this.prepareGreyScaleBlurredCircle(o,s),this.drawWithRange(t,a,o,s),null},r.prototype.clear=function(){i.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[Kt][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,f.isNumber)(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),a=t+e,o=n.getContext("2d");n.width=n.height=a*2,o.clearRect(0,0,n.width,n.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=e,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,Math.PI*2,!0),o.closePath(),o.fill()},r.prototype.drawWithRange=function(t,e,n,a){var o=this.coordinate,s=o.start,l=o.end,u=this.coordinate.getWidth(),h=this.coordinate.getHeight(),c=this.getAttribute("color"),v=c.getFields()[0];this.clearShadowCanvasCtx();var g=this.getShadowCanvasCtx();e&&(t=t.filter(function(Wt){return Wt[Kt][v]<=e[1]&&Wt[Kt][v]>=e[0]}));for(var C=this.scales[v],F=0,G=t;F<G.length;F++){var V=G[F],X=this.getDrawCfg(V),at=X.x,st=X.y,xt=C.scale(V[Kt][v]);this.drawGrayScaleBlurredCircle(at-s.x,st-l.y,n+a,xt,g)}var kt=g.getImageData(0,0,u,h);this.clearShadowCanvasCtx(),this.colorize(kt),g.putImageData(kt,0,0);var Gt=this.getImageShape();Gt.attr("x",s.x),Gt.attr("y",l.y),Gt.attr("width",u),Gt.attr("height",h),Gt.attr("img",g.canvas),Gt.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if((0,f.isNumber)(s)){var l=a[s]?a[s]:r2.default.rgb2arr(e.gradient(s/256));n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;return t=e.addShape({type:"image",attrs:{}}),this.imageShape=t,t},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,Z.__assign)((0,Z.__assign)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[Kt]})},r}(no),i2=n2;function Ff(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,f.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,u;(0,f.isArray)(t)?(l=t[0],u=t[1]):(l=t-a/2,u=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return r?h.push({x:u,y:(s+o)/2}):h.push({x:u,y:s},{x:u,y:o}),h}function Rf(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}function Dv(i,r,t){var e=[];return(0,f.isNil)(r)?t?e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[2].x,i[2].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),e}var VY=go("interval",{defaultShapeType:"rect",getDefaultPoints:function(i){return Ff(i)}});vn("interval","rect",{draw:function(i,r){var t=Ci(i,!1,!0),e=this.parsePath(Rf(i.points)),n=r.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});var HY=null;function a2(i,r){var t=i.length,e=i;(0,f.isString)(e[0])&&(e=i.map(function(s){return r.translate(s)}));for(var n=e[1]-e[0],a=2;a<t;a++){var o=e[a]-e[a-1];n>o&&(n=o)}return n}function o2(i,r){if(r){var t=(0,f.flatten)(i),e=(0,f.valuesOfKey)(t,r);return e.length}return i.length}function Fv(i){var r=i.theme,t=i.coordinate,e=i.getXScale(),n=e.values,a=i.beforeMappingData,o=n.length;if(e.isLinear&&n.length>1){n.sort();var s=a2(n,e);o=(e.max-e.min)/s,n.length>o&&(o=n.length)}var l=e.range,u=1/o,h=1;if(t.isPolar?t.isTransposed&&o>1?h=r.multiplePieWidthRatio:h=r.roseWidthRatio:(e.isLinear&&(u*=l[1]-l[0]),h=r.columnWidthRatio),u*=h,i.getAdjust("dodge")){var c=i.getAdjust("dodge"),v=c.dodgeBy,g=o2(a,v);u=u/g}var C=r.maxColumnWidth,F=r.minColumnWidth,G=Wn(i.coordinate);if(C){var V=C/G;u>V&&(u=V)}if(F){var X=F/G;u<X&&(u=X)}return u}var s2=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="interval",t.shapeType="interval",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=Wn(o);n=n/s}else this.defaultSize||(this.defaultSize=Fv(this)),n=this.defaultSize;return e.size=n,e},r.prototype.adjustScale=function(){i.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,t.values),t.max)});else{var e=this.scaleDefs,n=t.field,a=t.min,o=t.max,s=t.type;s!=="time"&&(a>0&&!(0,f.get)(e,[n,"min"])&&t.change({min:0}),o<=0&&!(0,f.get)(e,[n,"max"])&&t.change({max:0}))}},r}(no),l2=s2,u2=function(i){(0,Z.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="line";var n=t.sortable,a=n===void 0?!0:n;return e.sortable=a,e}return r}(Df),f2=u2,Fo={hexagon:function(i,r,t){var e=t/2*Math.sqrt(3);return[["M",i,r-t],["L",i+e,r-t/2],["L",i+e,r+t/2],["L",i,r+t],["L",i-e,r+t/2],["L",i-e,r-t/2],["Z"]]},bowtie:function(i,r,t){var e=t-1.5;return[["M",i-t,r-e],["L",i+t,r+e],["L",i+t,r-e],["L",i-t,r+e],["Z"]]},cross:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r+t],["M",i+t,r-t],["L",i-t,r+t]]},tick:function(i,r,t){return[["M",i-t/2,r-t],["L",i+t/2,r-t],["M",i,r-t],["L",i,r+t],["M",i-t/2,r+t],["L",i+t/2,r+t]]},plus:function(i,r,t){return[["M",i-t,r],["L",i+t,r],["M",i,r-t],["L",i,r+t]]},hyphen:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},line:function(i,r,t){return[["M",i,r-t],["L",i,r+t]]}},Rv=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],h2=["cross","tick","plus","hyphen","line"];function Nf(i,r,t,e,n){var a=Ci(r,n,!n,"r"),o=i.parsePoints(r.points),s=o[0];if(r.isStack)s=o[1];else if(o.length>1){for(var l=t.addGroup(),u=0,h=o;u<h.length;u++){var c=h[u];l.addShape({type:"marker",attrs:(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},a),{symbol:Fo[e]||e}),c)})}return l}return t.addShape({type:"marker",attrs:(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},a),{symbol:Fo[e]||e}),s)})}var WY=go("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(i){return kf(i)}});(0,f.each)(Rv,function(i){vn("point","hollow-"+i,{draw:function(r,t){return Nf(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:Fo[i]||i,style:{r:4.5,stroke:t,fill:null}}}})});var jY=null,c2=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return r.prototype.getDrawCfg=function(t){var e=i.prototype.getDrawCfg.call(this,t);return(0,Z.__assign)((0,Z.__assign)({},e),{isStack:!!this.getAdjust("stack")})},r}(no),v2=c2;function d2(i){for(var r=i[0],t=1,e=[["M",r.x,r.y]];t<i.length;){var n=i[t];(n.x!==i[t-1].x||n.y!==i[t-1].y)&&(e.push(["L",n.x,n.y]),n.x===r.x&&n.y===r.y&&t<i.length-1&&(r=i[t+1],e.push(["Z"]),e.push(["M",r.x,r.y]),t++)),t++}return(0,f.isEqual)((0,f.last)(e),r)||e.push(["L",r.x,r.y]),e.push(["Z"]),e}var UY=go("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(i){var r=[];return(0,f.each)(i.x,function(t,e){var n=i.y[e];r.push({x:t,y:n})}),r}});vn("polygon","polygon",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=Ci(i,!0,!0),e=this.parsePath(d2(i.points));return r.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:e}),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var ZY=null,p2=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n=e.x,a=e.y,o;if(!((0,f.isArray)(n)&&(0,f.isArray)(a))){var s=this.getXScale(),l=this.getYScale(),u=s.values.length,h=l.values.length,c=.5*1/u,v=.5*1/h;s.isCategory&&l.isCategory?(n=[n-c,n-c,n+c,n+c],a=[a-v,a+v,a+v,a-v]):(0,f.isArray)(n)?(o=n,n=[o[0],o[0],o[1],o[1]],a=[a-v/2,a+v/2,a+v/2,a-v/2]):(0,f.isArray)(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],n=[n-c/2,n-c/2,n+c/2,n+c/2]),e.x=n,e.y=a}return e},r}(no),g2=p2,KY=go("schema",{defaultShapeType:""}),$Y=null,y2=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=Wn(o);n=n/s}else this.defaultSize||(this.defaultSize=Fv(this)),n=this.defaultSize;return e.size=n,e},r}(no),m2=y2;vn("area","line",{draw:function(i,r){var t=Tl(i,!0,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}}),vn("area","smooth",{draw:function(i,r){var t=this.coordinate,e=Tl(i,!1,!0,this,Bv(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}}),vn("area","smooth-line",{draw:function(i,r){var t=this.coordinate,e=Tl(i,!0,!0,this,Bv(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}});function Yf(i,r){var t=[];t.push({x:i.x,y:i.y*1/2+r.y*1/2}),t.push({x:r.x,y:i.y*1/2+r.y*1/2}),t.push(r);var e=["C"];return(0,f.each)(t,function(n){e.push(n.x,n.y)}),e}function Gf(i,r){var t=[];t.push({x:r.x,y:r.y}),t.push(i);var e=["Q"];return(0,f.each)(t,function(n){e.push(n.x,n.y)}),e}function x2(i,r,t){var e=Gf(r,t),n=[["M",i.x,i.y]];return n.push(e),n}function b2(i,r){var t=Gf(i[1],r),e=Gf(i[3],r),n=[["M",i[0].x,i[0].y]];return n.push(e),n.push(["L",i[3].x,i[3].y]),n.push(["L",i[2].x,i[2].y]),n.push(t),n.push(["L",i[1].x,i[1].y]),n.push(["L",i[0].x,i[0].y]),n.push(["Z"]),n}vn("edge","arc",{draw:function(i,r){var t=Ci(i,!0,!1,"lineWidth"),e=i.points,n=e.length>2?"weight":"normal",a;if(i.isInCircle){var o={x:0,y:1};return n==="normal"?a=x2(e[0],e[1],o):(t.fill=t.stroke,a=b2(e,o)),a=this.parsePath(a),r.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:a})})}else{if(n==="normal")return e=this.parsePoints(e),a=_i((e[1].x+e[0].x)/2,e[0].y,Math.abs(e[1].x-e[0].x)/2,Math.PI,Math.PI*2),r.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:a})});var s=Yf(e[1],e[3]),l=Yf(e[2],e[0]);return a=[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],s,["L",e[3].x,e[3].y],["L",e[2].x,e[2].y],l,["Z"]],a=this.parsePath(a),t.fill=t.stroke,r.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:a})})}},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});function w2(i,r){var t=Yf(i,r),e=[["M",i.x,i.y]];return e.push(t),e}vn("edge","smooth",{draw:function(i,r){var t=Ci(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(w2(e[0],e[1]));return r.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var Pl=1/3;function S2(i,r){var t=[];t.push({x:i.x,y:i.y*(1-Pl)+r.y*Pl}),t.push({x:r.x,y:i.y*(1-Pl)+r.y*Pl}),t.push(r);var e=[["M",i.x,i.y]];return(0,f.each)(t,function(n){e.push(["L",n.x,n.y])}),e}vn("edge","vhv",{draw:function(i,r){var t=Ci(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(S2(e[0],e[1]));return r.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}}),vn("interval","funnel",{getPoints:function(i){return i.size=i.size*2,Ff(i)},draw:function(i,r){var t=Ci(i,!1,!0),e=this.parsePath(Dv(i.points,i.nextPoints,!1)),n=r.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}}),vn("interval","hollow-rect",{draw:function(i,r){var t=Ci(i,!0,!1),e=this.parsePath(Rf(i.points)),n=r.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}});function C2(i){var r=i.x,t=i.y,e=i.y0;return(0,f.isArray)(t)?t.map(function(n,a){return{x:(0,f.isArray)(r)?r[a]:r,y:n}}):[{x:r,y:e},{x:r,y:t}]}vn("interval","line",{getPoints:function(i){return C2(i)},draw:function(i,r){var t=Ci(i,!0,!1,"lineWidth"),e=this.parsePath(Rf(i.points,!1)),n=r.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:r}}}}),vn("interval","pyramid",{getPoints:function(i){return i.size=i.size*2,Ff(i,!0)},draw:function(i,r){var t=Ci(i,!1,!0),e=this.parsePath(Dv(i.points,i.nextPoints,!0)),n=r.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function M2(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,f.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s=r+n/2,l=r-n/2;return[{x:r,y:a},{x:r,y:o},{x:l,y:a},{x:s,y:a},{x:l,y:o},{x:s,y:o}]}function E2(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y]]}vn("interval","tick",{getPoints:function(i){return M2(i)},draw:function(i,r){var t=Ci(i,!0,!1),e=this.parsePath(E2(i.points)),n=r.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:r}}}});var A2=function(i,r,t){var e=i.x,n=i.y,a=r.x,o=r.y,s;switch(t){case"hv":s=[{x:a,y:n}];break;case"vh":s=[{x:e,y:o}];break;case"hvh":var l=(a+e)/2;s=[{x:l,y:n},{x:l,y:o}];break;case"vhv":var u=(n+o)/2;s=[{x:e,y:u},{x:a,y:u}];break;default:break}return s};function T2(i,r){var t=[];return(0,f.each)(i,function(e,n){var a=i[n+1];if(t.push(e),a){var o=A2(e,a,r);t=t.concat(o)}}),t}function P2(i){return i.map(function(r,t){return t===0?["M",r.x,r.y]:["L",r.x,r.y]})}function _2(i,r){var t=Of(i.points,i.connectNulls,i.showSinglePoint),e=[];return(0,f.each)(t,function(n){var a=T2(n,r);e=e.concat(P2(a))}),(0,Z.__assign)((0,Z.__assign)({},Ci(i,!0,!1,"lineWidth")),{path:e})}(0,f.each)(["hv","vh","hvh","vhv"],function(i){vn("line",i,{draw:function(r,t){var e=_2(r,i),n=t.addShape({type:"path",attrs:e,name:"line"});return n},getMarker:function(r){return kv(r,i)}})}),(0,f.each)(h2,function(i){vn("point",i,{draw:function(r,t){return Nf(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:Fo[i],style:{r:4.5,stroke:t,fill:null}}}})}),vn("point","image",{draw:function(i,r){var t=Ci(i,!1,!1,"r").r,e=this.parsePoints(i.points),n=e[0];if(i.isStack)n=e[1];else if(e.length>1){for(var a=r.addGroup(),o=0,s=e;o<s.length;o++){var l=s[o];a.addShape("image",{attrs:{x:l.x-t/2,y:l.y-t,width:t,height:t,img:i.shape[1]}})}return a}return r.addShape("image",{attrs:{x:n.x-t/2,y:n.y-t,width:t,height:t,img:i.shape[1]}})},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}}),(0,f.each)(Rv,function(i){vn("point",i,{draw:function(r,t){return Nf(this,r,t,i,!1)},getMarker:function(r){var t=r.color;return{symbol:Fo[i]||i,style:{r:4.5,fill:t}}}})});function Nv(i){var r=(0,f.isArray)(i)?i:[i],t=r[0],e=r[r.length-1],n=r.length>1?r[1]:t,a=r.length>3?r[3]:e,o=r.length>2?r[2]:n;return{min:t,max:e,min1:n,max1:a,median:o}}function Yv(i,r,t){var e=t/2,n;if((0,f.isArray)(r)){var a=Nv(r),o=a.min,s=a.max,l=a.median,u=a.min1,h=a.max1,c=i-e,v=i+e;n=[[c,s],[v,s],[i,s],[i,h],[c,u],[c,h],[v,h],[v,u],[i,u],[i,o],[c,o],[v,o],[c,l],[v,l]]}else{r=(0,f.isNil)(r)?.5:r;var g=Nv(i),o=g.min,s=g.max,l=g.median,u=g.min1,h=g.max1,C=r-e,F=r+e;n=[[o,C],[o,F],[o,r],[u,r],[u,C],[u,F],[h,F],[h,C],[h,r],[s,r],[s,C],[s,F],[l,C],[l,F]]}return n.map(function(G){return{x:G[0],y:G[1]}})}function L2(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x,i[10].y],["L",i[11].x,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]]}vn("schema","box",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return Yv(r,t,e)},draw:function(i,r){var t=Ci(i,!0,!1),e=this.parsePath(L2(i.points)),n=r.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e-6,e-3,e,e+3,e+6],o=Yv(t,a,n);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:r}}}});function I2(i){var r=(0,f.isArray)(i)?i:[i],t=r.sort(function(e,n){return n-e});return Hi(t,4,t[t.length-1])}function Gv(i,r,t){var e=I2(r);return[{x:i,y:e[0]},{x:i,y:e[1]},{x:i-t/2,y:e[2]},{x:i-t/2,y:e[1]},{x:i+t/2,y:e[1]},{x:i+t/2,y:e[2]},{x:i,y:e[2]},{x:i,y:e[3]}]}function O2(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]}vn("schema","candle",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return Gv(r,t,e)},draw:function(i,r){var t=Ci(i,!0,!0),e=this.parsePath(O2(i.points)),n=r.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e+7.5,e+3,e-3,e-7.5],o=Gv(t,a,n);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}});function k2(i,r){var t=Math.abs(i[0].x-i[2].x),e=Math.abs(i[0].y-i[2].y),n=Math.min(t,e);r&&(n=(0,f.clamp)(r,0,Math.min(t,e))),n=n/2;var a=(i[0].x+i[2].x)/2,o=(i[0].y+i[2].y)/2;return{x:a-n,y:o-n,width:n*2,height:n*2}}vn("polygon","square",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=Ci(i,!0,!0),e=this.parsePoints(i.points);return r.addShape("rect",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),k2(e,i.size)),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var B2=function(i){(0,Z.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setLabelPosition=function(t,e,n,a){var o=this.getCoordinate(),s=o.isTransposed,l=e.points,u=o.convert(l[0]),h=o.convert(l[2]),c=s?-1:1,v=(u.x-h.x)/2*c,g=(u.y-h.y)/2*c;switch(a){case"right":s||(t.x-=v,t.y+=g),t.textAlign=(0,f.get)(t,"textAlign","left");break;case"left":s?t.x-=v*2:(t.x+=v,t.y+=g),t.textAlign=(0,f.get)(t,"textAlign","right");break;case"bottom":s?(t.x-=v,t.y-=g):t.y+=g*2,t.textAlign=(0,f.get)(t,"textAlign","center"),t.textBaseline=(0,f.get)(t,"textBaseline","top");break;case"middle":s?t.x-=v:t.y+=g,t.textAlign=(0,f.get)(t,"textAlign","center");break;case"top":s&&(t.x-=v,t.y+=g),t.textAlign=(0,f.get)(t,"textAlign","center"),t.textBaseline=(0,f.get)(t,"textBaseline","bottom");break;default:break}},r}(yl),D2=B2,_l=Math.PI/2,F2=function(i){(0,Z.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n;if(t.labelEmit)n=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!e.isTransposed)n="center";else{var a=e.getCenter(),o=this.getDefaultOffset(t.offset);Math.abs(t.x-a.x)<1?n="center":t.angle>Math.PI||t.angle<=0?n=o>0?"left":"right":n=o>0?"right":"left"}return n},r.prototype.getLabelPoint=function(t,e,n){var a=1,o,s=t.content[n];this.isToMiddle(e)?o=this.getMiddlePoint(e.points):(t.content.length===1&&n===0?n=1:n===0&&(a=-1),o=this.getArcPoint(e,n));var l=this.getDefaultOffset(t.offset)*a,u=this.getPointAngle(o),h=t.labelEmit,c=this.getCirclePoint(u,l,o,h);return c.r===0?c.content="":(c.content=s,c.angle=u,c.color=e.color),c.rotate=t.autoRotate?this.getLabelRotate(u,l,h):t.rotate,c.start={x:o.x,y:o.y},c},r.prototype.getArcPoint=function(t,e){return e===void 0&&(e=0),!(0,f.isArray)(t.x)&&!(0,f.isArray)(t.y)?{x:t.x,y:t.y}:{x:(0,f.isArray)(t.x)?t.x[e]:t.x,y:(0,f.isArray)(t.y)?t.y[e]:t.y}},r.prototype.getPointAngle=function(t){return oi(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,e,n,a){var o=this.getCoordinate(),s=o.getCenter(),l=ei(o,n);if(l===0)return(0,Z.__assign)((0,Z.__assign)({},s),{r:l});var u=t;if(o.isTransposed&&l>e&&!a){var h=Math.asin(e/(2*l));u=t+h*2}else l=l+e;return{x:s.x+l*Math.cos(u),y:s.y+l*Math.sin(u),r:l}},r.prototype.getLabelRotate=function(t,e,n){var a=t+_l;return n&&(a-=_l),a&&(a>_l?a=a-Math.PI:a<-_l&&(a=a+Math.PI)),a},r.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,a={x:0,y:0};return(0,f.each)(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=n,a.y/=n,a=e.convert(a),a},r.prototype.isToMiddle=function(t){return t.x.length>2},r}(yl),zv=F2,R2=function(i){(0,Z.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.defaultLayout="distribute",e}return r.prototype.getDefaultLabelCfg=function(){return(0,f.get)(this.geometry.theme,"pieLabels",{})},r.prototype.getDefaultOffset=function(t){return t||0},r.prototype.getLabelRotate=function(t,e,n){var a;return e<0&&(a=t,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n=e.getCenter(),a;t.angle<=Math.PI/2&&t.x>=n.x?a="left":a="right";var o=this.getDefaultOffset(t.offset);return o<=0&&(a==="right"?a="left":a="right"),a},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var e=this.getCoordinate(),n={x:(0,f.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,f.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},o,s=oi(e,n);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var l=oi(e,a);s>=l&&(l=l+Math.PI*2),o=s+(l-s)/2}return o},r.prototype.getCirclePoint=function(t,e,n){var a=this.getCoordinate(),o=a.getCenter(),s=a.getRadius()+e;return(0,Z.__assign)((0,Z.__assign)({},xn(o.x,o.y,s,t)),{angle:t,r:s})},r}(zv),N2=R2,Xv=4;function Y2(i,r,t,e,n,a){var o=!0,s=e.start,l=e.end,u=Math.min(s.y,l.y),h=Math.abs(s.y-l.y),c,v=0,g=Number.MIN_VALUE,C=r.map(function(xt){return xt.y>v&&(v=xt.y),xt.y<g&&(g=xt.y),{size:t,targets:[xt.y-u]}});for(g-=u,v-u>h&&(h=v-u);o;)for(C.forEach(function(xt){var kt=(Math.min.apply(g,xt.targets)+Math.max.apply(g,xt.targets))/2;xt.pos=Math.min(Math.max(g,kt-xt.size/2),h-xt.size)}),o=!1,c=C.length;c--;)if(c>0){var F=C[c-1],G=C[c];F.pos+F.size>G.pos&&(F.size+=G.size,F.targets=F.targets.concat(G.targets),F.pos+F.size>h&&(F.pos=h-F.size),C.splice(c,1),o=!0)}c=0,C.forEach(function(xt){var kt=u+t/2;xt.targets.forEach(function(){r[c].y=xt.pos+kt,kt+=t,c++})});for(var V={},X=0,at=i;X<at.length;X++){var st=at[X];V[st.get("id")]=st}r.forEach(function(xt){var kt=xt.r*xt.r,Gt=Math.pow(Math.abs(xt.y-n.y),2);if(kt<Gt)xt.x=n.x;else{var Wt=Math.sqrt(kt-Gt);a?xt.x=n.x+Wt:xt.x=n.x-Wt}var Yt=V[xt.id];Yt.attr("x",xt.x),Yt.attr("y",xt.y);var ie=(0,f.find)(Yt.getChildren(),function(de){return de.get("type")==="text"});ie&&(ie.attr("y",xt.y),ie.attr("x",xt.x))})}function G2(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=14,u=o+n,h=u*2+l*2,c={start:a.start,end:a.end},v=[[],[]];i.forEach(function(g){!g||(g.textAlign==="right"?v[0].push(g):v[1].push(g))}),v.forEach(function(g,C){var F=h/l;g.length>F&&(g.sort(function(G,V){return V["..percent"]-G["..percent"]}),g.splice(F,g.length-F)),g.sort(function(G,V){return G.y-V.y}),Y2(r,g,l,c,s,C)})}(0,f.each)(i,function(g){if(g&&g.labelLine){var C=g.offset,F=g.angle,G=xn(s.x,s.y,o,F),V=xn(s.x,s.y,o+C/2,F),X=g.x+(0,f.get)(g,"offsetX",0),at=g.y+(0,f.get)(g,"offsetY",0),st={x:X-Math.cos(F)*Xv,y:at-Math.sin(F)*Xv};(0,f.isObject)(g.labelLine)||(g.labelLine={}),g.labelLine.path=["M "+G.x,G.y+" Q"+V.x,V.y+" "+st.x,st.y].join(",")}})}var Vv=4;function z2(i,r,t,e,n,a,o){r.sort(function(Yt,ie){return Yt.y-ie.y});var s=e.start,l=e.end,u=Math.min(s.y,l.y),h=Math.max(s.y,l.y),c,v=r.map(function(Yt){return{content:Yt.content,size:t,pos:Yt.y,targets:[Yt.y]}}),g=Math.max.apply(Math,v.map(function(Yt){return Yt.pos})),C=Math.min.apply(Math,v.map(function(Yt){return Yt.pos}));if(o){for(var F=Math.min(C,h-(v.length-1)*t),G=Math.max(F+v.length*t,g+t),V=!0;V;)for(V=!1,c=v.length;c--;)if(c>0){var X=v[c-1],at=v[c];X.pos+X.size>at.pos&&(at.pos+c*t<G?(X.size+=at.size,X.targets=X.targets.concat(at.targets),v.splice(c,1)):X.pos=at.pos-X.size,V=!0)}}else for(var G=Math.max(u+(v.length-1)*t,g),F=Math.min(C,G-(v.length-1)*t),V=!0;V;)for(V=!1,c=v.length;c--;)if(c>0){var X=v[c-1],at=v[c];X.pos+X.size>at.pos&&(X.pos-F>c*t?X.pos-=X.size:(X.size+=at.size,X.targets=X.targets.concat(at.targets),v.splice(c,1)),V=!0)}c=0,v.forEach(function(Yt){var ie=Yt.pos;Yt.targets.forEach(function(){r[c].y=ie,ie+=t,c++})});for(var st={},xt=0,kt=i;xt<kt.length;xt++){var Gt=kt[xt];st[Gt.get("id")]=Gt}var Wt=(Math.max.apply(Math,r.map(function(Yt){return Yt.y}))-Math.min.apply(Math,r.map(function(Yt){return Yt.y})))/2;Wt=Math.max(Wt,a),r.forEach(function(Yt){var ie=st[Yt.id],de=ie.find(function(Le){return Le.get("type")==="text"});if(de&&de.attr("y")!==Yt.y){var he=Wt*Wt,Ee=Math.pow(Math.abs(Yt.y-n.y),2);if(he<Ee)Yt.x=n.x;else{var Ie=Math.sqrt(he-Ee);o?Yt.x=n.x+Ie:Yt.x=n.x-Ie}}ie.attr("x",Yt.x),ie.attr("y",Yt.y),de&&(de.attr("y",Yt.y),de.attr("x",Yt.x))})}function X2(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=(0,f.get)(i[0],"labelHeight",14),u=o+n,h=u*2+l*2,c={start:a.start,end:a.end},v=[[],[]];i.forEach(function(g){!g||(g.x<s.x?v[0].push(g):v[1].push(g))}),v.forEach(function(g,C){var F=h/l;if(g.length>F){g.sort(function(V,X){return X["data.percent"]-V["data.percent"]});var G=g.splice(F,g.length-F+1);G.forEach(function(V){var X=r.findIndex(function(at){return at.get("id")===V.id});r[X]&&(r[X].remove(!0),r.splice(X,1))})}z2(r,g,l,c,s,u,C===1)})}(0,f.each)(i,function(g){if(g&&g.labelLine){var C=g.angle,F=xn(s.x,s.y,o,C),G=g.x+(0,f.get)(g,"offsetX",0)*(Math.cos(C)>0?1:-1),V=g.y+(0,f.get)(g,"offsetY",0)*(Math.sin(C)>0?1:-1),X={x:G-Math.cos(C)*Vv,y:V-Math.sin(C)*Vv},at=g.labelLine.smooth,st=[],xt=X.x-s.x,kt=X.y-s.y,Gt=Math.atan(kt/xt);if(xt<0&&(Gt+=Math.PI),at===!1){(0,f.isObject)(g.labelLine)||(g.labelLine={});var Wt=0;(C<0&&C>-Math.PI/2||C>Math.PI*1.5)&&X.y>F.y&&(Wt=1),C>=0&&C<Math.PI/2&&X.y>F.y&&(Wt=1),C>=Math.PI/2&&C<Math.PI&&F.y>X.y&&(Wt=1),(C<-Math.PI/2||C>=Math.PI&&C<Math.PI*1.5)&&F.y>X.y&&(Wt=1);var Yt=n/2>4?4:Math.max(n/2-1,0),ie=xn(s.x,s.y,o+Yt,C),de=xn(s.x,s.y,o+n/2,Gt),he=0;st.push("M "+F.x+" "+F.y),st.push("L "+ie.x+" "+ie.y),st.push("A "+s.x+" "+s.y+" 0 "+he+" "+Wt+" "+de.x+" "+de.y),st.push("L "+X.x+" "+X.y)}else{var ie=xn(s.x,s.y,o+(n/2>4?4:Math.max(n/2-1,0)),C),Ee=F.x<s.x?1:-1;st.push("M "+X.x+" "+X.y);var Ie=(F.y-s.y)/(F.x-s.x),Le=(X.y-s.y)/(X.x-s.x);Math.abs(Ie-Le)>Math.pow(Math.E,-16)&&st.push.apply(st,["C",X.x+Ee*4,X.y,2*ie.x-F.x,2*ie.y-F.y,F.x,F.y]),st.push("L "+F.x+" "+F.y)}g.labelLine.path=st.join(" ")}})}function V2(i,r,t,e){(0,f.each)(r,function(n){var a=e.minX,o=e.minY,s=e.maxX,l=e.maxY,u=n.getCanvasBBox(),h=u.minX,c=u.minY,v=u.maxX,g=u.maxY,C=u.x,F=u.y,G=u.width,V=u.height,X=C,at=F;(h<a||v<a)&&(X=a),(c<o||g<o)&&(at=o),h>s?X=s-G:v>s&&(X=X-(v-s)),c>l?at=l-V:g>l&&(at=at-(g-l)),(X!==C||at!==F)&&mf(n,X-C,at-F)})}function H2(i,r,t,e){(0,f.each)(r,function(n,a){var o=n.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&n.remove(!0)})}var W2=100,Hv=function(){function i(r){r===void 0&&(r={}),this.bitmap={};var t=r.xGap,e=t===void 0?1:t,n=r.yGap,a=n===void 0?8:n;this.xGap=e,this.yGap=a}return i.prototype.hasGap=function(r){for(var t=!0,e=this.bitmap,n=Math.round(r.minX),a=Math.round(r.maxX),o=Math.round(r.minY),s=Math.round(r.maxY),l=n;l<=a;l+=1){if(!e[l]){e[l]={};continue}if(l===n||l===a){for(var u=o;u<=s;u++)if(e[l][u]){t=!1;break}}else if(e[l][o]||e[l][s]){t=!1;break}}return t},i.prototype.fillGap=function(r){for(var t=this.bitmap,e=Math.round(r.minX),n=Math.round(r.maxX),a=Math.round(r.minY),o=Math.round(r.maxY),s=e;s<=n;s+=1)t[s]||(t[s]={});for(var s=e;s<=n;s+=this.xGap){for(var l=a;l<=o;l+=this.yGap)t[s][l]=!0;t[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)t[e][s]=!0,t[n][s]=!0;if(this.xGap!==1)for(var s=e;s<=n;s+=1)t[s][a]=!0,t[s][o]=!0},i.prototype.destroy=function(){this.bitmap={}},i}();function j2(i,r,t){t===void 0&&(t=W2);var e=-1,n=i.attr(),a=n.x,o=n.y,s=i.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),u,h=-e,c=0,v=0,g=function(V){var X=V*.1;return[X*Math.cos(X),X*Math.sin(X)]};if(r.hasGap(s))return r.fillGap(s),!0;for(var C=!1,F=0,G={};Math.min(Math.abs(c),Math.abs(v))<l&&F<t;)if(u=g(h+=e),c=~~u[0],v=~~u[1],!(!c&&!v||G[c+"-"+v])&&(i.attr({x:a+c,y:o+v}),c+v<0&&i.attr("textAlign","right"),F++,r.hasGap(i.getCanvasBBox()))){r.fillGap(i.getCanvasBBox()),C=!0,G[c+"-"+v]=!0;break}return C}function U2(i,r,t,e){var n=i.getCanvasBBox(),a=n.width,o=n.height,s={x:r,y:t,textAlign:"center"};switch(e){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break;default:break}return i.attr(s),i.getCanvasBBox()}function Z2(i,r,t,e){var n=new Hv;(0,f.each)(r,function(a){var o=a.find(function(s){return s.get("type")==="text"});j2(o,n)||a.remove(!0)}),n.destroy()}function K2(i,r,t,e){var n=new Hv;(0,f.each)(r,function(a){for(var o=a.find(function(g){return g.get("type")==="text"}),s=o.attr(),l=s.x,u=s.y,h=!1,c=0;c<=8;c++){var v=U2(o,l,u,c);if(n.hasGap(v)){n.fillGap(v),h=!0;break}}h||a.remove(!0)}),n.destroy()}function $2(i,r,t){var e={fillOpacity:(0,f.isNil)(i.attr("fillOpacity"))?1:i.attr("fillOpacity"),strokeOpacity:(0,f.isNil)(i.attr("strokeOpacity"))?1:i.attr("strokeOpacity"),opacity:(0,f.isNil)(i.attr("opacity"))?1:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),i.animate(e,r)}function Q2(i,r,t){var e={fillOpacity:0,strokeOpacity:0,opacity:0},n=r.easing,a=r.duration,o=r.delay;i.animate(e,a,n,function(){i.remove(!0)},o)}function J2(i,r,t){var e,n=r[0],a=r[1];return i.applyToMatrix([n,a,1]),t==="x"?(i.setMatrix(dn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,1],["t",n,a]])),e=dn.transform(i.getMatrix(),[["t",-n,-a],["s",100,1],["t",n,a]])):t==="y"?(i.setMatrix(dn.transform(i.getMatrix(),[["t",-n,-a],["s",1,.01],["t",n,a]])),e=dn.transform(i.getMatrix(),[["t",-n,-a],["s",1,100],["t",n,a]])):t==="xy"&&(i.setMatrix(dn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])),e=dn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])),e}function zf(i,r,t,e,n){var a=t.start,o=t.end,s=t.getWidth(),l=t.getHeight(),u,h;n==="y"?(u=a.x+s/2,h=e.y<a.y?e.y:a.y):n==="x"?(u=e.x>a.x?e.x:a.x,h=a.y+l/2):n==="xy"&&(t.isPolar?(u=t.getCenter().x,h=t.getCenter().y):(u=(a.x+o.x)/2,h=(a.y+o.y)/2));var c=J2(i,[u,h],n);i.animate({matrix:c},r)}function q2(i,r,t){var e=t.coordinate,n=t.minYPoint;zf(i,r,e,n,"x")}function tC(i,r,t){var e=t.coordinate,n=t.minYPoint;zf(i,r,e,n,"y")}function eC(i,r,t){var e=t.coordinate,n=t.minYPoint;zf(i,r,e,n,"xy")}function rC(i,r,t){var e=i.getTotalLength();i.attr("lineDash",[e]),i.animate(function(n){return{lineDashOffset:(1-n)*e}},r)}function nC(i,r,t){var e=t.toAttrs,n=e.x,a=e.y;delete e.x,delete e.y,i.attr(e),i.animate({x:n,y:a},r)}function iC(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=n.points,o=a[0].y-a[1].y>0?e.maxX:e.minX,s=(e.minY+e.maxY)/2;i.applyToMatrix([o,s,1]);var l=dn.transform(i.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);i.setMatrix(l),i.animate({matrix:dn.transform(i.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},r)}function aC(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=(e.minX+e.maxX)/2,o=n.points,s=o[0].y-o[1].y<=0?e.maxY:e.minY;i.applyToMatrix([a,s,1]);var l=dn.transform(i.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);i.setMatrix(l),i.animate({matrix:dn.transform(i.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},r)}var oC=d(84909);function Wv(i,r){var t,e=(0,oC.Z)(i,r),n=e.startAngle,a=e.endAngle;return!(0,f.isNumberEqual)(n,-Math.PI*.5)&&n<-Math.PI*.5&&(n+=Math.PI*2),!(0,f.isNumberEqual)(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),r[5]===0&&(t=[a,n],n=t[0],a=t[1]),(0,f.isNumberEqual)(n,Math.PI*1.5)&&(n=Math.PI*-.5),(0,f.isNumberEqual)(a,Math.PI*-.5)&&(a=Math.PI*1.5),{startAngle:n,endAngle:a}}function jv(i){var r;return i[0]==="M"||i[0]==="L"?r=[i[1],i[2]]:(i[0]==="a"||i[0]==="A")&&(r=[i[i.length-2],i[i.length-1]]),r}function Uv(i){var r,t,e,n=i.filter(function(at){return at[0]==="A"||at[0]==="a"}),a=n[0],o=n.length>1?n[1]:n[0],s=i.indexOf(a),l=i.indexOf(o),u=jv(i[s-1]),h=jv(i[l-1]),c=Wv(u,a),v=c.startAngle,g=c.endAngle,C=Wv(h,o),F=C.startAngle,G=C.endAngle;(0,f.isNumberEqual)(v,F)&&(0,f.isNumberEqual)(g,G)?(t=v,e=g):(t=Math.min(v,F),e=Math.max(g,G));var V=a[1],X=n[n.length-1][1];return V<X?(r=[X,V],V=r[0],X=r[1]):V===X&&(X=0),{startAngle:t,endAngle:e,radius:V,innerRadius:X}}function sC(i,r,t){var e=t.toAttrs,n=t.coordinate,a=e.path,o=a.map(function(X){return X[0]}),s=Uv(a),l=s.startAngle,u=s.endAngle,h=s.radius,c=s.innerRadius,v=Uv(i.attr("path")),g=v.startAngle,C=v.endAngle,F=n.getCenter(),G=l-g,V=u-C;i.animate(function(X){var at=g+X*G,st=C+X*V;return(0,Z.__assign)((0,Z.__assign)({},e),{path:(0,f.isEqual)(o,["M","A","A","Z"])?_i(F.x,F.y,h,at,st):ci(F.x,F.y,h,at,st,c)})},(0,Z.__assign)((0,Z.__assign)({},r),{callback:function(){i.attr("path",a)}}))}function lC(i,r,t){var e=ba(t.coordinate,20),n=e.type,a=e.startState,o=e.endState,s=i.setClip({type:n,attrs:a});s.animate(o,(0,Z.__assign)((0,Z.__assign)({},r),{callback:function(){i&&!i.get("destroyed")&&i.set("clipShape",null),s.remove(!0)}}))}function Xf(i,r,t){if(i.isGroup())(0,f.each)(i.getChildren(),function(s){Xf(s,r,t)});else{var e=i.getBBox(),n=(e.minX+e.maxX)/2,a=(e.minY+e.maxY)/2;if(i.applyToMatrix([n,a,1]),t==="zoomIn"){var o=dn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]]);i.setMatrix(o),i.animate({matrix:dn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])},r)}else i.animate({matrix:dn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])},(0,Z.__assign)((0,Z.__assign)({},r),{callback:function(){i.remove(!0)}}))}}function uC(i,r,t){Xf(i,r,"zoomIn")}function fC(i,r,t){Xf(i,r,"zoomOut")}function ao(i){return[bt.TOP,bt.BOTTOM].includes(i)?{offsetX:0,offsetY:i===bt.TOP?-8:8,style:{textAlign:"center",textBaseline:i===bt.TOP?"bottom":"top"}}:[bt.LEFT,bt.RIGHT].includes(i)?{offsetX:i===bt.LEFT?-8:8,offsetY:0,style:{textAlign:i===bt.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Vf(i,r,t){return{x:i.x+r*Math.cos(t),y:i.y+r*Math.sin(t)}}var hC=function(i){(0,Z.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,e){var n=1/2,a={x:.5,y:.5},o=Math.PI*2/t,s=-1*Math.PI/2+o*e,l=n/(1+1/Math.sin(o/2)),u=Vf(a,n-l,s),h=Math.PI*5/4,c=Math.PI*1/4;return{start:Vf(u,l,h),end:Vf(u,l,c)}},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg,a=n.fields,o=n.type,s=a[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,s),u=l.length,h=[];return l.forEach(function(c,v){var g=[{field:s,value:c,values:l}],C=(0,f.filter)(t,e.getFacetDataFilter(g)),F={type:o,data:C,region:e.getRegion(u,v),columnValue:c,columnField:s,columnIndex:v,columnValuesLength:u,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};h.push(F)}),h},r.prototype.getXAxisOption=function(t,e,n,a){return n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},ao(bt.TOP),t.cfg.title);a.annotation().text(s)})},r}(Pr),cC=hC,vC=function(i){(0,Z.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=this.cfg.cols,o=n[0];if(!o)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,o),l=s.length;a=a||l;var u=this.getPageCount(l,a),h=[];return s.forEach(function(c,v){var g=e.getRowCol(v,a),C=g.row,F=g.col,G=[{field:o,value:c,values:s}],V=(0,f.filter)(t,e.getFacetDataFilter(G)),X={type:e.cfg.type,data:V,region:e.getRegion(u,a,F,C),columnValue:c,rowValue:c,columnField:o,rowField:null,columnIndex:F,rowIndex:C,columnValuesLength:a,rowValuesLength:u,total:l};h.push(X)}),h},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?(0,Z.__assign)((0,Z.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,Z.__assign)((0,Z.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},ao(bt.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},r.prototype.getRowCol=function(t,e){var n=Math.floor(t/e),a=t%e;return{row:n,col:a}},r}(Pr),dC=vC,pC=function(i){(0,Z.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,Z.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,Z.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,a=e.type,o=n.length,s=o,l=[],u=0;u<s;u++)for(var h=n[u],c=0;c<o;c++){var v=n[c],g={type:a,data:t,region:this.getRegion(o,s,u,c),columnValue:h,rowValue:v,columnField:h,rowField:v,columnIndex:u,rowIndex:c,columnValuesLength:s,rowValuesLength:o};l.push(g)}return l},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,Z.__assign)((0,Z.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,Z.__assign)((0,Z.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.rowValuesLength,u=e.columnValue,h=e.rowValue,c=e.view;if(o===0){var v=(0,f.get)(t.cfg.columnTitle,"formatter"),g=(0,f.deepMix)({position:["50%","0%"],content:v?v(u):u},ao(bt.TOP),t.cfg.columnTitle);c.annotation().text(g)}if(a===s-1){var v=(0,f.get)(t.cfg.rowTitle,"formatter"),g=(0,f.deepMix)({position:["100%","50%"],content:v?v(h):h},ao(bt.RIGHT),t.cfg.rowTitle);c.annotation().text(g)}})},r}(Pr),gC=pC,yC=function(i){(0,Z.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields[0],a=[],o=1,s=1,l=[""],u=[""],h,c;return this.cfg.transpose?(h=n,l=this.getFieldValues(t,h).slice(0,2),o=l.length):(c=n,u=this.getFieldValues(t,c).slice(0,2),s=u.length),l.forEach(function(v,g){u.forEach(function(C,F){var G=[{field:h,value:v,values:l},{field:c,value:C,values:u}],V=(0,f.filter)(t,e.getFacetDataFilter(G)),X={type:e.cfg.type,data:V,region:e.getRegion(s,o,g,F),columnValue:v,rowValue:C,columnField:h,rowField:c,columnIndex:g,rowIndex:F,columnValuesLength:o,rowValuesLength:s};a.push(X)})}),a},r.prototype.getXAxisOption=function(t,e,n,a){return a.columnIndex===1||a.rowIndex===1?(0,Z.__assign)((0,Z.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnValue,o=e.rowValue,s=e.view,l=(0,f.get)(t.cfg.title,"formatter");if(t.cfg.transpose){var u=(0,f.deepMix)({position:["50%","0%"],content:l?l(a):a},ao(bt.TOP),t.cfg.title);s.annotation().text(u)}else{var u=(0,f.deepMix)({position:["100%","50%"],content:l?l(o):o},ao(bt.RIGHT),t.cfg.title);s.annotation().text(u)}})},r}(Pr),mC=yC,xC=function(i){(0,Z.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,Z.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,Z.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=n[0],o=n[1],s=[],l=1,u=1,h=[""],c=[""];return a&&(h=this.getFieldValues(t,a),l=h.length),o&&(c=this.getFieldValues(t,o),u=c.length),h.forEach(function(v,g){c.forEach(function(C,F){var G=[{field:a,value:v,values:h},{field:o,value:C,values:c}],V=(0,f.filter)(t,e.getFacetDataFilter(G)),X={type:e.cfg.type,data:V,region:e.getRegion(u,l,g,F),columnValue:v,rowValue:C,columnField:a,rowField:o,columnIndex:g,rowIndex:F,columnValuesLength:l,rowValuesLength:u};s.push(X)})}),s},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.columnValue,u=e.rowValue,h=e.view;if(o===0){var c=(0,f.get)(t.cfg.columnTitle,"formatter"),v=(0,f.deepMix)({position:["50%","0%"],content:c?c(l):l},ao(bt.TOP),t.cfg.columnTitle);h.annotation().text(v)}if(a===s-1){var c=(0,f.get)(t.cfg.rowTitle,"formatter"),v=(0,f.deepMix)({position:["100%","50%"],content:c?c(u):u},ao(bt.RIGHT),t.cfg.rowTitle);h.annotation().text(v)}})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,Z.__assign)((0,Z.__assign)({},n),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?(0,Z.__assign)((0,Z.__assign)({},n),{title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,Z.__assign)((0,Z.__assign)({},n),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?(0,Z.__assign)((0,Z.__assign)({},n),{title:null}):n},r}(Pr),bC=xC,wC=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.init=function(){i.prototype.init.call(this),this.view.on(Ft.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){var e=this.cfg.fields;if(!e.length)throw new Error("Please specify for the fields for rootFacet!");var n=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return n.push(a),a.children=this.getChildFacets(t,1,n),this.setRegion(n),n},r.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(n){n.region=e.getRegion(n.rowValuesLength,n.columnValuesLength,n.columnIndex,n.rowIndex)})},r.prototype.getRegion=function(t,e,n,a){var o=1/e,s=1/t,l={x:o*n,y:s*a},u={x:l.x+o,y:l.y+s*2/3};return{start:l,end:u}},r.prototype.forceColIndex=function(t){var e=this,n=[],a=0;t.forEach(function(v){e.isLeaf(v)&&(n.push(v),v.columnIndex=a,a++)}),n.forEach(function(v){v.columnValuesLength=n.length});for(var o=this.cfg.fields.length,s=o-1;s>=0;s--)for(var l=this.getFacetsByLevel(t,s),u=0,h=l;u<h.length;u++){var c=h[u];this.isLeaf(c)||(c.originColIndex=c.columnIndex,c.columnIndex=this.getRegionIndex(c.children),c.columnValuesLength=n.length)}},r.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach(function(a){a.rowIndex===e&&n.push(a)}),n},r.prototype.getRegionIndex=function(t){var e=t[0],n=t[t.length-1];return(n.columnIndex-e.columnIndex)/2+e.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,e,n){var a=this,o=this.cfg.fields,s=o.length;if(!(s<e)){var l=[],u=o[e-1],h=this.getFieldValues(t,u);return h.forEach(function(c,v){var g=[{field:u,value:c,values:h}],C=t.filter(a.getFacetDataFilter(g));if(C.length){var F={type:a.cfg.type,data:C,region:null,columnValue:c,rowValue:"",columnField:u,rowField:"",columnIndex:v,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:e,children:a.getChildFacets(C,e+1,n)};l.push(F),n.push(F)}}),l}},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},ao(bt.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.drawLines=function(t){var e=this;t.forEach(function(n){if(!e.isLeaf(n)){var a=n.children;e.addFacetLines(n,a)}})},r.prototype.addFacetLines=function(t,e){var n=this,a=t.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};e.forEach(function(l){var u=l.view.coordinateBBox,h={x:u.bl.x+(u.tr.x-u.bl.x)/2,y:u.tr.y},c={x:s.x,y:s.y+(h.y-s.y)/2},v={x:h.x,y:c.y};n.drawLine([s,c,v,h])})},r.prototype.getPath=function(t){var e=[],n=this.cfg.line.smooth;return n?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){o===0?e.push(["M",a.x,a.y]):e.push(["L",a.x,a.y])}),e},r.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:(0,f.assign)({path:e},n)})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,Z.__assign)((0,Z.__assign)({},n),{title:null,label:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.originColIndex!==0&&a.columnIndex!==0?(0,Z.__assign)((0,Z.__assign)({},n),{title:null,label:null}):n},r}(Pr),SC=wC,CC=function(i){(0,Z.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(ut.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(ut.BG).addGroup(),e.option=[],e}return Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){var t=this,e=this.getComponents(),n=function(o){var s=o.component,l=o.extra,u=l.type,h=t.getAnnotationTheme(u);s.update(t.getAnnotationCfg(u,l,h))},a=function(o){var s=t.createAnnotation(o);s&&(s.component.init(),o.type==="regionFilter"&&s.component.render(),t.cache.set(o,s))};e.length?(0,f.each)(e,function(o){var s=o.component;s.get("type")==="regionFilter"?t.view.getRootView().once(Ft.AFTER_RENDER,function(){n(o)}):n(o)}):(0,f.each)(this.option,function(o){o.type==="regionFilter"?t.view.getRootView().once(Ft.AFTER_RENDER,function(){a(o)}):a(o)})},r.prototype.render=function(){},r.prototype.update=function(){var t=this,e=new WeakMap,n=function(a){var o=a.type,s=t.getAnnotationTheme(o),l=t.getAnnotationCfg(o,a,s),u=t.cache.get(a);if(u)En(l,["container"]),u.component.update(l),e.set(a,!0);else{var h=t.createAnnotation(a);h&&(h.component.init(),a.type==="regionFilter"&&h.component.render(),t.cache.set(a,h),e.set(a,!0))}};this.view.once(Ft.AFTER_RENDER,function(){(0,f.each)(t.option,function(o){o.type==="regionFilter"&&n(o)});var a=new Map;t.cache.forEach(function(o,s){e.has(s)?a.set(s,o):o.component.destroy()}),t.cache=a}),(0,f.each)(this.option,function(a){a.type!=="regionFilter"&&n(a)})},r.prototype.clear=function(t){t===void 0&&(t=!1),i.prototype.clear.call(this),this.cache.clear(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.createAnnotation=function(t){var e=t.type,n=nn.Annotation[(0,f.upperFirst)(e)];if(n){var a=this.getAnnotationTheme(e),o=this.getAnnotationCfg(e,t,a),s=new n(o);return{component:s,layer:this.isTop(o)?ut.FORE:ut.BG,direction:bt.NONE,type:Rt.ANNOTATION,extra:t}}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation((0,Z.__assign)({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation((0,Z.__assign)({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation((0,Z.__assign)({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation((0,Z.__assign)({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation((0,Z.__assign)({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation((0,Z.__assign)({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation((0,Z.__assign)({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation((0,Z.__assign)({type:"regionFilter"},t))},r.prototype.parsePosition=function(t){var e=this.view.getXScale(),n=this.view.getScalesByDim("y"),a=(0,f.isFunction)(t)?t.call(null,e,n):t,o=0,s=0;if((0,f.isArray)(a)){var l=a[0],u=a[1];if((0,f.isString)(l)&&l.indexOf("%")!==-1&&!isNaN(l.slice(0,-1)))return this.parsePercentPosition(a);o=this.getNormalizedValue(l,e),s=this.getNormalizedValue(u,Object.values(n)[0])}else if(!(0,f.isNil)(a))for(var h=0,c=(0,f.keys)(a);h<c.length;h++){var v=c[h],g=a[v];v===e.field&&(o=this.getNormalizedValue(g,e)),n[v]&&(s=this.getNormalizedValue(g,n[v]))}return this.view.getCoordinate().convert({x:o,y:s})},r.prototype.getRegionPoints=function(t,e){var n=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=a.field,u=this.view.getData(),h=(0,f.isArray)(t)?t[0]:t[l],c=(0,f.isArray)(e)?e[0]:e[l],v=[],g;return(0,f.each)(u,function(C,F){if(C[l]===h&&(g=F),F>=g){var G=n.parsePosition([C[l],C[s.field]]);G&&v.push(G)}if(C[l]===c)return!1}),v},r.prototype.getNormalizedValue=function(t,e){var n,a;switch(t){case"start":n=0;break;case"end":n=1;break;case"median":{a=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,n=e.scale(a);break}case"min":case"max":e.isCategory?a=t==="min"?0:e.values.length-1:a=e[t],n=e.scale(a);break;default:n=e.scale(t)}return n},r.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,l={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},u=a.getWidth()*e+l.x,h=a.getHeight()*n+l.y;return{x:u,y:h}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},r.prototype.getAnnotationCfg=function(t,e,n){var a=this.view.getCoordinate(),o={};if((0,f.isNil)(e))return null;if(t==="arc"){var s=e,l=s.start,u=s.end,h=this.parsePosition(l),c=this.parsePosition(u),v=oi(a,h),g=oi(a,c);v>g&&(g=Math.PI*2+g),o={center:a.getCenter(),radius:ei(a,h),startAngle:v,endAngle:g}}else if(t==="image"){var C=e,l=C.start,u=C.end;o={start:this.parsePosition(l),end:this.parsePosition(u),src:e.src}}else if(t==="line"){var F=e,l=F.start,u=F.end;o={start:this.parsePosition(l),end:this.parsePosition(u),text:(0,f.get)(e,"text",null)}}else if(t==="region"){var G=e,l=G.start,u=G.end;o={start:this.parsePosition(l),end:this.parsePosition(u)}}else if(t==="text"){var V=this.view.getData(),X=e,at=X.position,st=X.content,xt=(0,Z.__rest)(X,["position","content"]),kt=st;(0,f.isFunction)(st)&&(kt=st(V)),o=(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},this.parsePosition(at)),xt),{content:kt})}else if(t==="dataMarker"){var Gt=e,at=Gt.position,Wt=Gt.point,Yt=Gt.line,ie=Gt.text,de=Gt.autoAdjust,he=Gt.direction;o=(0,Z.__assign)((0,Z.__assign)({},this.parsePosition(at)),{coordinateBBox:this.getCoordinateBBox(),point:Wt,line:Yt,text:ie,autoAdjust:de,direction:he})}else if(t==="dataRegion"){var Ee=e,l=Ee.start,u=Ee.end,Ie=Ee.region,ie=Ee.text,Le=Ee.lineLength;o={points:this.getRegionPoints(l,u),region:Ie,text:ie,lineLength:Le}}else if(t==="regionFilter"){var He=e,l=He.start,u=He.end,je=He.apply,Ke=He.color,Xe=this.view.geometries,Ve=[],pr=function(gr){!gr||(gr.isGroup()?gr.getChildren().forEach(function(Or){return pr(Or)}):Ve.push(gr))};(0,f.each)(Xe,function(gr){je?(0,f.contains)(je,gr.type)&&(0,f.each)(gr.elements,function(Or){pr(Or.shape)}):(0,f.each)(gr.elements,function(Or){pr(Or.shape)})}),o={color:Ke,shapes:Ve,start:this.parsePosition(l),end:this.parsePosition(u)}}var vr=(0,f.deepMix)({},n,(0,Z.__assign)((0,Z.__assign)({},o),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return vr.container=this.getComponentContainer(vr),vr.animate=this.view.getOptions().animate&&vr.animate&&(0,f.get)(e,"animate",vr.animate),vr.animateOption=(0,f.deepMix)({},$o,vr.animateOption,e.animateOption),vr},r.prototype.isTop=function(t){return(0,f.get)(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return(0,f.get)(this.view.getTheme(),["components","annotation",t],{})},r}(ro),MC=CC;function Zv(i,r){return(0,f.get)(i,["components","axis",r,"grid"],{})}function Ll(i,r,t,e){var n=[],a=r.getTicks();return i.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,l){var u=s.value;if(e)n.push({points:[i.convert(t==="y"?{x:0,y:u}:{x:u,y:0}),i.convert(t==="y"?{x:1,y:u}:{x:u,y:1})]});else if(l){var h=o.value,c=(h+u)/2;n.push({points:[i.convert(t==="y"?{x:0,y:c}:{x:c,y:0}),i.convert(t==="y"?{x:1,y:c}:{x:c,y:1})]})}return s},a[0]),n}function Hf(i,r,t,e,n){var a=r.values.length,o=[],s=t.getTicks();return s.reduce(function(l,u){var h=l?l.value:u.value,c=u.value,v=(h+c)/2;return n==="x"?o.push({points:[i.convert({x:e?c:v,y:0}),i.convert({x:e?c:v,y:1})]}):o.push({points:(0,f.map)(Array(a+1),function(g,C){return i.convert({x:C/a,y:e?c:v})})}),u},s[0]),o}function Kv(i,r){var t=(0,f.get)(r,"grid");if(t===null)return!1;var e=(0,f.get)(i,"grid");return!(t===void 0&&e===null)}var mo=["container"],$v=(0,Z.__assign)((0,Z.__assign)({},$o),{appear:null}),EC=function(i){(0,Z.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(ut.BG).addGroup(),e.axisContainer=e.view.getLayer(ut.BG).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,f.each)(this.getComponents(),function(n){var a=n.component,o=n.direction,s=n.type,l=n.extra,u=l.dim,h=l.scale,c=l.alignTick,v;if(s===Rt.AXIS)e.isPolar?u==="x"?v=e.isTransposed?er(e,o):br(e):u==="y"&&(v=e.isTransposed?br(e):er(e,o)):v=er(e,o);else if(s===Rt.GRID)if(e.isPolar){var g=void 0;e.isTransposed?g=u==="x"?Hf(e,t.view.getYScales()[0],h,c,u):Ll(e,h,u,c):g=u==="x"?Ll(e,h,u,c):Hf(e,t.view.getXScale(),h,c,u),v={items:g,center:t.view.getCoordinate().getCenter()}}else v={items:Ll(e,h,u,c)};a.update(v)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach(function(n,a){t.has(a)?e.set(a,n):n.component.destroy()}),this.cache=e},r.prototype.clear=function(){i.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(!(!e||e.isIdentity)){var n=We(this.option,e.field);if(n!==!1){var a=Cr(n,bt.BOTTOM),o=ut.BG,s="x",l=this.view.getCoordinate(),u=this.getId("axis",e.field),h=this.getId("grid",e.field);if(l.isRect){var c=this.cache.get(u);if(c){var v=this.getLineAxisCfg(e,n,a);En(v,mo),c.component.update(v),t.set(u,c)}else c=this.createLineAxis(e,n,o,a,s),this.cache.set(u,c),t.set(u,c);var g=this.cache.get(h);if(g){var v=this.getLineGridCfg(e,n,a,s);En(v,mo),g.component.update(v),t.set(h,g)}else g=this.createLineGrid(e,n,o,a,s),g&&(this.cache.set(h,g),t.set(h,g))}else if(l.isPolar){var c=this.cache.get(u);if(c){var v=l.isTransposed?this.getLineAxisCfg(e,n,bt.RADIUS):this.getCircleAxisCfg(e,n,a);En(v,mo),c.component.update(v),t.set(u,c)}else{if(l.isTransposed){if((0,f.isUndefined)(n))return;c=this.createLineAxis(e,n,o,bt.RADIUS,s)}else c=this.createCircleAxis(e,n,o,a,s);this.cache.set(u,c),t.set(u,c)}var g=this.cache.get(h);if(g){var v=l.isTransposed?this.getCircleGridCfg(e,n,bt.RADIUS,s):this.getLineGridCfg(e,n,bt.CIRCLE,s);En(v,mo),g.component.update(v),t.set(h,g)}else{if(l.isTransposed){if((0,f.isUndefined)(n))return;g=this.createCircleGrid(e,n,o,bt.RADIUS,s)}else g=this.createLineGrid(e,n,o,bt.CIRCLE,s);g&&(this.cache.set(h,g),t.set(h,g))}}}}},r.prototype.updateYAxes=function(t){var e=this,n=this.view.getYScales();(0,f.each)(n,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,l=We(e.option,s);if(l!==!1){var u=ut.BG,h="y",c=e.getId("axis",s),v=e.getId("grid",s),g=e.view.getCoordinate();if(g.isRect){var C=Cr(l,o===0?bt.LEFT:bt.RIGHT),F=e.cache.get(c);if(F){var G=e.getLineAxisCfg(a,l,C);En(G,mo),F.component.update(G),t.set(c,F)}else F=e.createLineAxis(a,l,u,C,h),e.cache.set(c,F),t.set(c,F);var V=e.cache.get(v);if(V){var G=e.getLineGridCfg(a,l,C,h);En(G,mo),V.component.update(G),t.set(v,V)}else V=e.createLineGrid(a,l,u,C,h),V&&(e.cache.set(v,V),t.set(v,V))}else if(g.isPolar){var F=e.cache.get(c);if(F){var G=g.isTransposed?e.getCircleAxisCfg(a,l,bt.CIRCLE):e.getLineAxisCfg(a,l,bt.RADIUS);En(G,mo),F.component.update(G),t.set(c,F)}else{if(g.isTransposed){if((0,f.isUndefined)(l))return;F=e.createCircleAxis(a,l,u,bt.CIRCLE,h)}else F=e.createLineAxis(a,l,u,bt.RADIUS,h);e.cache.set(c,F),t.set(c,F)}var V=e.cache.get(v);if(V){var G=g.isTransposed?e.getLineGridCfg(a,l,bt.CIRCLE,h):e.getCircleGridCfg(a,l,bt.RADIUS,h);En(G,mo),V.component.update(G),t.set(v,V)}else{if(g.isTransposed){if((0,f.isUndefined)(l))return;V=e.createLineGrid(a,l,u,bt.CIRCLE,h)}else V=e.createCircleGrid(a,l,u,bt.RADIUS,h);V&&(e.cache.set(v,V),t.set(v,V))}}}}})},r.prototype.createLineAxis=function(t,e,n,a,o){var s={component:new pi(this.getLineAxisCfg(t,e,a)),layer:n,direction:a===bt.RADIUS?bt.NONE:a,type:Rt.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createLineGrid=function(t,e,n,a,o){var s=this.getLineGridCfg(t,e,a,o);if(s){var l={component:new xi(s),layer:n,direction:bt.NONE,type:Rt.GRID,extra:{dim:o,scale:t,alignTick:(0,f.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.createCircleAxis=function(t,e,n,a,o){var s={component:new gi(this.getCircleAxisCfg(t,e,a)),layer:n,direction:a,type:Rt.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createCircleGrid=function(t,e,n,a,o){var s=this.getCircleGridCfg(t,e,a,o);if(s){var l={component:new bi(s),layer:n,direction:bt.NONE,type:Rt.GRID,extra:{dim:o,scale:t,alignTick:(0,f.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.getLineAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=er(o,n),l=Lr(t,e),u=or(this.view.getTheme(),n),h=(0,f.get)(e,["title"])?(0,f.deepMix)({title:{style:{text:l}}},e):e,c=(0,f.deepMix)((0,Z.__assign)((0,Z.__assign)({container:a},s),{ticks:t.getTicks().map(function(at){return{id:""+at.tickValue,name:at.text,value:at.value}}),verticalFactor:o.isPolar?fr(s,o.getCenter())*-1:fr(s,o.getCenter())}),u,h),v=this.getAnimateCfg(c),g=v.animate,C=v.animateOption;c.animateOption=C,c.animate=g;var F=nr(s),G=(0,f.get)(c,"verticalLimitLength",F?1/3:1/2);if(G<=1){var V=this.view.getCanvas().get("width"),X=this.view.getCanvas().get("height");c.verticalLimitLength=G*(F?V:X)}return c},r.prototype.getLineGridCfg=function(t,e,n,a){if(!!Kv(or(this.view.getTheme(),n),e)){var o=Zv(this.view.getTheme(),n),s=(0,f.deepMix)({container:this.gridContainer},o,(0,f.get)(e,"grid"),this.getAnimateCfg(e));return s.items=Ll(this.view.getCoordinate(),t,a,(0,f.get)(s,"alignTick",!0)),s}},r.prototype.getCircleAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(F){return{id:""+F.tickValue,name:F.text,value:F.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.pop();var l=Lr(t,e),u=or(this.view.getTheme(),bt.CIRCLE),h=(0,f.get)(e,["title"])?(0,f.deepMix)({title:{style:{text:l}}},e):e,c=(0,f.deepMix)((0,Z.__assign)((0,Z.__assign)({container:a},br(this.view.getCoordinate())),{ticks:s,verticalFactor:1}),u,h),v=this.getAnimateCfg(c),g=v.animate,C=v.animateOption;return c.animate=g,c.animateOption=C,c},r.prototype.getCircleGridCfg=function(t,e,n,a){if(!!Kv(or(this.view.getTheme(),n),e)){var o=Zv(this.view.getTheme(),bt.RADIUS),s=(0,f.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,(0,f.get)(e,"grid"),this.getAnimateCfg(e)),l=(0,f.get)(s,"alignTick",!0),u=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=Hf(this.view.getCoordinate(),u,t,l,a),s}},r.prototype.getId=function(t,e){var n=this.view.getCoordinate();return t+"-"+e+"-"+n.type},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,f.get)(t,"animate"),animateOption:t&&t.animateOption?(0,f.deepMix)({},$v,t.animateOption):$v}},r}(ro),AC=EC;function Il(i,r,t){return t===bt.TOP?[i.minX+i.width/2-r.width/2,i.minY]:t===bt.BOTTOM?[i.minX+i.width/2-r.width/2,i.maxY-r.height]:t===bt.LEFT?[i.minX,i.minY+i.height/2-r.height/2]:t===bt.RIGHT?[i.maxX-r.width,i.minY+i.height/2-r.height/2]:t===bt.TOP_LEFT||t===bt.LEFT_TOP?[i.tl.x,i.tl.y]:t===bt.TOP_RIGHT||t===bt.RIGHT_TOP?[i.tr.x-r.width,i.tr.y]:t===bt.BOTTOM_LEFT||t===bt.LEFT_BOTTOM?[i.bl.x,i.bl.y-r.height]:t===bt.BOTTOM_RIGHT||t===bt.RIGHT_BOTTOM?[i.br.x-r.width,i.br.y-r.height]:[0,0]}function TC(i,r){if(r.isTransposed)switch(i){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return i}function Qv(i){return i===DIRECTION.LEFT?DIRECTION.RIGHT:i===DIRECTION.RIGHT?DIRECTION.LEFT:i}function Jv(i){return i===DIRECTION.TOP?DIRECTION.BOTTOM:i===DIRECTION.BOTTOM?DIRECTION.TOP:i}function PC(i,r){var t=r.matrix[0],e=r.matrix[4],n=i;return t<0&&(n=Qv(n)),e<0&&(n=Jv(n)),n}function _C(i,r){var t=i;return r.isReflect("x")&&(t=Qv(t)),r.isReflect("y")&&(t=Jv(t)),t}function QY(i,r){var t=i;return t=TC(t,r),t=PC(t,r),t=_C(t,r),t}function qv(i,r,t){if(!i)return t;var e;if(i.callback&&i.callback.length>1){var n=Array(i.callback.length-1).fill("");e=i.mapping.apply(i,(0,Z.__spreadArrays)([r],n)).join("")}else e=i.mapping(r).join("");return e||t}function td(i){var r=i.symbol;(0,f.isString)(r)&&Fo[r]&&(i.symbol=Fo[r])}function Wf(i){return i.startsWith(bt.LEFT)||i.startsWith(bt.RIGHT)?"vertical":"horizontal"}function LC(i,r,t,e,n){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=r.getAttribute("color"),l=r.getAttribute("shape"),u=i.getTheme().defaultColor,h=r.coordinate.isPolar;return a.getTicks().map(function(c){var v,g=c.text,C=c.value,F=g,G=a.invert(C),V=i.filterFieldData(o,[(v={},v[o]=G,v)]).length===0,X=qv(s,G,u),at=qv(l,G,"point"),st=r.getShapeMarker(at,{color:X,isInPolar:h});return st=(0,f.deepMix)({},e,st,n),td(st),{id:G,name:F,value:G,marker:st,unchecked:V}})}return[]}function IC(i,r,t){return t.map(function(e){var n=(0,f.deepMix)({},i,r,e.marker);return td(n),e.marker=n,e})}function ed(i,r){return(0,f.isBoolean)(i)?i===!1?!1:{}:(0,f.get)(i,[r],i)}function _s(i){return(0,f.get)(i,"position",bt.BOTTOM)}var OC=function(i){(0,Z.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.container=e.view.getLayer(ut.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){var t=this;this.option=this.view.getOptions().legends;var e=function(s,l,u){var h=t.createFieldLegend(s,l,u);h&&(h.component.init(),t.components.push(h))};if((0,f.get)(this.option,"custom")){var n=this.createCustomLegend(void 0,void 0,void 0,this.option);if(n){n.init();var a=ut.FORE,o=_s(this.option);this.components.push({id:"global-custom",component:n,layer:a,direction:o,type:Rt.LEGEND,extra:void 0})}}else this.loopLegends(e)},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox;var e=(0,f.get)(this.view.getTheme(),["components","legend","margin"],[0,0,0,0]);(0,f.each)(this.components,function(n){var a=n.component,o=n.direction,s=Wf(o),l=t.getCategoryLegendSizeCfg(s),u=a.get("maxWidth"),h=a.get("maxHeight");a.update({maxWidth:Math.min(l.maxWidth,u||0),maxHeight:Math.min(l.maxHeight,h||0)});var c=a.getLayoutBBox(),v=new Qe(c.x,c.y,c.width,c.height),g=Il(t.view.viewBBox,v,o),C=g[0],F=g[1],G=Il(t.layoutBBox,v,o),V=G[0],X=G[1],at=0,st=0;o.startsWith("top")||o.startsWith("bottom")?(at=C,st=X):(at=V,st=F),o.indexOf("left")>=0&&(at+=e[3]),o.indexOf("right")>=0&&(at-=e[1]),o.indexOf("top")>=0&&(st+=e[0]),o.indexOf("bottom")>=0&&(st-=e[2]),a.update({x:at,y:st}),t.layoutBBox=t.layoutBBox.cut(v,o)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={},n=function(v,g,C){var F=t.getId(C.field),G=t.getComponentById(F);if(G){var V=void 0,X=ed(t.option,C.field);X!==!1&&((0,f.get)(X,"custom")?V=t.getCategoryCfg(v,g,C,X,!0):C.isLinear?V=t.getContinuousCfg(v,g,C,X):C.isCategory&&(V=t.getCategoryCfg(v,g,C,X))),V&&(En(V,["container"]),G.direction=_s(X),G.component.update(V),e[F]=!0)}else{var at=t.createFieldLegend(v,g,C);at&&(at.component.init(),t.components.push(at),e[F]=!0)}};if((0,f.get)(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);En(s,["container"]),o.component.update(s),e[a]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var u=ut.FORE,h=_s(this.option);this.components.push({id:a,component:l,layer:u,direction:h,type:Rt.LEGEND,extra:void 0}),e[a]=!0}}}else this.loopLegends(n);var c=[];(0,f.each)(this.getComponents(),function(v){e[v.id]?c.push(v):v.component.destroy()}),this.components=c},r.prototype.clear=function(){i.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var e=this,n=t.geometries;return(0,f.each)(t.views,function(a){n=n.concat(e.getGeometries(a))}),n},r.prototype.loopLegends=function(t){var e=this.view.getRootView()===this.view;if(!!e){var n=this.getGeometries(this.view),a={};(0,f.each)(n,function(o){var s=o.getGroupAttributes();(0,f.each)(s,function(l){var u=l.getScale(l.type);!u||u.type==="identity"||a[u.field]||(t(o,l,u),a[u.field]=!0)})})}},r.prototype.createFieldLegend=function(t,e,n){var a,o=ed(this.option,n.field),s=ut.FORE,l=_s(o);if(o!==!1&&((0,f.get)(o,"custom")?a=this.createCustomLegend(t,e,n,o):n.isLinear?a=this.createContinuousLegend(t,e,n,o):n.isCategory&&(a=this.createCategoryLegend(t,e,n,o))),a)return a.set("field",n.field),{id:this.getId(n.field),component:a,layer:s,direction:l,type:Rt.LEGEND,extra:{scale:n}}},r.prototype.createCustomLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a,!0);return new Xt(o)},r.prototype.createContinuousLegend=function(t,e,n,a){var o=this.getContinuousCfg(t,e,n,a);return new Jt(o)},r.prototype.createCategoryLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a);return new Xt(o)},r.prototype.getContinuousCfg=function(t,e,n,a){var o=n.getTicks(),s=(0,f.find)(o,function(F){return F.value===0}),l=(0,f.find)(o,function(F){return F.value===1}),u=o.map(function(F){var G=F.value,V=F.tickValue,X=e.mapping(n.invert(G)).join("");return{value:V,attrValue:X,color:X,scaleValue:G}});s||u.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),l||u.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),u.sort(function(F,G){return F.value-G.value});var h={min:(0,f.head)(u).value,max:(0,f.last)(u).value,colors:[],rail:{type:e.type},track:{}};e.type==="size"&&(h.track={style:{fill:e.type==="size"?this.view.getTheme().defaultColor:void 0}}),e.type==="color"&&(h.colors=u.map(function(F){return F.attrValue}));var c=this.container,v=_s(a),g=Wf(v),C=(0,f.get)(a,"title");return C&&(C=(0,f.deepMix)({text:_e(n)},C)),h.container=c,h.layout=g,h.title=C,h.animateOption=$o,this.mergeLegendCfg(h,a,"continuous")},r.prototype.getCategoryCfg=function(t,e,n,a,o){var s=this.container,l=(0,f.get)(a,"position",bt.BOTTOM),u=(0,f.get)(this.view.getTheme(),["components","legend",l,"marker"]),h=(0,f.get)(a,"marker"),c=Wf(l),v=o?IC(u,h,a.items):LC(this.view,t,e,u,h),g=(0,f.get)(a,"title");g&&(g=(0,f.deepMix)({text:n?_e(n):""},g));var C=this.getCategoryLegendSizeCfg(c);C.container=s,C.layout=c,C.items=v,C.title=g,C.animateOption=$o;var F=this.mergeLegendCfg(C,a,l);F.reversed&&F.items.reverse();var G=(0,f.get)(F,"maxItemWidth");return G&&G<=1&&(F.maxItemWidth=this.view.viewBBox.width*G),F},r.prototype.mergeLegendCfg=function(t,e,n){var a=n.split("-")[0],o=(0,f.get)(this.view.getTheme(),["components","legend",a],{});return(0,f.deepMix)({},o,t,e)},r.prototype.getId=function(t){return this.name+"-"+t},r.prototype.getComponentById=function(t){return(0,f.find)(this.components,function(e){return e.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t){var e=this.view.viewBBox,n=e.width,a=e.height;return t==="vertical"?{maxWidth:n*pt,maxHeight:a}:{maxWidth:n,maxHeight:a*pt}},r}(ro),kC=OC,BC=function(i){(0,Z.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.onValueChanged=function(n){var a=n[0],o=n[1];e.updateMinMaxText(a,o),e.view.render(!0)},e.container=e.view.getLayer(ut.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){if(this.option=this.view.getOptions().slider,this.option){this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onValueChanged));var t=this.slider.component.get("start")||0,e=this.slider.component.get("end")||1;this.updateMinMaxText(t,e)}else this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){if(this.slider){var t=this.view.coordinateBBox.width,e=this.slider.component.getLayoutBBox(),n=new Qe(e.x,e.y,Math.min(e.width,t),e.height),a=Il(this.view.viewBBox,n,bt.BOTTOM),o=a[0],s=a[1],l=Il(this.view.coordinateBBox,n,bt.BOTTOM),u=l[0],h=l[1];this.slider.component.update({x:u,y:s,width:t})}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new nn.Slider((0,Z.__assign)({container:this.container},t));return e.init(),{component:e,layer:ut.FORE,direction:bt.BOTTOM,type:Rt.OTHER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();return En(t,["x","y","width","start","end","minText","maxText"]),this.slider.component.update(t),this.slider},r.prototype.getSliderCfg=function(){if((0,f.isObject)(this.option)){var t=(0,Z.__assign)({data:this.getData()},(0,f.get)(this.option,"trendCfg",{})),e=0,n=0,a=this.view.coordinateBBox.width,o=(0,f.deepMix)({},{x:e,y:n,width:a},this.option);return(0,Z.__assign)((0,Z.__assign)({},o),{trendCfg:t})}return{}},r.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0],n=this.view.getGroupScales();if(n.length){var a=n[0],o=a.field,s=a.ticks;return t.reduce(function(l,u){return u[o]===s[0]&&l.push(u[e.field]),l},[])}return t.map(function(l){return l[e.field]||0})},r.prototype.updateMinMaxText=function(t,e){var n=this.view.getOptions().data,a=this.view.getXScale(),o=(0,f.size)(n);if(!(!a||!o)){var s=a.field,l=n.reduce(function(F,G){return F.includes(G[s])||F.push(G[s]),F},[]),u=(0,f.size)(l),h=Math.floor(t*(u-1)),c=Math.floor(e*(u-1)),v=(0,f.get)(l,[h]),g=(0,f.get)(l,[c]),C=this.getSliderCfg().formatter;C&&(v=C(v,n[h],h),g=C(g,n[c],c)),this.slider.component.update({minText:v,maxText:g,start:t,end:e}),this.view.filter(a.field,function(F,G){var V=l.indexOf(F);return V>-1?Vi(V,h,c):!0})}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r}(ro),DC=BC;function FC(i){for(var r=[],t=function(n){var a=i[n],o=(0,f.find)(r,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||r.push(a)},e=0;e<i.length;e++)t(e);return r}var RC=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(!n.length){this.hideTooltip();return}var a=this.getTitle(n),o={x:n[0].x,y:n[0].y};e.emit("tooltip:show",(0,Z.__assign)({items:n,title:a},t));var s=this.getTooltipCfg(),l=s.follow,u=s.showMarkers,h=s.showCrosshairs,c=s.showContent,v=s.marker,g=this.items,C=this.title;if(!(0,f.isEqual)(C,a)||!(0,f.isEqual)(g,n)?(e.emit("tooltip:change",(0,Z.__assign)({items:n,title:a},t)),c&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,f.mix)({},s,{items:n,title:a},l?t:{})),this.tooltip.show()),u&&this.renderTooltipMarkers(n,v)):(this.tooltip&&l&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=n,this.title=a,h){var F=(0,f.get)(s,["crosshairs","follow"],!1);this.renderCrosshairs(F?t:o,s)}}},r.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var e=this.tooltipMarkersGroup;e&&e.hide();var n=this.xCrosshair,a=this.yCrosshair;n&&n.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",{}),this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,e=t.tooltip,n=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),n&&n.clear(),a&&a.clear(),o&&o.clear()},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,n=e.tooltip,a=e.tooltipMarkersGroup,o=e.xCrosshair,s=e.yCrosshair;t?(n&&n.show(),a&&a.show(),o&&o.show(),s&&s.show()):(n&&n.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){e=(0,f.flatten)(e);for(var n=0,a=e;n<a.length;n++)for(var o=a[n],s=0,l=o;s<l.length;s++){var u=l[s],h=u.mappingData,c=h.x,v=h.y;u.x=(0,f.isArray)(c)?c[c.length-1]:c,u.y=(0,f.isArray)(v)?v[v.length-1]:v}var g=this.getTooltipCfg().shared;if(g===!1&&e.length>1){for(var C=e[0],F=Math.abs(t.y-C[0].y),G=0,V=e;G<V.length;G++){var X=V[G],at=Math.abs(t.y-X[0].y);at<=F&&(C=X,F=at)}e=[C]}return FC((0,f.flatten)(e))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=t.getTheme(),a=(0,f.get)(n,["components","tooltip"],{}),o=(0,f.isUndefined)((0,f.get)(e,"enterable"))?a.enterable:(0,f.get)(e,"enterable");return(0,f.deepMix)({},a,e,{capture:!!(o||this.isLocked)})},r.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),a=new oe((0,Z.__assign)((0,Z.__assign)({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},r.prototype.renderTooltipMarkers=function(t,e){for(var n=this.getTooltipMarkersGroup(),a=0,o=t;a<o.length;a++){var s=o[a],l=s.x,u=s.y,h=(0,Z.__assign)((0,Z.__assign)({fill:s.color,symbol:"circle",shadowColor:s.color},e),{x:l,y:u});n.addShape("marker",{attrs:h})}},r.prototype.renderCrosshairs=function(t,e){var n=(0,f.get)(e,["crosshairs","type"],"x");n==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):n==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):n==="xy"&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},r.prototype.renderXCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!sa(n,t)){var a,o;if(n.isRect)n.isTransposed?(a={x:n.start.x,y:t.y},o={x:n.end.x,y:t.y}):(a={x:t.x,y:n.end.y},o={x:t.x,y:n.start.y});else{var s=oi(n,t),l=n.getCenter(),u=n.getRadius();o=xn(l.x,l.y,u,s),a=l}var h=(0,f.deepMix)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},(0,f.get)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete h.type;var c=this.xCrosshair;c?c.update(h):(c=new nn.Crosshair.Line(h),c.init()),c.render(),c.show(),this.xCrosshair=c}},r.prototype.renderYCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!sa(n,t)){var a,o;if(n.isRect){var s=void 0,l=void 0;n.isTransposed?(s={x:t.x,y:n.end.y},l={x:t.x,y:n.start.y}):(s={x:n.start.x,y:t.y},l={x:n.end.x,y:t.y}),a={start:s,end:l},o="Line"}else a={center:n.getCenter(),radius:ei(n,t),startAngle:n.startAngle,endAngle:n.endAngle},o="Circle";a=(0,f.deepMix)({container:this.getTooltipCrosshairsGroup()},a,(0,f.get)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e)),delete a.type;var u=this.yCrosshair;u?n.isRect&&u.get("type")==="circle"||!n.isRect&&u.get("type")==="line"?(u=new nn.Crosshair[o](a),u.init()):u.update(a):(u=new nn.Crosshair[o](a),u.init()),u.render(),u.show(),this.yCrosshair=u}},r.prototype.getCrosshairsText=function(t,e,n){var a=(0,f.get)(n,["crosshairs","text"]),o=(0,f.get)(n,["crosshairs","follow"]),s=this.items;if(a){var l=this.getViewWithGeometry(this.view),u=s[0],h=l.getXScale(),c=l.getYScales()[0],v=void 0,g=void 0;if(o){var C=this.view.getCoordinate().invert(e);v=h.invert(C.x),g=c.invert(C.y)}else v=u.data[h.field],g=u.data[c.field];var F=t==="x"?v:g;return(0,f.isFunction)(a)?a=a(t,F,s,e):a.content=F,{text:a}}},r.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.getTooltipItemsByHitShape=function(t,e,n){var a=[],o=t.container,s=o.getShape(e.x,e.y);if(s&&s.get("visible")&&s.get("origin")){var l=s.get("origin").mappingData,u=Te(l,t,n);u.length&&a.push(u)}return a},r.prototype.getTooltipItemsByFindData=function(t,e,n){var a=[],o=t.dataArray;t.sort(o);for(var s=0,l=o;s<l.length;s++){var u=l[s],h=Ae(e,u,t);if(h){var c=t.getElementId(h),v=t.elementsMap[c];if(t.type==="heatmap"||v.visible){var g=Te(h,t,n);g.length&&a.push(g)}}}return a},r.prototype.findItemsFromView=function(t,e){if(t.getOptions().tooltip===!1)return[];for(var n=[],a=t.geometries,o=this.getTooltipCfg(),s=o.shared,l=o.title,u=0,h=a;u<h.length;u++){var c=h[u];if(c.visible&&c.tooltipOption!==!1){var v=c.type,g=void 0;["point","edge","polygon"].includes(v)?g=this.getTooltipItemsByHitShape(c,e,l):["area","line","path","heatmap"].includes(v)?g=this.getTooltipItemsByFindData(c,e,l):s!==!1?g=this.getTooltipItemsByFindData(c,e,l):g=this.getTooltipItemsByHitShape(c,e,l),g.length&&n.push(g)}}for(var C=0,F=t.views;C<F.length;C++){var G=F[C];n=n.concat(this.findItemsFromView(G,e))}return n},r.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:(0,f.find)(t.views,function(n){return e.getViewWithGeometry(n)})},r}(ro),NC=RC,YC=function(i){(0,Z.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.context.view,e=this.context.event,n=t.getTooltipItems({x:e.x,y:e.y});if(!(0,f.isEqual)(n,this.items)&&(this.items=n,n.length)){var a=t.getXScale().field,o=n[0].data[a],s=[],l=t.geometries;if((0,f.each)(l,function(Ee){if(Ee.type==="interval"||Ee.type==="schema"){var Ie=Ee.getElementsBy(function(Le){var He=Le.getData();return He[a]===o});s=s.concat(Ie)}}),s.length){var u=t.getCoordinate(),h=s[0].shape.getCanvasBBox(),c=s[0].shape.getCanvasBBox(),v=h;(0,f.each)(s,function(Ee){var Ie=Ee.shape.getCanvasBBox();u.isTransposed?(Ie.minY<h.minY&&(h=Ie),Ie.maxY>c.maxY&&(c=Ie)):(Ie.minX<h.minX&&(h=Ie),Ie.maxX>c.maxX&&(c=Ie)),v.x=Math.min(Ie.minX,v.minX),v.y=Math.min(Ie.minY,v.minY),v.width=Math.max(Ie.maxX,v.maxX)-v.x,v.height=Math.max(Ie.maxY,v.maxY)-v.y});var g=t.backgroundGroup,C=t.coordinateBBox,F=void 0;if(u.isRect){var G=t.getXScale(),V=G.isLinear?0:.25,X=void 0,at=void 0,st=void 0,xt=void 0;u.isTransposed?(X=C.minX,at=Math.min(c.minY,h.minY)-V*c.height,st=C.width,xt=v.height+V*2*c.height):(X=Math.min(h.minX,c.minX)-V*h.width,at=Math.min(C.minY,h.minY),st=v.width+V*2*h.width,xt=C.height),F=[["M",X,at],["L",X+st,at],["L",X+st,at+xt],["L",X,at+xt],["Z"]]}else{var kt=(0,f.head)(s),Gt=(0,f.last)(s),Wt=Kn(kt.getModel(),u).startAngle,Yt=Kn(Gt.getModel(),u).endAngle,ie=u.getCenter(),de=u.getRadius(),he=u.innerRadius*de;F=ci(ie.x,ie.y,de,Wt,Yt,he)}this.regionPath?(this.regionPath.attr("path",F),this.regionPath.show()):this.regionPath=g.addShape({type:"path",name:"active-region",capture:!1,attrs:{path:F,fill:"#CCD6EC",opacity:.3}})}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),i.prototype.destroy.call(this)},r}(tn),GC=YC,zC=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.context,e=t.event,n=t.view,a=n.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date;if(s-o>16){var l=this.location,u={x:e.x,y:e.y};(!l||!(0,f.isEqual)(l,u))&&this.showTooltip(n,u),this.timeStamp=s,this.location=u}}},r.prototype.hide=function(){var t=this.context.view,e=t.isTooltipLocked();e||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,e){t.showTooltip(e)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}(tn),rd=zC,XC=function(i){(0,Z.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.showTooltip=function(t,e){var n=Jn(t);(0,f.each)(n,function(a){var o=Li(t,a,e);a.showTooltip(o)})},r.prototype.hideTooltip=function(t){var e=Jn(t);(0,f.each)(e,function(n){n.hideTooltip()})},r}(rd),VC=XC,HC=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.destroy=function(){i.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var t=this.context,e=t.event,n=this.timeStamp,a=+new Date;if(a-n>16){var o=this.location,s={x:e.x,y:e.y};(!o||!(0,f.isEqual)(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var e=this.context,n=e.event,a=n.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=a.get("tip");this.tooltip.update((0,Z.__assign)({title:o},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t=this.context.view,e=t.canvas,n={start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}},a=t.getTheme(),o=(0,f.get)(a,["components","tooltip","domStyles"],{}),s=new oe({parent:e.get("el").parentNode,region:n,visible:!1,crosshairs:null,domStyles:o});s.init(),s.setCapture(!1),this.tooltip=s},r}(tn),WC=HC,jC=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t}return r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},r.prototype.clearViewState=function(t){var e=this,n=Mr(t,this.stateName);(0,f.each)(n,function(a){e.setElementState(a,!1)})},r}(tn),jf=jC;function nd(i){return(0,f.get)(i.get("delegateObject"),"item")}var UC=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return r.prototype.isItemIgnore=function(t,e){var n=this.ignoreListItemStates,a=n.filter(function(o){return e.hasState(t,o)});return!!a.length},r.prototype.setStateByComponent=function(t,e,n){var a=this.context.view,o=t.get("field"),s=Ge(a);this.setElementsStateByItem(s,o,e,n)},r.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},r.prototype.isMathItem=function(t,e,n){var a=this.context.view,o=qi(a,e),s=wr(t,e);return!(0,f.isNil)(s)&&n.name===o.getText(s)},r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this;(0,f.each)(t,function(s){o.isMathItem(s,e,n)&&s.setState(o.stateName,a)})},r.prototype.setStateEnable=function(t){var e=Ht(this.context);if(e)ve(this.context)&&this.setStateByElement(e,t);else{var n=se(this.context);if(ce(n)){var a=n.item,o=n.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&nd(s.fromShape)===nd(s.toShape))return;this.setStateByComponent(o,a,t)}}}},r.prototype.toggle=function(){var t=Ht(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(jf),Uf=UC,ZC=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Uf),KC=ZC,$C=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.cache={},t}return r.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");if(!n)return null;var a=t.getScaleByField(n.getFields()[0]);return a},r.prototype.getLinkPath=function(t,e){var n=t.shape.getCanvasBBox(),a=e.shape.getCanvasBBox(),o=[["M",n.maxX,n.minY],["L",a.minX,a.minY],["L",a.minX,a.maxY],["L",n.maxX,n.maxY],["Z"]];return o},r.prototype.addLinkShape=function(t,e,n){t.addShape({type:"path",attrs:{opacity:.4,fill:e.shape.attr("fill"),path:this.getLinkPath(e,n)}})},r.prototype.linkByElement=function(t){var e=this,n=this.context.view,a=this.getColorScale(n,t);if(!!a){var o=wr(t,a.field);if(!this.cache[o]){var s=Re(n,a.field,o),l=this.linkGroup,u=l.addGroup();this.cache[o]=u;var h=s.length;(0,f.each)(s,function(c,v){if(v<h-1){var g=s[v+1];e.addLinkShape(u,c,g)}})}}},r.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(!!e){var n=wr(t,e.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},r.prototype.link=function(){var t=this.context;this.linkGroup||(this.linkGroup=t.view.foregroundGroup.addGroup({capture:!1}));var e=Ht(t);e&&this.linkByElement(e)},r.prototype.unlink=function(){var t=Ht(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}(tn),QC=$C,JC=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(ke(this.context))t=Ye(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var a={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)},o=this.context.view;t=Gr(o,a)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=Ge(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,e){var n=this,a=this.context.view,o=Jn(a),s=t.map(function(h){return h.getModel().data}),l=a.getXScale().field,u=a.getYScales()[0].field;(0,f.each)(o,function(h){var c=Ge(h),v=c.filter(function(g){var C=g.getModel().data;return Yn(s,C,l,u)});n.setElementsState(v,e,c)})},r.prototype.setSiblingsState=function(t){var e=this,n=this.context.view,a=Jn(n);ke(this.context)&&(0,f.each)(a,function(o){var s=Ge(o),l=ar(e.context,o,10);l&&l.length?e.setElementsState(l,t,s):e.clearViewState(o)})},r.prototype.setElementsState=function(t,e,n){var a=this;(0,f.each)(n,function(o){t.includes(o)?a.setElementState(o,e):a.setElementState(o,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var n=Jn(e);(0,f.each)(n,function(a){t.clearViewState(a)})}else this.clearViewState(e)},r}(jf),Zf=JC,qC=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Zf),tM=qC,eM=function(i){(0,Z.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateEnable=function(t){var e=Ht(this.context);if(e){if(!ve(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},r.prototype.toggle=function(){var t=Ht(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(jf),Kf=eM,rM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Kf),nM=rM,Ls="inactive",Is="active";function $f(i){var r=Ge(i);(0,f.each)(r,function(t){t.hasState(Is)&&t.setState(Is,!1),t.hasState(Ls)&&t.setState(Ls,!1)})}function id(i,r,t){(0,f.each)(i,function(e){r(e)?(e.hasState(Ls)&&e.setState(Ls,!1),e.setState(Is,t)):(e.hasState(Is)&&e.setState(Is,!1),e.setState(Ls,t))})}var Ro=ae.INACTIVE,oo=ae.ACTIVE,iM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=oo,t}return r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this,s=function(l){return o.isMathItem(l,e,n)};this.setHighlightBy(t,s,a)},r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(Ro)&&t.setState(Ro,!1),t.setState(oo,!0)):t.hasState(oo)||t.setState(Ro,!0)},r.prototype.setHighlightBy=function(t,e,n){var a=this;if(n)(0,f.each)(t,function(l){a.setElementHighlight(l,e)});else{var o=Mr(this.context.view,oo),s=!0;(0,f.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,f.each)(t,function(l){e(l)&&(l.hasState(oo)&&l.setState(oo,!1),l.setState(Ro,!0))})}},r.prototype.setElementState=function(t,e){var n=this.context.view,a=Ge(n);this.setHighlightBy(a,function(o){return t===o},e)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.context.view;$f(t)},r}(Uf),Qf=iM,aM=function(i){(0,Z.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=t.geometry.getAttribute("color");if(!!a){var o=n.getScaleByField(a.getFields()[0]),s=wr(t,o.field),l=Ge(n),u=l.filter(function(h){return wr(h,o.field)===s});this.setHighlightBy(l,function(h){return u.includes(h)},e)}},r}(Qf),oM=aM,sM=function(i){(0,Z.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(Ro)&&t.setState(Ro,!1),t.setState(oo,!0)):(t.setState(Ro,!0),t.hasState(oo)&&t.setState(oo,!1))},r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=n.getXScale(),o=wr(t,a.field),s=Ge(n),l=s.filter(function(u){return wr(u,a.field)===o});this.setHighlightBy(s,function(u){return l.includes(u)},e)},r.prototype.toggle=function(){var t=Ht(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},r}(Qf),lM=sM,uM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.clearViewState=function(t){$f(t)},r.prototype.highlight=function(){this.setState()},r.prototype.setElementsState=function(t,e,n){id(n,function(a){return t.indexOf(a)>=0},e)},r}(Zf),ad=uM,fM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,e){var n=this.context.view,a=Ge(n);id(a,function(o){return t===o},e)},r.prototype.clear=function(){var t=this.context.view;$f(t)},r}(Kf),hM=fM,cM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Zf),vM=cM,dM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Uf),pM=dM,gM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Kf),yM=gM,mM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return r.prototype.getTriggerListInfo=function(){var t=se(this.context),e=null;return ce(t)&&(e={item:t.item,list:t.component}),e},r.prototype.getAllowComponents=function(){var t=this,e=this.context.view,n=Xr(e),a=[];return(0,f.each)(n,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},r.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();(0,f.each)(e,function(n){n.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(this.cfg.componentNames.indexOf(n)===-1)return!1}var a=this.context.view,o=qi(a,e);return o&&o.isCategory},r.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;if(n.length){var a=n.filter(function(o){return e.hasState(t,o)});return a.length===0}return!0},r.prototype.setStateByElement=function(t,e,n){var a=t.get("field"),o=this.context.view,s=qi(o,a),l=wr(e,a),u=s.getText(l);this.setItemsState(t,u,n)},r.prototype.setStateEnable=function(t){var e=this,n=Ht(this.context);if(n){var a=this.getAllowComponents();(0,f.each)(a,function(u){e.setStateByElement(u,n,t)})}else{var o=se(this.context);if(ce(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,t)}}},r.prototype.setItemsState=function(t,e,n){var a=this,o=t.getItems();(0,f.each)(o,function(s){s.name===e&&a.setItemState(t,s,n)})},r.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,a=this.hasState(e,n);this.setItemState(e,n,!a)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}(tn),Ol=mM,xM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Ol),bM=xM,od="inactive",sd="active";function wM(i){var r=i.getItems();(0,f.each)(r,function(t){i.hasState(t,sd)&&i.setItemState(t,sd,!1),i.hasState(t,od)&&i.setItemState(t,od,!1)})}var Os="inactive",No="active",SM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=No,t.ignoreItemStates=["unchecked"],t}return r.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,function(a){return a.name===e},n)},r.prototype.setItemState=function(t,e,n){var a=t.getItems();this.setHighlightBy(t,function(o){return o===e},n)},r.prototype.setHighlightBy=function(t,e,n){var a=t.getItems();if(n)(0,f.each)(a,function(l){e(l)?(t.hasState(l,Os)&&t.setItemState(l,Os,!1),t.setItemState(l,No,!0)):t.hasState(l,No)||t.setItemState(l,Os,!0)});else{var o=t.getItemsByState(No),s=!0;(0,f.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,f.each)(a,function(l){e(l)&&(t.hasState(l,No)&&t.setItemState(l,No,!1),t.setItemState(l,Os,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)wM(t.list);else{var e=this.getAllowComponents();(0,f.each)(e,function(n){n.clearItemsState(No),n.clearItemsState(Os)})}},r}(Ol),Jf=SM,CM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Ol),MM=CM,EM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="unchecked",t}return r.prototype.unchecked=function(){this.setState()},r}(Ol),AM=EM,TM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var e="mask:"+t,n=this.context.view,a=this.context.event;n.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},r.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs(),n=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,Z.__assign)({fill:"#C5D4EB",opacity:.3},e)});return n},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,a=t.y-e.y,o=this.points;(0,f.each)(o,function(s){s.x+=n,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(){var t=this.getMaskAttrs();this.maskShape.attr(t)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,i.prototype.destroy.call(this)},r}(tn),qf=TM,PM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="circle",t}return r.prototype.getMaskAttrs=function(){var t=this.points,e=(0,f.last)(this.points),n=0,a=0,o=0;if(t.length){var s=t[0];n=cn(s,e)/2,a=(e.x+s.x)/2,o=(e.y+s.y)/2}return{x:a,y:o,r:n}},r}(qf),_M=PM,LM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="rect",t}return r.prototype.getRegion=function(){var t=this.points;return{start:(0,f.head)(t),end:(0,f.last)(t)}},r.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,n=t.end,a=Math.min(e.x,n.x),o=Math.min(e.y,n.y),s=Math.abs(n.x-e.x),l=Math.abs(n.y-e.y);return{x:a,y:o,width:s,height:l}},r}(qf),ld=LM;function ud(i){i.x=(0,f.clamp)(i.x,0,1),i.y=(0,f.clamp)(i.y,0,1)}var IM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return r.prototype.getRegion=function(){var t=null,e=null,n=this.points,a=this.dim,o=this.context.view.getCoordinate(),s=o.invert((0,f.head)(n)),l=o.invert((0,f.last)(n));return this.inPlot&&(ud(s),ud(l)),a==="x"?(t=o.convert({x:s.x,y:0}),e=o.convert({x:l.x,y:1})):(t=o.convert({x:0,y:s.y}),e=o.convert({x:1,y:l.y})),{start:t,end:e}},r}(ld),fd=IM,OM=function(i){(0,Z.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points,e=[];return t.length&&((0,f.each)(t,function(n,a){a===0?e.push(["M",n.x,n.y]):e.push(["L",n.x,n.y])}),e.push(["L",t[0].x,t[0].y])),e},r.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},r.prototype.addPoint=function(){this.resize()},r}(qf),hd=OM,kM=function(i){(0,Z.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points;return Mn(t,!0)},r}(hd),BM=kM,DM=function(i){(0,Z.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setCursor=function(t){var e=this.context.view;e.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r}(tn),FM=DM,RM=function(i){(0,Z.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&(0,f.each)(t.views,function(o){a.filterView(o,e,n)})},r.prototype.filter=function(){var t=se(this.context);if(t){var e=this.context.view,n=t.component,a=n.get("field");if(ce(t)){if(a){var o=n.getItemsByState("unchecked"),s=qi(e,a),l=o.map(function(v){return v.name});l.length?this.filterView(e,a,function(v){var g=s.getText(v);return!l.includes(g)}):this.filterView(e,a,null),e.render(!0)}}else if(Oe(t)){var u=n.getValue(),h=u[0],c=u[1];this.filterView(e,a,function(v){return v>=h&&v<=c}),e.render(!0)}}},r}(tn),NM=RM;function cd(i,r,t,e){var n=Math.min(t[r],e[r]),a=Math.max(t[r],e[r]),o=i.range,s=o[0],l=o[1];if(n<s&&(n=s),a>l&&(a=l),n===l&&a===l)return null;var u=i.invert(n),h=i.invert(a);if(i.isCategory){var c=i.values.indexOf(u),v=i.values.indexOf(h),g=i.values.slice(c,v+1);return function(C){return g.includes(C)}}else return function(C){return C>=u&&C<=h}}var YM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,e;if(ke(this.context)){var n=this.context.event.target,a=n.getCanvasBBox();t={x:a.x,y:a.y},e={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var o=this.context.view,s=o.getCoordinate(),l=s.invert(e),u=s.invert(t);if(this.hasDim("x")){var h=o.getXScale(),c=cd(h,"x",l,u);this.filterView(o,h.field,c)}if(this.hasDim("y")){var v=o.getYScales()[0],c=cd(v,"y",l,u);this.filterView(o,v.field,c)}this.reRender(o)}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t)},r.prototype.filterView=function(t,e,n){t.filter(e,n)},r.prototype.reRender=function(t){t.render(!0)},r}(tn),kl=YM,GM=function(i){(0,Z.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=Jn(t);(0,f.each)(a,function(o){o.filter(e,n)})},r.prototype.reRender=function(t){var e=Jn(t);(0,f.each)(e,function(n){n.render(!0)})},r}(kl),th=GM,zM=function(i){(0,Z.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filter=function(){var t=se(this.context),e=this.context.view,n=Ge(e);if(ke(this.context)){var a=Ye(this.context,10);a&&(0,f.each)(n,function(C){a.includes(C)?C.show():C.hide()})}else if(t){var o=t.component,s=o.get("field");if(ce(t)){if(s){var l=o.getItemsByState("unchecked"),u=qi(e,s),h=l.map(function(C){return C.name});(0,f.each)(n,function(C){var F=wr(C,s),G=u.getText(F);h.indexOf(G)>=0?C.hide():C.show()})}}else if(Oe(t)){var c=o.getValue(),v=c[0],g=c[1];(0,f.each)(n,function(C){var F=wr(C,s);F>=v&&F<=g?C.show():C.hide()})}}},r.prototype.clear=function(){var t=Ge(this.context.view);(0,f.each)(t,function(e){e.show()})},r.prototype.reset=function(){this.clear()},r}(tn),XM=zM,VM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.byRecord=!1,t}return r.prototype.filter=function(){ke(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,e=Ye(this.context,10);if(!!e){var n=t.getXScale().field,a=t.getYScales()[0].field,o=e.map(function(l){return l.getModel().data}),s=Jn(t);(0,f.each)(s,function(l){var u=Ge(l);(0,f.each)(u,function(h){var c=h.getModel().data;Yn(o,c,n,a)?h.show():h.hide()})})}},r.prototype.filterByBBox=function(){var t=this,e=this.context.view,n=Jn(e);(0,f.each)(n,function(a){var o=ar(t.context,a,10),s=Ge(a);o&&(0,f.each)(s,function(l){o.includes(l)?l.show():l.hide()})})},r.prototype.reset=function(){var t=Jn(this.context.view);(0,f.each)(t,function(e){var n=Ge(e);(0,f.each)(n,function(a){a.show()})})},r}(tn),vd=VM,HM=10,WM=5,jM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return r.prototype.getButtonCfg=function(){return(0,f.deepMix)(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:(0,Z.__assign)({text:t.text},t.textStyle)}),a=n.getBBox(),o=ni(t.padding),s=e.addShape({type:"rect",name:"button-rect",attrs:(0,Z.__assign)({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),e.on("mouseenter",function(){s.attr(t.activeStyle)}),e.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=e},r.prototype.resetPosition=function(){var t=this.context.view,e=t.getCoordinate(),n=e.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=dn.transform(null,[["t",n.x-o.width-HM,n.y+o.height+WM]]);a.setMatrix(s)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),i.prototype.destroy.call(this)},r}(tn),UM=jM,ZM=4,KM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(!!this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event;this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):cn(t,this.startPoint)>ZM&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},r}(tn),$M=KM,QM=5,JM=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(!!this.starting){var t=this.startPoint,e=this.context.getCurrentPoint(),n=cn(t,e);if(n>QM&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=dn.transform(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}(tn),qM=JM,dd="x",pd="y",tE=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=[dd,pd],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var e=this.context.view;return t==="x"?e.getXScale():e.getYScales()[0]},r.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);e.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim(dd),this.resetDim(pd);var t=this.context.view;t.render(!0)},r}(tn),gd=tE,eE=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var e=this.dims;(0,f.each)(e,function(n){var a=t.getScale(n),o=a.min,s=a.max,l=a.values;t.startCache[n]={min:o,max:s,values:l}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(!!this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=n.invert(e),s=n.invert(a),l=s.x-o.x,u=s.y-o.y,h=this.context.view,c=this.dims;(0,f.each)(c,function(v){t.translateDim(v,{x:l*-1,y:u*-1})}),h.render(!0)}},r.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},r.prototype.translateLinear=function(t,e,n){var a=this.context.view,o=this.startCache[t],s=o.min,l=o.max,u=l-s,h=n[t]*u;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:s,max:l}),a.scale(e.field,{nice:!1,min:s+h,max:l+h})},r.prototype.reset=function(){i.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}(gd),rE=eE,nE=function(i){(0,Z.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.zoomRatio=.05,t}return r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var e=this,n=this.dims;(0,f.each)(n,function(a){e.zoomDim(a,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},r.prototype.zoomLinear=function(t,e,n){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,l=e.min,u=e.max,h=n*s,c=l-h,v=u+h,g=v-c,C=g/s;v>c&&C<100&&C>.01&&a.scale(e.field,{nice:!1,min:l-h,max:u+h})},r}(gd),iE=nE;Y("dark",da(Hb)),ot("canvas",P),ot("svg",O),ga("Polygon",g2),ga("Interval",l2),ga("Schema",m2),ga("Path",Df),ga("Point",v2),ga("Line",f2),ga("Area",qS),ga("Edge",e2),ga("Heatmap",i2),Ms("base",yl),Ms("interval",D2),Ms("pie",N2),Ms("polar",zv),Oo("overlap",K2),Oo("distribute",G2),Oo("fixed-overlap",Z2),Oo("limit-in-shape",H2),Oo("limit-in-canvas",V2),Oo("pie-outer",X2),li("fade-in",$2),li("fade-out",Q2),li("grow-in-x",q2),li("grow-in-xy",eC),li("grow-in-y",tC),li("scale-in-x",iC),li("scale-in-y",aC),li("wave-in",lC),li("zoom-in",uC),li("zoom-out",fC),li("position-update",nC),li("sector-path-update",sC),li("path-in",rC),Wr("rect",bC),Wr("mirror",mC),Wr("list",dC),Wr("matrix",gC),Wr("circle",cC),Wr("tree",SC),ir("axis",AC),ir("legend",kC),ir("tooltip",NC),ir("annotation",MC),ir("slider",DC),Ir("tooltip",rd),Ir("sibling-tooltip",VC),Ir("ellipsis-text",WC),Ir("element-active",KC),Ir("element-single-active",nM),Ir("element-range-active",tM),Ir("element-highlight",Qf),Ir("element-highlight-by-x",lM),Ir("element-highlight-by-color",oM),Ir("element-single-highlight",hM),Ir("element-range-highlight",ad),Ir("element-sibling-highlight",ad,{effectSiblings:!0,effectByRecord:!0}),Ir("element-selected",pM),Ir("element-single-selected",yM),Ir("element-range-selected",vM),Ir("element-link-by-color",QC),Ir("active-region",GC),Ir("list-active",bM),Ir("list-selected",MM),Ir("list-highlight",Jf),Ir("list-unchecked",AM),Ir("legend-item-highlight",Jf,{componentNames:["legend"]}),Ir("axis-label-highlight",Jf,{componentNames:["axis"]}),Ir("rect-mask",ld),Ir("x-rect-mask",fd,{dim:"x"}),Ir("y-rect-mask",fd,{dim:"y"}),Ir("circle-mask",_M),Ir("path-mask",hd),Ir("smooth-path-mask",BM),Ir("cursor",FM),Ir("data-filter",NM),Ir("brush",kl),Ir("brush-x",kl,{dims:["x"]}),Ir("brush-y",kl,{dims:["y"]}),Ir("sibling-filter",th),Ir("sibling-x-filter",th),Ir("sibling-y-filter",th),Ir("element-filter",XM),Ir("element-sibling-filter",vd),Ir("element-sibling-filter-record",vd,{byRecord:!0}),Ir("view-drag",$M),Ir("view-move",qM),Ir("scale-translate",rE),Ir("scale-zoom",iE),Ir("reset-button",UM,{name:"reset-button",text:"reset"});function xo(i){return i.isInPlot()}on("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),on("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),on("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),on("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),on("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),on("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),on("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),on("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),on("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),on("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),on("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),on("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(i){return!i.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(i){return!i.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),on("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:xo,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:xo,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:xo,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),on("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),on("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:xo,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:xo,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:xo,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),on("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:xo,action:"path-mask:start"},{trigger:"mousedown",isEnable:xo,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),on("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),on("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),on("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),on("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),on("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),on("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function yd(i){return i.gEvent.preventDefault(),i.gEvent.originalEvent.deltaY>0}on("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(i){return yd(i.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(i){return!yd(i.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),on("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var md={translate:mf,rotate:Kc,zoom:Fb,transform:gl,getAngle:Kn,polarToCartesian:xn},Bl=function(){function i(r){this.EVENT="gesture",this.gm=r}return i.prototype.do=function(r){var t=r.type;switch(t){case"touchstart":this.onTouchStart(r);break;case"touchmove":this.onTouchMove(r);break;case"touchend":this.onTouchEnd(r);break;case"touchcancel":this.onTouchCancel(r);break;default:return}},i.prototype.emit=function(r){this.gm.emit(this.EVENT,r)},i}(),aE=function(i){(0,Ar.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="pan",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=e-this.preX,o=n-this.preY;this.preX=e,this.preY=n,this.emit({x:e,y:n,deltaX:a,deltaY:o,event:t})},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.preX=e,this.preY=n},r}(Bl),bo=typeof performance=="object"&&performance.now?performance:Date,oE=300,xd=10,sE=function(i){(0,Ar.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="press",t}return r.prototype.onTouchCancel=function(t){this.clearTimeout()},r.prototype.onTouchEnd=function(t){this.clearTimeout()},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y;(e-this.touchStartX>xd||n-this.touchStartY>xd)&&this.clearTimeout()},r.prototype.onTouchStart=function(t){var e=this;this.clearTimeout();var n=t.x,a=t.y;this.touchStartTime=bo.now(),this.touchStartX=n,this.touchStartY=a,this.pressTimeout=window.setTimeout(function(){e.emit({x:n,y:a,event:t})},oE)},r.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},r}(Bl),lE=100,uE=function(i){(0,Ar.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="swipe",t.latestMoveTime=0,t.ms=0,t.speedX=0,t.speedY=0,t.preX=0,t.preY=0,t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=this.speedX,n=this.speedY;if(bo.now()-this.latestMoveTime<lE){var a=t.x,o=t.y;this.emit({x:a,y:o,speedX:e,speedY:n,event:t})}},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=bo.now(),o=e-this.preX,s=n-this.preY,l=a-this.ms;this.speedX=o/l,this.speedY=s/l,this.latestMoveTime=a},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.speedX=this.speedY=0,this.preX=e,this.preY=n,this.ms=bo.now()},r}(Bl),fE=300,bd=2,hE=function(i){(0,Ar.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="tap",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=t.x,n=t.y;e-this.touchStartX<bd&&n-this.touchStartY<bd&&bo.now()-this.touchStartTime<fE&&this.emit({x:e,y:n,event:t})},r.prototype.onTouchMove=function(t){},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.touchStartTime=bo.now(),this.touchStartX=e,this.touchStartY=n},r}(Bl),cE={Pan:aE,Press:sE,Swipe:uE,Tap:hE},vE=function(i){return cE[i]},wd=function(i){(0,Ar.__extends)(r,i);function r(t,e){e===void 0&&(e={});var n=i.call(this)||this;return n.onTouchStart=function(a){n.preventEvent(a),n.element.on("touchmove",n.onTouchMove),n.element.on("touchend",n.onTouchEnd),n.element.on("touchcancel",n.onTouchCancel),n.emit("touchdown",a),n.doGestures(a)},n.onTouchMove=function(a){n.preventEvent(a),n.emit("touchmove",a),n.doGestures(a)},n.onTouchEnd=function(a){n.preventEvent(a),n.emit("touchend",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.onTouchCancel=function(a){n.preventEvent(a),n.emit("touchcancel",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.element=t,n.options=e,n.initialGestures(),n.bindTouchStart(),n}return r.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},r.prototype.initialGestures=function(){var t=this,e=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=e.map(function(n){var a=vE(n);return new a(t)})},r.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},r.prototype.preventEvent=function(t){var e=t.type,n=this.options.prevents||[];n.includes(e)&&t.preventDefault()},r.prototype.doGestures=function(t){this.gestures.forEach(function(e){e.do(t)})},r}(Fe.default),dE=d(68716),pE=dE.yD,gE=800,yE="swipe",mE="pan",Sd="wheel",xE=function(i){(0,Ar.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.rafMs=0,e.onPan=function(n){e.raf&&cancelAnimationFrame(e.raf);var a=n.deltaX,o=n.deltaY,s=e.getWrapperEvent(n,a,o);e.emit(Sd,s)},e.onSwipe=function(n){var a=n.speedX,o=n.speedY;e.rafMs=bo.now(),e.ms=e.rafMs,(a!==0||o!==0)&&e.rafInertia(n)},e.element=t,e.gm=new wd(t,{gestures:["Pan","Swipe"]}),e.gm.on(yE,e.onSwipe),e.gm.on(mE,e.onPan),e}return r.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},r.prototype.rafInertia=function(t){var e=this,n=t.speedX,a=t.speedY;this.raf=window.requestAnimationFrame(function(){var o=bo.now(),s=(o-e.ms)/gE;if(s<1){s=pE(1-s);var l=o-e.rafMs,u=n*s*l,h=a*s*l,c=e.getWrapperEvent(t,u,h);e.emit(Sd,c),e.rafMs=o,e.rafInertia(t)}})},r.prototype.getWrapperEvent=function(t,e,n){return(0,Ar.__assign)((0,Ar.__assign)({},t),{deltaX:-e,deltaY:-n})},r}(Fe.default),gn=d(78646),Cd=d(13733),bE=d(90835),JY=d(86050),wE=d(85506),wo=d(97488),qY=d(98880),SE=d(88373),Yo=d(55225);ir("gesture",j.Z);var la="origin",ks="_origin",Md=1e3,Ed=60*Md,Ad=60*Ed,Dl=24*Ad,CE=Dl*7,ME=Dl*30,EE=Dl*365,AE={second:{value:Md,format:"HH:mm:ss"},miniute:{value:Ed,format:"HH:mm"},hour:{value:Ad,format:"HH"},day:{value:Dl,format:"YYYY-MM-DD"},week:{value:CE,format:"YYYY-MM-DD"},month:{value:ME,format:"YYYY-MM"},year:{value:EE,format:"YYYY"}},Fl=["click","dblclick","mousemove","mouseenter","mouseleave","mousedown","mouseup","contextmenu"],TE=[],PE={axis:"axis-label",label:"label",legend:"legend-item"},_E={title:"title",description:"description",breadcrumb:"breadcrumb"},Td=(0,f.deepMix)(Mi(_E),eh("Plot",Fl)),Pd=eh("Layer",Fl),sn=(0,f.deepMix)({},Mi(PE),eh("View",Fl),LE());function ii(i,r,t){i.view.on(r,function(e){var n={x:e==null?void 0:e.x,y:e==null?void 0:e.y,clientX:e==null?void 0:e.clientX,clientY:e==null?void 0:e.clientY,target:e==null?void 0:e.target,data:(e==null?void 0:e.data)?e.data.data:null,plot:i,canvas:i.canvas,gEvent:e==null?void 0:e.gEvent};t(n)})}function Mi(i){var r={};return(0,f.each)(i,function(t,e){var n=(0,f.upperFirst)(e),a="on"+n,o=t+":";(0,f.each)(Fl,function(s){var l=(0,f.upperFirst)(s),u=""+a+l,h=""+o+s;r[u]=h})}),r}function eh(i,r){var t={},e="on";return(0,f.each)(r,function(n){var a=(0,f.upperFirst)(n),o=""+e+i+a;t[o]=n}),t}function LE(){var i={},r="on";return(0,f.each)(TE,function(t){var e=(0,f.upperFirst)(t),n=""+r+e;i[n]=t}),i}var IE=d(62810),OE=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.fromBBoxObject=function(t){return new r(t.x,t.y,t.width,t.height)},r}(IE.BBox),Zr=OE,kE=function(i){(0,Nt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.layers=[],e.destroyed=!1,e.visibility=!0,e.rendered=!1,e.eventHandlers=[],e.options=e.getOptions(t),e.processOptions(e.options),e}return r.prototype.processOptions=function(t){this.id=t.id,this.x=t.x||0,this.y=t.y||0,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},r.prototype.updateConfig=function(t){this.options=(0,f.deepMix)({},this.options,t),this.processOptions(this.options)},r.prototype.beforeInit=function(){return null},r.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer(function(t){t.init()})},r.prototype.afterInit=function(){return null},r.prototype.render=function(){this.rendered||(this.container=this.parent?this.parent.container.addGroup():this.canvas.addGroup()),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.eachLayer(function(t){t.render()}),this.canvas.draw()},r.prototype.clear=function(){this.eachLayer(function(t){t.destroy()}),this.layers=[],this.container.clear()},r.prototype.destroy=function(){var t=this;this.eachLayer(function(e){e.destroy()}),(0,f.each)(this.eventHandlers,function(e){t.off(e.eventName,e.handler)}),this.container.remove(!0),this.destroyed=!0},r.prototype.show=function(){this.container.attr("visible",!0),this.container.set("visible",!0),this.visibility=!0,this.canvas.draw()},r.prototype.hide=function(){this.container.attr("visible",!1),this.container.set("visible",!1),this.visibility=!1,this.canvas.draw()},r.prototype.addLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e<0&&(t.parent!==this&&(t.parent=this,t.init()),this.layers.push(t))},r.prototype.removeLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e>=0&&this.layers.splice(e,1)},r.prototype.updateBBox=function(t,e){e===void 0&&(e=!1);var n={x:this.x,y:this.y,width:this.width,height:this.height},a=(0,f.deepMix)({},n,t);this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),e&&this.eachLayer(function(o){o.updateBBoxByParent(),o.render()}),this.canvas.draw()},r.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},r.prototype.getGlobalPosition=function(){for(var t=this.x,e=this.y,n=this.parent;n;)t+=n.x,e+=n.y,n=n.parent;return{x:t,y:e}},r.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new Zr(t.x,t.y,this.width,this.height)},r.prototype.getOptions=function(t){var e=0,n=0;t.parent&&(e=t.parent.width,n=t.parent.height);var a={x:0,y:0,width:e,height:n};return(0,f.deepMix)({},a,t)},r.prototype.eachLayer=function(t){(0,f.each)(this.layers,t)},r.prototype.parseEvents=function(t){var e=this,n=(0,f.keys)(Pd);(0,f.each)(t,function(a,o){if((0,f.contains)(n,o)&&(0,f.isFunction)(a)){var s=Pd[o]||o,l=a;e.on(s,l),e.eventHandlers.push({name:s,handler:l})}})},r.prototype.getLayerBBox=function(){return new Zr(this.x,this.y,this.width,this.height)},r.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,e=this.parent.height,n=this.parent.x,a=this.parent.y,o=(this.x-n)/t,s=(this.y-a)/e,l=(this.x+this.width-n)/t,u=(this.y+this.height-a)/e;return{start:{x:o,y:s},end:{x:l,y:u}}}return{start:{x:0,y:0},end:{x:1,y:1}}},r}(Fe.default),Rl=kE;function qo(i){return i?!!(i.visible===!0&&typeof i.text=="string"&&i.text.trim()):!1}function _d(i,r){var t=(0,Nt.__spreadArrays)(i);return r.forEach(function(e,n){t.splice(e+n,0,`
`)}),t.join("")}function BE(i){return i.getComponents().filter(function(r){return r.type===gn.COMPONENT_TYPE.AXIS}).map(function(r){return r.component})}function DE(i){return i.getComponents().filter(function(r){return r.type===gn.COMPONENT_TYPE.LEGEND}).map(function(r){return r.component})}function tG(i){var r=i.backgroundGroup.findAll(function(t){if(t.get("name")){var e=t.get("name").split("-");return e[0]==="axis"}});return r}function eG(i){var r=i.foregroundGroup.findAll(function(t){if(t.get("name"))return t.get("name")==="legend-item-group"});return r}function FE(i,r){for(var t=i.length;t>0&&!(r>=i[t-1]);)t-=1;return t}function Ld(i,r){return!(i.maxY<r.minY||r.maxY<i.minY||i.maxX<r.minX||r.maxX<i.minX)}function rG(){return!!navigator.userAgent.match(/(Mobile)|(Android)|(WebOS)|(iPhone)|(iPad)/)}var RE=function(){function i(r){this.position="top",this.destroyed=!1,(0,f.assign)(this,r),this.init()}return i.prototype.getBBox=function(){var r=this;if(this.shape){var t=this.shape.getBBox();if(this.index===0)return Zr.fromBBoxObject(t);var e=this.plot.theme.description.padding;return(0,f.isArray)(e)&&(0,f.each)(e,function(n,a){typeof e[a]=="function"&&(e[a]=e[a](r.plot.options.legend.position))}),new Zr(t.maxX,t.minY,t.width,t.height)}return null},i.prototype.clear=function(){this.shape&&this.shape.attr("text","")},i.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},i.prototype.init=function(){var r=this.textWrapper(),t=this.getPosition(),e=t.x,n=t.y;this.shape=this.container.addShape("text",{attrs:(0,f.mix)({x:e,y:n,text:r},this.style,{textAlign:this.getTextAlign()})}),this.shape.name=this.name},i.prototype.getPosition=function(){return this.alignTo==="left"?{x:this.leftMargin,y:this.topMargin}:this.alignTo==="middle"?{x:this.leftMargin+this.wrapperWidth/2,y:this.topMargin}:{x:this.rightMargin,y:this.topMargin}},i.prototype.getTextAlign=function(){return this.alignTo==="left"?"left":this.alignTo==="middle"?"center":"right"},i.prototype.textWrapper=function(){var r=this.wrapperWidth,t=this.style,e=this.text,n=this.container.addShape("text",{attrs:(0,Nt.__assign)({text:"",x:0,y:0},t)}),a=e.split(`
`),o=a.map(function(s){for(var l="",u=s.split(""),h=[],c=0;c<u.length;c++){var v=u[c];n.attr("text",l+=v);var g=n.getBBox().width-1;if(g>r){if(c===0)break;h.push(c),l=""}}return _d(u,h)});return n.remove(),o.join(`
`)},i}(),Nl=RE,NE=function(i){(0,Nt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.container=t.container,e.destroyed=!1,e.config=t,e.disposables=[],e}return r.prototype.init=function(){this.group||this.initGroup(),this.initConfig(this.config)},r.prototype.getGroup=function(){return this.group},r.prototype.getConfig=function(){return this.config},r.prototype.getBBox=function(){return this.getGroup().getBBox()},r.prototype.clear=function(){this.group.clear()},r.prototype.render=function(){this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},r.prototype.update=function(t){this.config=(0,Nt.__assign)((0,Nt.__assign)({},this.config),t),this.initConfig(this.config)},r.prototype.destroy=function(){(0,f.each)(this.disposables,function(t){t()}),this.disposables=[],this.group.remove(!0),this.destroyed=!0},r.prototype.initGroup=function(){this.group=this.container.addGroup()},r.prototype.getCanvas=function(){return this.container.get("canvas")},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.initConfig=function(t){},r}(Fe.default),Bs=NE,YE=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.labelsCfgMap={},t.lastLabelsCfgMap={},t}return r.prototype.getGeometry=function(){return this.geometry},r.prototype.getLabels=function(){return this.labels},r.prototype.show=function(){this.container.show()},r.prototype.hide=function(){this.container.hide()},r.prototype.initConfig=function(t){var e=this;this.layer=t.layer;var n=this.layer.view;this.view=n,this.geometry=t.geometry,this.coord=n.getCoordinate(),this.options=(0,f.deepMix)(this.getDefaultOptions(),t.label);var a=function(){e.clear(),e.labelsCfgMap={},e.lastLabelsCfgMap={},e.render()};n.on(gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){n.off(gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)})},r.prototype.renderInner=function(t){var e=this;this.labels=[],this.labelsCfgMap={},(0,f.each)(this.geometry.elements,function(s,l){var u=[].concat(e.drawLabelItem(t,s,l));(0,f.each)(u,function(h,c){e.adjustLabel(h,s,c),h.destroyed||(e.labels.push(h),e.labelsCfgMap[h.get("id")]=(0,f.clone)(h.attrs))})}),this.layoutLabels(this.geometry,this.labels);var n=this.lastLabelsCfgMap,a=this.labelsCfgMap,o=this.geometry.animateOption?(0,wo.getDefaultAnimateCfg)("label",this.coord):!1;(0,f.each)(a,function(s,l){var u=t.findById(l);if(u)if(n[l]){var h=n[l],c=(0,f.get)(o,"update");c&&(u.stopAnimate(),u.attr(h),(0,wo.doAnimate)(u,c,{toAttrs:(0,Nt.__assign)({},s),coordinate:e.coord}))}else{var v=(0,f.get)(o,"appear");v&&(u.stopAnimate(),(0,wo.doAnimate)(u,v,{toAttrs:(0,Nt.__assign)({},u.attr()),coordinate:e.coord}))}delete n[l]}),(0,f.each)(n,function(s,l){var u=(0,f.get)(o,"leave");if(u){var h=t.addShape("text",{attrs:s,id:l,name:"label"});h.stopAnimate(),(0,wo.doAnimate)(h,u,{toAttrs:null,coordinate:e.coord})}}),this.lastLabelsCfgMap=this.labelsCfgMap},r.prototype.drawLabelText=function(t,e,n){return n===void 0&&(n={}),t.addShape("text",(0,Nt.__assign)({attrs:e},n))},r.prototype.drawLabelItem=function(t,e,n){var a=this,o=e.getModel(),s=[].concat(this.getLabelItemAttrs(e,n)),l=this.getDefaultOffset(),u=this.getLabelOffset();return(0,f.map)(s,function(h,c){var v,g={x:h.x+u.x,y:h.y+u.y},C=(0,f.isArray)(o.mappingData)?o.mappingData[c]:o.mappingData,F=a.getLabelId(C);return a.drawLabelText(t,(0,Nt.__assign)((0,Nt.__assign)({},h),g),(v={id:F,name:"label",offset:l,element:e},v[la]=C,v))})},r.prototype.getDefaultOffset=function(){return Number(this.options.offset)},r.prototype.getLabelOffset=function(){var t=this.options,e=t.offsetX,n=t.offsetY;return{x:(0,f.isNumber)(e)?e:0,y:(0,f.isNumber)(n)?n:0}},r.prototype.getLabelOffsetByDimAndFactor=function(t,e){var n=this.options,a=n.offsetX,o=n.offsetY,s=this.getDefaultOffset(),l={x:0,y:0};return l[t]=s*e,(0,f.isNumber)(a)&&(l.x+=a),(0,f.isNumber)(o)&&(l.y+=o),l},r.prototype.getDefaultOptions=function(){return{}},r.prototype.layoutLabels=function(t,e){},r.prototype.getLabelId=function(t){var e=t._origin,n=this.geometry.type,a=this.geometry.getXScale(),o=this.geometry.getYScale(),s=this.geometry.getElementId(t);return n==="line"||n==="area"?s+=" "+e[a.field]:n==="path"&&(s+=" "+e[a.field]+"-"+e[o.field]),s},r.prototype.getCoordinateBBox=function(){var t=this.coord,e=t.start,n=t.end;return new Zr(Math.min(e.x,n.x),Math.min(e.y,n.y),t.getWidth(),t.getHeight())},r}(Bs),rh=YE,Id={};function ea(i,r){Id[i]=r}function GE(i){return Id[i]}var nh=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return function(t,e,n){return i.reduce(function(a,o){return o(a,e,n)},t)}},ih=function(){return function(i){return i}},Od=function(i){return function(r){var t=Number(r);return isNaN(t)||(0,f.isNil)(i)?r:t.toFixed(i)}},kd=function(i){return function(r){return(0,f.isNil)(i)?r:r+" "+i}};function ah(i,r,t){i[t]&&(r[t]=i[t])}var zE=function(){function i(r){this.config=!1,this.plot=r.plot,this.dim=r.dim,this.init()}return i.prototype.init=function(){this.config=!1;var r=this.plot.getPlotTheme();this.themeConfig=r&&r.axis&&r.axis[this.dim],this._needDraw()&&this._styleParser()},i.prototype._styleParser=function(){this.config=(0,Nt.__assign)({},this.localProps),this._isVisible("line")?this._lineParser():this.config.line=null,this._isVisible("grid")?this._gridParser():this.config.grid=null,this._isVisible("tickLine")?this._tickLineParser():this.config.tickLine=null,this._isVisible("label")?this._labelParser():this.config.label=null,this._isVisible("title")?this._titleParser():this.config.title=null,ah(this.localProps,this.config,"autoHideLabel"),ah(this.localProps,this.config,"autoRotateLabel"),ah(this.localProps,this.config,"autoRotateTitle")},i.prototype._needDraw=function(){var r=this.plot.options,t=r[this.dim+"Axis"]?r[this.dim+"Axis"]:{},e=(0,f.deepMix)({},this.themeConfig,t);return this.localProps=e,!!e.visible},i.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line={style:this.localProps.line.style}),this.applyThemeConfig("line")},i.prototype._gridParser=function(){var r=this,t,e,n,a,o,s=(e=(t=this.localProps.grid)===null||t===void 0?void 0:t.line)===null||e===void 0?void 0:e.style,l=(a=(n=this.localProps.grid)===null||n===void 0?void 0:n.line)===null||a===void 0?void 0:a.type,u=(o=this.localProps.grid)===null||o===void 0?void 0:o.alternateColor;(0,f.isFunction)(s)?this.config.grid=function(h,c,v){var g=s(h,c,v);return{line:{type:l,style:(0,f.deepMix)({},(0,f.get)(r.themeConfig,"grid.line.style"),g)},alternateColor:u}}:s&&(this.config.grid={line:{type:l,style:s},alternateColor:u},this.applyThemeConfig("grid"))},i.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine={style:this.localProps.tickLine.style}),this.applyThemeConfig("tickLine")},i.prototype._labelParser=function(){var r=this.localProps.label,t=r.style,e=(0,Nt.__rest)(r,["style"]),n=(0,Nt.__assign)({},e);t&&(n.style=(0,Nt.__assign)({},this.localProps.label.style)),n.style=(0,f.deepMix)({},(0,f.get)(this.themeConfig,"label.style"),n.style);var a=this.parseFormatter(n);n.formatter=a,this.config.label=n},i.prototype._titleParser=function(){var r=(0,Nt.__assign)({},this.localProps.title),t=this.localProps.title,e=t.visible,n=t.style,a=t.text;e?(this.config.showTitle=!0,n&&(r.style=n),r.style=(0,f.deepMix)({},(0,f.get)(this.config,"title.style"),r.textStyle),a&&(r.text=a)):this.config.showTitle=!1,this.config.title=r},i.prototype._isVisible=function(r){return!!(this.localProps[r]&&this.localProps[r].visible)},i.prototype.applyThemeConfig=function(r){this.config[r]=(0,f.deepMix)({},(0,f.get)(this.themeConfig,r+".style"),this.config[r])},i.prototype.parseFormatter=function(r){var t=nh(ih(),Od(r.precision),kd(r.suffix));return r.formatter&&(t=nh(t,r.formatter)),t},i}(),XE=zE;function Yl(i){var r=0;return each(i,function(t){r+=t*t}),Math.sqrt(r)}function oh(i,r){return i.x*r.y+i.y*r.x}function nG(i,r){var t=Yl(i),e=Yl(r),n=oh(i,r),a=Math.acos(n/t/e);return a}function iG(i,r){var t=Yl(i),e=Yl(r),n=oh(i,r),a=Math.acos(n/t/e);return t*e*Math.sin(a)}function aG(i,r){var t=i.x,e=i.y,n=i.z,a=r.x,o=r.y,s=r.z,l=e*s-n*o,u=n*a-t*s,h=t*o-e*a;return{x:l,y:u,z:h}}function oG(i,r){return{x:i.x-r.x,y:i.y-r.y}}function Gl(i,r,t){t===void 0&&(t=1);var e=[i.x,i.y,t];return vv.transformMat3(e,e,r),{x:e[0],y:e[1]}}function Bd(i,r,t){return i>=r&&i<=t}var VE=.001;function sG(i,r,t,e){var n={x:t.x-i.x,y:t.y-i.y},a={x:r.x-i.x,y:r.y-i.y},o={x:e.x-t.x,y:e.y-t.y},s=a.x*o.y-a.y*o.x,l=s*s,u=a.x*a.x+a.y*a.y,h=o.x*o.x+o.y*o.y,c=null;if(l>VE*u*h){var v=(n.x*o.y-n.y*o.x)/s,g=(n.x*a.y-n.y*a.x)/s;Bd(v,0,1)&&Bd(g,0,1)&&(c={x:i.x+v*a.x,y:i.y+v*a.y})}return c}function HE(i,r){for(var t=!1,e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,u=o>i.y!=l>i.y&&i.x<=(s-a)*(i.y-o)/(l-o)+a;u&&(t=!t)}return t}function zl(i){return i*i}function Xl(i,r){return Math.sqrt(zl(i.x-r.x)+zl(i.y-r.y))}function Dd(i,r){return Math.sqrt(zl(i.x-r.x)+zl(i.y-r.y))}function Fd(i,r,t){var e=Xl(r,t);if(e===0)return Xl(i,r);var n=((i.x-r.x)*(t.x-r.x)+(i.y-r.y)*(t.y-r.y))/e;n=Math.max(0,Math.min(1,n));var a=Xl(i,{x:r.x+n*(t.x-r.x),y:r.y+n*(t.y-r.y)});return Math.sqrt(a)}function Rd(i,r){var t=Infinity;(0,f.each)(r,function(h){var c=Math.sqrt(Xl(h,i));t>c&&(t=c)});for(var e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,u=Fd(i,{x:a,y:o},{x:s,y:l});t>u&&(t=u)}return t}function WE(i,r){for(var t=0,e=i;t<e.length;t++){var n=e[t],a=HE(n,r);if(a)return!0}return!1}function Nd(i,r){if(WE(i,r))return 0;var t=Infinity,e=Infinity;return(0,f.each)(i,function(n){var a=Rd(n,r);t>a&&(t=a)}),(0,f.each)(r,function(n){var a=Rd(n,i);e>a&&(e=a)}),Math.min(t,e)}function jE(i){var r=i.getBBox(),t=r.minX,e=r.minY,n=r.maxX-r.minX,a=r.maxY-r.minY,o=i.attr("matrix"),s;o?s=[o[0],o[1],0,o[3],o[4],0,0,0,1]:s=[1,0,0,0,1,0,0,0,1];var l=Gl({x:0,y:0},s);l.x+=t,l.y+=e;var u=Gl({x:n,y:0},s);u.x+=t,u.y+=e;var h=Gl({x:0,y:a},s);h.x+=t,h.y+=e;var c=Gl({x:n,y:a},s);c.x+=t,c.y+=e;var v=[l,u,h,c];v.sort(function(Wt,Yt){return Wt.y-Yt.y});var g=v[0].y,C=v[v.length-1].y,F=[v[0],v[1]],G=[v[2],v[3]],V=F[0].x<F[1].x?F[0]:F[1],X=F[0].x<F[1].x?F[1]:F[0],at=G[0].x<G[1].x?G[0]:G[1],st=G[0].x<G[1].x?G[1]:G[0];v.sort(function(Wt,Yt){return Wt.x-Yt.x});var xt=v[0].x,kt=v[v.length-1].x,Gt={width:kt-xt,height:C-g,left:xt,right:kt,top:g,bottom:C,topLeft:V,topRight:X,bottomLeft:at,bottomRight:st,centerX:xt+(kt-xt)/2,centerY:g+(C-g)/2};return Gt}var UE=2;function sh(i){return i.length<5?i:lh(i,UE)}function lh(i,r){for(var t,e=-Infinity,n=0,a=i.length-1,o=1;o<a;o++){var s=i[o],l={start:i[0],end:i[a]},u=Fd(s,l.start,l.end);u>e&&(e=u,n=o)}if(e>r){var h=lh(i.slice(0,n+1),r),c=lh(i.slice(n,i.length),r);t=h.concat(c)}else t=[i[0],i[i.length-1]];return t}function Yd(i){var r=(0,f.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2?r[t]:(r[t-1]+r[t])/2}function ZE(i){var r=0;return(0,f.each)(i,function(t){r+=t}),r/i.length}function Gd(i){return Math.ceil(Math.log(i.length)/Math.LN2)+1}function KE(i,r,t,e,n){n===void 0&&(n=2);for(var a=[],o=i;o<=i+t;o+=n)a.push([o,r]);for(var s=r;s<=r+e;s+=n)a.push([i+t,s]);for(var o=i+t;o>=i;o-=n)a.push([o,r+e]);for(var s=r+e;s>=r;s-=n)a.push([i,s]);return a}var $E=function(){function i(r){(0,f.assign)(this,r),this._init()}return i.prototype._init=function(){var r=this.plot.options,t=r.yField,e=r.data,n=this.plot.processData(e);if(!((0,f.isEmpty)(n)||!(0,f.isNumber)(n[0][t]))){var a=this.getDefaultStyle(),o={type:"line",top:!0,start:this.cfg.start,end:this.cfg.end};if(o.style=(0,f.deepMix)({},a.line.style,this.cfg.lineStyle),o.text=(0,f.deepMix)({},a.text,this.cfg.text),this.cfg.type){var s=this._getState(this.cfg.type),l=this.getYScale(),u=(1-l.scale(s))*100+"%",h=["0%",u],c=["100%",u];this.config=(0,f.mix)({start:h,end:c},o)}else{var v=this.cfg,g=v.start,C=v.end;this.config=(0,f.clone)(o);var F=this.getXScale(),G=this.getYScale(),V=(0,f.clone)(g),X=(0,f.clone)(C);(0,f.each)(g,function(at,st){(!(0,f.contains)((0,f.toArray)(g[st]),"%")||(0,f.isNumber)(g[st]))&&(st===0?V[st]=F.scale(g[0])*100+"%":V[st]=(1-G.scale(g[1]))*100+"%")}),(0,f.each)(C,function(at,st){(!(0,f.contains)((0,f.toArray)(C[st]),"%")||(0,f.isNumber)(C[st]))&&(st===0?X[st]=F.scale(C[0])*100+"%":X[st]=(1-G.scale(C[1]))*100+"%")}),this.config.start=V,this.config.end=X}}},i.prototype.getYScale=function(){var r=this._getState("min"),t=this._getState("max"),e=(0,Yr.getScale)("linear"),n=new e((0,f.mix)({},{min:this.plot.type==="column"?0:r,max:t,nice:!0,values:this.values},this.plot.config.scales[this.plot.options.yField]));return n},i.prototype.getXScale=function(){var r=this.extractXValue();if((0,f.isString)(r[0])){var t=(0,Yr.getScale)("cat"),e=new t((0,f.mix)({},{values:r},this.plot.config.scales[this.plot.options.xField]));return e}else{var n=Math.min.apply(Math,r),a=Math.max.apply(Math,r),t=(0,Yr.getScale)("linear"),e=new t((0,f.mix)({},{min:n,max:a,nice:!0,values:r},this.plot.config.scales[this.plot.options.xField]));return e}},i.prototype._getState=function(r){if(this.values=this._extractValues(),r==="median")return Yd(this.values);if(r==="mean")return ZE(this.values);if(r==="max")return Math.max.apply(Math,this.values);if(r==="min")return Math.min.apply(Math,this.values)},i.prototype._extractValues=function(){var r=this.plot.options,t=r.yField,e=[],n=this.plot.processData(r.data);return(0,f.each)(n,function(a){(0,f.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.extractXValue=function(){var r=this.plot.options,t=r.xField,e=[],n=this.plot.processData(r.data);return(0,f.each)(n,function(a){(0,f.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:"#333333",opacity:.7,lineDash:[0,0]}},text:{content:"",offsetY:-5,style:{fontSize:14,stroke:"white",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},i.prototype.getDefaultTextAlign=function(){var r=this.cfg.text;if(r){if(!r.position||r.position==="start")return"left";if(r.position==="center")return"center";if(r.position==="end")return"right"}},i}(),QE=$E,JE=function(){function i(r){this.config={};var t=r.plot,e=(0,Nt.__rest)(r,["plot"]);this.plot=t,this.originConfig=e,this.init(r)}return i.prototype.getConfig=function(){return this.config},i.prototype.init=function(r){var t=this;(0,f.assign)(this.config,r),this.config.callback=function(e){return t.parseCallBack(e)}},i.prototype.parseCallBack=function(r){var t=this.originConfig,e=this.plot.getPlotTheme(),n=(0,Nt.__assign)({},t);return this.parseOffset(t,n),t.position&&((0,f.isFunction)(t.position)?n.position=t.position(r):n.position=t.position),this.parseFormatter(n),t.style&&((0,f.isFunction)(t.style)?n.textStyle=t.style(r):n.textStyle=t.style),n.textStyle=(0,f.deepMix)({},(0,f.get)(e,"label.style"),n.textStyle),t.autoRotate&&(n.autoRotate=t.autoRotate),n},i.prototype.parseOffset=function(r,t){var e=["offset","offsetX","offsetY"],n=0;(0,f.each)(e,function(a){(0,f.has)(r,a)&&(t[a]=r[a],n++)}),n===0&&(0,f.get)(r,"position")==="middle"&&(t.offset=0)},i.prototype.parseFormatter=function(r){var t=this.originConfig;r.content=function(e,n){var a=e[t.fields[0]];return nh(ih(),Od(t.precision),kd(t.suffix),t.formatter?t.formatter:ih())(a,e,n)}},i}(),qE=JE,Go,uh;function zd(i,r){Go||Xd(i),(0,f.each)(Go,function(t){var e=Vd(t,r),n=e.labelData,a=e.con;if(Hd(n,a)){var o=nA();t.shape.attr(o)}})}function tA(i,r){Go||Xd(i),(0,f.each)(Go,function(t,e){var n=Vd(t,r),a=n.labelData,o=n.con;if(Hd(a,o)){var s=uh[e],l=rA(s);t.shape.attr(l)}})}function Xd(i){var r;Go=[],uh=[];var t=(r=i.view.getController("axis"))===null||r===void 0?void 0:r.getComponents();(0,f.each)(t,function(e){var n=e.component,a=[],o=eA(i,n),s=n.get("labelRenderer").get("group").get("children");if((0,f.each)(s,function(h){h.type==="text"&&(a.push({shape:h}),uh.push(h.attr()))}),o){var l=o.ticks,u=o.field;(0,f.each)(a,function(h,c){h.value=l[c],h.scaleField=u,h.type=o.type})}Go.push.apply(Go,a)})}function eA(i,r){var t=i.options,e="y",n=r.get("position");(n==="bottom"||n==="top")&&(e="x");var a=t[e+"Field"];return i.view.get("scales")[a]}function Vd(i,r){var t,e=(t={},t[i.scaleField]=i.value,t),n=(0,f.clone)(r);return i.type==="time"&&(0,f.isObject)(r)&&!(0,f.isFunction)(n.exp)&&(n.exp=new Date(n.exp).getTime()),{labelData:e,con:n}}function rA(i){var r=i.opacity||1;return{opacity:r*.2}}function nA(){return{opacity:1,fontWeight:600,fill:"red"}}function Hd(i,r){if(!(0,f.isFunction)(r)){var t=r.name,e=r.exp;return i[t]?(0,f.isFunction)(e)?e(i[t]):i[t]===e:!1}return r(i)}var iA={active:zd,selected:zd,disable:tA},aA=function(i){(0,Nt.__extends)(r,i);function r(){var t=i.call(this)||this;return t._states={},t._stateStack={},t}return r.prototype.setState=function(t,e){this._stateStack[t]=e,this._onUpdate()},r.prototype.getState=function(t){return this._states[t]},r.prototype.getAllStates=function(){return this._states},r.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},r.prototype._onUpdate=function(){var t=this,e=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout(function(){(0,f.each)(e,function(n,a){var o=e[a];(!t._states[a]||t._states[a]!==n)&&(t._states[a]=n,t._triggerEvent(a,o))}),t._stateStack={}},16)},r.prototype._triggerEvent=function(t,e){this.emit(t+":change",{name:t,exp:e})},r}(Fe.default),oA=aA;function so(i,r){if(!(0,f.isFunction)(r)){var t=r.name,e=r.exp;return(0,f.isFunction)(e)?e(i[t]):i[t]===e}return r(i)}var sA=function(){function i(r){this.shapeContainers=[],(0,f.assign)(this,r)}return i.prototype.createStateManager=function(){this.stateManager=new oA},i.prototype.bindStateManager=function(r,t){this.stateManager=r,t.setState&&this._updateStateProcess(t.setState),t.onStateChange&&this._stateChangeProcess(t.onStateChange)},i.prototype.defaultStates=function(r){var t=this;(0,f.each)(r,function(e,n){var a=e.condition,o=e.related;t.setState({type:n,condition:a,related:o})})},i.prototype.setState=function(r){var t=this,e=r.type,n=r.condition,a=r.related;this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs(),(0,f.each)(this.shapes,function(o,s){var l=o.get("origin").data,u=(0,f.isArray)(l)?l[0]:l;if(so(u,n)){var h=r.style?r.style:t._getDefaultStateStyle(e,o),c=t.originAttrs[s],v=void 0;(0,f.isFunction)(h)?v=h(c):v=(0,f.mix)({},c,h),o.attr(v),t.setZIndex(e,o)}}),a&&this._parserRelated(e,a,n),this.plot.canvas.draw()},i.prototype._updateStateProcess=function(r){var t=this;(0,f.each)(r,function(e){var n=e.state,a;(0,f.isFunction)(n)?a=function(o){var s=n(o);t.stateManager.setState(s.name,s.exp)}:a=function(){t.stateManager.setState(n.name,n.exp)},e.event?ii(t.plot,t._eventParser(e.event),a):a()})},i.prototype._stateChangeProcess=function(r){var t=this;(0,f.each)(r,function(e){t.stateManager.on(e.name+":change",function(n){e.callback(n,t.plot)})})},i.prototype._getShapes=function(){var r=this,t=[],e=this.plot.view.geometries;return(0,f.each)(e,function(n){var a=n.container;r.shapeContainers.push(a),n.destroyed||t.push.apply(t,n.getShapes())}),t},i.prototype._getOriginAttrs=function(){var r=[];return(0,f.each)(this.shapes,function(t){r.push((0,f.clone)(t.attr()))}),r},i.prototype._eventParser=function(r){var t=r.split(":"),e=this.plot.geometryParser("g2",t[0]),n=t[1];return e+":"+n},i.prototype._getDefaultStateStyle=function(r,t){var e=this.plot.theme,n=this.plot.geometryParser("plot",t.name),a=n+"Style";if(e[a]){var o=e[a][r];return(0,f.isFunction)(o)&&(o=o(t.attr())),o}return{}},i.prototype._parserRelated=function(r,t,e){var n=this;(0,f.each)(t,function(a){if(n.plot[a]){var o=xA(a,r);o(n.plot,e)}})},i.prototype.setZIndex=function(r,t){if(r==="active"||r==="selected"){var e=t.get("parent").get("children");e[e.length-1].setZIndex(0),t.setZIndex(1)}},i.prototype.resetZIndex=function(){(0,f.each)(this.shapeContainers,function(r){var t=r.get("children");t.sort(function(e,n){return e._INDEX-n._INDEX})})},i}(),lA=sA,ts,Vl;function Wd(i,r){ts||jd(i),(0,f.each)(ts,function(t,e){var n=t.get("origin");if(so(n,r)){var a=Vl[e],o=(0,f.mix)({},a,{opacity:1});t.attr(o)}})}function uA(i,r){ts||jd(i),(0,f.each)(ts,function(t,e){var n=t.get("origin");if(so(n,r)){var a=Vl[e],o=fA(a);t.attr(o)}})}function jd(i){ts=[],Vl=[];var r=i.view.get("elements");(0,f.each)(r,function(t){var e=t.get("labels");e&&(0,f.each)(e,function(n){ts.push(n),Vl.push(n.attr())})})}function fA(i){var r=i.opacity||1;return{opacity:r*.2}}var hA={active:Wd,selected:Wd,disable:uA},cA=["xField","yField","angleField"];function Ud(i,r){var t=i.options;if(dA(t,r)){var e=t.data;(0,f.each)(e,function(n){if(so(n,r)){var a=i.view.getXY(n);i.view.on("tooltip:create",function(o){Zd(r,o,!1)}),i.view.showTooltip(a)}})}}function vA(i,r){i.view.on("tooltip:change",function(t){Zd(r,t,!0)})}function Zd(i,r,t){var e=!t,n=(0,f.clone)(r.items);r.items.splice(0),(0,f.each)(n,function(a){var o=a.point._origin;so(o,i)===e&&r.items.push(a)})}function dA(i,r){var t=pA(i);return!(0,f.isFunction)(r)&&t.indexOf(r.name)}function pA(i){var r=[];return(0,f.each)(cA,function(t){(0,f.has)(i,t)&&r.push(t)}),r}var gA={active:Ud,selected:Ud,disable:vA},yA={axis:XE,label:qE,guideLine:QE},mA={tooltip:gA,label:hA,axis:iA};function ki(i,r){var t=yA[i];return new t(r).config}function xA(i,r){return mA[i][r]}var bA=["start","process","end","reset"],wA=function(){function i(r){var t=this.getDefaultCfg();(0,f.assign)(this,t,r),this.canvas=this.view.canvas,this._eventHandlers=[],this._bindEvents()}return i.prototype.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},i.prototype._start=function(r){this.preStart(r),this.start(r),this.afterStart(r)},i.prototype.preStart=function(r){},i.prototype.afterStart=function(r){},i.prototype._process=function(r){this.preProcess(r),this.process(r),this.afterProcess(r)},i.prototype.preProcess=function(r){},i.prototype.process=function(r){},i.prototype.afterProcess=function(r){},i.prototype._end=function(r){this.preEnd(r),this.end(r),this.afterEnd(r)},i.prototype.preEnd=function(r){},i.prototype.end=function(r){},i.prototype.afterEnd=function(r){},i.prototype._reset=function(r){this.preReset(r),this.reset(r),this.afterReset(r)},i.prototype.preReset=function(r){},i.prototype.reset=function(r){},i.prototype.afterReset=function(r){},i.prototype._bindEvents=function(){var r=this;(0,f.each)(bA,function(t){var e=r[t+"Event"],n=(0,f.wrapBehavior)(r,"_"+t);r.view.on(e,n),r._eventHandlers.push({type:e,handler:n})})},i.prototype._unbindEvents=function(){var r=this,t=this._eventHandlers;(0,f.each)(t,function(e){r.view.off(e.type,e.handler)})},i.prototype.destroy=function(){this._unbindEvents(),this._reset()},i}(),fh=wA,SA=function(i){(0,Nt.__extends)(r,i);function r(t,e,n,a){var o=i.call(this,t)||this;return o.viewLayer=e,o.interactionRange=n,o.interactionConfig=a,o.disposables=[],o}return r.registerInteraction=function(t,e){r.GLOBAL_INTERACTION_MAP[t]=e},r.registerPlotInteraction=function(t,e,n){r.PLOT_INTERACTION_MAP[t]||(r.PLOT_INTERACTION_MAP[t]={}),r.PLOT_INTERACTION_MAP[t][e]=n},r.getInteraction=function(t,e){return e&&r.PLOT_INTERACTION_MAP[e]&&r[e][t]?r.PLOT_INTERACTION_MAP[e][t]:r.GLOBAL_INTERACTION_MAP[t]},r.getInteractionRange=function(t,e){},r.prototype.destroy=function(){(0,f.each)(this.disposables,function(t){t()}),this.disposables=[],this.clear(),i.prototype.destroy.call(this)},r.prototype.getViewLayer=function(){return this.viewLayer},r.prototype.getRange=function(){return this.interactionRange},r.prototype.getInteractionConfig=function(){return this.interactionConfig},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.render=function(){},r.prototype.start=function(t){},r.GLOBAL_INTERACTION_MAP={},r.PLOT_INTERACTION_MAP={},r}(fh),Fa=SA,Kd=function(i,r,t,e,n){var a=e[0],o=e[1];n===void 0&&(n=!1);var s=(0,f.groupBy)(t,i),l=n?r.slice(r.length-o,r.length-a):r.slice(a,o);return(0,f.flatten)((0,f.map)(l,function(u){return s[u]||[]}))},Wa;(function(i){i.BEFORE_INIT="beforeinit",i.AFTER_INIT="afterinit",i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata"})(Wa||(Wa={}));var Hl=4,$d=8,CA=32,MA=20,EA=999,Wl=function(i){i===void 0&&(i={});var r=(0,Nt.__assign)({type:"horizontal",categorySize:CA,width:$d,height:$d,padding:[0,0,0,0]},i);return i.padding||(r.padding=r.type==="horizontal"?[Hl,0,Hl,0]:[0,Hl,0,Hl]),r},AA=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Wl(e),a=n.padding,o=a[0],s=a[1],l=a[2],u=a[3];return n.type==="horizontal"?new Zr(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l):new Zr(t.maxX-n.width-u-s,t.minY,n.width+u+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view;this.ratio=0,this.thumbOffset=0;var a=function(){var s=t.view.padding;s==="auto"||(0,f.isEqual)(s,[0,0,0,1])||(t.trackLen?t.renderScrollbar():(t.measureScrollBar(),t.changeViewData(t.getScrollRange(),!0)))},o=function(){t.trackLen=0};n.on(gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){return n.off(gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)}),n.on(gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a),this.addDisposable(function(){return n.off(gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a)}),e.on(Wa.BEFORE_CHANGE_DATA,o),this.addDisposable(function(){return e.off(Wa.BEFORE_CHANGE_DATA,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},r.prototype.renderScrollbar=function(){var t=Wl(this.getInteractionConfig()),e=this.getRange(),n=t.type!=="vertical",a=this.view.coordinateBBox,o=t.padding,s=o[0],l=o[3],u=n?{x:a.minX+l,y:e.minY+s}:{x:e.minX+l,y:a.minY+s};this.scrollbar?(this.scrollbar.update({trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.thumbOffset,x:u.x,y:u.y}),this.scrollbar.render()):(this.container=this.canvas.addGroup(),this.scrollbar=new nn.Scrollbar({container:this.container,x:u.x,y:u.y,isHorizontal:n,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.ratio*this.trackLen}),this.scrollbar.init(),this.scrollbar.render(),this.scrollbar.get("group").set("zIndex",EA),this.scrollbar.on("scrollchange",this.onChangeFn))},r.prototype.measureScrollBar=function(){var t=Wl(this.getInteractionConfig()),e=t.padding,n=e[0],a=e[1],o=e[2],s=e[3],l=t.type!=="vertical",u=this.view.coordinateBBox,h=this.view.getXScale(),c=this.view.getYScales().filter(function(v){return v});this.cnt=h.values.length,this.xScaleCfg={field:h.field,values:h.values||[]},this.yScalesCfg=c,this.step=Math.floor((l?u.width:u.height)/t.categorySize),this.trackLen=l?u.width-s-a:u.height-n-o,this.thumbLen=Math.max(this.trackLen*(0,f.clamp)(this.step/h.values.length,0,1),MA)},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,f.clamp)(this.ratio,0,1)),e=Math.min(t+this.step,this.cnt);return[t,e]},r.prototype.changeViewData=function(t,e){var n=this,a=t[0],o=t[1],s=Wl(this.getInteractionConfig()),l=this.getViewLayer(),u=l.options.meta,h=l.getData(),c=Kd(this.xScaleCfg.field,this.xScaleCfg.values,h,[a,o],s.type==="vertical");this.yScalesCfg.forEach(function(v){var g=(0,f.get)(u,v.field)||{};n.view.scale(v.field,(0,Nt.__assign)((0,Nt.__assign)({formatter:v.formatter},g),{type:v.type,min:v.min,max:v.max}))}),e?(this.view.data(c),this.view.render()):this.view.changeData(c)},r.prototype.onChange=function(t){var e=t.ratio,n=t.thumbOffset;this.ratio=e,this.thumbOffset=n;var a=this.view.getOptions().animate;this.view.animate(!1),this.changeViewData(this.getScrollRange(),!0),this.view.animate(a),this.renderScrollbar()},r}(Fa),TA=AA,jl=4,Qd=16,hh=function(i){i===void 0&&(i={});var r=(0,Nt.__assign)({type:"horizontal",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},trendCfg:{}},i);i.padding||(r.padding=r.type==="horizontal"?[jl,0,jl,0]:[0,jl,0,jl]),i.height||(r.height=Qd),i.width||(r.width=Qd);var t=(0,f.clamp)(Math.min(r.start,r.end),0,1),e=(0,f.clamp)(Math.max(r.start,r.end),0,1);return r.start=t,r.end=e,r},PA=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=hh(e),a=n.padding||[0,0,0,0],o=a[0],s=a[1],l=a[2],u=a[3];if(n.type==="horizontal"){var h=new Zr(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l);return h}else return new Zr(t.maxX-n.width-u-s,t.minY,n.width+u+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view,a=hh(this.getInteractionConfig());this.curStart=a.start,this.curEnd=a.end,this.xScaleCfg=void 0;var o=function(){var s=t.view.padding;if(!(s==="auto"||(0,f.isEqual)(s,[0,0,0,1]))&&!(0,f.isEmpty)(e.options.data))if(t.xScaleCfg)t.renderSlider();else{var l=n.getXScale();t.xScaleCfg={field:l.field,values:l.values||[]},n.data(t.getSliderData(t.curStart,t.curEnd)),n.render()}};n.on(gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o),this.addDisposable(function(){return n.off(gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o)}),n.on(gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o),this.addDisposable(function(){return n.off(gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},r.prototype.renderSlider=function(){this.slider?(this.slider.update(this.getSliderConfig()),this.slider.render()):(this.container=this.canvas.addGroup(),this.slider=new nn.Slider((0,Nt.__assign)((0,Nt.__assign)({},this.getSliderConfig()),{container:this.container})),this.slider.init(),this.slider.render(),this.slider.on("sliderchange",this.onChangeFn))},r.prototype.getSliderConfig=function(){var t=this.view,e=t.coordinateBBox,n=this.getRange(),a=hh(this.getInteractionConfig()),o=a||{},s=o.padding,l=s===void 0?[0,0,0,0]:s,u=o.backgroundStyle,h=o.foregroundStyle,c=o.handlerStyle,v=o.textStyle,g=o.trendCfg,C=g===void 0?{}:g,F=l[0],G=l[1],V=l[2],X=l[3],at=this.getSliderMinMaxText(this.curStart,this.curEnd),st=at.minText,xt=at.maxText,kt={x:e.minX+X,y:n.minY+F,width:e.width-X-G,height:n.height-F-V,start:this.curStart,end:this.curEnd,minText:st,maxText:xt,backgroundStyle:u,foregroundStyle:h,handlerStyle:c,textStyle:v,trendCfg:(0,Nt.__assign)((0,Nt.__assign)({isArea:!1,smooth:!1},C),{data:this.getSliderTrendData()})};return kt},r.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,e=t.data,n=t.yField;return(0,f.map)(e,function(a){return a[n]})},r.prototype.getSliderData=function(t,e){var n=this.getViewLayer().getData(),a=(0,f.size)(this.xScaleCfg.values),o=Math.round(t*a),s=Math.max(o+1,Math.round(e*a));return Kd(this.xScaleCfg.field,this.xScaleCfg.values,n,[o,s])},r.prototype.getSliderMinMaxText=function(t,e){var n=this.getViewLayer().options,a=n.data,o=a===void 0?[]:a,s=n.xField,l=(0,f.size)(o),u=Math.round(t*l),h=Math.max(u+1,Math.round(e*l)),c=o.slice(u,h);return{minText:c.length>0?(0,f.head)(c)[s]:"",maxText:c.length>0?(0,f.last)(c)[s]:""}},r.prototype.onChange=function(t){var e=this.view,n=(0,f.clamp)(Math.min(t[0],t[1]),0,1),a=(0,f.clamp)(Math.max(t[0],t[1]),0,1),o=this.getSliderData(n,a),s=this.getSliderMinMaxText(n,a),l=s.minText,u=s.maxText;this.curStart=n,this.curEnd=a,this.slider.update({start:n,end:a,minText:l,maxText:u}),this.slider.render();var h=e.getOptions().animate;e.animate(!1),e.data(o),e.render(),e.animate(h)},r}(Fa),_A=PA,LA=function(i){(0,Nt.__extends)(r,i);function r(t){return i.call(this,(0,f.deepMix)({},t))||this}return r.prototype.renderInner=function(t){var e=this;this.initElement(t),this.updateElement(),this.renderMarker(),t.off("click"),t.on("click",function(){e.emit("click")})},r.prototype.destroy=function(){this.group.off(),i.prototype.destroy.call(this)},r.prototype.initElement=function(t){this.circle=t.addShape("circle",{attrs:{x:this.config.x,y:this.config.y,r:this.config.r,fill:"#607889"}}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ffffff"}}),this.pauseGroupMarker=t.addGroup();var e=1/4*this.config.r,n=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}})},r.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=1/4*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-e/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",e),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-e/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",e)},r.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},r.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},r}(Bs),IA=LA,Jd="timelinestart",OA="timelinechange",qd="timelineend",kA="timelineupdate",BA=20,DA=20,FA=function(i){(0,Nt.__extends)(r,i);function r(t){var e=i.call(this,(0,f.deepMix)({},{speed:1,loop:!1},t))||this;return e.onTimeSelectMouseMove=function(n){n.stopPropagation(),n.preventDefault();var a=(0,f.get)(n,"touches.0.pageX",n.pageX),o=a-e.prevX;e.setTimeSelectX(o),e.prevX=a},e.onTimeSelectMouseUp=function(){e.syncCurrnentTick(),e.emit(qd,null);var n=e.getCanvas().get("container");n&&(n.removeEventListener("mousemove",e.onTimeSelectMouseMove),n.removeEventListener("mouseup",e.onTimeSelectMouseUp),n.removeEventListener("mouseleave",e.onTimeSelectMouseUp),n.removeEventListener("touchmove",e.onTimeSelectMouseMove),n.removeEventListener("touchend",e.onTimeSelectMouseUp),n.removeEventListener("touchcancel",e.onTimeSelectMouseUp))},e.onTimeSelectMouseDown=function(n){var a=n.originalEvent;a.stopPropagation(),a.preventDefault(),e.isPlay===!1?e.emit(Jd,null):(e.isPlay=!1,e.changePlayStatus(!1)),e.prevX=(0,f.get)(a,"touches.0.pageX",a.pageX);var o=e.getCanvas().get("container");o.addEventListener("mousemove",e.onTimeSelectMouseMove),o.addEventListener("mouseup",e.onTimeSelectMouseUp),o.addEventListener("mouseleave",e.onTimeSelectMouseUp),o.addEventListener("touchmove",e.onTimeSelectMouseMove),o.addEventListener("touchend",e.onTimeSelectMouseUp),o.addEventListener("touchcancel",e.onTimeSelectMouseUp)},e}return r.prototype.renderInner=function(t){var e=this.config,n=e.ticks,a=e.defaultCurrentTick;n&&n.length&&(this.currentTick=this.config.ticks.includes(a)?a:n[0],this.renderPlayButton(t),this.renderTimeLine(t),this.renderTimeSelect(t,this.currentTick),this.initEvent())},r.prototype.update=function(t){i.prototype.update.call(this,t),this.emit(kA,this.currentTick)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.timeLineButton.destroy(),this.timeLineButton.off(),this.timeSelect.off(),this.playHandler&&window.cancelAnimationFrame(this.playHandler)},r.prototype.renderPlayButton=function(t){var e=this.config,n=e.height,a=e.x,o=e.y,s=.8,l=n/2*s;this.timeLineButton?this.timeLineButton.update({x:a+l,y:o+l+n*(1-s)/2,r:l}):(this.timeLineButton=new IA({container:t,x:a+l,y:o+l+n*(1-s)/2,r:l,isPlay:this.isPlay}),this.timeLineButton.init()),this.timeLineButton.render()},r.prototype.getTimeLinePath=function(){var t=this.timeLine,e=t.x,n=t.y,a=t.width,o=t.height,s=o/2;return a>0?"M"+e+", "+n+("A"+s+","+s+" 90 0,0 "+e+","+(n+o))+("L"+(e+a)+", "+(n+o))+("A"+s+","+s+" 90 0,0 "+(e+a)+","+n)+("L"+e+", "+n):[]},r.prototype.renderTimeLine=function(t){var e=this,n=this.config,a=n.width,o=n.height,s=n.ticks,l=n.x,u=n.y;this.timeLine||(this.timeLine={}),this.timeLine.height=o*.15,this.timeLine.x=l+o+BA,this.timeLine.y=u+(o/2-this.timeLine.height/2),this.timeLine.width=a-this.timeLine.x-DA,this.timeLine&&this.timeLine.shape?this.timeLine.shape.attr("path",this.getTimeLinePath()):this.timeLine.shape=t.addShape("path",{attrs:{path:this.getTimeLinePath(),fill:"#607889",opacity:.2}});var h=this.timeLine.width/(s.length-1);this.tickPosList=[],this.timeLine.textList&&this.timeLine.textList.length&&this.timeLine.textList.forEach(function(v){v.destroy()});var c=-Infinity;this.timeLine.textList=s.map(function(v,g){e.tickPosList.push(e.timeLine.x+g*h);var C=t.addShape("text",{attrs:{x:e.timeLine.x+g*h,y:e.timeLine.y+e.timeLine.height+5,text:v,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),F=C.getBBox();return F.minX>c?(C.show(),c=F.minX+F.width+10):C.hide(),C})},r.prototype.renderTimeSelect=function(t,e){var n=this.config,a=n.ticks,o=n.height,s=this.timeLine.width/(a.length-1),l=(0,f.findIndex)(a,function(v){return v===e}),u=this.timeLine.x+l*s,h=this.config.y+o/2,c=o*.15;this.timeSelect?(this.timeSelect.attr("x",u),this.timeSelect.attr("y",h),this.timeSelect.attr("r",c)):this.timeSelect=t.addShape("circle",{attrs:{x:u,y:h,r:c,fill:"#607889"}}),this.timeSelectText?(this.timeSelectText.attr("x",u),this.timeSelectText.attr("y",h-o*.15-14),this.timeSelectText.attr("text",this.currentTick)):this.timeSelectText=t.addShape("text",{attrs:{x:u,y:h-o*.15-14,text:this.currentTick,textAlign:"center",textBaseline:"top",fill:"#607889"}})},r.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1},r.prototype.setTimeSelectX=function(t){var e=this.timeSelect.attr("x")+t;e<this.timeLine.x&&(e=this.timeLine.x),e>this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x+this.timeLine.width,this.isPlay&&(this.config.loop?this.timeSelect.attr("x")===this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x):(this.isPlay=!1,this.changePlayStatus()))),this.timeSelect.attr("x",e),this.timeSelectText.attr("x",e);var n=this.adjustTickIndex(e);this.currentTick!==this.config.ticks[n]&&(this.currentTick=this.config.ticks[n],this.timeSelectText.attr("text",this.currentTick),this.emit(OA,this.currentTick)),this.getCanvas().draw()},r.prototype.syncCurrnentTick=function(){var t=this,e=this.config.ticks,n=this.timeLine.width/(e.length-1),a=(0,f.findIndex)(e,function(s){return s===t.currentTick}),o=this.timeLine.x+a*n;this.timeSelect.attr("x",o),this.timeSelectText.attr("x",o),this.getCanvas().draw()},r.prototype.startPlay=function(){var t=this;return window.requestAnimationFrame(function(){var e=t.config,n=e.speed,a=e.ticks,o=t.timeLine.width,s=o/a.length,l=s/(n*1e3/60);t.setTimeSelectX(l),t.isPlay&&(t.playHandler=t.startPlay())})},r.prototype.changePlayStatus=function(t){t===void 0&&(t=!0),this.timeLineButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.emit(Jd,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&(this.syncCurrnentTick(),this.emit(qd,null))),this.getCanvas().draw()},r.prototype.initEvent=function(){var t=this;this.timeLineButton.off("click"),this.timeLineButton.on("click",function(){t.isPlay=!t.isPlay,t.changePlayStatus()}),this.timeSelect.off("mousedown"),this.timeSelect.on("mousedown",function(e){t.onTimeSelectMouseDown(e)})},r}(Bs),RA=FA,NA=40;function tp(i){return(0,Nt.__assign)({loop:!1,auto:!0,height:NA,padding:[0,20,0,0],speed:2},i)}var YA=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=tp(e),a=n.padding[0],o=n.padding[2];return new Zr(t.minX,t.maxY-n.height-a-o,t.width,n.height+a+o)},r.prototype.setAnimate=function(t){var e=this.view.geometries;this.view.animate(t),e.forEach(function(n){n.animate(t)})},r.prototype.start=function(){},r.prototype.renderTimeLine=function(){var t=this;this.config=tp(this.getInteractionConfig());var e=this.view.viewBBox,n=this.config,a=n.loop,o=n.padding,s=n.speed,l=o[0],u=o[1],h=o[2],c=o[3],v=this.getRange(),g=this.getTicks(),C=e.width-c-u,F={x:e.minX+c,y:v.tl.y+l,width:C,height:v.height-l-h,loop:a,ticks:g,speed:s,defaultCurrentTick:g[0]};this.timeline?(0,f.isEqual)(F,this.timeLineConfig)||(this.timeLineConfig=F,this.timeline.update(F)):(this.container=this.canvas.addGroup(),this.timeline=new RA((0,Nt.__assign)({container:this.container},F)),this.timeline.init(),this.timeline.render(),this.timeline.on("timelinestart",function(){t.originAnimation=t.view.getOptions().animate,t.setAnimate(!0)}),this.timeline.on("timelineend",function(){t.setAnimate(t.originAnimation)}),this.timeline.on("timelinechange",this.onChangeFn),this.timeline.on("timelineupdate",this.onChange.bind(this)),this.view.data(this.getFilterData(g[0])),this.timeLineConfig=F)},r.prototype.onChange=function(t){var e=this.getFilterData(t);this.view.changeData(e)},r.prototype.getFilterData=function(t){var e=this.config.field,n=this.getViewLayer().options.data;return n.filter(function(a){return a[e]===t})},r.prototype.getTicks=function(){var t=this.config.field,e=this.getViewLayer().options.data;return(0,f.uniq)(e.map(function(n){return n[t]}))},r.prototype.render=function(){var t=this;this.firstRender=!0,this.view.on(gn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.renderTimeLine()}),this.view.on(gn.VIEW_LIFE_CIRCLE.BEFORE_PAINT,function(){t.renderTimeLine()}),this.view.on(gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1}),this.view.on(gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1})},r.prototype.clear=function(){this.timeline&&(this.timeline.destroy(),this.timeline=null),this.container&&(this.container.remove(!0),this.container=null)},r}(Fa),GA=YA;function zA(i,r){var t=[1,0,0,0,1,0,0,0,1],e=dn.transform(t,r);i.setMatrix(e)}function es(i,r){var t=r?(0,f.clone)(r):[1,0,0,0,1,0,0,0,1];return dn.transform(t,i)}function ep(i,r,t,e){var n=e?(0,f.clone)(e):[1,0,0,0,1,0,0,0,1];n[6]=r,n[7]=t,i.setMatrix(n)}function XA(i,r,t){md.translate(i,r,t)}function lG(i,r){Util.rotate(i,r)}var VA=document.createElement("canvas"),rp=VA.getContext("2d"),Ul=(0,f.memoize)(function(i,r){r===void 0&&(r={});var t=r.fontSize,e=r.fontFamily,n=r.fontWeight,a=r.fontStyle,o=r.fontVariant;return rp.font=[a,o,n,t+"px",e].join(" "),rp.measureText((0,f.isString)(i)?i:"").width},function(i,r){return r?(0,Nt.__spreadArrays)([i],(0,f.values)(r)).join(""):i}),np=function(i,r,t){var e=16,n=Ul("...",t),a;(0,f.isString)(i)?a=i:a=(0,f.toString)(i);var o=r,s=[],l,u;if(Ul(i,t)<=r)return i;for(;l=a.substr(0,e),u=Ul(l,t),!(u+n>o&&u>o);)if(s.push(l),o-=u,a=a.substr(e),!a)return s.join("");for(;l=a.substr(0,1),u=Ul(l,t),!(u+n>o);)if(s.push(l),o-=u,a=a.substr(1),!a)return s.join("");return s.join("")+"..."},Vn;(function(i){i.TOOLTIP_INDICATOR_INNER="tooltip_indicator-inner",i.TOOLTIP_INDICATOR_TITLE="tooltip_indicator-title",i.TOOLTIP_INDICATOR_BODY="tooltip_indicator-body",i.TOOLTIP_INDICATOR_ITEM_GROUP="tooltip_indicator-item-group",i.TOOLTIP_INDICATOR_ITEM_BACKGROUND="tooltip_indicator-item-background",i.TOOLTIP_INDICATOR_ITEM_LINE="tooltip_indicator-item-line",i.TOOLTIP_INDICATOR_ITEM_TITLE="tooltip_indicator-item-title",i.TOOLTIP_INDICATOR_ITEM_BODY="tooltip_indicator-item-body",i.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP="tooltip_indicator-item-value-group",i.TOOLTIP_INDICATOR_ITEM_NAME="tooltip_indicator-item-name",i.TOOLTIP_INDICATOR_ITEM_VALUE="tooltip_indicator-item-value"})(Vn||(Vn={}));var Zl;(function(i){i.ON_SELECT_ITEM="onSelectItem"})(Zl||(Zl={}));var So;(function(i){i[i.LARGE=12]="LARGE",i[i.NORMAL=8]="NORMAL",i[i.SMALL=4]="SMALL"})(So||(So={}));var HA=160,WA=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.curX=0,t.curY=0,t.offsetX=0,t.scrollWidth=0,t.onBodyGroupMousemove=function(e){var n=UA(e.target,function(o){return o.get("name")===Vn.TOOLTIP_INDICATOR_ITEM_GROUP});if(n){var a=n.get("delegateObject");t.doSelectItem(a.item.id)}},t.onWheel=function(e){var n=t.config.width,a=n===void 0?0:n,o=e.deltaX,s=Math.min(t.scrollWidth-a,0)-(t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2)),l=Math.max(t.scrollWidth-a,0)+t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2),u=(0,f.clamp)(t.offsetX+o,s,l);u!==t.offsetX&&(XA(t.bodyGroup,t.offsetX-u,0),t.offsetX=u)},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.selectItem=function(t){this.doSelectItem(t)},r.prototype.resetSelect=function(){this.doSelectItem(this.selectedItemId)},r.prototype.initConfig=function(t){var e,n=t.theme,a=n===void 0?{}:n,o={x:0,y:0,title:{text:"",spacingY:So.NORMAL,style:{}},line:{spacingX:So.SMALL,width:2,style:{}},itemTitle:{spacingX:0,spacingY:So.SMALL,style:{}},itemName:{spacingX:So.NORMAL,spacingY:So.SMALL,style:{}},itemValue:{style:{}},itemBackground:{style:{opacity:0,fill:"#000"}},itemSpacing:So.LARGE};this.config=(0,f.deepMix)({},(e=a==null?void 0:a.components)===null||e===void 0?void 0:e.tooltipIndicator,o,t),this.selectedItemId=this.config.selectedItem},r.prototype.renderInner=function(t){var e=this;this.resetRender();var n=this.config,a=n.items,o=n.x,s=n.y,l=[],u=t.addGroup({name:Vn.TOOLTIP_INDICATOR_INNER});this.renderTitle(u),this.bodyGroup=u.addGroup({name:Vn.TOOLTIP_INDICATOR_BODY}),a==null||a.forEach(function(h,c){l.push(e.renderItem(e.bodyGroup,h,c))}),this.layoutItems(u),ep(u,o,s),this.applyClip(t),this.bindEvents(u)},r.prototype.renderTitle=function(t){var e=this.config.title;if(e==null?void 0:e.text){var n=t.addShape({type:"text",name:Vn.TOOLTIP_INDICATOR_TITLE,attrs:(0,Nt.__assign)({text:e==null?void 0:e.text,textAlign:"left",textBaseline:"top"},(e==null?void 0:e.style)||{})}),a=n.getBBox();return this.curY+=a.height,this.curY+=e.spacingY||0,n}},r.prototype.renderItem=function(t,e,n){var a=this.config.itemBackground,o=t.addGroup({name:Vn.TOOLTIP_INDICATOR_ITEM_GROUP,delegateObject:{item:e,index:n}}),s=this.curX,l=this.curY,u=o.addShape({name:Vn.TOOLTIP_INDICATOR_ITEM_BACKGROUND,type:"rect",attrs:(0,Nt.__assign)({x:this.curX,y:this.curY,width:1,height:1},a.style||{})}),h=this.renderLine(o,e);this.renderItemTitle(o,e),this.renderItemValues(o,e);var c=o.getBBox();return h.attr({y2:h.attr("y1")+c.height}),this.curX=s+c.width,this.curX+=this.config.itemSpacing||0,u.attr({width:this.curX-s-u.attr("lineWidth")*2,height:this.curY-l-u.attr("lineWidth")*2}),this.curY=l,o},r.prototype.renderLine=function(t,e){var n=this.config.line,a=n.width||2,o=(0,Nt.__assign)({x1:this.curX+a/2,y1:this.curY,x2:this.curX+a/2,y2:this.curY,lineWidth:a,stroke:e.color},(n==null?void 0:n.style)||{}),s=t.addShape({name:Vn.TOOLTIP_INDICATOR_ITEM_LINE,type:"line",attrs:o}),l=s.getBBox();return this.curX+=l.width,this.curX+=n.spacingX||0,s},r.prototype.renderItemTitle=function(t,e){var n=this.config.itemTitle,a=np(e.title,HA,n.style||{}),o=t.addShape({name:Vn.TOOLTIP_INDICATOR_ITEM_TITLE,type:"text",attrs:(0,Nt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:a},n.style||{})}),s=o.getBBox();return this.curY+=s.height,this.curY+=n.spacingY||0,o},r.prototype.renderItemValues=function(t,e){var n=this,a,o=t.addGroup({name:Vn.TOOLTIP_INDICATOR_ITEM_BODY}),s=this.curX;return(a=e.values)===null||a===void 0||a.forEach(function(l,u){var h=o.addGroup({name:Vn.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP,delegateObject:{item:e,valueIndex:u}});n.curX=s,n.renderItemValueName(h,l),n.renderItemValueValue(h,l)}),this.layoutItemValues(o),o},r.prototype.renderItemValueName=function(t,e){var n=this.config.itemName;if(e.name){var a=t.addShape({name:Vn.TOOLTIP_INDICATOR_ITEM_NAME,type:"text",attrs:(0,Nt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.name},n.style||{})}),o=a.getBBox();return e.wrapLine?(this.curY+=o.height,this.curY+=n.spacingY||0):(this.curX+=o.width,this.curX+=n.spacingX||0),a}},r.prototype.renderItemValueValue=function(t,e){var n=this.config,a=n.itemName,o=n.itemValue,s=t.addShape({name:Vn.TOOLTIP_INDICATOR_ITEM_VALUE,type:"text",attrs:(0,Nt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.value},o.style||{})}),l=s.getBBox();return this.curY+=l.height,this.curY+=a.spacingY||0,s},r.prototype.layoutItems=function(t){var e=t.findAllByName(Vn.TOOLTIP_INDICATOR_BODY)[0],n=t.findAllByName(Vn.TOOLTIP_INDICATOR_ITEM_GROUP);if(!(!e||n.length===0)){var a=e.getBBox();this.scrollWidth=a.width}},r.prototype.layoutItemValues=function(t){var e=t.findAllByName(Vn.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP),n=e.map(function(l){return Zr.fromBBoxObject(l.getBBox())}),a=t.findAllByName(Vn.TOOLTIP_INDICATOR_ITEM_VALUE),o=a.map(function(l){return Zr.fromBBoxObject(l.getBBox())}),s=Math.max.apply(Math,o.map(function(l){return l.maxX}));e.forEach(function(l,u){var h=n[u],c=l.findAllByName(Vn.TOOLTIP_INDICATOR_ITEM_NAME)[0],v=l.findAllByName(Vn.TOOLTIP_INDICATOR_ITEM_VALUE)[0];if(c&&v){var g=Zr.fromBBoxObject(c.getBBox()),C=Zr.fromBBoxObject(v.getBBox());g.height<h.height&&c.attr("y",c.attr("y")+(h.height-g.height)/2),C.height<h.height&&v.attr("y",v.attr("y")+(h.height-C.height)/2),C.maxX<s&&v.attr("x",v.attr("x")+s-C.maxX)}})},r.prototype.applyClip=function(t){var e=this.config,n=e.x,a=e.y,o=e.width,s=e.height,l=t.getBBox();(o||s)&&t.setClip({type:"rect",attrs:{x:n,y:a,width:o||l.width,height:s||l.height}})},r.prototype.doSelectItem=function(t){var e=this,n=this.getGroup(),a=n.findAllByName(Vn.TOOLTIP_INDICATOR_ITEM_GROUP);t!==this.selectedItemId?(a.forEach(function(o){var s=o.get("delegateObject");s&&e.applyItemStyle(o,s.item.id===t?"selected":"inactive")}),this.selectedItemId=t):(a.forEach(function(o){e.applyItemStyle(o)}),this.selectedItemId=void 0),this.emit(Zl.ON_SELECT_ITEM,this.selectedItemId)},r.prototype.applyItemStyle=function(t,e){var n=this.config,a=n.line,o=n.itemTitle,s=n.itemName,l=n.itemValue,u=t.findAllByName(Vn.TOOLTIP_INDICATOR_ITEM_LINE)[0],h=t.findAllByName(Vn.TOOLTIP_INDICATOR_ITEM_TITLE)[0],c=t.findAllByName(Vn.TOOLTIP_INDICATOR_ITEM_NAME),v=t.findAllByName(Vn.TOOLTIP_INDICATOR_ITEM_VALUE),g=e&&e+"Style";u&&(u.attr(a.style),u.attr(a[g]||{})),h&&(h.attr(o.style),h.attr(o[g]||{})),c.forEach(function(C){C.attr(s.style),C.attr(s[g]||{})}),v.forEach(function(C){C.attr(l.style),C.attr(l[g]||{})})},r.prototype.bindEvents=function(t){var e=this;this.offEvents();var n=t.findAllByName(Vn.TOOLTIP_INDICATOR_BODY)[0];n.on("mousemove",this.onBodyGroupMousemove),this.addDisposable(function(){n.off("mousemove",e.onBodyGroupMousemove)}),this.gm=new wd(n),this.wheel=new xE(n),this.wheel.on("wheel",this.onWheel)},r.prototype.offEvents=function(){this.gm&&this.gm.destroy(),this.wheel&&this.wheel.destroy()},r.prototype.resetRender=function(){this.curX=0,this.curY=0,this.offsetX=0},r}(Bs),jA=WA;function UA(i,r){for(var t=i;t;){if(r(t))return t;t=t.getParent()}}function ZA(i,r){return(0,f.filter)(i.geometries,function(t){return t.type===r})}function Co(i,r){return(0,f.head)(ZA(i,r))}function KA(i){return(0,f.map)(i.elements,function(r){return r.shape})}function uG(i,r){i.geometries.forEach(r)}function ch(i,r){i.geometries.forEach(function(t){t.elements.forEach(function(e){r(e)})})}function $A(i,r,t){return(0,f.some)(r,function(e){return t(e.get(la),i.get(la))})}function Kl(i,r){var t=i.getBBox(),e=0,n=0;t.minX<r.minX?e=t.minX-r.minX:t.maxX>r.maxX&&(e=t.maxX-r.maxX),e&&i.attr("x",i.attr("x")-e),t.minY<r.minY?n=t.minY-r.minY:t.maxY>r.maxY&&(n=t.maxY-r.maxY),n&&i.attr("y",i.attr("y")-n)}function vh(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function $l(i,r){var t=i.getBBox();return(0,f.some)(r,function(e){var n=e.getBBox();return vh(t,n,2)>0})}var ip=8,ap=function(i){i===void 0&&(i={});var r=(0,Nt.__assign)({showTotal:!1,showPercent:!1,padding:[ip,24,ip,24],height:i.showPercent?72:54},i);return r},rs;(function(i){i.ACTIVE_ELEMENT="tooltip_indicator_active_element",i.ACTIVE_ELEMENT_BY_X="tooltip_indicator_active_element_by_x"})(rs||(rs={}));var QA=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.state="selected",t.isSingle=!1,t}return r.prototype.active=function(){var t=wE.getCurrentElement(this.context);t.hasState("selected")?this.isSingle?this.setStateByX(t):this.setState(t):this.setStateByX(t)},r.prototype.setState=function(t){var e=this;ch(this.getView(),function(n){n===t?n.hasState(e.state)||n.setState(e.state,!0):n.setState(e.state,!1)}),this.isSingle=!0,this.getView().emit(rs.ACTIVE_ELEMENT,{element:t,isSingle:!0})},r.prototype.setStateByX=function(t){var e=this,n=this.getXField(),a=t.getData()[n];ch(this.getView(),function(o){o.getData()[n]===a?o.hasState(e.state)||o.setState(e.state,!0):o.setState(e.state,!1)}),this.isSingle=!1,this.getView().emit(rs.ACTIVE_ELEMENT_BY_X,{element:t,isSingle:!1})},r.prototype.setStateByField=function(t,e){var n=this,a=this.getView().getXScale().field,o=this.getView().getGroupScales()[0].field;ch(this.getView(),function(s){var l=s.getData();s.setState(n.state,l[a]===t&&(e===void 0||l[o]===e))})},r.prototype.getView=function(){return this.context.view},r.prototype.getXField=function(){var t=this.context.view;return t.getXScale().field},r}(tn);Ir("tooltip-indicator",QA),on("element-tooltip-indicator",{start:[{trigger:"element:mousemove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"element:touchmove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}}]});var JA=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onElementActive=function(e){var n=e.element,a=e.isSingle,o=t.view.getXScale(),s=t.view.getXScale().field,l=t.view.getGroupScales()[0].field,u=n.getData(),h=u[s],c=t.getLegendItems(h);t.component.update({items:c,title:{text:o.getText(h)}}),t.component.render(),a&&t.component.selectItem(u[l]),t.curX=h},t.onSelectTooltipIndicatorItem=function(e){t.component&&e&&t.getInteractionAction().setStateByField(t.curX,e)},t}return r.getInteractionRange=function(t,e){var n=ap(e),a=n.padding,o=a[0],s=a[2];return new Zr(t.minX,t.minY,t.width,n.height+o+s)},r.prototype.clear=function(){this.component&&this.component.destroy(),this.container&&this.container.remove(!0),this.component=null,this.container=null},r.prototype.render=function(){var t=this,e=this.view,n=function(){var a=t.view.getXScale(),o=(0,f.last)(a.getTicks()).tickValue,s=t.view.padding;(0,f.isEqual)([0,0,0,0],s)||(t.component?t.updateComponent():(t.createComponent(),t.component.on(Zl.ON_SELECT_ITEM,t.onSelectTooltipIndicatorItem)),t.curX=o,t.component.update({title:{text:a.getText(t.curX)}}),t.component.render(),t.getInteractionAction().setStateByField(o))};e.legend(!1),e.removeInteraction("active-region"),e.removeInteraction("tooltip"),e.interaction("element-tooltip-indicator"),e.on(gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,n),e.on(gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,n),e.on(rs.ACTIVE_ELEMENT,this.onElementActive),e.on(rs.ACTIVE_ELEMENT_BY_X,this.onElementActive)},r.prototype.getInteractionAction=function(){var t=this.view.interactions["element-tooltip-indicator"];return t&&t.context.getAction("tooltip-indicator")},r.prototype.createComponent=function(){var t=ap(this.getInteractionConfig()).padding,e=t[0],n=t[1],a=t[2],o=t[3],s=this.getLegendItems(),l=this.getRange(),u=this.view.getXScale(),h=(0,f.last)(u.getTicks()).tickValue;this.container=this.canvas.addGroup(),this.component=new jA({container:this.container,x:l.x+o,y:l.y+e,width:l.width-o-n,height:l.height-e-a,theme:this.getViewLayer().getPlotTheme(),items:s}),this.component.init(),this.getInteractionAction().setStateByField(h)},r.prototype.updateComponent=function(){var t=this.getLegendItems();this.component.update({items:t})},r.prototype.getLegendItems=function(t){var e=this.view,n=e.getData(),a=e.getTheme().defaultColor,o=e.getXScale(),s=e.getYScales()[0],l=t||(0,f.last)(o.getTicks()).tickValue,u=e.getLegendAttributes(),h=u.find(function(F){return F.type==="color"}),c=[],v=e.getGroupScales()[0],g=v.field;v&&v.isCategory&&v.getTicks().forEach(function(F){var G=F.text,V=F.tickValue,X=h.mapping(V).join("")||a;c.push({id:V,title:G,color:X,values:[]})});var C=(n==null?void 0:n.filter(function(F){return F[o.field]===l}))||[];return c.forEach(function(F){var G=C.find(function(V){return V[g]===F.id});F.values.push({value:s.formatter?s.formatter(G[s.field]):G[s.field]})}),c},r}(Fa),qA=JA;Fa.registerInteraction("slider",_A),Fa.registerInteraction("scrollbar",TA),Fa.registerInteraction("timeline",GA),Fa.registerInteraction("tooltip-indicator",qA);var op=Fa,tT=function(){function i(r){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=r.plot}return i.prototype.registerPadding=function(r,t,e){t===void 0&&(t="outer"),e===void 0&&(e=!1),t==="inner"?e?this.innerPaddingComponents.find(function(n){return n==r})||this.innerPaddingComponents.push(r):this.innerPaddingComponents.push(r):e?this.outerPaddingComponents.find(function(n){return n==r})||this.outerPaddingComponents.push(r):this.outerPaddingComponents.push(r)},i.prototype.getPaddingComponents=function(r){return r===void 0&&(r="outer"),(r==="outer"?this.outerPaddingComponents:this.innerPaddingComponents)||[]},i.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=(0,f.filter)(this.outerPaddingComponents,function(r){return r.afterRender})},i.prototype.clearOuterComponents=function(){(0,f.each)(this.outerPaddingComponents,function(r){r.afterRender&&r.destroy()}),this.outerPaddingComponents=[]},i.prototype.getPadding=function(){var r=this.plot.options,t=r.padding?r.padding:this.plot.config.theme.padding;return t==="auto"?[0,0,0,1]:t},i.prototype.processAutoPadding=function(){var r=this._getInnerAutoPadding();this.plot.updateConfig({padding:r}),this.plot.render()},i.prototype.processOuterPadding=function(){this.plot.layerBBox||(this.plot.layerBBox=new Zr(this.plot.x,this.plot.y,this.plot.width,this.plot.height));var r=this.plot.layerBBox.minX,t=this.plot.layerBBox.maxX,e=this.plot.layerBBox.minY,n=this.plot.layerBBox.maxY;return(0,f.each)(this.outerPaddingComponents,function(a){var o=a.position;if(!a.destroyed){var s=a.getBBox(),l=s.minX,u=s.maxX,h=s.minY,c=s.maxY;c>=e&&c<=n&&o==="top"&&(e=c),h>=e&&h<=n&&o==="bottom"&&(n=h),u>r&&u<=t&&o==="left"&&(r=u),l>=r&&u<=t&&o==="right"&&(t=l)}}),new Zr(r,e,t-r,n-e)},i.prototype._getInnerAutoPadding=function(){var r,t=this.plot.options,e=this.plot.view,n=e.coordinateBBox,a=n.maxX,o=n.maxY,s=n.minY,l=n.minX,u=this.plot.config.theme.bleeding;(0,f.isArray)(u)&&(0,f.each)(u,function(F,G){typeof u[G]=="function"&&(u[G]=u[G](t))}),this.bleeding=(0,f.clone)(u);var h=[new Zr(n.minX,n.minY,n.width,n.height)];((r=this.plot.config.coordinate)===null||r===void 0?void 0:r.type)==="cartesian"&&this._getCartesianAxis(e,h[0],h);var c=this._mergeBBox(h);this._getLegend(e,c,h),c=this._mergeBBox(h);var v=this.innerPaddingComponents;(0,f.each)(v,function(F){var G=F,V=G.getBBox();h.push(V)}),c=this._mergeBBox(h);var g=[s-c.minY+this.bleeding[0],c.maxX-a+this.bleeding[1],c.maxY-o+this.bleeding[2],l-c.minX+this.bleeding[3]],C=this._getPanel(e);return g[0]+=C[0],g[1]+=C[1],g[2]+=C[2],g[3]+=C[3],g},i.prototype._getCartesianAxis=function(r,t,e){var n=BE(r),a=r.getCoordinate().isTransposed;(0,f.each)(n,function(o){if(o.get("group").get("children").length!==0){var s=o.get("position"),l=o.getLayoutBBox(),u=l.minX,h=l.minY,c=l.width,v=l.height;a?s==="bottom"?e.push(new Zr(t.minX-c,h,c,v)):s==="left"?e.push(new Zr(u,t.maxY,c,v)):s==="top"&&e.push(new Zr(t.maxX,h,c,v)):s==="left"?e.push(new Zr(t.minX-c,h,c,v)):s==="bottom"?e.push(new Zr(u,t.maxY,c,v)):s==="right"&&e.push(new Zr(t.maxX,h,c,v))}})},i.prototype._getLegend=function(r,t,e){var n=DE(r);(0,f.each)(n,function(a){var o=a.get("position").split("-")[0],s=a.getLayoutBBox(),l=s.minX,u=s.minY,h=s.width,c=s.height;o==="top"?e.push(new Zr(l,t.minY-c,h,c)):o==="bottom"?e.push(new Zr(l,t.maxY,h,c)):o==="left"?e.push(new Zr(t.minX-h,u,h,c)):e.push(new Zr(t.maxX,u,h,c))})},i.prototype._getPanel=function(r){var t=[],e=r.geometries;(0,f.each)(e,function(C){C.labelsContainer&&t.push(C.labelsContainer)});var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;(0,f.each)(t,function(C){var F=C.get("children");F.forEach(function(G){if(!(G.type==="group"&&G.get("children").length===0)){var V=G.getBBox();V.minX<n&&(n=V.minX),V.maxX>a&&(a=V.maxX),V.minY<o&&(o=V.minY),V.maxY>s&&(s=V.maxY)}})});var l=r.coordinateBBox,u=Math.max(a-parseFloat(l.maxX),0);if(u>0){var h=l.width/(l.width+u);u*=h}var c=Math.max(parseFloat(l.minX)-n,0);if(c>0){var h=l.width/(l.width+c);c*=h}var v=Math.max(parseFloat(l.minY)-o,0);if(v>0){var h=l.height/(l.height+v);v*=h}var g=Math.max(s-parseFloat(l.maxY),0);if(g>0){var h=l.height/(l.height+g);g*=h}return[v,u,g,c]},i.prototype._mergeBBox=function(r){var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity;return(0,f.each)(r,function(o){var s=o;t=Math.min(s.minX,t),e=Math.max(s.maxX,e),n=Math.min(s.minY,n),a=Math.max(s.maxY,a)}),{minX:t,maxX:e,minY:n,maxY:a}},i}(),eT=tT,rT="#5B8FF9",nT=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],iT=["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"],sp=function(i){return i&&i.split("-")[0]==="top"?12:24},lp=function(i){var r=i.title&&i.title.visible,t=i.description&&i.description.visible;return r||t?12:24},up=function(i){return(0,f.some)(i.interactions||[],function(r){return(r.type==="slider"||r.type==="scrollbar")&&(r.cfg&&r.cfg.type)!=="vertical"})?8:24},fp={width:400,height:400,bleeding:[lp,24,up,24],padding:"auto",defaultColor:rT,colors:nT,colors_20:iT,title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fill:"black",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,sp,24],fontFamily:"PingFang SC",fontSize:12,fill:"grey",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(0,0,0,0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(0, 0, 0, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,grid:{line:{style:{lineDash:null,lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}}},line:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}},tickLine:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},radius:{label:{textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:"#595959"},style:{fill:"#595959",stroke:"#ffffff",lineWidth:2}},tooltip:{"g2-tooltip":{boxShadow:"0px 0px 8px rgba(0,0,0,0.15)"},offset:10},components:{legend:{margin:[0,24,24,24]},tooltipIndicator:{title:{style:{fontSize:14,fill:"#262626"}},line:{style:{opacity:1},inactiveStyle:{opacity:.3}},itemTitle:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemName:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemValue:{style:{fontSize:14,fontWeight:"bold",fill:"#595959",opacity:1},inactiveStyle:{opacity:.3}}}}},aT={backgroundStyle:{fill:"#262626"},defaultColor:"#5B8FF9",width:400,height:400,bleeding:[lp,24,up,24],padding:"auto",title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fontWeight:"bold",fill:"rgba(255,255,255,0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,sp,24],fontFamily:"PingFang SC",fontSize:12,fill:"rgba(255, 255, 255, 0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,autoRotate:!1,autoHide:!0,textStyle:{fill:"rgba(255, 255, 255, 0.45)",fontSize:12}},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)"}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12},offset:16,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12}}},circle:{autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"#E3E8EC"}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},tickLine:{style:{lineWidth:1,stroke:"#bdc8d3",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"#a0a4aa",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"#767b84",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:"#a0a4aa",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],title:{visible:!1,style:{fill:"#bdc8d3"}},text:{style:{fill:"#bdc8d3"}}},label:{offset:12,textStyle:{fill:"rgba(255, 255, 255, 0.65)"},style:{fill:"rgba(255, 255, 255, 0.65)",lineWidth:1}},components:{tooltip:{domStyles:{"g2-tooltip":{backgroundColor:"rgba(33,33,33, 0.95)",boxShadow:"0px 0px 8px rgba(0,0,0,0.65)",color:"rgba(255, 255, 255, 0.65)"}}}}},hp={default:fp,dark:aT};function fG(i,r){var t=Ni();hp[i.toLowerCase()]=deepMix({},t,r)}function Ni(i){i===void 0&&(i="default");var r=hp[i.toLowerCase()];return r||(console.warn("error in theme: Can't find the theme named %s. Please register theme first.",i),fp)}var cp={};function vp(i,r){var t={lineStyle:"line.line",columnStyle:"interval.rect",pointStyle:"point.circle"},e={};i==="area"&&(t={areaStyle:"area.area",lineStyle:"area.line",pointStyle:"point.circle"});var n={};return(0,f.each)(r,function(a,o){var s;if((0,f.has)(t,o)){var l=t[o];(0,f.each)(a,function(u,h){(0,f.set)(n,l+"."+[h==="normal"?"default":h==="disable"?"inactive":h]+".style",u)})}else e=(0,f.deepMix)({},e,(s={},s[o]=a,s))}),(0,f.isEmpty)(n)||(e=(0,f.deepMix)({},e,{geometries:n})),e}function ra(i,r){cp[i.toLowerCase()]=vp(i,r)}function dp(i){return cp[i.toLowerCase()]||{}}function oT(i){var r=(0,f.clone)(i);return r.legend||(r.legend={}),r}var dh={axis:{x:{category:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"textWrapper",option:{lineNumber:2}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}},linear:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"nodesResampling",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"robustAbbrevaite",option:{unit:"thousand",decimal:1,abbreviateBy:"end"}},{name:"textHide"}]}},dateTime:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"datetimeStringAbbrevaite"},{name:"nodesResamplingByAbbrevate",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"nodesResampling"},{name:"nodesResampling"},{name:"textHide"}]}}},y:{linear:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"digitsAbbreviate"},{name:"textHide"}]}},category:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}}}}},pp={default:dh};function gp(i,r){pp[i.toLowerCase()]=(0,f.deepMix)({},dh,r)}function yp(i){var r=pp[i.toLowerCase()];return r||dh}var sT=B(),lT=function(){function i(){}return i.getGlobalTheme=function(r){return(0,f.isString)(r)?Ni(r):(0,f.deepMix)({},Ni(),r)},i.prototype.getPlotTheme=function(r,t){var e=r.theme;return(0,f.isString)(e)?(0,f.deepMix)({},Ni(e),dp(t)):(0,f.deepMix)({},Ni(),dp(t),vp(t,e))},i.prototype.getTheme=function(r,t){var e=oT(this.getPlotTheme(r,t)),n=(0,f.deepMix)({},sT,e);return n},i.prototype.getResponsiveTheme=function(r){return yp(r)||yp("default")},i}(),ph=lT,uT=function(i){(0,Nt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.interactions=[],e.labels=[],e.options=e.getOptions(t),e.initialOptions=(0,f.deepMix)({},e.options),e.paddingController=new eT({plot:e}),e.stateController=new lA({plot:e}),e.themeController=new ph,e}return r.getDefaultOptions=function(){return{renderer:"canvas",title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"},padding:"auto",legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20},xAxis:{visible:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},label:{visible:!1},interactions:[{type:"tooltip"},{type:"legend-active"},{type:"legend-filter"}],animation:!0}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t),o=(0,f.reduce)((0,f.flatten)((0,f.map)([n,a,(0,f.hasKey)(t,"interactions")?t:e],function(s){return(0,f.get)(s,"interactions",[])})),function(s,l){var u=(0,f.findIndex)(s,function(h){return h.type===l.type});return u>=0&&s.splice(u,1),(0,Nt.__spreadArrays)(s,[l])},[]);return(0,f.deepMix)({},n,a,e,t,{interactions:o})},r.prototype.beforeInit=function(){this.emit(Wa.BEFORE_INIT),i.prototype.beforeInit.call(this)},r.prototype.init=function(){var t=this;i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={data:this.processData(this.options.data),scales:{},legends:{},tooltip:{showTitle:!0},axes:{},coordinate:{type:"cartesian"},geometries:[],annotations:[],interactions:[],theme:this.theme,panelRange:{},animate:{},views:[]},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.interaction(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange();var e=this.viewRangeToRegion(this.viewRange);this.view=new ws({parent:null,canvas:this.canvas,backgroundGroup:this.container.addGroup(),middleGroup:this.container.addGroup(),foregroundGroup:this.container.addGroup(),padding:this.paddingController.getPadding(),theme:this.theme,options:this.config,limitInPlot:this.isLimitInPlot(),region:e}),this.applyInteractions(),this.view.on(gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.afterRender()})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this),!(!this.view||this.view.destroyed)&&(this.options.padding!=="auto"&&this.parseEvents(),this.emit(Wa.AFTER_INIT))},r.prototype.afterRender=function(){var t,e;if(!(!this.view||this.view.destroyed)){var n=this.options,a=n.padding?n.padding:this.config.theme.padding;n.defaultState&&a!=="auto"&&this.stateController.defaultStates(n.defaultState),a==="auto"&&this.paddingController.processAutoPadding(),((e=(t=n.tooltip)===null||t===void 0?void 0:t.custom)===null||e===void 0?void 0:e.onChange)&&n.padding!=="auto"&&this.customTooltip()}},r.prototype.render=function(){this.emit(Wa.BEFORE_RENDER),i.prototype.render.call(this);var t=this.options.data;(0,f.isEmpty)(t)||this.view.render(),this.emit(Wa.AFTER_RENDER)},r.prototype.repaint=function(){this.canvas&&this.canvas.draw()},r.prototype.getScaleByField=function(t){return this.view.getScaleByField(t)},r.prototype.getXScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.getYScale=function(){var t=this.options.yField;if(t)return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options;if((0,f.contains)(t,"colorField"))return this.view.getScaleByField(t)},r.prototype.getShapes=function(){var t=this.view.geometries,e={};return(0,f.each)(t,function(n){var a=n.type;e[a]=n.getShapes()}),e},r.prototype.destroy=function(){this.doDestroy(),i.prototype.destroy.call(this)},r.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&this.initialOptions.padding==="auto"&&(t.padding="auto"),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){this.emit(Wa.BEFORE_CHANGE_DATA);var e=(0,f.isEmpty)(this.options.data);this.options.data=this.processData(t),e?(this.options.padding=this.initialOptions.padding||"auto",this.view.data(this.options.data),this.view.render()):this.view.changeData(this.options.data),this.emit(Wa.AFTER_CHANGE_DATA)},r.prototype.getPlot=function(){return this.view},r.prototype.getLabels=function(){return this.labels},r.prototype.getTheme=function(){return this.theme?this.theme:this.themeController.getTheme(this.options,this.type)},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},r.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},r.prototype.getInteractions=function(){return this.interactions},r.prototype.bindStateManager=function(t,e){this.stateController.bindStateManager(t,e)},r.prototype.setActive=function(t,e){this.stateController.setState({type:"active",condition:t,style:e})},r.prototype.setSelected=function(t,e){this.stateController.setState({type:"selected",condition:t,style:e})},r.prototype.setDisable=function(t,e){this.stateController.setState({type:"disable",condition:t,style:e})},r.prototype.setDefault=function(t,e){this.stateController.setState({type:"default",condition:t,style:e})},r.prototype.getData=function(t,e){return this.processData((this.options.data||[]).slice(t,e))},r.prototype.processData=function(t){return t},r.prototype.scale=function(){var t=(0,f.mapValues)(this.config.scales,function(n){var a=n.type;return a?{type:a}:{}}),e=(0,f.deepMix)({},this.config.scales,this.options.meta||{},t);this.setConfig("scales",e)},r.prototype.axis=function(){var t=ki("axis",{plot:this,dim:"x"}),e=ki("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.tooltip=function(){var t,e;if(this.options.tooltip.visible===!1){this.setConfig("tooltip",!1);return}var n=(0,f.get)(this.options,"tooltip");((t=n.custom)===null||t===void 0?void 0:t.container)&&(n.container=n.custom.container),((e=n.custom)===null||e===void 0?void 0:e.customContent)&&(n.customContent=n.custom.customContent),this.setConfig("tooltip",(0,f.deepMix)({},n)),(0,f.deepMix)(this.config.theme.tooltip,this.options.tooltip.domStyles)},r.prototype.createTooltipContainer=function(){var t=document.createElement("div");return t.className="g2-tooltip",t},r.prototype.customTooltip=function(){var t=this.options.tooltip.custom,e;t.container&&(e=(0,f.isString)(t.container)?document.getElementById(t.container):t.container),e||(e=this.createTooltipContainer()),this.view.on("tooltip:show",function(n){(t==null?void 0:t.onChange)&&t.onChange(e,n)}),this.view.hideTooltip(),this.view.on("tooltip:change",function(n){t.onChange(e,n)})},r.prototype.getLegendPosition=function(t){var e=t.split("-");return e&&e.length>1&&e[1]==="center"?e[0]:t},r.prototype.legend=function(){var t;if(this.options.legend.visible===!1){this.setConfig("legends",!1);return}var e=(0,f.deepMix)({},this.theme.legend,this.options.legend),n={position:this.getLegendPosition((0,f.get)(e,"position")),offsetX:(0,f.get)(e,"offsetX"),offsetY:(0,f.get)(e,"offsetY"),flipPage:(0,f.get)(e,"flipPage"),marker:(0,f.get)(e,"marker"),title:((t=e.title)===null||t===void 0?void 0:t.visible)?(0,f.get)(e,"title"):null,itemName:(0,f.get)(e,"text")};this.setConfig("legends",n)},r.prototype.annotation=function(){var t=this,e=[];this.config.coordinate.type==="cartesian"&&this.options.guideLine&&(0,f.each)(this.options.guideLine,function(n){var a=ki("guideLine",{plot:t,cfg:n});e.push(a)}),this.setConfig("annotations",e)},r.prototype.interaction=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e;(0,f.each)(n,function(a){var o=a.type;if(o==="slider"||o==="scrollbar"){var s={label:{autoHide:!0,autoRotate:!1}};t.options.xAxis=(0,f.deepMix)({},t.options.xAxis,s)}t.setConfig("interaction",a)})},r.prototype.animation=function(){this.options.animation===!1&&this.setConfig("animate",!1)},r.prototype.applyInteractions=function(){var t=this,e=Zr.fromBBoxObject(this.layerBBox),n=this.title||this.description,a=new Zr(e.minX,e.minY,e.width,n?n.getBBox().maxY:0);e=e.cut(a,gn.DIRECTION.TOP);var o=this.options.interactions,s=o===void 0?[]:o;this.interactions&&this.interactions.forEach(function(l){l.destroy()}),this.interactions=[],s.forEach(function(l){var u=op.getInteraction(l.type,t.type);if(u){var h=new u({view:t.view},t,u.getInteractionRange(e,l.cfg),l.cfg);h.render(),t.interactions.push(h)}})},r.prototype.setConfig=function(t,e){if(t==="geometry"){this.config.geometries.push(e);return}if(t==="interaction"){this.config.interactions.push(e);return}if(e===!1){this.config[t]=!1;return}(0,f.assign)(this.config[t],e)},r.prototype.parseEvents=function(t){var e=this,n=this.options;if(n.events){i.prototype.parseEvents.call(this,n.events);var a=t?t.EVENT_MAP:sn;(0,f.each)(n.events,function(o,s){if((0,f.isFunction)(o)){var l=a[s]||s,u=o;ii(e,l,u)}})}},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),qo(t.title)){var n=this.width,a=this.config.theme,o=new Nl({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,f.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:qo(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o,this.paddingController.registerPadding(o,"outer")}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),qo(t.description)){var n=this.width,a=this.config.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new Nl({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,f.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l,this.paddingController.registerPadding(l,"outer")}},r.prototype.doRenderLabel=function(t,e){(0,f.each)(this.labels,function(s){s.destroy()}),this.labels=[];var n={layer:this,container:t.labelsContainer,geometry:t,label:e},a=GE(e.type);if(a){var o=new a(n);o.init(),o.render(),this.labels.push(o)}},r.prototype.doDestroy=function(){this.doDestroyInteractions(),this.doDestroyLabels(),this.view.destroyed||this.view.destroy()},r.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[]},r.prototype.doDestroyLabels=function(){(0,f.each)(this.labels,function(t){t.destroy()}),this.labels=[]},r.prototype.getViewRange=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e,a=this.paddingController.processOuterPadding();n.forEach(function(s){var l=op.getInteraction(s.type,t.type),u=l&&l.getInteractionRange(a,s.cfg),h="";u&&(u.maxY===a.maxY&&u.minY>a.minY?h="bottom":u.maxX===a.maxX&&u.minX>a.minX?h="right":u.minX===a.minX&&u.maxX>a.maxX?h="left":u.minY===a.minY&&u.maxY<a.maxY&&(h="top"),t.paddingController.registerPadding({interaction:s.type,name:s.type,getBBox:function(){return u},position:h},"outer"))});var o=this.paddingController.processOuterPadding();return o},r.prototype.isLimitInPlot=function(){var t=this.options.yAxis;return!!((0,f.hasKey)(t,"max")||(0,f.hasKey)(t,"min")||(0,f.hasKey)(t,"maxLimit")||(0,f.hasKey)(t,"minLimit"))},r.prototype.viewRangeToRegion=function(t){var e=this,n=e.x,a=e.y,o=e.width,s=e.height,l={x:0,y:0},u={x:1,y:1};return l.x=t.minX/(n+o),l.y=t.minY/(a+s),u.x=t.maxX/(n+o),u.y=t.maxY/(a+s),{start:l,end:u}},r}(Rl),Hn=uT,fT=d(91033),hT=function(){function i(r){var t=this;this.onResize=(0,f.debounce)(function(){if(!t.plot.destroyed){var a=t.getCanvasSize(),o=a.width,s=a.height;t.width===o&&t.height===s||(t.width=o,t.height=s,t.plot.updateConfig({width:o,height:s}),t.plot.render())}},300);var e=r.containerDOM,n=r.plot;this.containerDOM=e,this.plot=n,this.init()}return i.prototype.getCanvasSize=function(){var r=Ni(),t=this.plot.width?this.plot.width:r.width,e=this.plot.height?this.plot.height:r.height;return this.plot.forceFit&&(t=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:t,e=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:e),{width:t,height:e}},i.prototype.getCanvasDOM=function(){return this.canvas.get("container")},i.prototype.updateCanvasSize=function(){var r=this.getCanvasSize(),t=r.width,e=r.height;this.width=t,this.height=e,this.canvas.changeSize(t,e)},i.prototype.updateCanvasTheme=function(){var r=this.plot.theme,t=ph.getGlobalTheme(r),e=(0,f.get)(t,"backgroundStyle.fill");e&&this.updateCanvasStyle({backgroundColor:e})},i.prototype.updateCanvasStyle=function(r){(0,Ot.Z)(this.getCanvasDOM(),r),(0,Ot.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},i.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},i.prototype.bindForceFit=function(){var r=this.plot.forceFit;r&&(this.resizeObserver=new fT.Z(this.onResize),this.resizeObserver.observe(this.containerDOM))},i.prototype.init=function(){this.initGCanvas(),this.bindForceFit(),this.updateCanvasStyle({position:"relative"})},i.prototype.initGCanvas=function(){var r=this.plot,t=r.renderer,e=t===void 0?"canvas":t,n=r.pixelRatio,a=r.localRefresh,o=a===void 0?!1:a,s=this.getCanvasSize(),l=s.width,u=s.height,h=e==="canvas"?Sv:Iv;this.canvas=new h({localRefresh:o,container:this.containerDOM,width:l,height:u,pixelRatio:n}),this.width=l,this.height=u,this.updateCanvasTheme()},i}(),cT=hT;function vT(i,r){return!!(i&&r&&i===r)}function dT(i,r){return i.x>=r.minX&&i.x<=r.maxX&&i.y>=r.minY&&i.y<=r.maxY}var pT=function(){function i(r){this.plot=r.plot,this.canvas=r.canvas,this.eventHandlers=[]}return i.prototype.bindEvents=function(){this.addEvent(this.canvas,"mousedown",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"mousemove",(0,f.wrapBehavior)(this,"onMove")),this.addEvent(this.canvas,"mouseup",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"click",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"dblclick",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"contextmenu",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"wheel",(0,f.wrapBehavior)(this,"onEvents"))},i.prototype.clearEvents=function(){var r=this.eventHandlers;(0,f.each)(r,function(t){t.target.off(t.type,t.handler)})},i.prototype.addEvent=function(r,t,e){r.on(t,e),this.eventHandlers.push({target:r,type:t,handler:e})},i.prototype.onEvents=function(r){var t=this.getEventObj(r),e=r.target;!this.isShapeInView(e)&&e.name&&this.plot.emit(e.name+":"+r.type,r),this.plot.emit(""+r.type,t);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,t,r.type)},i.prototype.onMove=function(r){var t=r.target,e=this.getEventObj(r);!this.isShapeInView(t)&&t.name&&(this.plot.emit(t.name+":"+r.type,e),this.lastShape&&!vT(t,this.lastShape)&&(this.lastShape&&this.plot.emit(this.lastShape.name+":mouseleave",e),this.plot.emit(t.name+":mouseenter",e)),this.lastShape=t),this.plot.emit("mousemove",e);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,e,"mousemove")},i.prototype.isShapeInView=function(r){for(var t=["frontgroundGroup","backgroundGroup","panelGroup"],e=r.get("parent");e;){var n=e.get("name");if(n&&(0,f.contains)(t,n))return!0;e=e.get("parent")}return!1},i.prototype.getEventObj=function(r){var t={clientX:r.clientX,clientY:r.clientY,x:r.x,y:r.y,plot:this.plot,data:r.data?r.data.data:null,canvas:this.canvas,target:r.target,gEvent:r};return t},i.prototype.onLayerEvent=function(r,t,e){var n=this;(0,f.each)(r,function(a){var o=a.getGlobalBBox();if(dT({x:t.x,y:t.y},o)){a.emit(""+e,t);var s=a.layers;s.length>0&&n.onLayerEvent(s,t,e)}})},i}(),gT=pT,mp={};function en(i,r){mp[i.toLowerCase()]=r}function yT(i){return mp[i.toLowerCase()]}var mT=function(i){(0,Nt.__extends)(r,i);function r(t,e){var n=i.call(this)||this;return n.containerDOM=typeof t=="string"?document.getElementById(t):t,n.forceFit=(0,f.isNil)(e.forceFit)?(0,f.isNil)(e.width)&&(0,f.isNil)(e.height):e.forceFit,n.renderer=e.renderer||"canvas",n.pixelRatio=e.pixelRatio||null,n.width=e.width,n.height=e.height,n.theme=e.theme,n.localRefresh=e.localRefresh,n.canvasController=new cT({containerDOM:n.containerDOM,plot:n}),n.width=n.canvasController.width,n.height=n.canvasController.height,n.canvas=n.canvasController.canvas,n.layers=[],n.destroyed=!1,n.createLayers(e),n.eventController=new gT({plot:n,canvas:n.canvasController.canvas}),n.eventController.bindEvents(),n.parseEvents(e),n}return r.prototype.destroy=function(){this.eachLayer(function(t){t.destroy()}),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},r.prototype.repaint=function(){this.canvasController.canvas.draw()},r.prototype.updateConfig=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof Hn&&a.updateConfig(t)});else{var n=this.layers[0];n instanceof Rl&&n.updateConfig(t)}t.width&&(this.width=t.width),t.height&&(this.height=t.height),t.theme&&(this.theme=t.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},r.prototype.changeData=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof Hn&&a.changeData(t)});else{var n=this.layers[0];n instanceof Hn&&n.changeData(t)}},r.prototype.getScaleByField=function(t){return this.layers[0].getScaleByField(t)},r.prototype.getXScale=function(){return this.layers[0].getXScale()},r.prototype.getYScale=function(){return this.layers[0].getYScale()},r.prototype.getColorScale=function(){return this.layers[0].getColorScale()},r.prototype.getPlotTheme=function(){var t=this.layers[0];return t.getPlotTheme()},r.prototype.getData=function(){var t=this.layers[0];return t.getData()},r.prototype.bindStateManager=function(t,e){this.eachLayer(function(n){n instanceof Hn&&n.bindStateManager(t,e)})},r.prototype.setActive=function(t,e){this.eachLayer(function(n){n instanceof Hn&&n.setActive(t,e)})},r.prototype.setSelected=function(t,e){this.eachLayer(function(n){n instanceof Hn&&n.setSelected(t,e)})},r.prototype.setDisable=function(t,e){this.eachLayer(function(n){n instanceof Hn&&n.setDisable(t,e)})},r.prototype.setDefault=function(t,e){this.eachLayer(function(n){n instanceof Hn&&n.setDefault(t,e)})},r.prototype.getView=function(){return this.layers[0].view},r.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers[t]},r.prototype.getCanvas=function(){return this.canvasController.canvas},r.prototype.getLayers=function(){return this.layers},r.prototype.render=function(){this.eachLayer(function(t){return t.render()})},r.prototype.eachLayer=function(t){(0,f.each)(this.layers,t)},r.prototype.addLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e<0&&this.layers.push(t)},r.prototype.createLayers=function(t){if(!t.layers){if(t.type){var e=yT(t.type),n=(0,f.deepMix)({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height}),a=new e(n);this.addLayer(a)}}},r.prototype.parseEvents=function(t){var e=this,n=(0,f.keys)(Td);t.events&&(0,f.each)(t.events,function(a,o){if((0,f.contains)(n,o)&&(0,f.isFunction)(a)){var s=Td[o]||o,l=a;e.on(s,l)}})},r}(Fe.default),jr=mT,xT=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.init=function(){this.config={type:this.type,position:{fields:this.positionFields}}},i}(),Ds=xT,bT=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"area",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:["smooth"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();if(n&&(e.fields=n),(0,f.has)(t,"color")){var a=t.color;(0,f.isString)(a)?e.values=[a]:(0,f.isFunction)(a)?e.callback=a:(0,f.isArray)(a)&&(n?e.values=a:a.length>0&&(e.values=[a[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.areaStyle?t.areaStyle:t.area.style,n={};(0,f.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return[t[o]]}},r}(Ds),xp=bT;function wT(i,r){var t=[];if(i.length){for(var e=0,n=i.length;e<n;e+=1){var a=i[e],o=e===0?"M":"L";t.push([o,a.x,a.y])}r&&t.push(["Z"])}return t}function bp(i,r){var t=i.getCenter(),e=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));return e}function gh(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convertPoint({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function ST(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],u=e?"y":"x",h=Math.abs(s[u]-o[u])*(a-n),c=s[u]>=o[u]?1:0,v=h>Math.PI?1:0,g=t.convertPoint(s),C=bp(t,g);if(C>=.5)if(h===Math.PI*2){var F={x:(s.x+o.x)/2,y:(s.y+o.y)/2},G=t.convertPoint(F);l.push(["A",C,C,0,v,c,G.x,G.y]),l.push(["A",C,C,0,v,c,g.x,g.y])}else l.push(["A",C,C,0,v,c,g.x,g.y]);return l}function CT(i){each(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var MT=function(i,r,t,e){var n=[],a,o,s=!!e,l,u;if(s){l=[Infinity,Infinity],u=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var v=i[h];l=me.min([0,0],l,v),u=me.max([0,0],u,v)}l=me.min([0,0],l,e[0]),u=me.max([0,0],u,e[1])}for(var h=0,g=i.length;h<g;h++){var v=i[h];if(t)a=i[h?h-1:g-1],o=i[(h+1)%g];else if(h===0||h===g-1){n.push(v);continue}else a=i[h-1],o=i[h+1];var C=[0,0];C=me.sub(C,o,a),C=me.scale(C,C,r);var F=me.distance(v,a),G=me.distance(v,o),V=F+G;V!==0&&(F/=V,G/=V);var X=me.scale([0,0],C,-F),at=me.scale([0,0],C,G),st=me.add([0,0],v,X),xt=me.add([0,0],v,at);s&&(st=me.max([0,0],st,l),st=me.min([0,0],st,u),xt=me.max([0,0],xt,l),xt=me.min([0,0],xt,u)),n.push(st),n.push(xt)}return t&&n.push(n.shift()),n};function ET(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=MT(n,.4,e,t),l=n.length,u=[],h,c,v,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],v=n[a+1],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]]);return e&&(h=s[l],c=s[l+1],v=n[0],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]])),u}function AT(i,r){return wT(i,r)}function yh(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return AT(i,r);(0,f.each)(i,function(l){(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)});var o=t||[[0,0],[1,1]],s=ET(e,r,o);return s.unshift(["M",n.x,n.y]),s}function hG(i,r){return bp(i,r)}function cG(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function vG(i,r){var t=[];return each(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(gh(e,i));break;case"z":default:t.push(e);break}}),t}function dG(i,r){var t=[],e,n,a,o;return each(r,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(gh(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(ST(e,n,i)):t.push(gh(s,i));break;case"z":default:t.push(s);break}}),CT(t),t}vn("area","miniArea",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=wp(i,this,!1),n=(0,f.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),a=r.addShape("path",{attrs:{path:e,fill:Cp(i.color||Ni().defaultColor),opacity:t||.4},style:n});return a}}),vn("area","miniAreaSmooth",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=wp(i,this,!0),n=r.addShape("path",{attrs:{path:e,fill:Cp(i.color||Ni().defaultColor),opacity:t||.5}});return n}});function wp(i,r,t){var e=[[0,0],[1,1]],n=[],a=[];(0,f.each)(i.points,function(u){n.push(u[1]),a.push(u[0])}),a=r.parsePoints(a.reverse()),n=sh(r.parsePoints(n));var o=t?yh(n,!1,e):Sp(n),s=Sp(a);s[0][0]="L";var l=o.concat(s);return l}function Sp(i){for(var r=[],t=0;t<i.length;t++){var e=i[t],n=t===0?"M":"L";r.push([n,e.x,e.y])}return r}function Cp(i){return"l(90) 0:"+i+" 1:#ffffff"}var TT=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniAreaSmooth"]}:this.config.shape={values:["miniArea"]}},r}(xp),PT=TT,_T={main:xp,mini:PT},Mp=["colorField","stackField","groupField"],LT=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.type="interval",i.prototype.init.call(this);var t=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:["#5b8ff9"]});var e=this._getSizeProps(t);e&&this.parseSize(e);var n=this._getStyleProps(t);n&&this.parseStyle(n)},r.prototype.parseColor=function(){var t=this.plot.options,e=this._getColorMappingField(t),n={};e&&(n.fields=e),t.color&&((0,f.isString)(t.color)?n.values=[t.color]:(0,f.isFunction)(t.color)?n.callback=t.color:(0,f.isArray)(t.color)?e?n.values=t.color:t.color.length>0&&(n.values=[t.color[0]]):(0,f.isObject)(t.color)&&(n.fields=e,n.callback=function(a){return t.color[a]})),this.config.color=n},r.prototype.parseSize=function(t){var e=this.plot.options,n={};(0,f.isFunction)(e[t])?(n.fields=[this.config.position.fields],n.callback=e[t]):n.values=[e[t]],this.config.size=n},r.prototype.parseStyle=function(t){var e=this.plot.options,n=this.config.color,a=this.plot.options[t],o={};(0,f.isFunction)(a)?(o.fields=(n==null?void 0:n.fields)||[e.xField,e.yField],o.callback=a):o.cfg=a,this.config.style=o},r.prototype._getSizeProps=function(t){for(var e=["columnSize","barSize"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return o}},r.prototype._getStyleProps=function(t){for(var e=["columnStyle","barStyle","pieStyle","ringStyle"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return o}},r.prototype._getColorMappingField=function(t){for(var e=0,n=Mp;e<n.length;e++){var a=n[e];if((0,f.get)(t,a))return[t[a]]}},r.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var e=0,n=Mp;e<n.length;e++){var a=n[e];if(t[a])return!0}return!1},r}(Ds),IT=LT,OT={main:IT},kT=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"line",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:["smooth"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),(t.lineStyle||(0,f.get)(t,["line","style"]))&&this.parseStyle()},r.prototype.parseSize=function(){var t=this.plot.options.lineSize,e={};(0,f.isFunction)(t)?e.callback=t:e.values=[t],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={};if(t.seriesField&&(e.fields=[t.seriesField]),(0,f.has)(t,"color")){var n=t.color;(0,f.isString)(n)?e.values=[n]:(0,f.isFunction)(n)?e.callback=n:(0,f.isArray)(n)&&(t.seriesField?e.values=n:n.length>0&&(e.values=[n[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.lineStyle||(0,f.get)(t,["line","style"]),n={fields:null,callback:null,cfg:null};(0,f.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r}(Ds),mh=kT,BT=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;!t.xField||!t.yField||(this.config={type:"line",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute("color"))&&this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:["smooth"]}))},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.line.size?e.values=[t.line.size]:e.values=[2],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();n&&(e.fields=n),t.line.color?e.values=[t.line.color]:(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?(e.fields=n,e.callback=t.color):(0,f.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]])),this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.line.style,n={};(0,f.isFunction)(e)?(n.fields=this.config.position.fields,n.callback=e):n.cfg=e,this.config.style=n},r.prototype._needParseAttribute=function(t){var e=this.plot.options;return e[t]?!0:!!e.line[t]},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return[t[o]]}},r}(mh),DT=BT;vn("line","miniLine",{draw:function(i,r){for(var t=sh(i.points),e=[],n=0;n<t.length;n++){var a=t[n],o=n===0?"M":"L";e.push([o,a.x,a.y])}var s=(0,f.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),l=r.addShape("path",{attrs:(0,f.mix)({path:e,stroke:i.color||Ni().defaultColor,lineWidth:i.size||2},s)});return l}}),vn("line","miniLineSmooth",{draw:function(i,r){var t=sh(i.points),e=[[0,0],[1,1]],n=yh(t,!1,e),a=r.addShape("path",{attrs:(0,f.mix)({path:n,stroke:i.color||Ni().defaultColor,lineWidth:i.size||2},i.style)});return a}});var FT=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniLineSmooth"]}:this.config.shape={values:["miniLine"]}},r}(mh),RT=FT,NT={main:mh,guide:DT,mini:RT},YT=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=t.colorField;n&&(e.fields=(0,f.isArray)(n)?n:[n]),t.color&&this._parseColor(t,e),(0,f.isEmpty)(e)||(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.sizeField&&(e.fields=[t.sizeField]),t.pointSize&&(e.values=(0,f.isArray)(t.pointSize)?t.pointSize:[t.pointSize]),this.config.size=e},r.prototype.parseShape=function(t){this.config.shape=t},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.pointStyle,n={fields:null,callback:null,cfg:null},a=t.xField,o=t.yField,s=t.colorField;(0,f.isFunction)(e)?(s?n.fields=(0,f.isArray)(s)?[a,o,s].concat(s):[a,o,s]:n.fields=[a,o],n.callback=e):(n.cfg=e,(0,f.isNil)(e.opacity)||(n.cfg.fillOpacity=e.opacity)),this.config.style=n},r.prototype._parseColor=function(t,e){(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?e.callback=t.color:(0,f.isArray)(t.color)&&(e.values=t.color)},r}(Ds),GT=YT;function zT(i,r){var t=[];return(0,f.each)(r,function(e){var n=e[i];t.push(n)}),(0,f.uniq)(t)}var XT=["seriesField","stackField"],VT=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField(t);if(n)this._parseColorByField(t,e,n);else if(t.point&&t.point.color)e.values=[t.point.color];else if(t.color)this._parseColor(t,e);else{var a=this.plot.getTheme();e.values=[a.defaultColor]}(0,f.keys)(e).length>0&&(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};e.values=[t.point.size],this.config.size=e},r.prototype.parseShape=function(t){var e={};(0,f.isString)(t)?e.values=[t]:(0,f.isObject)(t)&&(e.fields=t.fields,e.callback=t.callback),this.config.shape=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.point&&t.point.style,n={fields:null,callback:null,cfg:null},a=this._getColorMappingField(t);(0,f.isFunction)(e)?(n.fields=[t.xField,t.yField],n.callback=e,a&&n.fields.unshift(a)):n.cfg=e,this.config.style=n},r.prototype._parseColorByField=function(t,e,n){if(e.fields=[n],t.point.color){for(var a=zT(n,t.data).length,o=[],s=0;s<a;s++)o.push(t.point.color);e.values=o}else t.color&&this._parseColor(t,e)},r.prototype._parseColor=function(t,e){var n=this._getColorMappingField(t);(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?e.callback=t.color:(0,f.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]]))},r.prototype._needParseAttribute=function(t){var e=this.plot.options,n=e.point&&(0,f.has)(e.point,t);return n},r.prototype._getColorMappingField=function(t){for(var e=0,n=XT;e<n.length;e++){var a=n[e];if((0,f.get)(t,a))return[t[a]]}},r}(Ds),HT=VT,WT={guide:HT,circle:GT},jT={area:_T,line:NT,point:WT,interval:OT};function qn(i,r,t){var e=jT[i][r];return new e(t).config}function UT(i){var r=AE,t=i.split(" "),e=r[t[1]],n=parseInt(t[0],10);return[e.format,n*e.value]}function yi(i,r){if(!r)return i;Object.prototype.hasOwnProperty.call(r,"tickCount")&&(i.tickCount=r.tickCount),Object.prototype.hasOwnProperty.call(r,"type")&&r.type!=="dateTime"&&(i.type=r.type),Object.prototype.hasOwnProperty.call(r,"tickInterval")&&(r.type==="time"?i.tickInterval=UT(r.tickInterval):i.tickInterval=r.tickInterval),r.type==="time"&&r.mask&&(i.mask=r.mask),Object.prototype.hasOwnProperty.call(r,"min")&&(i.min=r.min),Object.prototype.hasOwnProperty.call(r,"max")&&(i.max=r.max),Object.prototype.hasOwnProperty.call(r,"minLimit")&&(i.minLimit=r.minLimit),Object.prototype.hasOwnProperty.call(r,"maxLimit")&&(i.maxLimit=r.maxLimit),Object.prototype.hasOwnProperty.call(r,"nice")&&(i.nice=r.nice),Object.prototype.hasOwnProperty.call(r,"formatter")&&(i.formatter=r.formatter),Object.prototype.hasOwnProperty.call(r,"exponent")&&(i.exponent=r.exponent),Object.prototype.hasOwnProperty.call(r,"base")&&(i.base=r.base),r.tickMethod&&(i.tickMethod=r.tickMethod)}function ZT(i,r){var t=(0,f.filter)(r,function(a){return(0,f.isNumber)(a)}),e=Math.min.apply(Math,t),n=Math.max.apply(Math,t);e>0?(0,f.isNil)(i.min)&&(i.min=0):n<0&&(0,f.isNil)(i.max)&&(i.max=0)}var xh;function KT(i,r){var t={easing:"easeLinear",duration:1e4},e=(0,f.deepMix)({},r,t),n=i.get("element").geometry;n.labelsContainer.set("visible",!1);var a=i.get("index"),o=n.coordinate,s=n.scales,l=s[xh.options.yField],u=(0,f.clone)(i.get("origin"));$T(i,o);var h=i.get("clipShape"),c=i.get("parent"),v=12,g=null,C=xh.options.seriesField;C&&(g=c.addShape("text",{attrs:{x:o.start.x+v,y:0,text:u.data[0][C],fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}}));var F=g?16:0,G=c.addShape("text",{attrs:{x:o.start.x+v,y:F,text:"test"+a,fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}});e.callback=function(){i&&!i.get("destroyed")&&(i.setClip(null),h.remove(),G.animate({opacity:0},300,function(){G.remove(),(0,f.isNil)(g)||g.remove();var at=n.labelsContainer;at.get("visible")||at.set("visible",!0)}))};var V=e.delay;(0,f.isFunction)(V)&&(V=e.delay(a));var X=e.easing;(0,f.isFunction)(X)&&(X=e.easing(a)),h.animate({width:o.getWidth()},e.duration,X,e.callback,V),e.onFrame=function(at){var st=Ep(at,u,o);if(!!st){G.attr("x",st[0]+v),G.attr("y",st[1]+F);var xt=QT(l,st[1],o);l.formatter&&(xt=l.formatter(xt)),G.attr("text",xt)}},G.animate(e.onFrame,{duration:e.duration,easing:X,callback:e.callback,delay:V}),g&&g.animate({onFrame:function(at){var st=Ep(at,u,o);!st||(g.attr("x",st[0]+v),g.attr("y",st[1]))}},e.duration,X,e.callback,V)}function $T(i,r){var t=r.start,e=r.end,n=r.height;i.setClip({type:"rect",attrs:{x:t.x,y:e.y,width:0,height:n}})}function Ep(i,r,t){for(var e=r.points,n=t.start.x+t.getWidth()*i,a=0;a<e.length-1;a++){var o=e[a],s=e[a+1];if(n>=o.x&&n<=s.x){var l=(s.y-o.y)/(s.x-o.x),u=o.y+l*(n-o.x);return[n,u]}}}function QT(i,r,t){var e=(r-t.start.y)/(t.end.y-t.start.y);return i.invert(e).toFixed(2)}function JT(i){xh=i}li("clipingWithData",KT);var qT=function(){function i(r){this.type="shape",this.shapes=r.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=(0,f.deepMix)([],this.nodes)}return i.prototype.measure=function(r){var t=(0,f.deepMix)({},jE(r),{shape:r});return t},i.prototype.measureNodes=function(){var r=this,t=[],e=[];(0,f.each)(this.shapes,function(n,a){var o=(0,f.deepMix)({},r.nodes[a],r.measure(n));o.width!==0&&o.height!==0&&(t.push(o),e.push(n))}),this.nodes=t,this.shapes=e},i.prototype._parserNodes=function(){var r=this;(0,f.each)(this.shapes,function(t){var e=r.measure(t);r.nodes.push(e)})},i}(),Ap=qT;function tP(i,r,t){return t===void 0&&(t={ratio:.6}),r.width*t.ratio}var eP={type:"padding",usage:"assign",expression:tP};function rP(i,r){var t=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],e=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],n=Nd(t,e);return Math.round(n)>=2}var nP={type:"group",usage:"compare",expression:rP};function iP(i,r,t){t===void 0&&(t={value:4});var e=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],n=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],a=Nd(e,n);return Math.round(a)>=t.value}var aP={type:"chain",usage:"compare",expression:iP};function oP(i,r,t){t===void 0&&(t={value:5});var e=Math.abs(i.bottom-r.top);return Math.round(e)>=t.value}var sP={type:"chain",usage:"compare",expression:oP};function lP(i,r,t){return t===void 0&&(t={ratio:.15}),i.width<r.width*t.ratio}var uP={type:"padding",usage:"compare",expression:lP};function fP(i,r){var t=2,e=r.coord.radius/t;return Math.min(e,i.value)}var hP={type:"padding",usage:"assign",expression:fP};function cP(i,r,t){return t===void 0&&(t={ratio:.8}),r.radius*t.ratio}var vP={type:"padding",usage:"assign",expression:cP},Tp={elementDist:aP,elementDistVertical:sP,elementCollision:nP,elementWidth:uP,columnWidth:eP,ringThickness:vP,minRingThickness:hP};function pG(i,r){Tp[i]=r}function ns(i){i.attr("text","")}function dP(i,r,t,e){var n=e.nodes.nodes,a=n[t],o=[];if(!a.shape.get("blank"))for(var s=0;s<n.length;s++){var l=n[s],u=l.shape;if(s!==t&&!u.get("blank")){var h=Pp(a,l);h&&o.push(l)}}o.length>0&&(o.push(a),o.sort(function(c,v){return v.top-c.top}),(0,f.each)(o,function(c,v){if(v>0){var g=c.shape;ns(g),g.set("blank",!0)}}))}function Pp(i,r){return!(i.bottom<r.top||r.bottom<i.top||i.right<r.left||r.right<i.left)}var pP=d(82097),Mo=d.n(pP),gP=1e3,_p=60*gP,bh=60*_p,Ql=24*bh,Lp=31*Ql,Ip=365*Ql;function Op(i,r,t,e){var n=e.nodes.nodes,a;t===n.length-1?a=n[t-1].shape.get("delegateObject").item.name:a=n[t+1].shape.get("delegateObject").item.name;var o=new Date(a),s=i.get("delegateObject").item.name,l=new Date(s),u=n[0].shape.get("delegateObject").item.name,h=new Date(u),c=n[n.length-1].shape.get("delegateObject").item.name,v=new Date(c),g=kp(h,v),C=kp(l,o);if(g===C){if(t!==0&&t!==n.length-1){var F=xP(g);i.attr("text",Mo().format(l,F))}return}if(t!==0){var G=n[t-1].shape.get("delegateObject").item.name,V=new Date(G),X=yP(g,l,V);if(X){var F=mP(g,C);i.attr("text",Mo().format(l,F));return}}}function yP(i,r,t){var e=Bp(r,i),n=Bp(t,i);return e===n}function kp(i,r){var t,e=Math.abs(i-r),n={minute:[_p,bh],hour:[bh,Ql],day:[Ql,Lp],month:[Lp,Ip],year:[Ip,Infinity]};return(0,f.each)(n,function(a,o){e>=a[0]&&e<a[1]&&(t=o)}),t}function mP(i,r){for(var t=["year","month","day","hour","minute"],e=["YYYY","MM","DD","HH","MM"],n=t.indexOf(i)+1,a=t.indexOf(r),o="",s=n;s<=a;s++)o+=e[s],s<a&&(o+="-");return o}function xP(i){var r=["year","month","day","hour","minute"],t=["YYYY","MM","DD","HH","MM"],e=r.indexOf(i),n=t[e];return n}function Bp(i,r){if(r==="year")return i.getFullYear();if(r==="month")return i.getMonth()+1;if(r==="day")return i.getDay()+1;if(r==="hour")return i.getHours()+1;if(r==="minute")return i.getMinutes()+1}function bP(i){var r=/^(?:(?:[0-2][0-3])|(?:[01]\d)):[0-5]\d$/,t=/^(?:(?:[0-2][0-3])|(?:[01]\d))(?::[0-5]\d){2}$/;return r.test(i)||t.test(i)}var Dp={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function Fp(i,r,t,e){if(!(!(0,f.has)(e,"node")||!(0,f.has)(e.node,"node"))){var n=e.nodes.nodes,a=parseFloat(i.get("origin").text);if(a!==0){if(r.formatter){i.attr("text",r.formatter(a));return}if(r.unit){var o=Rp(r,a),s=o.num,l=o.unitname;i.attr("text",s+l)}else{var u=SP(n),h=Yd(u),l=wP(h),c=Dp[l].number,v=CP(n),g=MP(v,c),s=Rp({unit:l,decimal:g},a).num;i.attr("text",s+l)}}}}function Rp(i,r){var t=["k","m","b","t"],e,n;if(i.unit==="auto"){var a=Math.floor(Math.log(r)/Math.log(1e3));n=t[a-1],e=(r/Math.pow(1e3,a)).toFixed(i.decimal)}else if(i.unit){var o=Dp[i.unit];n=i.unit,e=(r/o.number).toFixed(i.decimal)}return{num:e,unitname:n}}function wP(i){var r=["k","m","b","t"],t=Math.floor(Math.log(i)/Math.log(1e3));return r[t-1]}function SP(i){var r=[];return(0,f.each)(i,function(t){var e=t,n=parseFloat(e.shape.get("origin").text);r.push(n)}),r}function CP(i){if(i.length>=2){var r=parseFloat(i[0].shape.get("origin").text),t=parseFloat(i[1].shape.get("origin").text);return Math.abs(r-t)}return 0}function MP(i,r){var t=Math.floor(Math.log10(r));if(i>=r){var e=i%r;if(e>0){var n=Math.floor(Math.log10(e));return Math.abs(n-t)}}else{var a=Math.floor(Math.log10(i));return Math.abs(a-t)}return 0}function EP(i,r,t){var e=t.nodes.nodes;if(r!==e.length-1){var n=e[r],a=e[r+1],o=AP(n,a).dir,s=i.get("startPoint");o==="x"&&i.attr("y",s.y+20)}}function AP(i,r){var t,e={x:r.centerX-i.centerX,y:r.centerY-i.centerY},n=Math.sqrt(e.x*e.x+e.y*e.y),a={x:10,y:0},o=Math.sqrt(a.x*a.x+a.y*a.y),s=oh(e,a),l=s/(n*o)*180/Math.PI;l<0&&(l=360-l),l=TP(l);var u=Math.abs(i.centerX-r.centerX),h=Math.abs(i.centerY-r.centerY);return l>45?t="x":l<45&&(t="y"),{dir:t,distX:u,distY:h}}function TP(i){return i>90&&i<=180?180-i:i>180&&i<270?i-180:360-i}function PP(i,r,t,e){var n=e.nodes.nodes;if(t!==0){var a=n[t],o=n[t-1];if(Pp(a,o)){var s=e.plot.view.geometries[0].elements[0],l=o.top-a.height/2,u=10;if(l-u>e.region.top){var h=a.shape.get("origin"),c=s.getShapeId(h),v=s.getShapes(),g=_P(c,v).get("box"),C=g.left+g.width/2,F=g.top,G=s.get("labelController").labelsContainer,V=G.addShape("path",{attrs:{path:[["M",C,F],["L",a.shape.attr("x"),l]],stroke:"#ccc",lineWidth:1}}),X={x:i.attr("x"),y:i.attr("y")};a.shape.attr("y",l-u),n[t]=e.nodes.measure(a.shape),n[t].line=V,n[t].origin_position=X}}}}function _P(i,r){var t;return(0,f.each)(r,function(e){var n=e,a=n.get("id");a===i&&(t=n)}),t}function LP(i,r,t,e){var n=e.nodes.nodes,a=n.length%2!=0;if(!Np(r.keep,t,n)){var o=t%2==0;(!a&&o||a&&!o)&&ns(i)}}function Np(i,r,t){var e=[];(0,f.each)(i,function(s){s==="start"?e.push(r===0):s==="end"?e.push(r===t.length-1):(0,f.isNumber)(s)&&e.push(r===s)});for(var n=0,a=e;n<a.length;n++){var o=a[n];if(o===!0)return!0}return!1}function IP(i,r,t,e){var n=e.nodes.nodes;if(!Np(r.keep,t,n)){var a=i.attr("text"),o=i.get("delegateObject").item.name;a!==o&&ns(i)}}function OP(i,r,t,e){var n=e.nodes.nodes,a=BP(n);if(!(t<=1)){var o=n[t],s=kP(t,n),l=s.centerX-o.centerX,u=s.centerY-o.centerY,h=Math.sqrt(l*l+u*u);h<a&&(ns(i),i.set("blank",!0))}}function kP(i,r){for(var t=i-1;t>0;t--){var e=r[t];if(!e.shape.get("blank"))return e}}function BP(i){var r=(0,f.deepMix)([],i);return r.sort(function(t,e){return e.width-t.width}),Math.round(r[0].width)}function DP(i,r,t,e){var n=e.nodes.nodes,a=n[t];a.line&&a.line.remove();var o=e.plot.initialOptions.data,s=e.plot[e.plot.type]||e.plot[e.plot.baseType],l=(0,f.get)(s,["label","fields",0],(0,f.get)(s,["position","fields",1])),u=FP(o,l,n),h=!1;if((0,f.each)(u,function(C){C.shape.get("origin")===a.shape.get("origin")&&(h=!0)}),h){if(a.origin_position){var c=a.origin_position,v=c.x,g=c.y;i.attr("x",v),i.attr("y",g)}}else ns(i)}function FP(i,r,t){var e=[];(0,f.each)(i,function(h){e.push(h[r])}),e.sort(function(h,c){return h-c});var n=e[0],a=wh(t,r,n),o=e[e.length-1],s=wh(t,r,o),l=RP(e),u=wh(t,r,l);return{min:a,max:s,median:u}}function RP(i){var r=(0,f.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2,r[t]}function wh(i,r,t){for(var e=0,n=i;e<n.length;e++){var a=n[e],o=a.shape.get("origin")._origin;if(o[r]===t)return a}}function Yp(i,r){var t=r.abbreviateBy?r.abbreviateBy:"end",e=i.attr("text"),n;t==="end"&&(n=e[0]+"..."),t==="start"&&(n="..."+e[e.length-1]),t==="middle"&&(n=e[0]+"..."+e[e.length-1]),i.resetMatrix(),i.attr({text:n,textAlign:"center",textBaseline:"top"})}function NP(i,r,t,e){var n=e.nodes.nodes,a=i.attr("text"),o=/^\d+$/.test(a);o?Fp(i,r,t,n):bP(a)?Op(i,r,t,n):Yp(i,r)}function YP(i,r){i.resetMatrix(),i.attr({rotate:360-r.degree,textAlign:"right",textBaseline:"middle"})}function GP(i,r){for(var t=i.attr("text"),e=Math.ceil(t.length/r.lineNumber),n="",a=1;a<r.lineNumber;a++){var o=e*a;n=t.slice(0,o)+`
`+t.slice(o)}var s=i.attr("fontSize");i.attr({text:n,lineHeight:s,textAlign:"center",textBaseline:"top"})}var Gp={textWrapper:GP,textRotation:YP,textAbbreviate:Yp,textHide:ns,digitsAbbreviate:Fp,datetimeStringAbbrevaite:Op,robustAbbrevaite:NP,nodesResampling:LP,nodesResamplingByAbbrevate:IP,nodesResamplingByChange:OP,nodesResamplingByState:DP,nodeJitter:EP,nodeJitterUpward:PP,clearOverlapping:dP};function gG(i,r){Gp[i]=r}var zP=function(){function i(r){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,(0,f.assign)(this,r),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}return i.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},i.prototype._iteration=function(){var r;this.nodes.type==="shape"?r=this.nodes:r=this.nodes,r.type==="shape"&&r.measureNodes(),this.rules&&this._applyRules(),r.type==="shape"&&r.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},i.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},i.prototype._run=function(){for(var r=this._constraintsTest();!r&&!(this.iterationIndex>this.iterationTime-1);)this._iteration(),r=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},i.prototype._constraintsTest=function(){var r=Tp[this.currentConstraint.name],t=this.currentConstraint.option;return r.usage==="compare"?this._constraintCompare(r,t):this._constraintAssignment(r,t)},i.prototype._constraintCompare=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintCompare(n,a,t);if(e==="padding")return this._paddingConstraintCompare(n,this.region,a,t);if(e==="group")return this._groupConstraintCompare(n,a,t)},i.prototype._chainConstraintCompare=function(r,t,e){for(var n=0;n<t.length-1;n++){var a=t[n],o=t[n+1];if(r(a,o,e)===!1)return!1}return!0},i.prototype._paddingConstraintCompare=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a];if(r(s,t,n)===!1)return!1}return!0},i.prototype._groupConstraintCompare=function(r,t,e){for(var n=0;n<t.length;n++)for(var a=t[n],o=0;o<t.length;o++)if(o!==n){var s=t[o];if(r(a,s,e)===!1)return!1}return!0},i.prototype._constraintAssignment=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintAssign();if(e==="padding")return this._paddingConstraintAssign(n,this.region,a,t)},i.prototype._chainConstraintAssign=function(){return!0},i.prototype._paddingConstraintAssign=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a],l=r(s,t,n);s.value=l}return!0},i.prototype._applyRules=function(){for(var r=this.rules[this.currentConstraint.name][this.iterationIndex],t=Gp[r.name],e=r.option?r.option:{},n=this.nodes.nodes,a=0;a<n.length;a++){var o=n[a];this._applyRule(o.shape,t,e,a)}},i.prototype._applyRule=function(r,t,e,n){var a={nodes:this.nodes,region:this.region,plot:this.plot};t(r,e,n,a)},i}(),zp=zP,XP=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},i}(),Xp=XP,VP={cat:"category",timeCat:"category",time:"dateTime",linear:"linear"},HP=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.axisInstance=this.getAxisInstance(),i.prototype.init.call(this)},r.prototype.shouldApply=function(){var t=this.plot.options;return this.responsiveTheme.axis?!!(this.responsiveTheme.axis[this.dim]&&t[this.dim+"Axis"].visible&&t[this.dim+"Axis"].label&&t[this.dim+"Axis"].label.visible):!1},r.prototype.apply=function(){for(var t=this,e=this.plot.view.backgroundGroup.findAll(function(h){var c=h.get("name");if(c==="axis-label"){var v=h.get("delegateObject").axis.get("field");if(v===t.plot.options[t.dim+"Field"])return h}}),n=[],a=0;a<e.length;a++)n.push(e[a]);var o=new Ap({shapes:n}),s=this.responsiveTheme.axis.x[this.type],l=s.constraints,u=s.rules;new zp({nodes:o,constraints:l,region:this.plot.getViewRange(),rules:u,plot:this.plot,onEnd:function(h){t.updateTicks(h.origion_nodes)}})},r.prototype.getType=function(){var t=this.plot.options,e=this.dim+"Axis",n=this.dim+"Field";if(t[e]&&t[e].type&&t[e].type==="dateTime")return"dateTime";var a=this.plot.view.getScaleByField([t[n]]).type;return VP[a]},r.prototype.getAxisInstance=function(){var t,e,n=this.dim==="x"?0:1,a=(t=this.plot.view.getController("axis"))===null||t===void 0?void 0:t.getComponents();if(a)return(e=a[n])===null||e===void 0?void 0:e.component},r.prototype.updateTicks=function(t){var e=this,n=this.plot.view.backgroundGroup.findAll(function(o){var s=o.get("name");if(s==="axis-tickline-group"){var l=o.get("delegateObject").axis.get("field");if(l===e.plot.options[e.dim+"Field"])return o}})[0];if(n){var a=n.get("children");(0,f.each)(t,function(o,s){o.shape.attr("text")===""&&a[s].attr("opacity",0)})}this.plot.canvas.draw()},r}(Xp),Eo=HP;function WP(i){var r=i.getResponsiveTheme(),t=i.canvas;new Eo({plot:i,responsiveTheme:r,dim:"x"}),new Eo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var jP=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},r.prototype.apply=function(){var t=this.plot.view.geometries[0].labelsContainer.get("children"),e=[];(0,f.each)(t,function(l){e=e.concat(l.findAllByName("label"))});var n=new Ap({shapes:e}),a=this.responsiveTheme.label[this.type],o=a.constraints,s=a.rules;new zp({nodes:n,constraints:o,rules:s,plot:this.plot,region:this.plot.view.coordinateBBox})},r.prototype.getType=function(){return null},r}(Xp),Vp=jP,UP=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,f.get)(this.plot.options,["label","type"],"point")},r}(Vp);function ZP(i){var r=i.getResponsiveTheme();new UP({plot:i,responsiveTheme:r})}var KP=[],$P=[{name:"responsiveAxis",method:WP},{name:"responsivePointLabel",method:ZP}],QP={preRender:KP,afterRender:$P},Hp=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,Nt.__assign)({offsetX:0,offsetY:0},n)},r.prototype.getLabelOffset=function(){return this.getLabelOffsetByDimAndFactor("y",-1)},r.prototype.getLabelItemAttrs=function(t,e){var n=this,a=this.options,o=a.style,s=a.formatter,l=(0,f.get)(t,"model.mappingData",[]);return(0,f.map)(l,function(u,h){var c,v=n.getValue(u);return(0,Nt.__assign)((0,Nt.__assign)((0,Nt.__assign)({},n.getPosition(u)),{text:s?s(v,(c={},c[ks]=u._origin,c.mappingDatum=u,c.mappingDatumIndex=h,c.element=t,c.elementIndex=e,c),e):v,textAlign:"center",textBaseline:"middle"}),o)})},r.prototype.getValue=function(t){return(0,f.get)(t._origin,this.layer.options.yField)},r.prototype.getPosition=function(t){var e={x:(0,f.isArray)(t.x)?(0,f.last)(t.x):t.x,y:(0,f.isArray)(t.y)?(0,f.last)(t.y):t.y};return e},r.prototype.layoutLabels=function(t,e){var n=this;if(!!this.options.adjustPosition){var a=this.isOverlapped(e);if(a){var o=this.getGlobalTolerance(e);(0,f.each)(e,function(s,l){l>1&&n.labelResamplingByChange(s,e,l,o)})}a=this.isOverlapped(e),a&&(0,f.each)(e,function(s,l){s.get("visible")&&n.clearOverlapping(s,e,l)})}},r.prototype.adjustLabel=function(){},r.prototype.labelResamplingByChange=function(t,e,n,a){var o=this.findPrevious(n,e),s=this.getCenter(t),l=this.getCenter(o),u=l.x-s.x,h=l.y-s.y,c=Math.sqrt(u*u+h*h);c<a&&t.set("visible",!1)},r.prototype.clearOverlapping=function(t,e,n){for(var a=[],o=0;o<e.length;o++){var s=e[o];if(o!==n&&s.get("visible")){var l=Ld(t.getBBox(),s.getBBox());l&&a.push(s)}}a.length>0&&(a.push(t),a.sort(function(u,h){return h.minY-u.minY}),(0,f.each)(a,function(u,h){h>0&&u.set("visible",!1)}))},r.prototype.isOverlapped=function(t){for(var e=0;e<t.length;e++)if(t[e].get("visible")){for(var n=t[e].getBBox(),a=0;a<t.length;a++)if(a!==e&&t[a].get("visible")){var o=t[a].getBBox(),s=Ld(n,o);if(s)return!0}}return!1},r.prototype.getGlobalTolerance=function(t){var e=t.slice();return e.sort(function(n,a){return a.getBBox().width-n.getBBox().width}),Math.round(e[0].getBBox().width)},r.prototype.findPrevious=function(t,e){for(var n=t-1;n>0;n--)if(e[n].get("visible"))return e[n]},r.prototype.getCenter=function(t){var e=t.getBBox(),n=e.minX,a=e.maxX,o=e.minY,s=e.maxY;return{x:n+(a-n)/2,y:o+(s-o)/2}},r}(rh),Wp=Hp;ea("point",Hp);var jp=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){var n=this,a,o=[],s=Zr.fromBBoxObject(this.getCoordinateBBox()),l=t.getXYFields(),u=l[0],h=l[1],c=(0,f.groupBy)(e,function(g){return g.get(la)[gn.FIELD_ORIGIN][u]}),v=(a=e[0])===null||a===void 0?void 0:a.get("offset");(0,f.each)((0,f.keys)(c).reverse(),function(g){for(var C=n.sortLabels(t,c[g]);C.length;){var F=C.shift();if($A(F,o,function(X,at){return X._origin[u]===at._origin[u]&&X._origin[h]===at._origin[h]})){F.set("visible",!1);continue}Kl(F,s);var G=$l(F,o),V=void 0;if(G&&(F.attr("y",F.attr("y")+2*v),Kl(F,s),V=$l(F,o)),V){F.set("visible",!1);continue}o.push(F)}})},r.prototype.sortLabels=function(t,e){var n=t.getXYFields()[1],a=[];return e.sort(function(o,s){return s.get(la)[gn.FIELD_ORIGIN][n]-o.get(la)[gn.FIELD_ORIGIN][n]}),e.length>0&&a.push(e.shift()),e.length>0&&a.push(e.pop()),a.push.apply(a,e),a},r}(Wp),JP=jp;ea("point-auto",jp);var qP=8,t_=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,f.each)(t,function(e){var n=r.getShapeInfo(e.shape),a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,u=r.options.formatter,h=u?u(n.name):n.name;r.container.addShape("text",{attrs:(0,f.deepMix)({},{x:n.x+s,y:n.y+l,text:h,fill:n.color,textAlign:"left",textBaseline:"middle"},o),name:"label"})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,f.clone)(r.label.style);return delete t.fill,{offsetX:qP,offsetY:0,style:t}},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="line"})},i.prototype.getShapeInfo=function(r){var t=r.get("origin").points,e=t[t.length-1],n=r.attr("stroke"),a=this.plot.options.seriesField,o=r.get("origin").data[0][a];return{x:e.x,y:e.y,color:n,name:o}},i}(),Up=t_,e_={line:"line",point:"point"},r_=Mi(e_);(0,f.assign)(sn,r_);var n_={stroke:"transparent",fill:"#FCC509",lineWidth:0},i_={stroke:"#FFF",fill:"#FCC509",lineWidth:1},a_={stroke:"rgba(0,0,0,0.85)",fill:"#FCC509",lineWidth:1},o_=function(){function i(r){this.points=[],this.labels=[],this.name="markerPoints",this.defaultCfg={offsetX:0,offsetY:0,style:{normal:n_,selected:a_,active:i_},label:{visible:!1,offsetY:-8,position:"top",style:{fill:"rgba(0, 0, 0, 0.85)"}},animation:!1},this.view=r.view,this.size=r.size||6,this.config=(0,f.deepMix)({},this.defaultCfg,r),this._init()}return i.prototype.render=function(){var r=this.getDataArray();this._renderPoints(r),this.view.canvas.draw(),this._addInteraction()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.points=[],this.labels=[]},i.prototype.getDataArray=function(){var r=this.view.geometries[0];return r.dataArray},i.prototype._init=function(){var r=this,t=this.view.foregroundGroup;this.container=t.addGroup(),this.render(),this.view.on("beforerender",function(){r.clear()})},i.prototype._renderPoints=function(r){var t=this;(0,f.each)(this.config.data,function(e,n){(0,f.each)(r,function(a){var o=(0,f.find)(a,function(V){return(0,f.isMatch)(V._origin,e)});if(o){var s=t.config.style.normal,l=t.container.addGroup({name:t.name}),u=o.x,h=o.y;(0,f.isArray)(u)&&(u=u[0]),(0,f.isArray)(h)&&(h=h[0]);var c=t.config.symbol,v=t.config,g=v.offsetX,C=v.offsetY,F=void 0;if((0,f.isString)(c)&&c.startsWith("image://")){var G=c.substr(8);F=l.addShape("image",{attrs:{x:u-t.size/2+g,y:h-t.size/2+C,img:G,width:t.size,height:t.size}})}else c=(0,f.isString)(c)?bE.MarkerSymbols[c]:c,F=l.addShape({type:"marker",name:"marker-point",id:"point-"+n,attrs:(0,Nt.__assign)((0,Nt.__assign)({x:u+g,y:h+C,r:t.size/2},s),{symbol:c})});t.points.push(F),t._animatePoint(F),t._renderLabel(l,o,n),l.set("data",e),l.set("origin",o)}})})},i.prototype._renderLabel=function(r,t,e){var n=this.config.label;if(n&&n.visible){var a=n.offsetX,o=a===void 0?0:a,s=n.offsetY,l=s===void 0?0:s,u=n.formatter,h=n.position,c=n.field,v=t._origin[c];u&&(v=u(v,{_origin:t._origin},e));var g=(0,f.isArray)(t.x)?t.x[0]:t.x,C=(0,f.isArray)(t.y)?t.y[0]:t.y,F=r.addShape("text",{name:"marker-label",id:"label-"+e,attrs:(0,Nt.__assign)((0,Nt.__assign)({x:g+o,y:C+l,text:v||""},n.style),{textAlign:"center",textBaseline:h==="top"?"bottom":"top"})});this.labels.push(F)}},i.prototype._addInteraction=function(){var r=this,t=this.config.events;(0,f.each)(t,function(e,n){r.container.on(r.name+":"+n,function(a){e(a);var o=a.target.get("parent"),s=o.get("children")[0];if(s){var l=s.get("data"),u=s.get("id"),h={id:u,data:l};n==="click"?r.selectedPoint&&r.selectedPoint.get("id")===u?(r.selectedPoint=null,r.setState("inactive",h)):(r.selectedPoint=s,r.setState("selected",h)):n==="mouseenter"?r.setState("active",h):n==="mouseleave"&&r.setState("inactive",h)}r.view.canvas.draw()}),r.view.on("click",function(a){var o=a.target.get("parent");(!o||o.get("name")!==r.name&&r.selectedPoint)&&(r.selectedPoint=null,r.setState("inactive"))})})},i.prototype.setState=function(r,t){var e=this;r==="active"?(!this.selectedPoint||t.id!==this.selectedPoint.get("id"))&&this._onActive(t):r==="inactive"?this.points.forEach(function(n){return e._onInactive(n)}):r==="selected"&&this._onSelected(t)},i.prototype._onActive=function(r){var t=this,e=this.config.style.active;(0,f.each)(this.points,function(n){n.get("id")===r.id?(0,f.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._onInactive=function(r){var t=this.config.style.normal;(!this.selectedPoint||r.get("id")!==this.selectedPoint.get("id"))&&(0,f.each)(t,function(e,n){r.attr(n,e)})},i.prototype._onSelected=function(r){var t=this,e=this.config.style.selected;(0,f.each)(this.points,function(n){n.get("id")===r.id?(0,f.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._animatePoint=function(r){var t=this.config,e=t.animation,n=t.size;if(e!==!1){var a=e,o=a.endState,s=o===void 0?{}:o,l=a.animateCfg,u=l===void 0?wo.DEFAULT_ANIMATE_CFG.appear:l;r.animate((0,Nt.__assign)({r:Number.isNaN(s.size/2)?n/2:s.size/2},s),u)}},i}(),s_=o_,l_=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+1}},u_=function(i){var r=i.shape,t=r.attr("opacity")||1;return{opacity:t*.2}},f_=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+2}};ra("line",{lineStyle:{normal:{},active:l_,disable:u_,selected:f_},pointStyle:{normal:{},active:{},disable:{},selected:{}}});var h_={label:{point:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodesResamplingByChange"},{name:"clearOverlapping"}]}}}};gp("line",h_);var c_=function(i){(0,Nt.__extends)(r,i);function r(t){return i.call(this,(0,Nt.__assign)({processEvent:"mousemove"},t))||this}return r.prototype.start=function(){},r.prototype.process=function(t){var e=(0,f.filter)(this.view.geometries,function(o){return o.type=="line"}),n=t.target;if(n.get("name")==="line"){var a=(0,f.get)(t,"data.data");(0,f.each)(e,function(o){(0,f.each)(o.elements,function(s){s.setState("active",s.data===a)})})}else(0,f.each)(e,function(o){(0,f.each)(o.elements,function(s){s.setState("active",!1)})})},r}(fh),v_=c_,d_=function(i){(0,Nt.__extends)(r,i);function r(t){return i.call(this,(0,Nt.__assign)({endEvent:"click"},t))||this}return r.prototype.start=function(){},r.prototype.end=function(t){var e=t.target,n=(0,f.filter)(this.view.geometries,function(o){return o.type=="line"});if(e.get("name")==="line"){var a=(0,f.get)(t,"data.data");(0,f.each)(n,function(o){(0,f.each)(o.elements,function(s){s.setState("inactive",s.data!==a)})})}else(0,f.each)(n,function(o){(0,f.each)(o.elements,function(s){s.setState("inactive",!1)})})},r}(fh),p_=d_,g_=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"selected-tooltip"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,Nt.__assign)((0,Nt.__assign)({},t),{showContent:!1,showCrosshairs:!0,showMarkers:!0,shared:!0})},r}(Cd.Z);ir("selected-tooltip",g_);var y_=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.getPoint();(0,f.isEqual)(t,this.location)||(this.location=t,this.showTooltip(t))},r.prototype.hide=function(){var t=this.getTooltipController();t.hideTooltip()},r.prototype.showTooltip=function(t){var e=this.getTooltipController();e.showTooltip(t)},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:this.getLastXPoint()},r.prototype.getLastXPoint=function(){var t=this.getView(),e=t.getXScale(),n=t.getYScales()[0],a=t.getCoordinate(),o=(0,f.last)(e.getTicks()).value;return a.convert({x:o,y:(n.range[0]+n.range[1])/2})},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("selected-tooltip")},r}(tn),m_=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip-active"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,Nt.__assign)((0,Nt.__assign)({},t),{showCrosshairs:!0,showMarkers:!1,shared:!0})},r}(Cd.Z);ir("tooltip-active",m_);var x_=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.getView().removeInteraction("tooltip")},r.prototype.show=function(){var t=this.getPoint();t&&this.showTooltip(t)},r.prototype.hide=function(){var t=this.getView(),e=this.getTooltipController();e.hideTooltip();var n=(0,f.filter)(t.geometries,function(a){return a.type=="point"});(0,f.each)(n,function(a){(0,f.each)(a.elements,function(o){o.setState("active",!1)})})},r.prototype.showTooltip=function(t){var e=this.getView(),n=this.getTooltipController();n.showTooltip(t);var a=n.getTooltipItems(t),o=(0,f.filter)(e.geometries,function(s){return s.type=="point"});(0,f.each)(o,function(s){(0,f.each)(s.elements,function(l){l.setState("active",(0,f.findIndex)(a,function(u){return u.data===l.data})!==-1)})})},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:null},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("tooltip-active")},r}(tn),b_=x_;Ir("selected-tooltip",y_),on("selected-tooltip",{start:[{trigger:gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"selected-tooltip:show"},{trigger:gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"selected-tooltip:show"},{trigger:"plot:mousemove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}]}),Ir("marker-active",b_),on("marker-active",{start:[{trigger:gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"marker-active:show"},{trigger:gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"marker-active:show"},{trigger:"plot:mousemove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:mouseleave",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchend",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}}]});var w_={line:"line",point:"point"},Zp=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.markerPoints=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:"round",lineCap:"round"},point:{visible:!1,size:3,shape:"circle"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{showContent:!0,crosshairs:{line:{style:{stroke:"rgba(0,0,0,0.45)"}}}},markerPoints:[]})},r.prototype.afterRender=function(){var t=this,e=this.options;this.renderLabel(),e.markerPoints&&((0,f.each)(this.markerPoints,function(n){return n.destroy()}),this.markerPoints=[],e.markerPoints.forEach(function(n){if(n.visible){var a=new s_((0,Nt.__assign)((0,Nt.__assign)({},n),{view:t.view}));t.markerPoints.push(a)}})),e.responsive&&e.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.seriesField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return w_[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&yi(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&yi(e[t.yField],t.yAxis),this.setConfig("scales",e),ZT(e[t.yField],(0,f.map)(t.data||[],function(n){return n[t.yField]})),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.tooltip=function(){(0,f.some)(this.options.markerPoints,function(t){return t.visible})&&(this.options.tooltip.showMarkers=!1),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){this.addLine(),this.addPoint()},r.prototype.addLine=function(){var t=this.options;this.line=qn("line","main",{plot:this}),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",this.line)},r.prototype.addPoint=function(){var t=this.options,e={visible:!1};t.point&&(t.point=(0,f.deepMix)(e,t.point)),t.point&&t.point.visible&&(this.point=qn("point","guide",{plot:this}),this.setConfig("geometry",this.point))},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=Co(this.view,"line");if(n.type==="line"){var l=new Up((0,Nt.__assign)({view:this.view,plot:this},this.options.label));l.render()}else this.doRenderLabel(s,(0,Nt.__assign)({type:"point",formatter:o.formatter&&function(u){return o.formatter(u)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.line.tooltip={};var t=this.options.tooltip;t.fields&&(this.line.tooltip.fields=t.fields),t.formatter&&(this.line.tooltip.callback=t.formatter,t.fields||(this.line.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.line.tooltip.fields.push(this.options.seriesField)))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation?(JT({options:this.options,view:this.view}),this.line.animate=t.animation):(this.line.animate=!1,this.point&&(this.point.animate=!1))},r.prototype.applyInteractions=function(){i.prototype.applyInteractions.call(this),this.interactions.push(new v_({view:this.view})),this.interactions.push(new p_({view:this.view}))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,T)},r.prototype.applyResponsive=function(t){var e=this,n=QP[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&this.options.label.type==="line"},r}(Hn),Fs=Zp;en("line",Zp);var S_=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Fs.getDefaultOptions,r}(jr),Kp=S_;function C_(i,r,t,e,n){var a=e-r,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,u=r;(0,f.each)(o,function(h){h.y0=t,h.y1=n,h.x0=u,u+=h.value*l,h.x1=h.x0+h.value*l})}function M_(i,r,t,e,n){var a=n-t,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,u=t;(0,f.each)(o,function(h){h.x0=r,h.x1=e,h.y0=u,u+=h.value*l,h.y1=h.y0+h.value*l})}var E_=(1+Math.sqrt(5))/2;function $p(i,r,t,e,n){var a=i.children,o=i.value;a.sort(function(Gt,Wt){return Wt.value-Gt.value});for(var s=[],l,u,h,c,v,g,C,F,G=0,V=0;G<a.length;){var X=e-r,at=n-t;for(l=a[V++].value,u=l,h=l,c=Math.max(at/X,X/at)/(o*E_),v=l*l*c,C=Math.max(u/v,v/h);V<a.length;V++){if(F=a[V].value,l+=F,F<h&&(h=F),F>u&&(u=F),v=l*l*c,g=Math.max(u/v,v/h),g>C){l-=F;break}C=g}var st={value:l,dice:X<at,children:a.slice(G,V)};if(s.push(st),st.dice){var xt=o?at*l/o:at;C_(st,r,t,e,t+xt),o&&(t+=xt)}else{var kt=o?X*l/o:X;M_(st,r,t,r+kt,n),o&&(r+=kt)}o-=l,G=V}return s}var A_=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.listeners=[],t.onItemGroupToggleActive=function(e,n){return function(){var a=e.get("children").find(function(o){return o.get("class")==="item-background"});a&&a.attr(n?t.itemActiveBackgroundStyle:t.itemBackgroundStyle),t.getCanvas().draw()}},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.initConfig=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=(0,Nt.__assign)({lineWidth:1,stroke:"#ffffff"},t.backgroundStyle||{}),this.itemBackgroundStyle=(0,Nt.__assign)({fill:"#fff"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=(0,Nt.__assign)({fill:"#ccc",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||"/",this.separatorStyle=(0,Nt.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=(0,Nt.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.textStyle||{})},r.prototype.renderInner=function(t){var e=0,n=0;this.offEvents(),this.renderItems(t,e,n),ep(this.group,this.x,this.y)},r.prototype.renderItems=function(t,e,n){var a=this,o=this.itemPadding,s=o[0],l=o[1],u=o[2],h=o[3],c,v=t.addShape("rect",{class:"breadcrumb-background",attrs:(0,Nt.__assign)({x:e,y:n,width:1,height:1},this.backgroundStyle)});this.items.forEach(function(g,C){var F=t.addGroup({id:"item-group-"+g.key,data:g,class:"item-group",attrs:{cursor:"pointer"}}),G=F.addShape("rect",{id:"item-background-"+g.key,class:"item-background",attrs:(0,Nt.__assign)((0,Nt.__assign)({x:e,y:n,width:h+l,height:s+u},a.itemBackgroundStyle),{cursor:"pointer"})});G.name="breadcrumb";var V=F.addShape("text",{id:"item-text-"+g.key,class:"item-text",attrs:(0,Nt.__assign)((0,Nt.__assign)({x:e+h,y:n+s,text:g.text},a.textStyle),{cursor:"pointer"})});V.name="breadcrumb";var X=V.getBBox();c=a.itemHeight||X.height;var at=a.itemWidth||X.width;a.maxItemWidth&&(at=Math.min(at,a.maxItemWidth));var st={x:e,y:n,width:at+h+l,height:c+s+u};if(G.attr("width",st.width),G.attr("height",st.height),F.setClip({type:"rect",attrs:st}),e+=st.width,C!==a.items.length-1){var xt=t.addShape("text",{attrs:(0,Nt.__assign)({x:e,y:n+s,text:a.separator},a.separatorStyle),class:"separator"});e+=xt.getBBox().width}}),v.attr({width:e,height:c+s+u})},r.prototype.bindEvents=function(t){var e=this,n=this.items,a=t.get("children").filter(function(s){return s.get("class")==="item-group"}),o=function(s,l,u){return function(){var h=l.get("data"),c=n.find(function(v){return v.key===h});e.emit(u,{item:c})}};a.forEach(function(s){var l=o("click",s,"onItemClick"),u=o("dblclick",s,"onItemDblclick"),h=e.onItemGroupToggleActive(s,!0),c=e.onItemGroupToggleActive(s,!1);s.on("click",l),s.on("dblclick",u),s.on("mouseenter",h),s.on("mouseleave",c),e.listeners.push({target:s,event:"click",callback:l}),e.listeners.push({target:s,event:"dblclick",callback:u}),e.listeners.push({target:s,event:"mouseenter",callback:h}),e.listeners.push({target:s,event:"mouseleave",callback:c})})},r.prototype.offEvents=function(){this.listeners&&this.listeners.forEach(function(t){var e=t.target,n=t.event,a=t.callback;e.off(n,a)}),this.listeners=[]},r}(Bs),T_=A_,Jl=[1,0,0,0,1,0,0,0,1],zo=400,is="easeQuadInOut";function P_(i,r,t){var e=tg(i),n=qp(r),a=n.width/e.width,o=n.height/e.height,s=(n.minX-e.minX)*a,l=(n.minY-e.minY)*o,u=es([["s",a,o],["t",s,l]]),h=r.geometries[0];ql(h);var c=r.backgroundGroup.addGroup();c.set("zIndex",-100),c.setClip({type:"rect",attrs:{x:n.minX,y:n.minY,width:n.width,height:n.height}});var v=Qp(h,c);h.container.set("visible",!1),r.canvas.draw(),t(),window.setTimeout(function(){(0,f.each)(v,function(G,V){V===0?G.animate({matrix:u},zo,is,function(){c.remove(),r.canvas.draw()}):G.animate(es,zo)}),h=r.geometries[0],ql(h);var g=h.getShapes();(0,f.each)(g,function(G){G.attr("opacity",0),G.animate({opacity:1},zo,is)});var C=h.container;C.stopAnimate(),C.set("visible",!0),C.attr("matrix",(0,f.clone)(Jl)),zA(C,[["s",e.width/n.width,e.height/n.height],["t",e.minX,e.minY]]);var F=(0,f.clone)(Jl);h.container.animate({matrix:F},zo,is,function(){eg(h)}),r.canvas.draw()},16)}function Qp(i,r){var t=i.getShapes(),e=[];return(0,f.each)(t,function(n){var a=r.addShape("path",{attrs:(0,f.deepMix)({},n.attrs,{capture:!1})});e.push(a)}),e}function Jp(i,r,t){var e=r.geometries[0];ql(e);var n=e.container;n.attr("matrix",(0,f.clone)(Jl));var a=r.backgroundGroup.addGroup();a.set("zIndex",-100);var o=Qp(e,a);n.set("visible",!1),r.canvas.draw(),t(),e=r.geometries[0],ql(e),n=e.container;var s=__(e.getShapes(),i),l=tg(s),u=qp(r),h=n.get("parent");h.get("clipShape")||n.setClip({type:"rect",attrs:{x:u.minX,y:u.minY,width:u.width,height:u.height}}),L_(a,o,l,u);var c=u.width/l.width,v=u.height/l.height,g=(u.minX-l.minX)*c,C=(u.minY-l.minY)*v,F=es([["s",c,v],["t",g,C]]);n.setMatrix(F),n.set("visible",!0),n.animate({matrix:Jl},zo,is,function(){eg(e)})}function __(i,r){var t;return(0,f.each)(i,function(e){var n=e.get("origin").data.name;n===r&&(t=e)}),t}function qp(i){var r=i.coordinateBBox,t={minX:r.minX,minY:r.minY,centerX:(r.maxX-r.minX)/2,centerY:(r.maxY-r.minY)/2,width:r.width,height:r.height};return t}function tg(i){var r=i.attr("path"),t=r[0][1],e=r[0][2],n=r[1][1],a=r[2][2],o={minX:t,minY:a,centerX:(n-t)/2,centerY:(e-a)/2,width:Math.abs(n-t),height:Math.abs(e-a)};return o}function L_(i,r,t,e){var n=t.width/e.width,a=t.height/e.height,o=es([["s",n,a],["t",t.minX,t.minY]]);i.animate({matrix:o},zo,is,function(){i.remove()}),(0,f.each)(r,function(s){s.animate({opacity:0},zo,is)})}function ql(i){var r=i.labelsContainer;r.set("visible",!1)}function eg(i){var r=i.labelsContainer;r.set("visible",!0)}var I_=100,O_=30,k_=10,B_=function(i){i===void 0&&(i={});var r=(0,Nt.__assign)({x:0,y:0,startNode:{name:"root"},itemWidth:I_,itemHeight:O_,padding:[0,0,0,0]},i);return r},rg=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getInteractionRange=function(t,e){var n=B_(e),a=n.padding,o=a[0],s=a[1];if(t)return new Zr(t.minX,t.maxY-n.itemHeight-o-s,t.width,n.itemHeight+o+s)},r.prototype.start=function(t){var e=this,n=t.data.data;n.children&&(this.parentNode={color:t.target.attr("fill"),shape:t.target,data:{name:(0,f.clone)(this.currentNode.name),value:(0,f.clone)(this.currentNode.value)},depth:(0,f.clone)(this.currentDepth)},this.currentDepth++,P_(t.target,this.view,function(){e.update(n)}))},r.prototype.update=function(t){(0,f.hasKey)(this.cache,t.name)||(this.cache[t.name]=t);var e=this.plot.getTreemapData(t,t.depth);this.view.changeData(e),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},r.prototype.render=function(){if(this.breadcrumb){var t=this.getItems();this.breadcrumb.update({items:t}),this.breadcrumb.render(),this.layout()}else this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),this.startNode.name==="root"?(this.startNodeName=(0,f.hasKey)(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.coordinateBBox.maxY+k_,this.breadcrumb=new T_({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.init(),this.breadcrumb.render(),this.plot.canvas.draw(),this.layout();this.onInteraction()},r.prototype.clear=function(){},r.prototype.layout=function(){var t=this.container.getBBox().width,e=(this.plot.width-t)/2;this.breadcrumb.update({x:e,y:this.y}),this.breadcrumb.render()},r.prototype.getItems=function(){var t=[];if(this.currentNode.name&&this.currentNode.name===this.startNodeName){var e=this.getRootItem();t.push(e)}else{t=[];var n=[];this.findParent(this.currentNode,n),t.push(this.getRootItem()),(0,f.each)(n,function(a,o){t.push({key:String(o+2),text:a.name,data:a})}),t.push({key:String(n.length+2),text:this.currentNode.name,data:this.currentNode})}return t},r.prototype.findParent=function(t,e){if(t.parent)(0,f.hasKey)(this.cache,t.parent.name)?e.push(this.cache[t.parent.name]):e.push(t.parent),this.findParent(t.parent,e);else return},r.prototype.onInteraction=function(){var t=this;this.container.on("click",function(e){var n=e.target.get("parent");if(n&&n.get("class")==="item-group"){var a=n.get("data");if(a.data)if(a.text===t.startNodeName){var o=1;t.currentDepth-1===o?Jp(t.currentNode.name,t.view,function(){t.updateRoot(a)}):t.updateRoot(a),t.currentDepth=1}else{if(t.currentNode===a.data)return;var s=(0,f.clone)(t.currentDepth);t.currentDepth=parseInt(a.key),s-1===t.currentDepth?Jp(t.currentNode.name,t.view,function(){t.update(a.data)}):t.update(a.data)}}})},r.prototype.getRootItem=function(){var t=this.plot.options.data,e=(0,f.hasKey)(t,"name")?t.name:"root";return{key:"1",text:e,data:this.plot.rootData}},r.prototype.saveOriginMapping=function(){var t=this.plot.options,e=t.colorField,n=t.colors,a={field:e,values:n};this.originMapping=a},r.prototype.adjustScale=function(t){var e=this.view;if(this.mapping&&(0,f.hasKey)(this.mapping,String(t))){var n=(0,f.clone)(this.mapping[t]);if(n.values&&(0,f.isFunction)(n.values)){var a=n.values(this.parentNode,this.currentNode);n.values=a}this.view.geometries[0].color(n.field,n.values)}else{var n=(0,f.clone)(this.originMapping);this.view.geometries[0].color(n.field,n.values)}e.render()},r.prototype.initGeometry=function(){this.geometry=this.view.geometries[0];var t=this.view.viewBBox,e=this.geometry.container;e.setClip({type:"rect",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},r.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},r}(Fa),D_=rg;Fa.registerInteraction("drilldown",rg);var F_={drilldown:D_},R_={rect:"polygon",breadcrumb:"breadcrumb"},N_=Mi(R_);(0,f.assign)(sn,N_);var ng=4,Y_=8;function G_(i,r){return!i.children||i.depth>=r}function z_(i,r,t){var e=i.attr("fontSize"),n=i.attr("text"),a=t.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:e}}),o=n.split(`
`),s=o.map(function(l){for(var u="",h=l.split(""),c=[],v=0;v<h.length;v++){var g=h[v];a.attr("text",u+=g);var C=a.getBBox().width-1;if(C>r){if(v===0)break;c.push(v),u=""}}return _d(h,c)});return a.remove(),s.join(`
`)}function ig(i,r,t,e){for(var n=e.addShape("text",{attrs:{text:"...",x:0,y:0,fontSize:r}}),a=n.getBBox().width,o=e.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:r}}),s="",l=t-a,u=0;u<i.length;u++){var h=i[u];o.attr("text",s+=h);var c=o.getBBox().width;if(c>=l){var v=s.substr(0,s.length-1);if(v.length>0)return v+"..."}}return o.remove(),n.remove(),s}var X_=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,f.each)(t,function(e){var n=e.shape,a=n.get("origin").data,o=G_(a,r.plot.options.maxLevel);if(a.showLabel){var s=(0,f.clone)(r.options.style),l=r.getPosition(n,o),u=r.options.formatter,h=u?u(a.name):a.name,c=r.getTextBaseLine(o),v=r.container.addShape("text",{attrs:(0,f.deepMix)({},s,{x:l.x,y:l.y,text:h,fill:"black",textAlign:"center",textBaseline:c,fontWeight:o?300:600}),name:"label"});r.adjustLabel(v,n,o)}})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getPosition=function(r,t){var e=r.getBBox(),n=0,a=0;return t?(n=e.minX+e.width/2,a=e.minY+e.height/2):(n=e.x+e.width/2,a=e.y+4),{x:n,y:a}},i.prototype.getTextBaseLine=function(r){return r?"middle":"top"},i.prototype.adjustLabel=function(r,t,e){e?this.adjustLeafLabel(r,t):this.adjustParentLabel(r,t)},i.prototype.adjustLeafLabel=function(r,t){var e=t.getBBox(),n=r.getBBox(),a=(0,f.clone)(r.attr("text")),o=2,s=Math.max(r.attr("fontSize")-o,Y_),l=e.x+e.width/2,u=e.y+e.height/2;r.attr({x:l,y:u,textAlign:"center",textBaseline:"middle",lineHeight:s,fontSize:s});var h=e.width-ng*2;if(n.width>e.width&&n.height>e.height){r.attr("text","");return}else if(h<s){r.attr("text","");return}if(n.width>e.width){var c=z_(r,h,this.container);r.attr({lineHeight:r.attr("fontSize"),text:c});var v=r.getBBox();if(v.height>e.height){var g=ig(a,s,h,this.container);r.attr("text",g)}}},i.prototype.adjustParentLabel=function(r,t){var e=t.getBBox(),n=e.width-ng*2;if(r.getBBox().width>n){var a=ig(r.attr("text"),r.attr("fontSize"),n,this.container);r.attr("text",a)}},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,f.clone)(t)}},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="polygon"})},i}(),V_=X_,H_=4,Rs=4,ag=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="treemap",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1,showTitle:!1,showCrosshairs:!1,showMarkers:!1,shared:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:"x",yField:"y",label:{visible:!0,adjustPosition:!0,style:{stroke:"rgba(0,0,0,0)",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}},interactions:[{type:"tooltip"}]})},r.prototype.beforeInit=function(){var t=this;i.prototype.beforeInit.call(this);var e=this.options.interactions;e&&(0,f.each)(e,function(o){o.type==="drilldown"&&(t.isDrilldown=!0,t.options.maxLevel=1)});var n=this.options.data,a=this.getTreemapData(n);this.rootData=a},r.prototype.afterRender=function(){if(i.prototype.afterRender.call(this),this.options.label&&this.options.label.visible){var t=new V_((0,Nt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.geometryParser=function(){return"polygon"},r.prototype.getTreemapData=function(t,e){var n=this.getViewRange(),a=$p(t,n.x,n.y,n.width,n.height);this.recursive(a,1);var o=[];return this.getAllNodes(a,o,e),o.sort(function(s,l){return s.depth-l.depth}),this.options.xField="x",this.options.yField="y",o},r.prototype.processData=function(){return this.rootData},r.prototype.coord=function(){},r.prototype.addGeometry=function(){var t=this,e=this.options,n=e.data,a=e.colorField,o=e.color,s=this.getTreemapData(n);this.rootData=s;var l=this.isNested(s);this.rect={type:"polygon",position:{fields:["x","y"]},color:{fields:[a],values:o},style:{fields:["depth"],callback:function(u){var h=t.adjustStyleByDepth(u,l);return(0,f.deepMix)({},h,t.options.rectStyle)}},tooltip:{fields:["name","value"]}},this.options.tooltip&&this.options.tooltip.formatter&&(this.rect.tooltip.callback=this.options.tooltip.formatter),this.setConfig("geometry",this.rect)},r.prototype.applyInteractions=function(){var t=this,e=this.options.interactions,n=this.view.interactions;(0,f.each)(e,function(a){var o=F_[a.type];if(o){var s=new o((0,f.deepMix)({},{view:t.view,plot:t,startEvent:"polygon:click"},a.cfg,o.getInteractionRange(t.layerBBox,a.cfg)));n[a.type]=s}})},r.prototype.animation=function(){i.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,A)},r.prototype.recursive=function(t,e){var n=this,a=this.options.colorField;(0,f.each)(t,function(o){(0,f.each)(o.children,function(s){s.depth=e,e>1&&(s.parent=o),(0,f.hasKey)(s,a)||(s[a]=o[a]),s.showLabel=!0;var l=n.isLeaf(s);if(!l){var u=Math.abs(s.y1-s.y0),h=n.getLabelHeight(),c=u/2>h?h:Rs;s.showLabel=c!==Rs;var v=$p(s,s.x0+Rs,s.y0+c,s.x1-Rs,s.y1-Rs);n.fillColorField(v,a,s[a]),n.recursive(v,s.depth+1)}})})},r.prototype.getAllNodes=function(t,e,n){var a=this,o=n||this.options.maxLevel,s=this.getViewRange();(0,f.each)(t,function(l){(0,f.hasKey)(l,"x0")&&l.depth<=o&&e.push((0,Nt.__assign)((0,Nt.__assign)({},l),{x:[l.x0,l.x1,l.x1,l.x0],y:[s.height-l.y1,s.height-l.y1,s.height-l.y0,s.height-l.y0]})),(0,f.hasKey)(l,"children")&&a.getAllNodes(l.children,e)})},r.prototype.fillColorField=function(t,e,n){(0,f.each)(t,function(a){(0,f.hasKey)(a,e)||(a[e]=n)})},r.prototype.getLabelHeight=function(){var t=this.options.label,e=this.getPlotTheme().label.style.fontSize,n=0;if(t&&t.visible){var a=t.style;n=a&&a.fontSize?a.fontSize:e}return n+H_*2},r.prototype.isLeaf=function(t){return!t.children||t.children.length===0},r.prototype.isNested=function(t){var e=this.options.maxLevel;if(e===1)return!1;for(var n=!1,a=0;a<t.length;a++)if(t[a].children){n=!0;break}return n},r.prototype.adjustStyleByDepth=function(t,e){var n=this.options.maxLevel;return e?t===1?{lineWidth:1,stroke:"black",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.3)",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.9)",opacity:.9}},r}(Hn),W_=ag;en("treemap",ag);var j_=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="treemap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=W_.getDefaultOptions,r}(jr),og=j_,sg=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="step-line",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{step:"hv"})},r}(Fs);en("step-line",sg);var U_=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="step-line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=sg.getDefaultOptions,r}(jr),lg=U_;function ug(i,r){var t=[],e=i.get("origin").points;return(0,f.each)(e,function(n){t.push(r.convertPoint(n))}),t}var Z_=function(){function i(r){(0,f.deepMix)(this,this.constructor.getDefaultOptions(r),r),this._init()}return i.getDefaultOptions=function(r){var t=r.transpose;return{visible:!0,size:t?32:80,spacing:t?8:12,offset:t?32:0,arrow:{visible:!0,headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},value:{visible:!0,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)"},formatter:function(e,n){return(100*n/e).toFixed(2)+"%"}},animation:(0,f.deepMix)({},wo.DEFAULT_ANIMATE_CFG)}},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype.draw=function(){var r=this,t=this.transpose,e=this.view.getScaleByField(this.field).values,n=this.view.geometries[0],a=n.getShapes(),o,s,l,u;t?a.forEach(function(h,c){s=e[c],c++>0&&r._drawTag(l,u,h,s),u=s,l=h}):a.forEach(function(h,c){u=e[c],c++>0&&r._drawTag(h,u,o,s),s=u,o=h})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._drawTag=function(r,t,e,n){var a=this.transpose,o=this.view.geometries[0].coordinate,s=ug(r,o)[a?3:0],l=ug(e,o)[a?0:3];this._drawTagArrow(s,l),this._drawTagValue(s,t,l,n)},i.prototype._drawTagArrow=function(r,t){var e=this.spacing,n=this,a=n.size,o=n.offset,s=n.animation,l=n.transpose,u=this.arrow.headSize,h=t.y-r.y,c=t.x-r.x,v;l?(c-u)/2<e?(e=Math.max(1,(c-u)/2),v=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e,t.y-o-a/2]]):v=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e-u,t.y-o-a],[t.x-e,t.y-o-a/2],[t.x-e-u,t.y-o]]:(h-u)/2<e?(e=Math.max(1,(h-u)/2),v=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a/2,t.y-e]]):v=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a,t.y-e-u],[t.x+o+a/2,t.y-e],[t.x+o,t.y-e-u]];var g=this.container.addShape("polygon",{name:"arrow",attrs:(0,Nt.__assign)((0,Nt.__assign)({},this.arrow.style),{points:v})});s!==!1&&this._fadeInTagShape(g)},i.prototype._drawTagValue=function(r,t,e,n){var a=this,o=a.size,s=a.offset,l=a.animation,u=a.transpose,h=this.value.formatter(t,n),c=this.container.addShape("text",{name:"value",attrs:(0,Nt.__assign)((0,Nt.__assign)({},this.value.style),{text:h,x:u?(r.x+e.x)/2:r.x+s+o/2,y:u?r.y-s-o/2:(r.y+e.y)/2,textAlign:"center",textBaseline:"middle"})});if(u){var v=e.x-r.x,g=c.getBBox().width;if(g>v){var C=g/h.length,F=Math.max(1,Math.ceil(v/C)-1),G=h.slice(0,F)+"...";c.attr("text",G)}}l!==!1&&this._fadeInTagShape(c)},i.prototype._fadeInTagShape=function(r){var t=this.animation,e=r.attr("opacity");r.attr("opacity",0);var n=(0,f.get)(t,"appear",wo.DEFAULT_ANIMATE_CFG.appear).duration;r.animate({opacity:e},n)},i}(),fg=Z_;function K_(i){var r=i.getResponsiveTheme(),t=i.canvas;new Eo({plot:i,responsiveTheme:r,dim:"x"}),new Eo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var $_=[],Q_=[{name:"responsiveAxis",method:K_}],J_={preRender:$_,afterRender:Q_},q_=function(i){var r=i.opacity||1;return{opacity:r*.5}},tL=function(i){var r=i.opacity||1;return{opacity:r*.5}},Sh={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:q_,disable:tL,selected:{lineWidth:1,stroke:"black"}}};ra("bar",Sh);function lo(i){var r=i.indexOf("#")===0?i.substr(1):i,t=[];return t.push(parseInt(r.substr(0,2),16)),t.push(parseInt(r.substr(2,2),16)),t.push(parseInt(r.substr(4,2),16)),t}function Ch(i){var r;return r=Math.round(i),r=r.toString(16),r.length===1&&(r="0"+i),r}function yG(i){return"#"+(Ch(i[0])+Ch(i[1])+Ch(i[2]))}function tu(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var Mh=function(i){var r=lo(i),t=r[0],e=r[1],n=r[2],a=(t*299+e*587+n*114)/1e3<128;return a},hg=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a=this.options,o=a.style,s=a.formatter,l=[].concat(t.getModel().mappingData),u=this.getValue(t);return(0,f.deepMix)({},o,(0,Nt.__assign)((0,Nt.__assign)({},this.getPosition(t)),{text:s?s(u,(n={},n[ks]=l[0]._origin,n.mappingDatum=l[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):u,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline()}))},r.prototype.adjustLabel=function(t,e){var n=this.options,a=n.adjustPosition,o=n.style;if(a){var s=this.getDefaultOffset(),l=t.getBBox(),u=this.getElementShapeBBox(e);if(u.width<=l.width){var h=u.maxX+this.options.offsetX+s;t.attr("x",h),t.attr("fill",o.fill)}}},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,Nt.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.getValue=function(t){return(0,f.get)(t.getData(),this.layer.options.xField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,u=a.height,h=a.width,c=this.options,v=c.offsetX,g=c.offsetY,C=c.position,F=l+u/2+g,G=n<0?-1:1,V;if(C==="left"){var X=n>0?o:s;V=X+e*G+v}else if(C==="right"){var X=n>0?s:o;V=X+e*G+v}else V=o+h/2+v;return{x:V,y:F}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="right"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=lo(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],u=tu(l,s);return u}var h=this.options.style.fill;return h},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="right"&&o&&e!=="black"?null:void 0},r.prototype.getTextAlign=function(t){var e=this.getValue(t),n=this.options.position,a={right:"left",left:"left",middle:"center"},o={right:"right",left:"right",middle:"center"};return e<0?o[n]:a[n]},r.prototype.getTextBaseline=function(){return"middle"},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,f.each)(n.get("origin").points,function(g){a.push(e.coord.convertPoint(g))});var o=a.map(function(g){return g.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),u=a.map(function(g){return g.y}),h=Math.min.apply(Math,u),c=Math.max.apply(Math,u),v=new Zr(s,h,l-s,c-h);return v},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(rh),cg=hg;ea("bar",hg);var vg=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,u=a.height,h=this.options,c=h.offsetX,v=h.offsetY,g=l+u/2+v,C=n<0?-1:1,F=n>0?s:o,G=F+e*C+c;return{x:G,y:g}},r.prototype.getTextAlign=function(t){var e=this.getValue(t);return e>0?"left":"right"},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,f.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.height>=a.height})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,u=s.lightStyle,h=(0,f.groupBy)(e,function(c){return c.get(la)[gn.FIELD_ORIGIN][o]});(0,f.each)(e,function(c){var v=h[c.get(la)[gn.FIELD_ORIGIN][o]]||[],g=c.get("element"),C=g.shape,F=Mh(C.attr("fill")),G=n.getElementShapeBBox(g),V=Zr.fromBBoxObject(c.getBBox());if(vh(a,G)<=0&&c.set("visible",!1),V.width>G.width){var X=(0,f.findIndex)(v,function(st){return st===c});X!==v.length-1&&c.set("visible",!1)}else{c.attr({x:G.x+G.width/2,textAlign:"center"});var at=V.width>G.width||V.height>G.height;at?c.attr({stroke:u==null?void 0:u.stroke}):c.attr({fill:F?u==null?void 0:u.fill:l==null?void 0:l.fill,fillOpacity:F?u==null?void 0:u.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],u=(0,f.groupBy)(a,function(g){return g.get(la)[gn.FIELD_ORIGIN][o]}),h=(0,f.uniq)((0,f.map)(a,function(g){return g.get(la)[gn.FIELD_ORIGIN][o]})),c;for((0,f.size)(h)>0&&(c=h.shift(),(0,f.each)(u[c],function(g){return l.push(g)})),(0,f.size)(h)>0&&(c=h.pop(),(0,f.each)(u[c],function(g){return l.push(g)})),(0,f.each)(h.reverse(),function(g){(0,f.each)(u[g],function(C){return l.push(C)})});l.length>0;){var v=l.shift();v.get("visible")&&(Kl(v,n),$l(v,s)?v.set("visible",!1):s.push(v))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,f.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(cg),eL=vg;ea("bar-auto",vg);var rL={bar:"interval"},nL=Mi(rL);(0,f.assign)(sn,nL);var iL={bar:"interval"},aL={interval:"bar"},dg=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bar",t}return r.getDefaultOptions=function(){var t={xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1},nice:!0},yAxis:{visible:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!0,position:"left",adjustColor:!0},legend:{visible:!1,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}};return(0,f.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this);var t=this.options;t.responsive&&t.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),t.responsive&&t.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new fg((0,Nt.__assign)({view:this.view,field:t.xField,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?iL[e]:aL[e]},r.prototype.processData=function(t){var e=t&&t.slice().reverse(),n=this.options.yField,a=[];return(0,f.each)(e,function(o){var s=(0,f.clone)(o);s[n]=s[n].toString(),a.push(s)}),a},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={type:"cat"},(0,f.has)(t,"yAxis")&&yi(e[t.yField],t.yAxis),e[t.xField]={},(0,f.has)(t,"xAxis")&&yi(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.axis=function(){var t=ki("axis",{plot:this,dim:"x"}),e=ki("axis",{plot:this,dim:"y"});t&&(t.position="left"),e&&(e.position="bottom");var n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.adjustBar=function(t){return null},r.prototype.addGeometry=function(){var t=this.options,e=qn("interval","main",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,f.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustBar(e),this.bar=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.bar.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,E)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=Co(this.view,"interval");this.doRenderLabel(s,(0,Nt.__assign)({type:"bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.bar.tooltip.fields.push(this.options.colorField)))},r.prototype.applyResponsive=function(t){var e=this,n=J_[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r.prototype.getLabelOptionsByPosition=function(t){if(t==="middle")return{offset:0};if(t==="left")return{offset:7,style:{stroke:null,lineWidth:0}};if(t==="right")return{offset:4}},r}(Hn),eu=dg;en("bar",dg);var oL=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=eu.getDefaultOptions,r}(jr),pg=oL;ra("stackedBar",Sh);var sL=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition){var n=t.getBBox(),a=this.getElementShapeBBox(e);a.maxX<=n.maxX&&t.set("visible",!1)}},r}(cg),mG=null;ea("stacked-bar",sL);var lL=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(eL),xG=null;ea("stacked-bar-auto",lL);var gg=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},legend:{visible:!0,position:"top-left",offsetY:0}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustBar=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=Co(this.view,"interval");this.doRenderLabel(s,(0,Nt.__assign)({type:"stacked-bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(eu),Eh=gg;en("stackedBar",gg);var uL=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Eh.getDefaultOptions,r}(jr),yg=uL;ra("groupedBar",Sh);var mg=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:"right",adjustColor:!0},legend:{visible:!0,position:"right-top",offsetY:0}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=(0,f.valuesOfKey)(this.options.data,this.options.groupField)||[];this.view.on("tooltip:change",function(e){var n=e.items,a=n===void 0?[]:n,o=(0,f.sortBy)(a.slice(),function(s){return t.indexOf(s.name)}).reverse();o.forEach(function(s,l){e.items[l]=s})})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.scale=function(){var t={};t[this.options.groupField]={values:(0,f.valuesOfKey)(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=(0,f.deepMix)({},this.options.meta,t):this.options.meta=t,i.prototype.scale.call(this)},r.prototype.adjustBar=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(eu),xg=mg;en("groupedBar",mg);var fL=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=xg.getDefaultOptions,r}(jr),bg=fL,Ah=function(i,r,t){var e=(0,f.groupBy)(i,r);e=(0,f.mapValues)(e,function(o){return(0,f.map)(o,function(s){return(0,f.map)(t,function(l){return s[l]})})}),e=(0,f.mapValues)(e,f.flatten),e=(0,f.mapValues)(e,function(o){return(0,f.map)(o,function(s){var l=Number.parseFloat(s);return!(0,f.isNumber)(l)||isNaN(l)?0:l})});var n=(0,f.mapValues)(e,function(o){return(0,f.reduce)(o,function(s,l){return s+l},0)}),a=(0,f.map)(i,function(o){var s=(0,Nt.__assign)((0,Nt.__assign)({},o),{_origin:o,total:n[o[r]]});return(0,f.each)(t,function(l){s[l]=o[l]/(n[o[r]]||1)}),s});return(0,f.each)((0,f.groupBy)(a,r),function(o){var s=0;(0,f.each)(o,function(l,u){(0,f.each)(t,function(h,c){(s+l[h]>=1||u===o.length-1&&c===t.length-1&&s>0)&&(l[h]=1-s),s+=l[h]})})}),a},wg=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedBar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField,o=i.prototype.processData.call(this,t);return Ah(o,a,[n])},r.prototype.scale=function(){var t={},e=this.options.xField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(Eh),Sg=wg;en("percentStackedBar",wg);var hL=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Sg.getDefaultOptions,r}(jr),Cg=hL,Mg=8;function cL(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var vL=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.elements,n=t.coordinate;this.coord=n,(0,f.each)(e,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),u=r.getTextAlign(),h=[];(0,f.each)(s,function(c,v){var g=v===0?r.options.leftStyle:r.options.rightStyle,C=r.getTextColor(o,v);r.options.position==="inner"&&r.options.adjustColor&&C!=="black"&&(g.stroke=null);var F=r.options.formatter,G=F?F(l[v]):l[v],V=r.container.addShape("text",{attrs:(0,f.deepMix)({},g,{x:c.x,y:c.y,text:G,fill:C,textAlign:u[v],textBaseline:"middle"}),name:"label"});h.push(V),r.doAnimation(V)}),o.set("labelShapes",h),r.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,f.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new Zr(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:Mg,offsetY:0,style:(0,f.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.maxX,a=t.minY,o=t.height,s=this.options,l=s.offsetX,u=s.offsetY,h=a+o/2+u,c,v;return this.options.position==="outer"?(c=e-l,v=n+l):(c=e+l,v=n-l),[{x:c,y:h},{x:v,y:h}]},i.prototype.getValue=function(r){var t=this.plot.options.xField;return r.get("origin").data[t]},i.prototype.getTextAlign=function(){return this.options.position==="outer"?["right","left"]:["left","right"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=lo(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=cL(s,o);return l}var u=t===0?this.options.leftStyle.fill:this.options.rightStyle.fill;return u},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.x[0],o=n.x[1],s=Math.abs(o-a),l=this.view.coordinateBBox,u=[r.getBBox(),t.getBBox()],h=r.attr("x"),c=t.attr("x");if(this.options.adjustPosition&&this.options.position==="inner"){var v=u[0].width+u[1].width,g=u[0].maxX-u[1].minX>2,C=v>s;(g||C)&&(h=a-this.options.offsetX,r.attr("fill",this.options.leftStyle.fill),r.attr("textAlign","right"),u[0]=r.getBBox(),c=o+this.options.offsetX,t.attr("fill",this.options.rightStyle.fill),t.attr("textAlign","left"),u[1]=t.getBBox())}u[0].minX<l.minX&&(h=l.minX+Mg,r.attr("textAlign","left")),r.attr("x",h),t.attr("x",c),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),dL=vL,Eg;function Ag(i,r){var t=i.getBBox(),e=t.minX+t.width/2;i.setClip({type:"rect",attrs:{x:e,y:t.minY,width:0,height:t.height}});var n=i.get("clipShape");n.animate({width:t.width,x:t.minX},r.duration,r.easing,function(){i.setClip(null)},r.delay)}Ag.animationName="clipInFromCenter";function pL(i){Eg=i}function Tg(i,r){var t=gL(i).attr("path"),e=(0,f.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function gL(i){var r=i.id,t;return(0,f.each)(Eg,function(e){e.id===r&&(t=e)}),t}Tg.animationName="updateFromCenter",li("clipInFromCenter",Ag),li("updateFromCenter",Tg);var Pg=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeBar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,f.each)(e,function(n){var a=n.elements;(0,f.each)(a,function(o){t.push(o.shape)})}),pL(t),i.prototype.afterRender.call(this)},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new dL((0,Nt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.animation=function(){i.prototype.animation.call(this)},r}(eu),yL=Pg;en("rangeBar",Pg);var mL=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rangeBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=yL.getDefaultOptions,r}(jr),_g=mL,Lg=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(Wp),xL=Lg;ea("area-point",Lg);var Ig=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){i.prototype.layoutLabels.call(this,t,e),this.adjustAreaLabelsStyle(e)},r.prototype.adjustAreaLabelsStyle=function(t){var e=this.view,n=this.options,a=n.darkStyle,o=n.lightStyle,s=Co(e,"area"),l=KA(s).sort(function(u,h){return h.getBBox().height-u.getBBox().height});(0,f.each)(t,function(u){var h=u.getBBox(),c=KE(h.x,h.y,h.width,h.height),v=(0,f.map)(l,function(F){return{area:F,matches:(0,f.filter)(c,function(G){return!!F.isHit(G[0],G[1])}).length}}).sort(function(F,G){return F.matches-G.matches});if((0,f.last)(v).matches>0){var g=(0,f.last)(v).area.attr("fill"),C=Mh(g);u.attr({fill:C?o==null?void 0:o.fill:a==null?void 0:a.fill,fillOpacity:C?o.fillOpacity:a.fillOpacity,stroke:C?o==null?void 0:o.stroke:a==null?void 0:a.stroke})}})},r}(JP),bL=Ig;ea("area-point-auto",Ig);function wL(i){var r=i.getResponsiveTheme(),t=i.canvas;new Eo({plot:i,responsiveTheme:r,dim:"x"}),new Eo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var SL=[],CL=[{name:"responsiveAxis",method:wL}],ML={preRender:SL,afterRender:CL},EL={area:"area",line:"line",point:"point"},AL=Mi(EL);(0,f.assign)(sn,AL);var TL=function(i){var r=i.opacity||1;return{opacity:r}},PL=function(i){var r=i.opacity||1;return{opacity:r*.5}},_L=function(i){var r=i.opacity||1;return{opacity:r}},LL=function(i){var r=i.opacity||1;return{opacity:r*.5}},IL=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},OL=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},kL=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},BL=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}},Og={areaStyle:{normal:{},active:TL,disable:PL,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:_L,disable:LL,selected:IL},pointStyle:{normal:{},active:OL,disable:BL,selected:kL},label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",fillOpacity:1,stroke:"#2c3542"}}};ra("area",Og);var DL={area:"area",line:"line",point:"point"},kg=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="area",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25},line:{visible:!0,size:2,style:{opacity:1,lineJoin:"round",lineCap:"round"}},point:{visible:!1,size:4,shape:"point"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return DL[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&yi(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&yi(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){return null},r.prototype.addGeometry=function(){var t=this.options,e=qn("area","main",{plot:this});this.area=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.adjustArea(e),this.setConfig("geometry",e),this.addLine(),this.addPoint()},r.prototype.adjustArea=function(t){},r.prototype.adjustLine=function(t){},r.prototype.adjustPoint=function(t){},r.prototype.addLine=function(){var t=this.options,e=(0,f.deepMix)({},t.line);if(e.visible){var n=qn("line","guide",{type:"line",plot:this,line:e});this.adjustLine(n),this.setConfig("geometry",n),this.line=n}},r.prototype.addPoint=function(){var t=this.options,e=(0,f.deepMix)({},t.point);if(e.visible){var n=qn("point","guide",{plot:this});this.adjustPoint(n),this.setConfig("geometry",n),this.point=n}},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=Co(this.view,"area");this.doRenderLabel(s,(0,Nt.__assign)({type:"area-point",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.label=function(){},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.area.tooltip.fields.push(this.options.seriesField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,p)},r.prototype.applyResponsive=function(t){var e=this,n=ML[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r}(Hn),Th=kg;en("area",kg);var FL=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="area",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Th.getDefaultOptions,r}(jr),Bg=FL,RL=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getShapeInfo=function(t){var e=t.get("origin").points,n=e[e.length-1],a=t.attr("stroke"),o=this.plot.options.stackField,s=t.get("origin").data[0][o],l=(0,f.reduce)(n.y,function(u,h){return u+h},0)/(0,f.size)(n.y);return{x:n.x,y:l,color:a,name:s}},r}(Up),NL=RL,Ph=12,YL=.01,GL=100,zL=12;function XL(i){var r=-Infinity,t=Infinity,e=-Infinity;return(0,f.each)(i,function(n){t=Math.min(n.x,t),e=Math.max(n.x,e);var a=Math.abs(n.y[0]-n.y[1]);r=Math.max(r,a)}),{xRange:[t,e],maxHeight:r}}function Dg(i,r,t){var e=r[0],n=r[r.length-1];(0,f.each)(r,function(o){if(o.x===i)return o.y[t];o.x<i&&o.x>e.x&&(e=o),o.x>i&&o.x<n.x&&(n=o)});var a=(i-e.x)/(n.x-e.x);return e.y[t]*(1-a)+n.y[t]*a}function VL(i,r){var t;for(t=0;t<i.length;t++){var e=i[t];if(e.x===r||e.x>r)break}return t}var HL=function(){function i(r){this.destroyed=!1,this.scaleFactor=[],this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.plot.options.stackField,e=this.getGeometry().dataArray,n=[];(0,f.each)(e,function(o,s){var l=r.drawLabel(o,s);l&&(n.push((0,f.deepMix)({},o[0],l)),r.scaleFactor.push(l.scaleFactor))});var a=[];(0,f.each)(n,function(o,s){var l=r.options,u=l.style,h=l.offsetX,c=l.offsetY,v=r.getFontSize(s),g=r.options.formatter,C=g?g(o._origin[t]):o._origin[t],F=r.container.addShape("text",{attrs:(0,f.deepMix)({},{x:o.x+h,y:o.y+c,text:C,fill:o.color,fontSize:v,textAlign:"center",textBaseline:"top"},u),name:"label"});a.push(F)}),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,f.clone)(r.label.style);return t.stroke=null,delete t.fill,{offsetX:0,offsetY:0,style:t,autoScale:!0}},i.prototype.drawLabel=function(r,t){var e=XL(r),n=e.xRange,a=e.maxHeight,o=n[1]-n[0],s=this.getInterpolatedPoints(n[0],o,r),l=this.getLabelBbox(t),u={xRange:n,aspect:l.width/l.height,data:s,justTest:!0},h=this.bisection(zL,a,this.testFit,u,YL,GL);if(h!==null){u.justTest=!1;var c=this.testFit(u);return c.x=c.x,c.y=c.y0+(c.y1-c.y0)/2,c.scaleFactor=h/l.height*.2,c}},i.prototype.getInterpolatedPoints=function(r,t,e){for(var n=[],a=2,o=r;o<t;o+=a){var s=Dg(o,e,0),l=Dg(o,e,1);n.push({x:o,y:[s,l]})}return n},i.prototype.bisection=function(r,t,e,n,a,o){for(var s=0;s<o;s++){var l=(r+t)/2,u=n;u.height=l,u.width=l*u.aspect;var h=e(u),c=(t-r)/2<a;if(h&&c)return l;h?r=l:t=l}return null},i.prototype.testFit=function(r){for(var t=r.xRange,e=r.width,n=r.height,a=r.data,o=r.justTest,s=0;s<a.length;s++){var l=a[s],u=l.x,h=u+e;if(h>t[1])break;for(var c=VL(a,h),v=-Infinity,g=null,C=Infinity,F=s;F<c;F++){var G=a[F].y[1],V=a[F].y[0];if(V<C&&(C=V),G>v&&(v=G,g=V),C-v<n)break}if(C-v>=n)return o?!0:{x:u,y0:v,y1:g,width:e,height:n}}return!1},i.prototype.getLabelBbox=function(r){var t=(0,f.clone)(this.plot.theme.label.textStyle);t.fontSize=Ph;var e=this.container.addShape("text",{attrs:(0,Nt.__assign)({text:r,x:0,y:0},t)}),n=e.getBBox();return e.remove(),n},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="area"})},i.prototype.getFontSize=function(r){if(this.options.autoScale){var t=this.scaleFactor[r];return Ph*t}return Ph},i}(),WL=HL,jL={lineLabel:{Ctr:NL},areaLabel:{Ctr:WL}};function UL(i,r,t){if(i.options[r]&&i.options[r].visible){var e=jL[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var ZL=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(xL),bG=null;ea("stackedArea-point",ZL);var KL=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.sortLabels=function(t,e){var n=[];return e.length>0&&n.push(e.shift()),e.length>0&&n.push(e.pop()),n.push.apply(n,e),n},r}(bL),wG=null;ea("stackedArea-point-auto",KL),ra("stackedArea",Og);var Fg=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.plotComponents=[],t.type="stackedArea",t.baseType="area",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!1,type:"area"}})},r.prototype.beforeInit=function(){var t=(0,f.get)(this.options,["label","visible"]),e=(0,f.get)(this.options,["label","type"]),n=this.options;t&&(e==="line"&&(n.lineLabel=this.options.label),e==="area"&&(n.areaLabel=this.options.label)),i.prototype.beforeInit.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.label=function(){var t=this.options,e=t.label;if(e&&e.visible===!1){this.line&&(this.line.label=!1),this.point&&(this.point.label=!1),this.area.label=!1;return}},r.prototype.adjustArea=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustLine=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustPoint=function(t){t.adjust=[{type:"stack"}]},r.prototype.afterRender=function(){this.renderPlotComponents(),this.options.responsive=!1,i.prototype.afterRender.call(this)},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r.prototype.renderPlotComponents=function(){var t=this,e=["areaLabel","lineLabel"];(0,f.each)(e,function(n){var a=(0,Nt.__assign)({view:t.view,plot:t},t.options[n]),o=UL(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(Th),_h=Fg;en("stackedArea",Fg);var $L=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=_h.getDefaultOptions,r}(jr),Rg=$L,Ng=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedArea",t.baseType="stackedArea",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return Ah(t,n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[this.options.yField]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},t,this.options.meta),i.prototype.scale.call(this)},r}(_h),Yg=Ng;en("percentStackedArea",Ng);var QL=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Yg.getDefaultOptions,r}(jr),Gg=QL;function JL(i){var r=i.getResponsiveTheme(),t=i.canvas;new Eo({plot:i,responsiveTheme:r,dim:"x"}),new Eo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var qL=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,f.get)(this.plot.options,["label","position"],"inner")},r}(Vp);function tI(i){var r=i.getResponsiveTheme();new qL({plot:i,responsiveTheme:r})}var eI=[],rI=[{name:"responsiveAxis",method:JL},{name:"responsiveLabel",method:tI}],nI={preRender:eI,afterRender:rI},iI={label:{top:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodeJitterUpward"},{name:"nodesResamplingByState",option:{keep:["min","max","median"]}},{name:"textHide"}]}}}};gp("column",iI);var zg=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a,o=this.options,s=o.style,l=o.formatter,u=[].concat(t.getModel().mappingData),h=this.getValue(t);return(0,f.deepMix)({},s,(0,Nt.__assign)((0,Nt.__assign)({},this.getPosition(t)),{text:l?l(h,(n={},n[ks]=(a=u[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=u[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):h,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseLine()}))},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,Nt.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=this.getDefaultOffset(),o=t.getBBox(),s=this.getElementShapeBBox(e);if(s.height<=o.height){var l=s.minY+this.options.offsetY-a;t.attr("y",l),t.attr("textBaseline","bottom"),t.attr("fill",this.options.style.fill)}}},r.prototype.getValue=function(t){return(0,f.get)(t.getData(),this.layer.options.yField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,u=a.height,h=a.width,c=this.options,v=c.offsetX,g=c.offsetY,C=c.position,F=o+h/2+v,G=n>0?-1:1,V;if(C==="top"){var X=n>0?s:l;V=X+e*G+g}else if(C==="bottom"){var X=n>0?l:s;V=X+e*G+g}else V=s+u/2+g;return{x:F,y:V}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="top"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=lo(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],u=tu(l,s);return u}var h=this.options.style.fill;return h},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="top"&&o&&e!=="black"?null:void 0},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,f.each)(n.get("origin").points,function(g){a.push(e.coord.convertPoint(g))});var o=a.map(function(g){return g.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),u=a.map(function(g){return g.y}),h=Math.min.apply(Math,u),c=Math.max.apply(Math,u),v=new Zr(s,h,l-s,c-h);return v},r.prototype.getTextAlign=function(){return"center"},r.prototype.getTextBaseLine=function(){return"middle"},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(rh),Lh=zg;ea("column",zg);var Xg=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,u=a.width,h=this.options,c=h.offsetX,v=h.offsetY,g=o+u/2+c,C=n>0?-1:1,F=n>0?s:l,G=F+e*C+v;return{x:g,y:G}},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,f.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.width>=a.width})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,u=s.lightStyle,h=(0,f.groupBy)(e,function(c){return c.get(la)[gn.FIELD_ORIGIN][o]});(0,f.each)(e,function(c){var v=h[c.get(la)[gn.FIELD_ORIGIN][o]]||[],g=c.get("element"),C=g.shape,F=Mh(C.attr("fill")),G=n.getElementShapeBBox(g),V=Zr.fromBBoxObject(c.getBBox());if(vh(a,G)<=0&&c.set("visible",!1),V.height>G.height){var X=(0,f.findIndex)(v,function(st){return st===c});X!==0&&c.set("visible",!1)}else{c.attr({y:G.y+G.height/2,textBaseline:"middle"});var at=V.width>G.width||V.height>G.height;at?c.attr({stroke:u==null?void 0:u.stroke}):c.attr({fill:F?u==null?void 0:u.fill:l==null?void 0:l.fill,fillOpacity:F?u==null?void 0:u.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],u=(0,f.groupBy)(a,function(g){return g.get(la)[gn.FIELD_ORIGIN][o]}),h=(0,f.uniq)((0,f.map)(a,function(g){return g.get(la)[gn.FIELD_ORIGIN][o]})),c;for((0,f.size)(h)>0&&(c=h.shift(),(0,f.each)(u[c],function(g){return l.push(g)})),(0,f.size)(h)>0&&(c=h.pop(),(0,f.each)(u[c],function(g){return l.push(g)})),(0,f.each)(h.reverse(),function(g){(0,f.each)(u[g],function(C){return l.push(C)})});l.length>0;){var v=l.shift();v.get("visible")&&(Kl(v,n),$l(v,s)?v.set("visible",!1):s.push(v))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,f.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(Lh),aI=Xg;ea("column-auto",Xg);var oI={column:"interval"},sI=Mi(oI);(0,f.assign)(sn,sI);var lI=function(i){var r=i.opacity||1;return{opacity:r*.5}},uI=function(i){var r=i.opacity||1;return{opacity:r*.5,fillOpacity:r*.5}},Ih={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:lI,disable:uI,selected:{lineWidth:1,stroke:"black"}}};ra("column",Ih);var fI={column:"interval"},hI={interval:"column"},Vg=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="column",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{nice:!0,title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!1,position:"top",adjustColor:!0},legend:{visible:!0,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new fg((0,Nt.__assign)({view:this.view,field:t.yField,transpose:!0,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?fI[e]:hI[e]},r.prototype.processData=function(t){var e=this.options.xField,n=[];return(0,f.each)(t,function(a){var o=(0,f.clone)(a);o[e]=o[e].toString(),n.push(o)}),n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&yi(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&yi(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.adjustColumn=function(t){},r.prototype.addGeometry=function(){var t=this.options,e=qn("interval","main",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,f.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustColumn(e),this.column=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.column.tooltip.fields.push(this.options.colorField)))},r.prototype.animation=function(){i.prototype.animation.call(this),this.options.animation===!1&&(this.column.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,w)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n==null?void 0:n.visible){var s=Co(this.view,"interval");this.doRenderLabel(s,(0,Nt.__assign)({type:"column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.applyResponsive=function(t){var e=this,n=nI[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r}(Hn),as=Vg;en("column",Vg);var cI=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="column",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=as.getDefaultOptions,r}(jr),Hg=cI;ra("groupedColumn",Ih);var Wg=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.baseType="column",t.type="groupedColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme("column")},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.addGeometry=function(){i.prototype.addGeometry.call(this)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(as),Oh=Wg;en("groupedColumn",Wg);var vI=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Oh.getDefaultOptions,r}(jr),jg=vI;function Ug(i,r){var t=[],e=i.get("origin").points;return(0,f.each)(e,function(n){t.push(r.convertPoint(n))}),t}function dI(){return{areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}}var pI=function(){function i(r){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},(0,f.assign)(this,r),this._init()}return i.prototype.draw=function(){var r=this,t=this._getGroupedShapes();(0,f.each)(t,function(e,n){e.length>0&&r._drawConnection(e,n)}),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},i.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.setState=function(r,t){r==="active"&&this._onActive(t),r==="disabled"&&this._onDisabled(t),r==="selected"&&this._onSelected(t)},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype._getGroupedShapes=function(){var r=this,t=this.view.getScaleByField(this.field).values,e=this.view.geometries[0],n=e.getShapes(),a={};return(0,f.each)(t,function(o){a[o]=[]}),(0,f.each)(n,function(o){var s=o.get("origin").data,l=s[r.field];a[l].push(o)}),a},i.prototype._drawConnection=function(r,t){var e=r[0].attr("fill");this._areaStyle[t]=this._getShapeStyle(e,"area"),this._lineStyle[t]=this._getShapeStyle(e,"line");for(var n=this.view.geometries[0].coordinate,a=0;a<r.length-1;a++){var o=Ug(r[a],n),s=Ug(r[a+1],n),l=(0,f.mix)({},this._areaStyle[t]),u=(0,f.mix)({},this._lineStyle[t]);this.triggerOn&&(l.opacity=0,u.opacity=0);var h=this.container.addShape("path",{attrs:(0,f.mix)({},l,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y],["L",s[0].x,s[0].y],["L",o[3].x,o[3].y]]}),name:"connectedArea"}),c=this.container.addShape("path",{attrs:(0,f.mix)({},u,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y]]}),name:"connectedArea"}),v=r[a].get("origin").data;h.set("data",v),c.set("data",v),this.areas.push(h),this.lines.push(c)}},i.prototype._getShapeStyle=function(r,t){var e=t+"Style";if(this[e])return this[e];var n=dI()[e],a={fill:r};return t==="line"&&(a={stroke:r}),(0,f.mix)(n,a)},i.prototype._addInteraction=function(){var r=this,t=this.triggerOn;this.view.on("interval:"+t,function(e){var n=e.target.get("origin").data[r.field];r.setState("active",{name:r.field,exp:n}),r.setState("disabled",{name:r.field,exp:function(a){return a!==n}}),r.view.canvas.draw()}),this.view.on("mousemove",function(e){e.gEvent.target.get("name")!=="interval"&&r.setState("disabled",{name:r.field,exp:function(){return!0}})})},i.prototype._initialAnimation=function(){var r=this.view.coordinateBBox,t=r.x,e=r.y,n=r.width,a=r.height;this.container.setClip({type:"rect",attrs:{x:t,y:e,width:0,height:a}}),this.container.set("animating",!0),this.container.getClip().animate({width:n},600,"easeQuadOut",function(){},400)},i.prototype._onActive=function(r){var t=this;(0,f.each)(this.areas,function(e){var n=e.get("data"),a=n[t.field];if(so(n,r)){var o=t._areaStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}}),(0,f.each)(this.lines,function(e){var n=e.get("data"),a=n[t.field];if(so(n,r)){var o=t._lineStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}})},i.prototype._onDisabled=function(r){(0,f.each)(this.areas,function(t){var e=t.get("data");so(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))}),(0,f.each)(this.lines,function(t){var e=t.get("data");so(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))})},i.prototype._onSelected=function(r){this._onActive(r)},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),gI=pI;ra("stackedColumn",Ih);var yI=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=t.getBBox(),o=this.getElementShapeBBox(e);(o.height<a.height||o.width<a.width)&&t.hide()}},r}(Lh),SG=null;ea("stacked-column",yI);var mI=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(aI),CG=null;ea("stacked-column-auto",mI);var Zg=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedColumn",t.baseType="column",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0,position:"right-top"},label:{visible:!1,position:"middle",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:"mouseenter"}})},r.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),i.prototype.init.call(this)},r.prototype.afterRender=function(){var t=this.options;t.connectedArea.visible&&(this.connectedArea=new gI((0,Nt.__assign)({view:this.view,field:t.stackField,animation:t.animation!==!1},t.connectedArea))),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n&&n.visible){var s=Co(this.view,"interval");this.doRenderLabel(s,(0,Nt.__assign)({type:"stacked-column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(as),ru=Zg;en("stackedColumn",Zg);var xI=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ru.getDefaultOptions,r}(jr),Kg=xI,kh=8;function bI(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var wI=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.coordinate,n=t.elements;this.coord=e,(0,f.each)(n,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),u=r.getTextBaseline(),h=[];(0,f.each)(s,function(c,v){var g=v===1?r.options.topStyle:r.options.bottomStyle,C=r.getTextColor(o,v);r.options.position==="inner"&&r.options.adjustColor&&C!=="black"&&(g.stroke=null);var F=r.options.formatter,G=F?F(l[v]):l[v],V=r.container.addShape("text",{attrs:(0,f.deepMix)({},g,{x:c.x,y:c.y,text:G,fill:C,textAlign:"center",textBaseline:u[v]}),name:"label"});h.push(V),r.doAnimation(V)}),o.set("labelShapes",h),r.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,f.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new Zr(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:0,offsetY:kh,style:(0,f.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.minY,a=t.maxY,o=t.width,s=this.options.offsetY,l=e+o/2,u,h;return this.options.position==="outer"?(u=n-s,h=a+s):(u=n+s,h=a-s),[{x:l,y:h},{x:l,y:u}]},i.prototype.getValue=function(r){var t=this.plot.options.yField;return r.get("origin").data[t]},i.prototype.getTextBaseline=function(){return this.options.position==="outer"?["top","bottom"]:["bottom","top"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=lo(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=bI(s,o);return l}var u=t===1?this.options.topStyle.fill:this.options.bottomStyle.fill;return u},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.y[1],o=n.y[0],s=e.getBBox(),l=s.height,u=l,h=this.view.coordinateBBox,c=[r.getBBox(),t.getBBox()],v=r.attr("y"),g=t.attr("y");if(this.options.adjustPosition&&this.options.position==="inner"){var C=c[0].height+c[1].height,F=c[1].maxY-c[0].minY>2,G=C>u;(F||G)&&(g=a-this.options.offsetY,t.attr("fill",this.options.topStyle.fill),t.attr("textBaseline","bottom"),v=o+this.options.offsetY,r.attr("fill",this.options.bottomStyle.fill),r.attr("textBaseline","top"),c[0]=r.getBBox(),c[1]=t.getBBox())}c[0].maxY>h.maxY-kh&&(v=h.maxY-kh/2,r.attr("textBaseline","bottom")),r.attr("y",v),t.attr("y",g),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),SI=wI,$g;function Qg(i,r){var t=i.getBBox(),e=t.minY+t.height/2;i.setClip({type:"rect",attrs:{x:t.minX,y:e,width:t.width,height:0}});var n=i.get("clipShape");n.animate({height:t.height,y:t.minY},r.duration,r.easing,function(){i.setClip(null)},r.delay)}Qg.animationName="clipInFromCenterVertical";function CI(i){$g=i}function Jg(i,r){var t=MI(i).attr("path"),e=(0,f.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function MI(i){var r=i.id,t;return(0,f.each)($g,function(e){e.id===r&&(t=e)}),t}Jg.animationName="updateFromCenterVertical",li("clipInFromCenterVertical",Qg),li("updateFromCenterVertical",Jg);var qg=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,f.each)(e,function(n){var a=n.elements;(0,f.each)(a,function(o){t.push(o.shape)})}),CI(t),i.prototype.afterRender.call(this)},r.prototype.animation=function(){i.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new SI((0,Nt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r}(as),EI=qg;en("rangeColumn",qg);var AI=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rangeColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=EI.getDefaultOptions,r}(jr),ty=AI,ey=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return Ah(t||[],n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(ru),ry=ey;en("percentStackedColumn",ey);var TI=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ry.getDefaultOptions,r}(jr),ny=TI,PI={pie:"interval"},_I=Mi(PI);(0,f.assign)(sn,_I);function nu(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}function MG(i){return{x:i.x+i.width/2,y:i.y+i.height/2}}function LI(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function II(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e&&i.x<r.x&&(e=-e),n&&i.y<r.y&&(n=-n),i.x===r.x&&i.width===r.width&&(e=r.width),i.y===r.y&&i.height===r.height&&(n=r.height),{xOverlap:e,yOverlap:n}}function EG(i,r){return i.x<r.x&&i.x+i.width>r.x+r.width&&i.y<r.y&&i.y+i.height>r.y+r.height}var OI=function(i,r,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[i,r].includes(Infinity)?Math.abs(i)===Math.abs(r):Math.abs(i-r)<t};function kI(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function BI(i){var r=Math.PI/2,t=i;return(t>r||t<-r)&&(t=t+Math.PI),t}var AG=4;function DI(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}function FI(i,r){var t=i.getBBox();r.y<=t.y&&r.y+r.height>=t.y+t.height||i.get("parent").set("visible",!1)}var RI=function(){function i(r,t){this.destroyed=!1,this.plot=r,this.coordinateBBox=this.plot.view.coordinateBBox;var e=(0,f.deepMix)(this.getDefaultOptions(),t,{});this.adjustOption(e),this.options=e,this.init()}return i.prototype.adjustOverlap=function(r,t){for(var e=1;e<r.length;e++)for(var n=r[e],a=0,o=e-1;o>=0;o--){var s=r[o],l=s.getBBox(),u=n.getBBox();if(s.get("parent").get("visible")&&(a=LI(l,u),!OI(a,0))){n.get("parent").set("visible",!1);break}}r.forEach(function(h){return FI(h,t)})},i.prototype.adjustItem=function(r){},i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getFilteredSum=function(){var r=this.plot.options.angleField,t=this.plot.view.filteredData||[];return t.reduce(function(e,n){return e+n[r]},0)},i.prototype.drawTexts=function(){var r=this,t=this.options,e=t.style,n=t.formatter,a=t.autoRotate,o=t.offsetX,s=t.offsetY,l=t.adjustPosition,u=t.allowOverlap,h=this.getItems(),c=[];h.map(function(v,g){var C=(0,f.deepMix)({},v,e),F=r.getFilteredSum(),G=r.plot.options.angleField,V=v.origin[G]/F,X=n?n(v.name,{_origin:v.origin,percent:V},g):v.name,at=r.container.addGroup({name:"itemGroup",index:g,capture:!1}),st=at.addShape("text",{attrs:(0,f.deepMix)({},C,{x:v.x+o,y:v.y+s,text:X})});st.set("id","text-"+v.name+"-"+g),c.push(st)}),c.forEach(function(v){var g=r.coordinateBBox;r.adjustText(v,g)}),l&&this.layout(c,h,this.coordinateBBox),u||this.adjustOverlap(c,this.coordinateBBox),c.forEach(function(v,g){a&&r.rotateLabel(v,BI(h[g].angle))})},i.prototype.adjustText=function(r,t){var e=r.getBBox(),n=e.width,a=0;if(e.maxX>t.maxX?n=t.maxX-e.minX:e.minX<t.minX&&(n=e.maxX-t.minX),r.attr("textAlign")==="left"?r.attr("x",Math.max(e.x-a,0)):r.attr("textAlign")==="right"&&r.attr("x",Math.max(e.maxX-a,0)),n!==e.width){var o={};["fontSize","fontFamily","fontWeight"].forEach(function(l){o[l]=r.attr(l)});var s=r.attr("text").split(`
`).map(function(l){return np(l,n,o)});r.attr("text",s.join(`
`))}},i.prototype.drawLines=function(){var r=this;if(this.options.line.visible){var t=this.container.get("children"),e=this.getCoordinate().center;t.forEach(function(n,a){var o=n.get("children")[0],s=r.arcPoints[a],l=s.x<e.x,u=r.options.offset>4?4:0,h=r.getLinePath(o,s,u),c=r.options.line;n.addShape("path",{attrs:(0,Nt.__assign)({path:h,stroke:s.color},c)}),o.attr("x",o.attr("x")+(l?-u:u))})}},i.prototype.getLinePath=function(r,t,e){var n=this.options.line?this.options.line.smooth:!1,a=t.angle,o=this.getCoordinate(),s=o.center,l=o.radius,u=nu(s,a,l+e);e<4&&(u=t);var h=t.x<s.x,c=r.getBBox(),v={x:h?c.maxX:c.minX,y:c.y+c.height/2},g=["C",v.x+(h?1:-1)*(e<4?e/2:4),v.y,2*u.x-t.x,2*u.y-t.y,u.x,u.y],C=["L",u.x,u.y],F=n?g:C,G=["M",v.x,v.y].concat(F).concat("L",t.x,t.y);return G.join(",")},i.prototype.getGeometry=function(){return this.plot.view.geometries[0]},i.prototype.getCoordinate=function(){var r=this.getGeometry().coordinate,t=r.getCenter(),e=r.getRadius(),n=r.startAngle;return{center:t,radius:e,startAngle:n}},i.prototype.adjustOption=function(r){var t=r.offset,e=this.getCoordinate().radius;(0,f.isString)(t)&&(t=e*DI(t)),r.offset=t},i.prototype.rotateLabel=function(r,t){var e=r.attr("x"),n=r.attr("y"),a=dn.transform(r.getMatrix(),[["t",-e,-n],["r",t],["t",e,n]]);r.setMatrix(a)},i.prototype.getItems=function(){var r=this,t=this.options.offset,e=this.getCoordinate(),n=e.center,a=e.radius,o=this.arcPoints.map(function(s){var l=nu(n,s.angle,a+t),u=(0,Nt.__assign)((0,Nt.__assign)({},s),l);return r.adjustItem(u),u});return o},i.prototype.initArcPoints=function(){var r=this,t=this.plot.options.angleField,e=this.getGeometry().elements,n=this.getCoordinate(),a=n.center,o=n.radius,s=this.getCoordinate().startAngle,l=this.getGeometry().attributes.position.scales,u=l[1],h=u.field,c=e.map(function(v){var g=v.shape.get("origin"),C=g.color,F=g.data[0]||g.data,G=s+Math.PI*2*u.scale(F[h]),V=(s+G)/2,X=nu(a,V,o);s=G;var at=u.getText(F[t]),st=X.x>a.x?"left":"right";return{x:X.x,y:X.y,color:C,name:at,origin:F,angle:kI(r.getGeometry().coordinate,X),textAlign:st}});this.arcPoints=c},i}(),Bh=RI;function TG(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}var NI=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset>0&&(t.offset=0)},r.prototype.adjustItem=function(t){t.textAlign="middle"},r.prototype.drawLines=function(){},r.prototype.layout=function(t,e){var n=this;t.forEach(function(a,o){o>0&&(0,f.each)(t.slice(0,o),function(s){n.resolveCollision(a,s,e[o])})})},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:"-30%",style:(0,Nt.__assign)((0,Nt.__assign)({},e),{textAlign:"center",textBaseline:"middle"})}},r.prototype.resolveCollision=function(t,e,n){var a=this.getCoordinate().center,o=n.angle,s=t.getBBox(),l=e.getBBox(),u={x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},h=(0,f.clone)(u),c=(0,f.clone)(u);if(e.get("id")!==t.get("id")){var v=II(s,l),g=v.xOverlap,C=v.yOverlap;if(g&&(h.x=u.x+g,h.y=u.y+Math.tan(o)*g),C){var F=C;u.y<a.y?F=F<0?F:l.minY-s.maxY:F=F>0?F:l.maxY-s.minY,c.y=u.y+F,c.x=u.x+F/Math.tan(o)}var G=Dd(u,h),V=Dd(u,c),X=G<V?h:c;t.attr("x",X.x),t.attr("y",X.y)}},r}(Bh),YI=NI,PG=16,GI=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,Nt.__assign)((0,Nt.__assign)({},e),{textBaseline:"middle"})}},r.prototype.layout=function(t,e,n){var a=this,o=this.getCoordinate().center,s=(0,f.filter)(t,function(u){return u.attr("x")<=o.x}),l=(0,f.filter)(t,function(u){return u.attr("x")>o.x});[l,s].forEach(function(u,h){a._antiCollision(u,!h,n)})},r.prototype._antiCollision=function(t,e,n){var a=this,o=this.getLabelHeight(t),s=this.getCoordinate(),l=s.center,u=s.radius,h=this.options.offset,c=u+h,v=Math.min(n.height,Math.max(c*2+o*2,t.length*o)),g=Math.floor(v/o);this.options.allowOverlap||t.slice(g).forEach(function(Yt){Yt.get("parent").set("visible",!1)}),t.splice(g,t.length-g),t.sort(function(Yt,ie){return Yt.getBBox().y-ie.getBBox().y});for(var C=!0,F,G=l.y+v/2,V=l.y-v/2,X=t.map(function(Yt){var ie=Yt.getBBox();return ie.maxY>G&&(G=Math.min(n.maxY,ie.maxY)),ie.minY<V&&(V=Math.max(n.minY,ie.minY)),{text:Yt.attr("text"),size:o,pos:ie.y,targets:[]}}),at=0;at<X.length;)at===X.length-1?X[at].targets[0]=G:X[at].targets[0]=X[at+1].pos-X[at+1].size/2,at++;for(;C;)for(X.forEach(function(Yt){var ie=(0,f.last)(Yt.targets);Yt.pos=Math.max(V,Math.min(Yt.pos,ie-Yt.size))}),C=!1,F=X.length;F--;)if(F>0){var st=X[F-1],xt=X[F];if(st.pos+st.size>xt.pos){st.size+=xt.size,st.targets=st.targets.concat(xt.targets);var kt=(0,f.last)(st.targets);st.pos+st.size>kt&&(st.pos=kt-st.size),X.splice(F,1),C=!0}else st.targets.splice(-1,1,xt.pos)}F=0,X.forEach(function(Yt){var ie=o/2;Yt.targets.forEach(function(){t[F].attr("y",Yt.pos+ie),ie+=o,F++})});var Gt=[],Wt=[];t.forEach(function(Yt,ie){var de=a.arcPoints[ie];de.angle>=0&&de.angle<=Math.PI?Wt.push(Yt):Gt.push(Yt)}),[Gt,Wt].forEach(function(Yt,ie){if(!!Yt.length){var de=ie?(0,f.last)(Yt).getBBox().maxY-l.y:l.y-(0,f.head)(Yt).getBBox().minY;de=Math.max(c,de);var he=h>4?4:0,Ee=Math.max.apply(0,(0,f.map)(t,function(je){return je.getBBox().width}))+h+he,Ie=Math.max(c,Math.min((de+c)/2,l.x-(n.minX+Ee))),Le=Ie*Ie,He=de*de;Yt.forEach(function(je,Ke){var Xe=a.arcPoints[Ke],Ve=je.getBBox(),pr={x:Ve.minX+Ve.width/2,y:Ve.minY+Ve.height/2},vr=Math.pow(pr.y-l.y,2),xr=nu(l,Xe.angle,u),Je=(e?1:-1)*he*2;if(vr>He)console.warn("\u5F02\u5E38(\u4E00\u822C\u4E0D\u4F1A\u51FA\u73B0)",je.attr("text")),je.attr("x",xr.x+Je);else{var gr=l.x+(e?1:-1)*Math.sqrt((1-vr/He)*Le);(l.x===xr.x&&pr.y===xr.y||l.y===xr.y&&gr===xr.x)&&(gr=xr.x),je.attr("x",gr+Je)}})}})},r.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:(0,f.head)(t)?(0,f.head)(t).getBBox().height:14},r}(Bh),zI=GI,_G=16,XI=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,Nt.__assign)((0,Nt.__assign)({},e),{textBaseline:"middle"})}},r.prototype.adjustItem=function(t){var e=this.options.offset;t.textAlign==="left"?t.x+=e>4?4:e/2:t.textAlign==="right"&&(t.x-=e>4?4:e/2)},r.prototype.layout=function(t,e,n){},r}(Bh),VI=XI,iy={inner:YI,outer:zI,"outer-center":VI};function HI(i){if(!iy[i]){console.warn("this label "+i+" is not registered");return}return iy[i]}var WI=0,Dh=15,jI="#CCC",UI=2,ZI=-2,ay=15;function oy(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}var KI=function(){function i(r){this.destroyed=!1,this.view=r.view,this.options=(0,f.deepMix)({},this.getDefaultOptions(),r),this._adjustOptions(this.options),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear()})},i.prototype.render=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,f.clone)(this.view.getData());this.halves=[[],[]];var e=[],n=this.view.geometries[0].elements;(0,f.each)(n,function(xt){e.push(xt.shape)}),this.coord=this.view.geometries[0].coordinate;var a=this.options,o=a.allZero,s=a.angleField,l=this.options.fields[0],u=this.view.getScalesByDim("y")[l],h=this.coord.getCenter(),c=this.coord.startAngle,v=this.coord.polarRadius,g=this.view.coordinateBBox,C=g.width,F=g.height;this.width=C,this.height=F;for(var G=c,V=function(xt){var kt=t[xt],Gt=u.scale(kt[l]),Wt=G+Math.PI*2*Gt,Yt=G+(Wt-G)/2;G=Wt;var ie=oy(h,Yt,v+WI),de=oy(h,Yt,v+Dh),he=jI;if(X.options.fields.length===2){var Ee=X.options.fields[1],Ie=X.view.geometries[0].scales[Ee],Le=Ie.scale(kt[Ee]);if(Le){var He=Math.floor(Le*(e.length-1));he=e[He].attr("fill")}}var je={_anchor:ie,_inflection:de,_data:kt,x:de.x,y:de.y,r:v+Dh,fill:he,textGroup:null,_side:null},Ke=[];if((0,f.each)(X.options.fields,function(Or){o&&Or===iu?Ke.push(kt[s]):Ke.push(kt[Or])}),X.options.formatter){var Xe=X.options.formatter(kt[s],{_origin:kt,color:he},xt);(0,f.isString)(Xe)&&(Xe=[Xe]),Ke=Xe}var Ve=X.container.addGroup({capture:!1,visible:!1}),pr={x:0,y:0,fontSize:X.options.text.fontSize,lineHeight:X.options.text.fontSize,fontWeight:X.options.text.fontWeight,fill:X.options.text.fill},vr=kt[s];X.options.formatter&&(vr=Ke[0]);var xr=(0,f.clone)(pr);Ke.length===2&&(xr.fontWeight=700);var Je=Ve.addShape("text",{attrs:(0,f.mix)({textBaseline:Ke.length===2?"top":"middle",text:vr},xr),data:kt,offsetY:Ke.length===2?UI:0,name:"label"});if(Je.name="label",Ke.length===2){var gr=Ve.addShape("text",{attrs:(0,f.mix)({textBaseline:"bottom",text:Ke[1]},pr),data:kt,offsetY:ZI,name:"label"});gr.name="label"}je.textGroup=Ve,ie.x<h.x?(je._side="left",X.halves[0].push(je)):(je._side="right",X.halves[1].push(je))},X=this,at=0;at<t.length;at++)V(at);var st=Math.floor(F/this.options.lineHeight);(0,f.each)(this.halves,function(xt){xt.length>st&&xt.splice(st,xt.length-st),xt.sort(function(kt,Gt){return kt.y-Gt.y}),r._antiCollision(xt)}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.view.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.view.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getDefaultOptions=function(){return{text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},line:{lineWidth:.5,stroke:"rgba(0, 0, 0, 0.45)"},lineHeight:32,sidePadding:20}},i.prototype._antiCollision=function(r){var t=this,e=this.coord,n=e.getHeight(),a=e.center,o=e.getRadius(),s=a.y-o-Dh-this.options.lineHeight,l=!0,u=n,h,c=0,v=Number.MIN_VALUE,g=0,C=r.map(function(at){var st=at.y;st>c&&(c=st),st<v&&(v=st);var xt=at.textGroup,kt=xt.getBBox().width;return kt>=g&&(g=kt),{size:t.options.lineHeight,targets:[st-s]}});c-s>u&&(u=c-s);for(var F=function(at){at.forEach(function(st){var xt=(Math.min.apply(v,st.targets)+Math.max.apply(v,st.targets))/2;st.pos=Math.min(Math.max(v,xt-st.size/2),u-st.size)})};l;)for(F(C),l=!1,h=C.length;h--;)if(h>0){var G=C[h-1],V=C[h];G.pos+G.size>V.pos&&(G.size+=V.size,G.targets=G.targets.concat(V.targets),G.pos+G.size>u&&(G.pos=u-G.size),C.splice(h,1),l=!0)}h=0,C.forEach(function(at){var st=s;at.targets.forEach(function(){r[h].y=at.pos+st+t.options.lineHeight/2,st+=t.options.lineHeight,h++})});var X=[];r.forEach(function(at){var st=t._drawLabel(at);t._drawLabelLine(at,g,st),X.push(st)})},i.prototype._drawLabel=function(r){var t=this.coord,e=t.getCenter(),n=t.getRadius(),a=r.y,o=r.textGroup,s=o.get("children"),l=r._side==="left"?1:-1,u=(0,Nt.__assign)({textAlign:r._side==="left"?"right":"left",x:r._side==="left"?e.x-n-this.options.sidePadding:e.x+n+this.options.sidePadding},this.options.style);return this.options.offsetX&&(u.x+=this.options.offsetX*l),s.forEach(function(h){var c=h.get("offsetY"),v=a+c;h.attr(u),h.attr("y",v)}),o.show(),o},i.prototype._drawLabelLine=function(r,t,e){var n=[r._anchor.x,r._anchor.y],a=[r._inflection.x,r._inflection.y],o=r.y,s=r.textGroup;if(!!s){var l=[r._side==="left"?s.getBBox().maxX+4:s.getBBox().minX-4,o],u=[n,a,l];if(a[1]!==o)if(a[1]<this.height/2&&a[1]<o||a[1]>=this.height/2&&a[1]>o){var h=a,c=l[0]+ay,v=l[0]-ay,g=[r._side==="left"?c:v,a[1]];u=[n,h,g,l],(r._side==="right"&&g[0]<h[0]||r._side==="left"&&g[0]>h[0])&&(u=[n,h,l])}else u=[n,[a[0],o],l];for(var C=[],F=0;F<u.length;F++){var G=u[F],V="L";F===0&&(V="M"),C.push([V,G[0],G[1]])}e.addShape("path",{attrs:{path:C,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},i.prototype._adjustOptions=function(r){r.text.fontSize&&(r.lineHeight=r.text.fontSize*3)},i}(),$I=KI,QI=function(i){var r=i.opacity||1;return{fillOpacity:r*.8}},JI=function(i){var r=i.opacity||1;return{fillOpacity:r*.5}};ra("pie",{columnStyle:{normal:{},active:QI,disable:JI,selected:{lineWidth:1,stroke:"black"}}});var iu="$$percentage$$",qI={pie:"interval"},tO={pie:"column"},sy=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="pie",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,adjustPosition:!0,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:"white",lineWidth:1}})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.angleField,n=t.colorField,a=t.data,o=(0,f.every)(a,function(l){return l[e]===0});if(o){var s=this.view.geometries[0];s.tooltip(n+"*"+e)}},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;if(t.label&&t.label.visible){this.labelComponent&&this.labelComponent.clear();var e=t.label;if(e.type==="spider"){var n=t.data,a=t.colorField,o=t.angleField,s=(0,f.every)(n,function(h){return h[o]===0}),l=s?iu:o;this.labelComponent=new $I((0,Nt.__assign)({view:this.view,fields:a?[l,a]:[l],angleField:o,allZero:s},this.options.label)),this.labelComponent.render()}else{var u=HI(e.type);this.labelComponent=new u(this,t.label),this.labelComponent.render()}}},r.prototype.getAngleScale=function(){var t=this.options.angleField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?qI[e]:tO[e]},r.prototype.scale=function(){var t=this.options;i.prototype.scale.call(this);var e={};e[t.angleField]={},e[t.colorField]={type:"cat"},e=(0,f.deepMix)({},this.config.scales,e),this.setConfig("scales",e)},r.prototype.processData=function(t){var e=this.options.angleField,n=(0,f.every)(t,function(a){return a[e]===0});return n?t.map(function(a){var o;return(0,Nt.__assign)((0,Nt.__assign)({},a),(o={},o[e]=typeof a[e]=="string"?Number.parseFloat(a[e]):a[e],o[iu]=1/t.length,o))}):t.map(function(a){var o,s=a[e];return(0,Nt.__assign)((0,Nt.__assign)({},a),(o={},o[e]=s&&!isNaN(s)?+s:s,o))})},r.prototype.axis=function(){},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=t.data,n=t.angleField,a,o=(0,f.every)(e,function(s){return s[n]===0});o?a=qn("interval","main",{plot:this,positionFields:[1,iu]}):a=qn("interval","main",{plot:this,positionFields:[1,t.angleField]}),a.adjust=[{type:"stack"}],this.pie=a,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",a)},r.prototype.geometryTooltip=function(){this.pie.tooltip={};var t=this.options.tooltip;t.fields?this.pie.tooltip.fields=t.fields:this.pie.tooltip.fields=[this.options.angleField,this.options.colorField],t.formatter&&(this.pie.tooltip.callback=t.formatter,t.fields||(this.pie.tooltip.fields=[this.options.angleField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.pie.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,y)},r.prototype.label=function(){this.pie.label=!1},r}(Hn),ly=sy;en("pie",sy);var eO=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="pie",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=ly.getDefaultOptions,r}(jr),uy=eO,rO=.3989422804014327,nO=1/255/16,Ns="_origin",iO=function(i){(0,Nt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="heatmap",e.paletteCache={},e.intensity=t.intensity,e.radius=t.radius,e}return r.prototype.createElements=function(t){var e=this.prepareRange(t);return this.prepareSize(),this.prepareBlur(),this.prepareGreyScaleBlurredCircle(this.radius),this.drawWithRange(t,e),null},r.prototype.clear=function(){this.clearShadowCanvasCtx(),i.prototype.clear.call(this)},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[Ns][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.radius;this.radius||(t=this.getDefaultValue("size"),(0,f.isNumber)(t)||(t=this.getDefaultSize()),this.radius=t)},r.prototype.prepareBlur=function(){var t=(0,f.get)(this.styleOption,["style","shadowBlur"]);(0,f.isNumber)(t)||(t=this.radius/2),this.blur=t},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate,n=Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4));return n},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if(s){var l=void 0;a[s]?l=a[s]:(l=lo(e.gradient(s/256)),a[s]=l),n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.prepareGreyScaleBlurredCircle=function(t){var e=this.grayScaleCanvas;e||(e=document.createElement("canvas"),this.grayScaleCanvas=e);var n=this.intensity?this.intensity:2,a=Math.sqrt(-2*Math.log(nO/t/n/rO))/3*t,o=a-t,s=a+o,l=e.getContext("2d");e.width=e.height=s*2,l.clearRect(0,0,e.width,e.height),l.shadowOffsetX=l.shadowOffsetY=s*2,l.shadowBlur=o,l.shadowColor="black",l.beginPath(),l.arc(-s,-s,t,0,Math.PI*2,!0),l.closePath(),l.fill()},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.grayScaleCanvas;o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight();var e=t.getContext("2d");return e.globalCompositeOperation="lighter",e},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;t=e.addShape({type:"image",attrs:{}}),this.imageShape=t},r.prototype.drawWithRange=function(t,e){var n=this.coordinate,a=n.start,o=n.end,s=this.coordinate.getWidth(),l=this.coordinate.getHeight(),u=this.getAttribute("color"),h=u.getFields()[0];this.clearShadowCanvasCtx();var c=this.getShadowCanvasCtx();e&&(t=t.filter(function(at){return at[Ns][h]<=e[1]&&at[Ns][h]>=e[0]}));for(var v=this.scales[h],g=0;g<t.length;g++){var C=t[g],F=this.getDrawCfg(C),G=v.scale(C[Ns][h]);this.drawGrayScaleBlurredCircle(F.x-a.x,F.y-o.y,this.radius+this.blur,G,c)}var V=c.getImageData(0,0,s,l);this.clearShadowCanvasCtx(),this.colorize(V),c.putImageData(V,0,0);var X=new Image;X.src=c.canvas.toDataURL("image/png"),this.getImageShape(),this.imageShape.attr("x",a.x),this.imageShape.attr("y",o.y),this.imageShape.attr("width",s),this.imageShape.attr("height",l),this.imageShape.attr("img",c.canvas),this.imageShape.set("origin",this.getShapeInfo(t))},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,Nt.__assign)((0,Nt.__assign)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[Ns]})},r}(no);ga("linearHeatmap",iO);var aO=function(i){(0,Nt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.options=t,e.view=e.options.view,e.init(),e}return r.prototype.init=function(){var t=this.getCoordinate();this.width=t.getWidth(),this.height=t.getHeight(),this.x=t.start.x,this.y=t.end.y,this.container=this.view.backgroundGroup.addGroup({})},r.prototype.render=function(){if(this.options.type==="color")this.renderColorBackground();else if(this.options.type==="image")this.renderImageBackground();else if(this.options.callback){var t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container};this.options.callback(t)}},r.prototype.renderColorBackground=function(){this.container.addShape("rect",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value},name:"heatmap-background"})},r.prototype.renderImageBackground=function(){this.container.addShape("image",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src},name:"heatmap-background"})},r.prototype.clear=function(){this.container&&(this.container.clear(),this.emit("background:clear"))},r.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit("background:destroy"))},r.prototype.getCoordinate=function(){var t;return(0,f.each)(this.view.geometries,function(e){e.type==="heatmap"&&(t=e.coordinate)}),t},r}(Fe.default),oO=aO,au=4,fy=1,sO=.1,lO=function(){function i(r){this.destroyed=!1,this.dataSlides={};var t=this.getDefaultOptions();r.plot.options.theme&&r.plot.options.theme==="dark"&&(t=this.getDarkOptions()),this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var r=this.options.plot.container;this.container=r.addGroup()},i.prototype.render=function(){var r=this.getScales(),t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction(),this.options.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new Zr(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=this.width,o=this.height/e.length,s=this.container.addGroup(),l=(0,f.clone)(e).reverse(),u=(t-r)/e.length;(0,f.each)(l,function(h,c){var v=o*c,g={to:t-u*c,from:t-u*(c+1)},C=n.container.addShape("rect",{attrs:{x:0,y:v,width:a,height:o,fill:h,opacity:fy,cursor:"pointer"},name:"legend"});C.set("info",g);var F=n.getDataSlide(g);n.dataSlides[g.from+"-"+g.to]={mode:"active",data:F},s.addShape("path",{attrs:(0,Nt.__assign)({path:[["M",0,v+o],["L",a,v+o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,Nt.__assign)({text:t,x:a/2,y:-au,textAlign:"center",textBaseline:"bottom"},this.options.text.style),name:"legend-label"}),this.container.addShape("text",{attrs:(0,Nt.__assign)((0,Nt.__assign)({text:r,x:a/2,y:this.height+au,textAlign:"center",textBaseline:"top"},this.options.text.style),{name:"legend-label"})}),s.addShape("path",{attrs:(0,Nt.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=this.width/e.length,o=this.height,s=this.container.addGroup(),l=(t-r)/e.length;(0,f.each)(e,function(u,h){var c=a*h,v={from:l*h,to:l*(h+1)},g=n.container.addShape("rect",{attrs:{x:c,y:0,width:a,height:o,fill:u,opacity:.8,cursor:"pointer"},name:"legend"});g.set("info",v),s.addShape("path",{attrs:(0,Nt.__assign)({path:[["M",c+a,0],["L",c+a,o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,Nt.__assign)((0,Nt.__assign)({text:r,x:-au,y:o/2},this.options.text.style),{textAlign:"right",textBaseline:"middle"}),name:"legend-label"}),this.container.addShape("text",{attrs:(0,Nt.__assign)({text:t,x:this.width+au,y:o/2,textAlign:"left",textBaseline:"middle"},this.options.text.style),name:"legend-label"}),s.addShape("path",{attrs:(0,Nt.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.options.plot.options.width;return r*.5}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.options.plot.options.height;return r*.5}return 10},i.prototype.legendLayout=function(){var r=this,t=this.options.plot.getPlotTheme().bleeding;(0,f.isArray)(t)&&(0,f.each)(t,function(u,h){typeof t[h]=="function"&&(t[h]=t[h](r.options.plot.options))});var e=this.container.getBBox(),n=0,a=0,o=this.options.position.split("-"),s=this.options.plot.width,l=this.options.plot.height;o[0]==="left"?n=t[3]:o[0]==="right"?n=s-t[1]-e.width:o[1]==="center"?n=(s-e.width)/2:o[1]==="left"?n=t[3]:o[1]==="right"&&(n=this.options.plot.width-t[1]-e.width),o[0]==="bottom"?a=l-t[2]-e.height:o[0]==="top"?a=this.getTopPosition(t):o[1]==="center"?a=(l-e.height)/2:o[1]==="top"?a=t[0]:o[1]==="bottom"&&(a=l-t[2]-e.height),this.x=n,this.y=a,this.container.translate(n,a)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}}},i.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(255, 255, 255, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(255, 255, 255, 0.25)"}}},i.prototype.addInteraction=function(){var r=this,t=this.options.plot.options.colorField;this.container.on("click",function(e){var n=e.target;if(n.get("name")==="legend"){var a=n.get("info"),o=a.from+"-"+a.to,s=r.dataSlides[o];s.mode==="active"?(s.mode="deactive",n.stopAnimate(),n.animate({opacity:sO},200)):(s.mode="active",n.stopAnimate(),n.animate({opacity:fy},200));var l=r.getFilteredData();l.length>0&&(r.view.changeData(l),r.view.scale(t,{min:r.colorScale.min,max:r.colorScale.max,nice:r.colorScale.nice}),r.view.render())}})},i.prototype.getFilteredData=function(){var r=[];return(0,f.each)(this.dataSlides,function(t){t.mode=="active"&&r.push.apply(r,t.data)}),r},i.prototype.getDataSlide=function(r){var t=[],e=this.options.plot.options,n=e.colorField,a=e.data;return(0,f.each)(a,function(o){var s=o[n];s>=r.from&&s<r.to&&t.push(o)}),t},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.getScales=function(){var r;return(0,f.each)(this.view.geometries,function(t){t.type==="heatmap"&&(r=t.scales)}),r},i}(),uO=lO,fO={background:{Ctr:oO},legend:{Ctr:uO,padding:"outer"}};function hO(i,r,t){if(i.options[r]&&i.options[r].visible){var e=fO[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var cO={heatmap:"heatmap",legendLabel:"legend-label",heatmapBackground:"heatmap-background"},vO=Mi(cO);(0,f.assign)(sn,vO);var hy=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="densityHeatmap",t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}},tooltip:{visible:!0,showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{stroke:"#000000",lineWidth:1,opacity:.5}}},showMarkers:!1},legend:{visible:!0,position:"bottom-center"},color:["rgba(33,102,172,0)","rgb(103,169,207)","rgb(209,229,240)","rgb(253,219,199)","rgb(239,138,98)","rgb(178,24,43)"],interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.destroy=function(){(0,f.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&yi(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&yi(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.geometryParser=function(){return"heatmap"},r.prototype.addGeometry=function(){if(this.options.data.length>1){var t={type:"linearheatmap",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},cfg:{intensity:this.options.intensity,radius:this.options.radius}};this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t),this.addPoint()}},r.prototype.addPoint=function(){var t=this.options,e={visible:!1,size:0};t.point&&t.point.visible?t.point=(0,f.deepMix)(e,t.point):t.point=e;var n=qn("point","guide",{plot:this});n.active=!1,this.setConfig("geometry",n)},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=ki("label",(0,Nt.__assign)({plot:this,labelType:"scatterLabel",fields:[t.xField,t.yField],position:"middle",offset:0},e));return n},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,x)},r.prototype.renderPlotComponents=function(){var t=this;(0,f.each)(this.plotComponents,function(n){n.destroy()});var e=["legend","background"];(0,f.each)(e,function(n){var a=(0,Nt.__assign)({view:t.view,plot:t},t.options[n]),o=hO(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(Hn),dO=hy;en("densityHeatmap",hy);var pO=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="densityHeatmap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=dO.getDefaultOptions,r}(jr),cy=pO;function ou(i,r,t,e,n){var a=t*n,o=e*n,s=[["M",i-a/2,r+o/2],["Q",i-a/2,r,i-a/2,r-o/2],["Q",i,r-o/2,i+a/2,r-o/2],["Q",i+a/2,r,i+a/2,r+o/2],["Q",i,r+o/2,i-a/2,r+o/2],["Z"]];return s}function su(i,r,t){var e=[["M",i,r],["l",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-(t*2),0],["Z"]];return e}function vy(i,r,t){var e=[["M",i-t,r],["Q",i-t,r-t,i,r-t],["Q",i+t,r-t,i+t,r],["Q",i+t,r+t,i,r+t],["Q",i-t,r+t,i-t,r],["Z"]];return e}vn("polygon","rect",{draw:function(i,r){var t=this.parsePoints(i.points),e=t[2].x-t[0].x,n=t[0].y-t[1].y,a=t[0].x+e/2,o=t[1].y+n/2,s=ou(a,o,e,n,i.size);return r.addShape("path",{attrs:(0,f.deepMix)({},{path:s,fill:i.color,opacity:1},i.style)})}}),vn("point","curvePoint",{draw:function(i,r){var t=su(i.x,i.y,i.size);return r.addShape("path",{attrs:(0,f.deepMix)({},{path:t,fill:i.color,opacity:1},i.style)})}});var gO=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.view.geometries[0].elements;(0,f.each)(t,function(e){var n=e.shape,a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,u=r.options.formatter,h=u?u(r.getContent(n)):r.getContent(n),c=r.getPosition(n),v=r.getTextColor(n),g=r.container.addShape("text",{attrs:(0,f.deepMix)({},o,{x:c.x+s,y:c.y+l,text:h,fill:v,textAlign:"center",textBaseline:"middle"}),name:"label"});r.options.adjustPosition&&r.adjustLabel(g,n)})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,f.clone)(t)}},i.prototype.getContent=function(r){var t=r.get("origin").data,e=this.plot.options.colorField;return t[e]},i.prototype.getPosition=function(r){var t=r.getBBox();return{x:t.minX+t.width/2,y:t.minY+t.height/2}},i.prototype.getTextColor=function(r){if(this.options.adjustColor){var t=r.attr("fill"),e=r.attr("opacity")?r.attr("opacity"):1,n=lo(t),a=Math.round(n[0]*.299+n[1]*.587+n[2]*.114)/e,o=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s=tu(o,a);return s}var l=this.options.style.fill;return l},i.prototype.adjustLabel=function(r,t){var e=r.getBBox(),n=t.getBBox();(e.width>n.width||e.height>n.height)&&r.attr("text","")},i}(),yO=gO,dy=4,mO=function(){function i(r){this.destroyed=!1,this.dataSlides={},this.interactiveEvents={};var t=this.getDefaultOptions();this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){var r=this;this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container&&this.container.remove(),this.container=t.addGroup(),this.view.on("beforerender",function(){r.clear(),r.options.plot.canvas.draw()})},i.prototype.render=function(){var r=this.view.geometries[0].scales,t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.offEvent(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new Zr(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.height/(e.length-1),l="l(90)";(0,f.each)(e,function(v,g){var C=o*g;l+=C+":"+v+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,f.each)(e,function(v,g){var C=s*g;n.container.addShape("path",{attrs:(0,Nt.__assign)({path:[["M",0,C],["L",n.width,C]]},n.options.ticklineStyle)});var F=Math.round(a*g);n.container.addShape("text",{attrs:(0,Nt.__assign)({text:F,textAlign:"left",textBaseline:"middle",x:n.width+dy,y:C},n.options.text.style),name:"legend-label"})});var u=10,h=14,c=[["M",-u,-h/2],["L",0,0],["L",-u,h/2],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,Nt.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.width/(e.length-1),l="l(0)";(0,f.each)(e,function(v,g){var C=o*g;l+=C+":"+v+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,f.each)(e,function(v,g){var C=s*g;n.container.addShape("path",{attrs:(0,Nt.__assign)({path:[["M",C,0],["L",C,n.height]]},n.options.ticklineStyle),name:"legend-label"});var F=Math.round(a*g);n.container.addShape("text",{attrs:(0,Nt.__assign)({text:F,textAlign:"center",textBaseline:"top",x:C,y:n.height+dy},n.options.text.style)})});var u=14,h=10,c=[["M",0,0],["L",-u/2,-h],["L",u/2,-h],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,Nt.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.view.coordinateBBox.width;return r}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.view.coordinateBBox.height;return r}return 10},i.prototype.legendLayout=function(){var r=this,t=this.view.coordinateBBox,e=this.options.plot.getPlotTheme().bleeding;(0,f.isArray)(e)&&(0,f.each)(e,function(h,c){typeof e[c]=="function"&&(e[c]=e[c](r.options.plot.options))});var n=this.container.getBBox(),a=0,o=0,s=this.options.position.split("-"),l=this.options.plot.width,u=this.options.plot.height;s[0]==="left"?a=e[3]:s[0]==="right"?a=l-e[1]-n.width:s[1]==="center"?this.width===t.width?a=t.x:a=(l-n.width)/2:s[1]==="left"?a=e[3]:s[1]==="right"&&(a=this.options.plot.width-e[1]-n.width),s[0]==="bottom"?o=u-e[2]-n.height:s[0]==="top"?o=this.getTopPosition(e):s[1]==="center"?this.height===t.height?o=t.y:o=(u-n.height)/2:s[1]==="top"?o=e[0]:s[1]==="bottom"&&(o=u-e[2]-n.height),this.x=a,this.y=o,this.container.translate(a,o)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},ticklineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.8)"},anchorStyle:{fill:"rgba(0,0,0,0.5)"},triggerOn:"mousemove"}},i.prototype.addInteraction=function(){var r=this,t;this.options.plot.options.shapeType==="rect"?t="polygon":t="point";var e=t+":"+this.options.triggerOn,n=this.options.plot.options.colorField,a=this.colorScale,o=a.min,s=a.max,l=function(h){var c=h.data.data[n],v=(c-o)/(s-o);r.moveAnchor(v)};this.view.on(e,l),this.interactiveEvents[e]={target:this.view,handler:l};var u=function(){r.anchor.set("visible",!1)};this.options.plot.canvas.on("mouseleave",u),this.interactiveEvents.mouseleave={target:this.options.plot.canvas,handler:u}},i.prototype.moveAnchor=function(r){if(this.anchor.set("visible",!0),this.layout==="vertical"){var t=this.height*r,e=[1,0,0,0,1,0,0,0,1];e[7]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}else{var t=this.width*r,e=[1,0,0,0,1,0,0,0,1];e[6]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.offEvent=function(){(0,f.each)(this.interactiveEvents,function(r,t){var e=r.target,n=r.handler;e.off(t,n)})},i}(),xO=mO,bO={label:{Ctr:yO},legend:{Ctr:xO,padding:"outer"}};function wO(i,r,t){if(i.options[r]&&i.options[r].visible){var e=bO[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var py=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.gridSize=[],t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{shapeType:"rect",legend:{visible:!0,position:"right-center"},tooltip:{shared:!1,showCrosshairs:!1,showMarkers:!1},xAxis:{visible:!0,gridAlign:"center",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!0}},yAxis:{visible:!0,gridAlign:"center",grid:{visible:!0,align:"center"},tickLine:{visible:!0},label:{autoHide:!0,autoRotate:!1}},color:["#9ae3d5","#66cdbb","#e7a744","#f1e066","#f27664","#e7c1a2"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:"rgba(255,255,255,0)",lineWidth:0}},interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.changeShape=function(t){if(this.options.shapeType!==t){if(this.options.shapeType=t,t==="rect"){var e=this.getShape();this.circleToRect(e)}else if(t==="circle"){var e=this.getShape();this.rectToCircle(e)}}},r.prototype.mappingSize=function(t){if(!(this.options.sizeField&&this.options.sizeField===t)){this.options.sizeField=t;var e=(0,f.valuesOfKey)(this.options.data,t),n=Math.min.apply(Math,e),a=Math.max.apply(Math,e),o=(0,Yr.getScale)("linear"),s=new o({min:n,max:a}),l=this.getShape();this.options.shapeType==="rect"?this.rectSizeMapping(l,s,t):this.options.shapeType==="circle"&&this.circleSizeMapping(l,s,t)}},r.prototype.disableMappingSize=function(){var t=this.getShape();this.options.shapeType==="rect"?this.rectDisableSizeMapping(t):this.options.shapeType==="circle"&&this.circleDisableSizeMapping(t)},r.prototype.destroy=function(){(0,f.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(){return""},r.prototype.coord=function(){},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.addGeometry=function(){this.gridSize=this.getGridSize();var t;if(this.options.shapeType==="rect")t=this.addRect();else{var e=this.addCircle();t=e}if(this.options.shapeStyle){var n={};(0,f.isFunction)(this.options.shapeStyle)?(n.fields=[this.options.colorField,this.options.xField,this.options.yField,this.options.sizeField],n.callback=this.options.shapeStyle):(0,f.isObject)(this.options.shapeStyle)&&(n.cfg=this.options.shapeStyle),t.style=n}this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t)},r.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var e={type:"polygon",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["rect"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[1]},e},r.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var e={type:"point",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["curvePoint"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[Math.min(this.gridSize[0],this.gridSize[1])*.5*.9]},e},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.getGridSize=function(){if(this.options.padding==="auto")return[0,0];var t=this.getViewRange(),e=this.options,n=e.padding,a=e.xField,o=e.yField,s=e.data,l=t.width-n[1]-n[3],u=t.height-n[0]-n[2],h=(0,f.valuesOfKey)(s,a).length,c=(0,f.valuesOfKey)(s,o).length;return[l/h,u/c]},r.prototype.circleToRect=function(t){var e=this,n=this.gridSize;(0,f.each)(t,function(a){var o=a.get("origin"),s=o.x,l=o.y,u=o.size,h=u*2/Math.min(n[0],n[1]);e.options.sizeField||(h=1);var c=vy(s,l,u),v=ou(s,l,n[0],n[1],h);a.stopAnimate(),a.attr("path",c),a.animate({path:v},500,"easeLinear")})},r.prototype.rectToCircle=function(t){var e=this;(0,f.each)(t,function(n){var a=n.get("coord"),o=n.get("origin").points,s=[];(0,f.each)(o,function(G){s.push(a.convertPoint(G))});var l=n.getBBox(),u=l.width,h=l.height,c=l.minX+u/2,v=l.minY+h/2,g=e.options.sizeField?1:.9,C=vy(c,v,Math.min(u,h)/2*g),F=su(c,v,Math.min(u,h)/2*g);n.stopAnimate(),n.animate({path:C},500,"easeLinear",function(){n.attr("path",F)})})},r.prototype.rectSizeMapping=function(t,e,n){(0,f.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6;a.get("origin").size=s;var l=a.getBBox(),u=l.width,h=l.height,c=l.minX+u/2,v=l.minY+h/2,g=ou(c,v,u,h,s);a.stopAnimate(),a.animate({path:g},500,"easeLinear")})},r.prototype.circleSizeMapping=function(t,e,n){(0,f.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6,l=a.get("origin"),u=l.x,h=l.y,c=l.size,v=su(u,h,c*s);a.get("origin").size=c*s,a.stopAnimate(),a.animate({path:v},500,"easeLinear")})},r.prototype.circleDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,f.each)(t,function(n){var a=n.get("origin"),o=a.x,s=a.y,l=Math.min(e.gridSize[0],e.gridSize[1])*.9;n.get("origin").size=l/2;var u=su(o,s,l/2);n.stopAnimate(),n.animate({path:u},500,"easeLinear")})},r.prototype.rectDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,f.each)(t,function(n){var a=n.getBBox(),o=a.width,s=a.height,l=a.minX+o/2,u=a.minY+s/2,h=ou(l,u,e.gridSize[0],e.gridSize[1],1);n.get("origin").size=1,n.stopAnimate(),n.animate({path:h},500,"easeLinear")})},r.prototype.getShape=function(){var t=this.view.geometries[0].elements,e=[];return(0,f.each)(t,function(n){e.push(n.shape)}),e},r.prototype.renderPlotComponents=function(){var t=this;(0,f.each)(this.plotComponents,function(n){n.destroy()}),this.plotComponents=[];var e=["label","legend"];(0,f.each)(e,function(n){var a=(0,Nt.__assign)({view:t.view,plot:t},t.options[n]),o=wO(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(Hn),SO=py;en("heatmap",py);var CO=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="heatmap",i.prototype.createLayers.call(this,e)},r.prototype.changeShape=function(t){var e=this.layers[0];e.changeShape(t)},r.prototype.mappingSize=function(t){var e=this.layers[0];e.mappingSize(t)},r.prototype.disableMappingSize=function(){var t=this.layers[0];t.disableMappingSize()},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=SO.getDefaultOptions,r}(jr),gy=CO,MO=function(i){(0,Nt.__extends)(r,i);function r(t){var e=this,n=(0,f.deepMix)({},t,{itemTpl:`<div data-index={index}>
        <span style="background-color:{color};" class="g2-tooltip-marker"></span>
        {name}<span class="g2-tooltip-value">{value}</span></div>`},t);return e=i.call(this,n)||this,e}return r}(SE.Z),EO=MO;/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2013 Tim Chien
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message",n=function(o){var s=t.length;return t.push(o),window.postMessage(e+s.toString(36),"*"),s};return window.addEventListener("message",function(o){if(!(typeof o.data!="string"||o.data.substr(0,e.length)!==e)){o.stopImmediatePropagation();var s=parseInt(o.data.substr(e.length),36);!t[s]||(t[s](),t[s]=void 0)}},!0),window.clearImmediate=function(o){!t[o]||(t[o]=void 0)},n}()||function(t){window.setTimeout(t,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}}());var Fh=function(){var r=document.createElement("canvas");if(!r||!r.getContext)return!1;var t=r.getContext("2d");return!(!t.getImageData||!t.fillText||!Array.prototype.some||!Array.prototype.push)}(),os=function(){if(!!Fh){for(var r=document.createElement("canvas").getContext("2d"),t=20,e,n;t;){if(r.font=t.toString(10)+"px sans-serif",r.measureText("\uFF37").width===e&&r.measureText("m").width===n)return t+1;e=r.measureText("\uFF37").width,n=r.measureText("m").width,t--}return 0}}(),AO=function(r){for(var t,e,n=r.length;n;t=Math.floor(Math.random()*n),e=r[--n],r[n]=r[t],r[t]=e);return r},Rh=function(r,t){if(!Fh)return;Array.isArray(r)||(r=[r]),r.forEach(function(Er,De){if(typeof Er=="string"){if(r[De]=document.getElementById(Er),!r[De])throw"The element id specified is not found."}else if(!Er.tagName&&!Er.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var e={data:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minFontSize:os,maxFontSize:60,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:"circle",ellipticity:1,active:!0,animatable:!0,selected:-1,shadowColor:"#333",shadowBlur:10,fontScale:1.2,classes:null,onWordCloudHover:null,onWordCloudClick:null},n=[];if(t)for(var a in t)if(a==="wordStyle")for(var o in t[a])o in e&&(e[o]=t[a][o]);else a in e&&(e[a]=t[a]);if(e.minFontSize<os&&(e.minFontSize=os),e.minFontSize>e.maxFontSize){console.error("minSize cant bigger than maxSize");return}for(var s=0,l=0;l<e.data.length;l++)s<e.data[l].weight&&(s=e.data[l].weight);var u=function(De){var qe=Math.min(Math.max(e.minFontSize,e.maxFontSize*De/s),e.maxFontSize);return Dr?qe*e.fontScale:qe},h=!1;if(typeof e.shape!="function")switch(e.shape){case"circle":default:e.shape="circle";break;case"cardioid":e.shape=function(De){return 1-Math.sin(De)},h=!0;break;case"diamond":e.shape=function(De){var qe=De%(2*Math.PI/4);return 1/(Math.cos(qe)+Math.sin(qe))};break;case"square":e.shape=function(De){var qe=(De+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos(qe)+Math.sin(qe))};break;case"triangle-forward":e.shape=function(De){var qe=De%(2*Math.PI/3);return 1/(Math.cos(qe)+Math.sqrt(3)*Math.sin(qe))};break;case"triangle-backward":e.shape=function(De){var qe=(De+Math.PI)%(2*Math.PI/3);return 1/(Math.cos(qe)+Math.sqrt(3)*Math.sin(qe))};break;case"triangle":case"triangle-up":e.shape=function(De){var qe=(De+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(qe)+Math.sqrt(3)*Math.sin(qe))};break;case"triangle-down":e.shape=function(De){var qe=(De+Math.PI*5/2)%(2*Math.PI/3);return 1/(Math.cos(qe)+Math.sqrt(3)*Math.sin(qe))};break;case"pentagon":e.shape=function(De){var qe=(De+.955)%(2*Math.PI/5);return 1/(Math.cos(qe)+.726543*Math.sin(qe))};break;case"star":e.shape=function(De){var qe=(De+.955)%(2*Math.PI/10);return(De+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-qe)+3.07768*Math.sin(2*Math.PI/10-qe)):1/(Math.cos(qe)+3.07768*Math.sin(qe))};break}e.gridSize=Math.max(Math.floor(e.gridSize),4);var c=e.gridSize,v=c-e.maskGapWidth,g=Math.abs(e.maxRotation-e.minRotation),C=Math.min(e.maxRotation,e.minRotation),F=e.rotationSteps,G,V,X,at,st,xt,kt;function Gt(Er,De){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(De-Er)+Er).toFixed()+"%)"}switch(e.color){case"random-dark":kt=function(){return Gt(10,50)};break;case"random-light":kt=function(){return Gt(50,90)};break;default:typeof e.color=="function"&&(kt=e.color);break}var Wt=null;typeof e.classes=="function"&&(Wt=e.classes);var Yt=!1,ie=[],de,he=function(De){var qe=De.currentTarget,Fr=qe.getBoundingClientRect(),Vr,_r;De.touches?(Vr=De.touches[0].clientX,_r=De.touches[0].clientY):(Vr=De.clientX,_r=De.clientY);var Qr=Vr-Fr.left,Ur=_r-Fr.top,Rr=Math.floor(Qr*(qe.width/Fr.width||1)/c),Jr=Math.floor(Ur*(qe.height/Fr.height||1)/c);return ie&&ie[Rr]&&ie[Rr][Jr]},Ee=function(De,qe,Fr,Vr){Vr(De?De.id:-1)},Ie=function(De){var qe=he(De);if(de!==qe&&!(Dr&&qe&&qe.item&&!(0,f.get)(qe,["item","twiceRender"]))){if(!qe){e.onWordCloudHover(void 0,void 0,De,Kr),e.active&&Ee(void 0,void 0,De,Kr);return}e.onWordCloudHover(qe.item,qe.dimension,De,Kr),e.active&&Ee(qe.item,qe.dimension,De,Kr),de=qe}},Le=function(De){var qe=he(De);!qe||(e.onWordCloudClick(qe.item,qe.dimension,De),De.preventDefault())},He=[],je=function(De){if(He[De])return He[De];var qe=De*8,Fr=qe,Vr=[];for(De===0&&Vr.push([at[0],at[1],0]);Fr--;){var _r=1;e.shape!=="circle"&&(_r=e.shape(Fr/qe*2*Math.PI)),Vr.push([at[0]+De*_r*Math.cos(-Fr/qe*2*Math.PI),at[1]+De*_r*Math.sin(-Fr/qe*2*Math.PI)*e.ellipticity,Fr/qe*2*Math.PI])}return He[De]=Vr,Vr},Ke=function(){return e.abortThreshold>0&&new Date().getTime()-xt>e.abortThreshold},Xe=function(){return e.rotateRatio===0||Math.random()>e.rotateRatio?0:g===0?C:F>0?C+Math.floor(Math.random()*F)*g/F:C+Math.random()*g},Ve=function(De,qe,Fr){var Vr=!1,_r=u(qe);if(_r<=0)return!1;var Qr=1;_r<os&&(Qr=function(){for(var Uo=2;Uo*_r<os;)Uo+=2;return Uo}());var Ur=document.createElement("canvas"),Rr=Ur.getContext("2d",{willReadFrequently:!0});Rr.font=e.fontWeight+" "+(_r*Qr).toString(10)+"px "+e.fontFamily;var Jr=Rr.measureText(De).width/Qr,ln=Math.max(_r*Qr,Rr.measureText("m").width,Rr.measureText("\uFF37").width)/Qr,In=Jr+ln*2,bn=ln*3,Gn=Math.ceil(In/c),Un=Math.ceil(bn/c);In=Gn*c,bn=Un*c;var Fi=-Jr/2,zi=-ln*.4,di=Math.ceil((In*Math.abs(Math.sin(Fr))+bn*Math.abs(Math.cos(Fr)))/c),kr=Math.ceil((In*Math.abs(Math.cos(Fr))+bn*Math.abs(Math.sin(Fr)))/c),zn=kr*c,Ai=di*c;Ur.setAttribute("width",zn),Ur.setAttribute("height",Ai),Vr&&(document.body.appendChild(Ur),Rr.save()),Rr.scale(1/Qr,1/Qr),Rr.translate(zn*Qr/2,Ai*Qr/2),Rr.rotate(-Fr),Rr.font=e.fontWeight+" "+(_r*Qr).toString(10)+"px "+e.fontFamily,Rr.fillStyle="#000",Rr.textBaseline="middle",Rr.fillText(De,Fi*Qr,(zi+_r*.5)*Qr);var mi;try{mi=Rr.getImageData(0,0,zn,Ai).data}catch(Xi){return!1}if(Ke())return!1;Vr&&(Rr.strokeRect(Fi*Qr,zi,Jr*Qr,ln*Qr),Rr.restore());for(var eo=[],Ti=kr,wn,yn,On,Rn=[di/2,kr/2,di/2,kr/2];Ti--;)for(wn=di;wn--;){On=c;t:{for(;On--;)for(yn=c;yn--;)if(mi[((wn*c+On)*zn+(Ti*c+yn))*4+3]){eo.push([Ti,wn]),Ti<Rn[3]&&(Rn[3]=Ti),Ti>Rn[1]&&(Rn[1]=Ti),wn<Rn[0]&&(Rn[0]=wn),wn>Rn[2]&&(Rn[2]=wn),Vr&&(Rr.fillStyle="rgba(255, 0, 0, 0.5)",Rr.fillRect(Ti*c,wn*c,c-.5,c-.5));break t}Vr&&(Rr.fillStyle="rgba(0, 0, 255, 0.5)",Rr.fillRect(Ti*c,wn*c,c-.5,c-.5))}}return Vr&&(Rr.fillStyle="rgba(0, 255, 0, 0.5)",Rr.fillRect(Rn[3]*c,Rn[0]*c,(Rn[1]-Rn[3]+1)*c,(Rn[2]-Rn[0]+1)*c)),{mu:Qr,occupied:eo,bounds:Rn,gw:kr,gh:di,fillTextOffsetX:Fi,fillTextOffsetY:zi,fillTextWidth:Jr,fillTextHeight:ln,fontSize:_r}},pr=function(De,qe,Fr,Vr,_r){for(var Qr=_r.length;Qr--;){var Ur=De+_r[Qr][0],Rr=qe+_r[Qr][1];if(Ur>=V||Rr>=X||Ur<0||Rr<0){if(!e.drawOutOfBound)return!1;continue}if(!G[Ur][Rr])return!1}return!0},vr=function(De,qe,Fr,Vr,_r,Qr,Ur,Rr,Jr,ln,In){var bn=Fr.fontSize,Gn=e.color,Un=e.classes;if(!In)kt?Gn=kt(Vr,_r,bn,Qr,Ur):Gn=e.color,Wt?Un=Wt(Vr,_r,bn,Qr,Ur):Un=e.classes;else{var Fi=yr(ln);Gn=Fi?Fi.color:e.color}var zi,di=Fr.bounds;zi={x:(De+di[3])*c,y:(qe+di[0])*c,w:(di[1]-di[3]+1)*c,h:(di[2]-di[0]+1)*c},r.forEach(function(kr){if(kr.getContext){var zn=kr.getContext("2d"),Ai=Fr.mu;zn.save();var mi=e.fontWeight+" "+(bn*Ai).toString(10)+"px "+e.fontFamily;zn.scale(1/Ai,1/Ai),zn.font=mi,zn.fillStyle=Gn;var eo=(De+Fr.gw/2)*c*Ai,Ti=(qe+Fr.gh/2)*c*Ai;zn.translate(eo,Ti),Rr!==0&&zn.rotate(-Rr),zn.textBaseline="middle",e.selected===ln&&(zn.shadowColor=e.shadowColor,zn.shadowBlur=e.shadowBlur),zn.fillText(Vr,Fr.fillTextOffsetX*Ai,(Fr.fillTextOffsetY+bn*.5)*Ai),In||n.push({gx:De,gy:qe,info:Fr,word:Vr,weight:_r,distance:Qr,theta:Ur,rotateDeg:Rr,attributes:Jr,id:ln,color:Gn}),zn.restore()}else{var wn=document.createElement("span"),yn="";yn="rotate("+-Rr/Math.PI*180+"deg) ",Fr.mu!==1&&(yn+="translateX(-"+Fr.fillTextWidth/4+"px) scale("+1/Fr.mu+")");var On={position:"absolute",display:"block",font:e.fontWeight+" "+bn*Fr.mu+"px "+e.fontFamily,left:(De+Fr.gw/2)*c+Fr.fillTextOffsetX+"px",top:(qe+Fr.gh/2)*c+Fr.fillTextOffsetY+"px",width:Fr.fillTextWidth+"px",height:Fr.fillTextHeight+"px",lineHeight:bn+"px",whiteSpace:"nowrap",transform:yn,webkitTransform:yn,msTransform:yn,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};Gn&&(On.color=Gn),wn.textContent=Vr;for(var Rn in On)wn.style[Rn]=On[Rn];if(Jr)for(var Xi in Jr)wn.setAttribute(Xi,Jr[Xi]);Un&&(wn.className+=Un),kr.appendChild(wn)}})},xr=function(De,qe,Fr,Vr,_r){if(!(De>=V||qe>=X||De<0||qe<0)){if(G[De][qe]=!1,Fr){var Qr=r[0].getContext("2d");Qr.fillRect(De*c,qe*c,v,v)}Yt&&(ie[De][qe]={item:_r,dimension:Vr})}},Je=function(De,qe,Fr,Vr,_r){var Qr=_r.occupied,Ur=e.drawMask,Rr;Ur&&(Rr=r[0].getContext("2d"),Rr.save(),Rr.fillStyle=e.maskColor);var Jr;if(Yt){var ln=_r.bounds;Jr={x:(De+ln[3])*c,y:(qe+ln[0])*c,w:(ln[1]-ln[3]+1)*c,h:(ln[2]-ln[0]+1)*c}}for(var In=Qr.length;In--;){var bn=De+Qr[In][0],Gn=qe+Qr[In][1];if(!(bn>=V||Gn>=X||bn<0||Gn<0)){var Un=yr(_r.item.id);Un&&(_r.item.color=Un.color),xr(bn,Gn,Ur,Jr,_r.item)}}Ur&&Rr.restore()},gr=function(De,qe,Fr,Vr,_r,Qr,Ur,Rr){var Jr=Math.floor(De[0]-qe.gw/2),ln=Math.floor(De[1]-qe.gh/2),In=qe.gw,bn=qe.gh;return pr(Jr,ln,In,bn,qe.occupied)?(vr(Jr,ln,qe,Fr,Vr,_r,De[2],Qr,Ur,Rr,!1),Je(Jr,ln,In,bn,qe),{gx:Jr,gy:ln,rot:Qr,info:qe}):!1},Or=function(De){var qe,Fr,Vr,_r;Array.isArray(De)?(qe=De[0],Fr=De[1]):(qe=De.word,Fr=De.weight,Vr=De.attributes,_r=De.id);var Qr=(0,f.isNil)(De.rotateDeg)?Xe():De.rotateDeg,Ur=Ve(qe,Fr,Qr);if(Ur&&(Ur.item=De),!Ur||Ke())return!1;if(!e.drawOutOfBound){var Rr=Ur.bounds;if(Rr[1]-Rr[3]+1>V||Rr[2]-Rr[0]+1>X)return!1}for(var Jr=st+1;Jr--;){var ln=je(st-Jr);e.shuffle&&(ln=[].concat(ln),AO(ln));for(var In=0;In<ln.length;In++){var bn=gr(ln[In],Ur,qe,Fr,st-Jr,Qr,Vr,_r);if(bn)return bn}}return null},mr=function(De,qe,Fr){if(qe)return!r.some(function(Vr){var _r=document.createEvent("CustomEvent");return _r.initCustomEvent(De,!0,qe,Fr||{}),!Vr.dispatchEvent(_r)},this);r.forEach(function(Vr){var _r=document.createEvent("CustomEvent");_r.initCustomEvent(De,!0,qe,Fr||{}),Vr.dispatchEvent(_r)},this)},yr=function(De){for(var qe=0;qe<n.length;qe++){var Fr=n[qe];if(n[qe].id===De)return Fr}},Dr,Kr=function(De){if(De!==void 0){if(e.selected!==De&&r[0].getContext){e.selected=De;var qe=r[0].getContext("2d");qe.fillStyle=e.backgroundColor,qe.clearRect(0,0,r[0].width,r[0].height),qe.fillRect(0,0,r[0].width,r[0].height);for(var Fr=0;Fr<n.length;Fr++){var Vr=n[Fr];(!Dr||Dr&&(0,f.get)(Vr,["info","item","twiceRender"]))&&vr(Vr.gx,Vr.gy,Vr.info,Vr.word,Vr.weight,Vr.distance,Vr.theta,Vr.rotateDeg,Vr.attributes,Vr.id,!0)}}return}var _r=r[0];if(_r.getContext)V=Math.ceil(_r.width/c),X=Math.ceil(_r.height/c);else{var Qr=_r.getBoundingClientRect();V=Math.ceil(Qr.width/c),X=Math.ceil(Qr.height/c)}if(!!mr("wordcloudstart",!0)){at=e.origin?[e.origin[0]/c,e.origin[1]/c]:[V/2,X/(h?4:2)],st=Math.floor(Math.sqrt(V*V+X*X)),G=[];var Ur,Rr,Jr;if(!_r.getContext||e.clearCanvas)for(r.forEach(function(yn){if(yn.getContext){var On=yn.getContext("2d");On.fillStyle=e.backgroundColor,On.clearRect(0,0,V*(c+1),X*(c+1)),On.fillRect(0,0,V*(c+1),X*(c+1))}else yn.textContent="",yn.style.backgroundColor=e.backgroundColor,yn.style.position="relative"}),Ur=V;Ur--;)for(G[Ur]=[],Rr=X;Rr--;)G[Ur][Rr]=!0;else{var ln=document.createElement("canvas").getContext("2d");ln.fillStyle=e.backgroundColor,ln.fillRect(0,0,1,1);var In=ln.getImageData(0,0,1,1).data,bn=_r.getContext("2d").getImageData(0,0,V*c,X*c).data;Ur=V;for(var Gn,Un;Ur--;)for(G[Ur]=[],Rr=X;Rr--;){Un=c;t:for(;Un--;)for(Gn=c;Gn--;)for(Jr=4;Jr--;)if(bn[((Rr*c+Un)*V*c+(Ur*c+Gn))*4+Jr]!==In[Jr]){G[Ur][Rr]=!1;break t}G[Ur][Rr]!==!1&&(G[Ur][Rr]=!0)}bn=ln=In=void 0}if(e.onWordCloudHover||e.onWordCloudClick){for(Yt=!0,Ur=V+1;Ur--;)ie[Ur]=[];e.onWordCloudHover&&_r.addEventListener("mousemove",Ie),e.onWordCloudClick&&(_r.addEventListener("click",Le),_r.addEventListener("touchstart",Le),_r.addEventListener("touchend",function(yn){yn.preventDefault()}),_r.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),_r.addEventListener("wordcloudstart",function yn(){_r.removeEventListener("wordcloudstart",yn),_r.removeEventListener("mousemove",Ie),_r.removeEventListener("click",Le),de=void 0})}if(e.animatable){Jr=0;var zn,Ai;e.wait!==0?(zn=window.setTimeout,Ai=window.clearTimeout):(zn=window.setImmediate,Ai=window.clearImmediate);var mi=function(On,Rn){r.forEach(function(Xi){Xi.addEventListener(On,Rn)},this)},eo=function(On,Rn){r.forEach(function(Xi){Xi.removeEventListener(On,Rn)},this)},Ti=function yn(){eo("wordcloudstart",yn),Ai(wn)};mi("wordcloudstart",Ti);var wn=zn(function yn(){if(Jr>=e.data.length){Ai(wn),mr("wordcloudstop",!1),eo("wordcloudstart",Ti);return}xt=new Date().getTime();var On=Or(e.data[Jr]),Rn=!mr("wordclouddrawn",!0,{item:e.data[Jr],drawn:On});if(Ke()||Rn){Ai(wn),e.abort(),mr("wordcloudabort",!1),mr("wordcloudstop",!1),eo("wordcloudstart",Ti);return}Jr++,wn=zn(yn,e.wait)},e.wait)}else{t.maskImage&&r.forEach(function(yn){if(yn.getContext){var On=yn.getContext("2d");On.fillStyle=e.backgroundColor,On.clearRect(0,0,V*(c+1),X*(c+1)),On.fillRect(0,0,V*(c+1),X*(c+1))}});for(var Fi=[],zi=0;zi<e.data.length;zi++){var di=Or(e.data[zi]);di&&Fi.push(di)}if(Fi.length===e.data.length&&!Dr){for(r.forEach(function(yn){if(yn.getContext){var On=yn.getContext("2d");On.fillStyle=e.backgroundColor,On.clearRect(0,0,V*(c+1),X*(c+1)),On.fillRect(0,0,V*(c+1),X*(c+1))}}),Ur=V;Ur--;)for(G[Ur]=[],Rr=X;Rr--;)G[Ur][Rr]=!0;Dr=!0;for(var kr=0;kr<e.data.length;kr++)Or((0,Nt.__assign)((0,Nt.__assign)({},e.data[kr]),{twiceRender:Dr}))}}}};Kr()};Rh.isSupported=Fh,Rh.minFontSize=os;var TO=Rh,PO=function(i){(0,Nt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e._toolTipsAction=function(n,a,o,s){a?(e._toolTips.update({items:[{color:n.color||"red",name:n.word,value:n.weight}],x:o.offsetX,y:o.offsetY}),e._toolTips.show()):e._toolTips.hide(),e._toolTips.render(),e._configHoverAction&&e._configHoverAction(n,a,o,s)},e._configHoverAction=t.onWordCloudHover,e._enableToolTips=(0,f.get)(t,"tooltip.visible",!0),e.options=(0,f.deepMix)({},{width:400,height:400,enableToolTips:!0},t,{onWordCloudHover:e._enableToolTips?e._toolTipsAction:e._configHoverAction}),e}return r.prototype.init=function(){i.prototype.init.call(this),this._initToolTips()},r.prototype.render=function(){i.prototype.render.call(this),this._render()},r.prototype._initToolTips=function(){this._toolTips=new EO({showTitle:!1,visible:!1,parent:this.options.container,follow:!0,inPanel:!1,items:[]}),this._toolTips.init()},r.prototype._render=function(){this._targetCanvas=this.canvas.get("el"),this.options.maskImage?this._handleMaskImage():this._start()},r.prototype._handleMaskImage=function(){var t=this,e=new Image;e.src=this.options.maskImage+"?"+new Date().getTime(),e.crossOrigin="Anonymous",e.onload=function(){e.naturalHeight+e.naturalWidth===0||e.width+e.height===0?t._start():t._startWithMaskImage(e)},e.onerror=function(){console.error("image %s load failed !!!",t.options.maskImage),t._start()}},r.prototype._start=function(){this._handleG2PlotConfig();var t=this._targetCanvas.getContext("2d"),e=this.canvas.get("width")/this.canvas.get("el").width;t.scale(e,e),TO(this._targetCanvas,this.options)},r.prototype._handleG2PlotConfig=function(){var t=this.options.wordStyle.fontSize||[10,60],e=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2],n,a,o;this.options.wordStyle.active?(n=!0,a=this.options.wordStyle.active.shadowColor||"#333",o=this.options.wordStyle.active.shadowBlur||10):n=!1,this.options=(0,f.deepMix)({},this.options,{minFontSize:t[0],maxFontSize:t[1],minRotation:e[0],maxRotation:e[1],active:n,shadowColor:a,shadowBlur:o})},r.prototype._startWithMaskImage=function(t){var e=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),n=e.maskImageCanvas,a=e.maskImageContext,o=document.createElement("canvas").getContext("2d");o.fillStyle=this.options.backgroundColor||"#fff",o.fillRect(0,0,1,1);for(var s=o.getImageData(0,0,1,1).data,l=a.getImageData(0,0,n.width,n.height),u=a.createImageData(l),h=0;h<l.data.length;h+=4)l.data[h+3]>128?(u.data[h]=s[0],u.data[h+1]=s[1],u.data[h+2]=s[2],u.data[h+3]=s[3]):(u.data[h]=s[0],u.data[h+1]=s[1],u.data[h+2]=s[2],u.data[h+3]=254);a.putImageData(u,0,0);var c=this._targetCanvas.getContext("2d");c.drawImage(n,0,0),this.options=(0,f.deepMix)({},this.options,{clearCanvas:!1}),this._start()},r.prototype._scaleMaskImageCanvas=function(t){var e=document.createElement("canvas");e.width=this.canvas.get("width"),e.height=this.canvas.get("height");var n=e.getContext("2d");return n.imageSmoothingEnabled=!0,n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),{maskImageCanvas:e,maskImageContext:n}},r.prototype._transformWhite2BlackPixels=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);for(var a=n.getImageData(0,0,e.width,e.height),o=4,s=0,l=255,u=0;u<a.data.length;u+=o){var h=a.data[u]+a.data[u+1]+a.data[u+2],c=a.data[u+3];c<128||h>250*3?(a.data[u]=l,a.data[u+1]=l,a.data[u+2]=l,a.data[u+3]=s):(a.data[u]=s,a.data[u+1]=s,a.data[u+2]=s,a.data[u+3]=l)}return n.putImageData(a,0,0),e},r}(Rl),_O=PO,LO=function(i){(0,Nt.__extends)(r,i);function r(t,e){var n=this;return e.renderer="canvas",n=i.call(this,t,e)||this,n}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="wordCloud",e.container=this.containerDOM,i.prototype.createLayers.call(this,e)},r}(jr),IO=LO;en("wordCloud",_O);var OO={rose:"interval"},kO=Mi(OO);(0,f.assign)(sn,kO);var BO={rose:"interval"},DO={rose:"column"},yy=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"right"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:"white",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t),n=t.sectorStyle,a=t.categoryField,o=t.radiusField;return(0,f.deepMix)({},e,{columnStyle:n,xField:a,yField:o})},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;t&&this.view.getScaleByField(t)},r.prototype.getAngleScale=function(){var t=this.options.categoryField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?BO[e]:DO[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.radiusField]={},e[t.categoryField]={type:"cat"},this.setConfig("scales",e)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=qn("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});e.label=this.extractLabel(),e.adjust=this.adjustRoseAdjust(),this.rose=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.adjustRoseAdjust=function(){},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.rose.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,m)},r.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var e=(0,f.deepMix)({},t.label);this.adjustLabelOptions(e);var n=[t.categoryField,t.radiusField],a=ki("label",(0,Nt.__assign)({plot:this,labelType:"polar",fields:n},e));return a},r.prototype.adjustLabelOptions=function(t){var e=this.options.radiusField;if(t){var n=t.offset,a=t.type,o=t.content;a==="inner"?t.offset=n<0?n:-10:a==="outer"&&(t.offset=n>=0?n:10),o||(t.content=function(s,l){return""+l._origin[e]})}},r}(Hn),Nh=yy;en("rose",yy);var FO=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=Nh.getDefaultOptions,r}(jr),my=FO,RO=function(i){var r=i.opacity||1;return{opacity:r*.5}},NO=function(i){var r=i.opacity||1;return{opacity:r*.5}};ra("funnel",{columnStyle:{normal:{},active:RO,disable:NO,selected:{lineWidth:1,stroke:"black"}}});var xy=d(95280);function YO(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,f.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,u;(0,f.isArray)(t)?(l=t[0],u=t[1]):(l=t-a/2,u=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return r?h.push({x:u,y:(s+o)/2}):h.push({x:u,y:s},{x:u,y:o}),h}function GO(i,r){var t=[],e=i.points,n=i.nextPoints;if(r){var a=r.yValues,o=r.yValuesMax,s=r.yValuesNext,l=(e[0].y+e[1].y)/2,u=a[0]+a[1],h=a.map(function(F){return F/u/.5}),c=(o[0]/(o[0]+o[1])-.5)*.9,v=.001;if((0,f.isNil)(n))t.push(["M",e[0].x,c+(e[0].y-l)*h[0]+l],["L",e[1].x,c+l],["L",e[2].x,c+l],["L",e[3].x,c+(e[3].y-l)*h[0]+l],["Z"]),t.push(["M",e[0].x,c+.002+l],["L",e[1].x,c+.002+(e[1].y-l)*h[1]+l],["L",e[2].x,c+.002+(e[2].y-l)*h[1]+l],["L",e[3].x,c+.002+l],["Z"]);else{var g=s[0]+s[1],C=s.map(function(F){return F/g/.5});t.push(["M",e[0].x,c+(e[0].y-l)*h[0]+l-v],["L",e[1].x,c+l-v],["L",n[1].x,c+l-v],["L",n[0].x,c+(n[3].y-l)*C[0]+l-v],["Z"]),t.push(["M",e[0].x,c+l+v],["L",e[1].x,c+(e[1].y-l)*h[1]+l+v],["L",n[1].x,c+(n[2].y-l)*C[1]+l+v],["L",n[0].x,c+l+v],["Z"])}}else(0,f.isNil)(n)?t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",e[2].x,e[2].y],["L",e[3].x,e[3].y],["Z"]):t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",n[1].x,n[1].y],["L",n[0].x,n[0].y],["Z"]);return t}vn("interval","funnel-basic-rect",{getPoints:function(i){return i.size=i.size*1.8,YO(i)},draw:function(i,r){var t,e=(0,xy.getStyle)(i,!1,!0),n=(0,f.get)(i,"data.__compare__"),a=this.parsePath(GO(i,n));return r.addShape("path",(t={name:"interval",attrs:(0,Nt.__assign)((0,Nt.__assign)({},e),{path:a})},t.__compare__=n,t))},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function Yh(i,r,t){return(1-t)*i+t*r}function zO(i,r){var t=r.reverse,e=r.ratioUpper,n=r.ratioLower,a=[],o=i[0],s=(i[1].x+i[2].x)/2,l=1.2,u=.6;if(t){var h=n;n=e,e=h}var c=(o.x-s)*Yh(u,l,n)+s;a.push(["M",c,o.y]);for(var v=1,g=i.length;v<g;v++){var C=i[v].x;switch(v){case 1:case 2:C=(C-s)*Yh(u,l,e)+s;break;case 3:C=(C-s)*Yh(u,l,n)+s;break}a.push(["L",C,i[v].y])}return a.push(["L",c,o.y]),a.push(["z"]),a}vn("interval","funnel-dynamic-rect",{draw:function(i,r){var t=(0,xy.getStyle)(i,!1,!0),e=(0,f.get)(i,"data.__custom__"),n=this.parsePath(zO(i.points,e));return r.addShape("path",{attrs:(0,Nt.__assign)((0,Nt.__assign)({},t),{path:n})})},getMarker:function(i){var r=i.color,t=i.isInPolar;return{symbol:t?"circle":"square",style:{r:t?4.5:4,fill:r}}}});function by(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,u=i.getBBox(),h=l?u.maxX:u.minX,c=(u.minY+u.maxY)/2,v=i.setClip({type:"rect",attrs:{x:u.x,y:u.y,width:u.width,height:u.height}}),g={matrix:[1,0,0,0,1,0,0,0,1]};v.setMatrix(dn.transform(v.getMatrix(),[["t",-h,-c],["s",0,1],["t",h,c]]));var C={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(g,{duration:200,easing:o,callback:function(){i.setClip(null),v.remove()},delay:a}),i.animate(C,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}by.animationName="funnelScaleInX",li("funnelScaleInX",by);function wy(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,u=i.getBBox(),h=(u.minX+u.maxX)/2,c=l?u.maxY:u.minY,v=i.setClip({type:"rect",attrs:{x:u.x,y:u.y,width:u.width,height:u.height}}),g={matrix:[1,0,0,0,1,0,0,0,1]};v.setMatrix(dn.transform(v.getMatrix(),[["t",-h,-c],["s",1,0],["t",h,c]]));var C={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(g,{duration:200,easing:o,callback:function(){i.setClip(null),v.remove()},delay:a}),i.animate(C,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}wy.animationName="funnelScaleInY",li("funnelScaleInY",wy);function lu(i,r,t){return(1-t)*i+t*r}var XO={column:"interval"},VO={interval:"funnel"},Sy=function(i){(0,Nt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="funnel",e._shouldResetPercentages=!0,e._shouldResetLabels=!0,e._shouldResetCompareTexts=!0,e._legendsListenerAttached=!1,e._onLegendContainerMouseDown=function(n){var a=e.options,o=n.target.get("name");if(o.startsWith("legend-item")){var s=n.target.get("parent");if(s.set("unchecked",!s.get("unchecked")),e.refreshPercentages(),e.refreshLabels(),a.dynamicHeight){var l=e._findCheckedDataByMouseDownLegendItem(s);e._genCustomFieldForDynamicHeight(l)}if(a.compareField){var l=e._findCheckedDataByMouseDownLegendItem(s);e._updateDataForCompare(l),e.refreshCompareTexts()}}},e.adjustProps(e.options),t.dynamicHeight&&e._genCustomFieldForDynamicHeight(e.getData()),t.compareField&&(e.options.data=e._reduceDataForCompare(e.getData())),e}return r.getDefaultOptions=function(t){var e={label:{visible:!0,adjustColor:!0},percentage:{visible:!0,offsetX:t.transpose?0:40,offsetY:t.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},text:{content:"\u8F6C\u5316\u7387",style:{fill:"rgba(0, 0, 0, 0.65)"}},value:{visible:!0,style:{fill:"black"},formatter:function(n,a){return(100*a/n).toFixed(2)+"%"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,showCrosshairs:!1,showMarkers:!1},animation:(0,f.deepMix)({},wo.DEFAULT_ANIMATE_CFG,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:"black"}},legend:{position:"bottom-center"},interactions:[{type:"tooltip"},{type:"legend-filter"}]};return(0,f.deepMix)({},i.getDefaultOptions.call(this),e)},r.prototype.getColorScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.coord=function(){var t=this.options,e={type:"rect",actions:t.transpose?t.dynamicHeight?[["transpose"],["scale",1,-1]]:[["scale",1,-1]]:t.dynamicHeight?[]:[["transpose"],["scale",1,-1]]};this.setConfig("coordinate",e)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustFunnel=function(t){var e=this.options;t.shape=e.dynamicHeight?"funnel-dynamic-rect":"funnel-basic-rect",t.color={fields:[e.xField],values:e.color&&(Array.isArray(e.color)?e.color:[e.color])},(0,f.isFunction)(e.funnelStyle)?t.style={callback:e.funnelStyle}:t.style={cfg:e.funnelStyle},t.adjust=[{type:e.dynamicHeight?"stack":"symmetric"}]},r.prototype.tooltip=function(){var t=this.options;t.compareField&&(0,f.deepMix)(t.tooltip,{htmlContent:function(e,n){var a,o,s,l;a=ri.CONTAINER_CLASS,o=(0,St.Z)('<div class="'+a+'"></div>'),(0,Ot.Z)(o,Yo.default[a]);var u=o;if(e){a=ri.TITLE_CLASS,o=(0,St.Z)('<div class="'+a+'"></div>'),(0,Ot.Z)(o,Yo.default[a]),u.appendChild(o);var h=o;a=ri.MARKER_CLASS,o=(0,St.Z)('<span class="'+a+'"></span>'),(0,Ot.Z)(o,Yo.default[a]),(0,Ot.Z)(o,{width:"10px",height:"10px"}),h.appendChild(o),l=o,o=(0,St.Z)("<span>"+e+"</span>"),h.appendChild(o)}if(n){a=ri.LIST_CLASS,o=(0,St.Z)('<ul class="'+a+'"></ul>'),(0,Ot.Z)(o,Yo.default[a]),u.appendChild(o);var c=o;n.reduce(function(v,g){s||(s=g.color);var C=(0,f.get)(g,"point._origin.__compare__.compareValues"),F=(0,f.get)(g,"point._origin.__compare__.yValues");return F.forEach(function(G,V){return v.push([C[V],G])}),v},[]).forEach(function(v,g){var C=v[0],F=v[1];a=ri.LIST_ITEM_CLASS,o=(0,St.Z)('<li class="'+a+'" data-index='+g+"></li>"),(0,Ot.Z)(o,Yo.default[a]),c.appendChild(o);var G=o;a=ri.NAME_CLASS,o=(0,St.Z)('<span class="'+a+'">'+C+"</span>"),(0,Ot.Z)(o,Yo.default[a]),G.appendChild(o),a=ri.VALUE_CLASS,o=(0,St.Z)('<span class="'+a+'">'+F+"</span>"),(0,Ot.Z)(o,Yo.default[a]),G.appendChild(o)})}return s&&l&&(0,Ot.Z)(l,{backgroundColor:s}),u}}),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){var t=this.options,e=qn("interval","main",{positionFields:[t.dynamicHeight?"_":t.xField,t.yField],plot:this});this.adjustFunnel(e),this.funnel=e,this.setConfig("geometry",e),t.compareField||this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.options.tooltip;t.fields&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.fields=t.fields),t.formatter&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.callback=t.formatter,t.fields||(this.funnel.tooltip.fields=[this.options.xField,this.options.yField]))},r.prototype.animation=function(){var t=this;i.prototype.animation.call(this);var e=this.options;if(e.animation===!1)this.funnel.animate=!1;else{var n=this.getData(),a=(0,f.get)(e,"animation.appear.duration"),o=a/(n.length||1);this._animationAppearTimeoutHandler&&(clearTimeout(this._animationAppearTimeoutHandler),delete this._animationAppearTimeoutHandler),this._animationAppearTimeoutHandler=setTimeout(function(){t.fadeInPercentages(o),e.compareField&&t.fadeInCompareTexts(o),delete t._animationAppearTimeoutHandler},a),this.funnel.animate=(0,f.deepMix)({},e.animation,{appear:{animation:e.transpose?"funnelScaleInX":"funnelScaleInY",duration:o,delay:function(s){return(0,f.findIndex)(n,function(l){return(0,f.isEqual)(l,s)})*o},callback:function(s){t.fadeInLabels(s,.5*o)}},enter:{animation:"fade-in"}})}},r.prototype.afterRender=function(){var t=this.options;if(this.resetLabels(),this.resetPercentages(),t.compareField&&this.resetCompareTexts(),t.padding=="auto"){var e=this._findPercentageContainer();e&&this.paddingController.registerPadding(e,"inner",!0);var n=this._findCompareTextContainer();n&&this.paddingController.registerPadding(n,"inner",!0)}if(i.prototype.afterRender.call(this),t.animation===!1&&(this.fadeInLabels(),this.fadeInPercentages(),t.compareField&&this.fadeInCompareTexts()),!this._legendsListenerAttached){this._legendsListenerAttached=!0;var a=this.view.getController("legend").container;a.on("mousedown",this._onLegendContainerMouseDown)}},r.prototype.updateConfig=function(t){t=this.adjustProps(t),i.prototype.updateConfig.call(this,t),this._legendsListenerAttached=!1},r.prototype.changeData=function(t){var e=this.options;if(e.animation!==!1&&(this._shouldResetPercentages=!1,this._shouldResetLabels=!1),e.dynamicHeight){var n=this._findCheckedDataInNewData(t);this._genCustomFieldForDynamicHeight(n)}if(e.compareField){t=this._reduceDataForCompare(t);var n=this._findCheckedDataInNewData(t);this._updateDataForCompare(n)}i.prototype.changeData.call(this,t),this.refreshPercentages(),this.refreshLabels(),e.compareField&&this.fadeInCompareTexts()},r.prototype.geometryParser=function(t,e){return t==="g2"?XO[e]:VO[e]},r.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&((0,f.set)(t,"meta."+t.yField+".nice",!1),(0,f.set)(t,"tooltip.shared",!1)),t},r.prototype.resetPercentages=function(){var t=this;if(!!this._shouldResetPercentages){var e=this.options,n=e.percentage||{},a=n.offsetX,o=n.offsetY,s=n.spacing,l=n.line,u=l===void 0?{}:l,h=n.text,c=h===void 0?{}:h,v=n.value,g=v===void 0?{}:v,C=Date.now(),F=this._findPercentageContainer(!0);this._eachShape(function(G,V,X,at){if(V>0){var st=G.getBBox(),xt=st.minX,kt=st.maxX,Gt=st.maxY,Wt=st.minY,Yt=e.transpose?xt:kt,ie=e.transpose&&e.compareField?Gt:Wt,de=t._findPercentageMembersInContainerByIndex(F,V,!0),he=de.line,Ee=de.text,Ie=de.value,Le=[function(Xe,Ve,pr,vr,xr){pr&&(pr.attr((0,f.deepMix)({},u.style,{x1:Xe,y1:Ve,x2:e.transpose?Xe+a:Xe-a,y2:e.transpose?Ve-o:Ve+o,opacity:0})),pr.set("adjustTimestamp",C));var Je=0,gr=0,Or=function(){vr&&(vr.attr((0,f.deepMix)({},c.style,{x:e.transpose?Xe+a:Xe-a-s-gr-s,y:e.transpose?Ve-o-s:Ve+o,opacity:0,text:c.content,textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),vr.set("adjustTimestamp",C),Je=vr.getBBox().width)},mr=function(){xr&&(xr.attr((0,f.deepMix)({},g.style,{x:e.transpose?Xe+a+Je+s:Xe-a-s,y:e.transpose?Ve-o-s:Ve+o,opacity:0,text:(0,f.isFunction)(g.formatter)?e.compareField?g.formatter((0,f.get)(at,"__compare__.yValues.0"),(0,f.get)(X,"__compare__.yValues.0")):g.formatter(at[e.yField],X[e.yField]):"",textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),xr.set("adjustTimestamp",C),gr=xr.getBBox().width)};e.transpose?(Or(),mr()):(mr(),Or())},function(Xe,Ve,pr,vr,xr){pr&&(pr.attr((0,f.deepMix)({},u.style,{x1:Xe,y1:Ve,x2:Xe+a,y2:e.transpose?e.compareField?Ve+o:Ve-o:Ve+o,opacity:0})),pr.set("adjustTimestamp",C));var Je=0;vr&&(vr.attr((0,f.deepMix)({},c.style,{x:e.transpose?Xe+a:Xe+a+s,y:e.transpose?e.compareField?Ve+o+s:Ve-o-s:Ve+o,opacity:0,text:c.content,textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),vr.set("adjustTimestamp",C),Je=vr.getBBox().width),xr&&(xr.attr((0,f.deepMix)({},g.style,{x:e.transpose?Xe+a+Je+s:Xe+a+s+Je+s,y:e.transpose?e.compareField?Ve+o+s:Ve-o-s:Ve+o,opacity:0,text:(0,f.isFunction)(g.formatter)?e.compareField?g.formatter((0,f.get)(at,"__compare__.yValues.1"),(0,f.get)(X,"__compare__.yValues.1")):g.formatter(at[e.yField],X[e.yField]):"",textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),xr.set("adjustTimestamp",C))}];if(e.compareField){var He=[xt,Wt],je=He[0],Ke=He[1];[[je,Ke],[Yt,ie]].forEach(function(Xe,Ve){var pr=Xe[0],vr=Xe[1];return Le[Ve](pr,vr,he&&he[Ve],Ee&&Ee[Ve],Ie&&Ie[Ve])})}else Le[1](Yt,ie,he,Ee,Ie)}at=X,V++}),F.get("children").forEach(function(G){G.get("adjustTimestamp")!=C&&(G.attr({opacity:0}),F.set(G.get("id"),null),setTimeout(function(){return G.remove()},0))})}},r.prototype.fadeInPercentages=function(t,e){var n=this,a=this.options,o=this._findPercentageContainer(),s=function(l){var u={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity};n._eachShape(function(h,c){var v=n._findPercentageMembersInContainerByIndex(o,c),g={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity},C=function(G){if(G&&G.get("type")=="text"){var V=G.getBBox(),X=V.minX,at=V.maxX,st=V.minY,xt=V.maxY;X<g.minX&&(g.minX=X),at>g.maxX&&(g.maxX=at),st<g.minY&&(g.minY=st),xt>g.maxY&&(g.maxY=xt)}};if((0,f.each)(v,function(G){return(0,f.isArray)(G)?C(G[l]):C(G)}),g.minX>u.maxX||g.maxX<u.minX||g.minY>u.maxY||g.maxY<u.minY){var F=function(G){if(G){var V={opacity:1};t?G.animate(V,t):G.attr(V)}};(0,f.each)(v,function(G){return(0,f.isArray)(G)?F(G[l]):F(G)}),(0,f.assign)(u,g)}})};a.compareField?[0,1].forEach(s):s(),t&&e&&setTimeout(e,t)},r.prototype.fadeOutPercentages=function(t,e){var n=this,a=this._findPercentageContainer();this._eachShape(function(o,s){var l=n._findPercentageMembersInContainerByIndex(a,s),u=function(h){if(h){var c={opacity:0};t?h.animate(c,t):h.attr(c)}};(0,f.each)(l,function(h){return(0,f.isArray)(h)?h.forEach(u):u(h)})}),t&&e&&setTimeout(e,t)},r.prototype.refreshPercentages=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetPercentages=!1,this.fadeOutPercentages(o,function(){e._shouldResetPercentages=!0,e.resetPercentages(),e.fadeInPercentages(s,t)})}},r.prototype._findPercentageContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("percentageContainer");return!n&&t&&(n=e.addGroup(),e.set("percentageContainer",n)),n},r.prototype._findPercentageMembersInContainerByIndex=function(t,e,n){n===void 0&&(n=!1);var a=this.options,o=a.percentage||{},s=o.visible,l=o.line,u=l===void 0?{}:l,h=o.text,c=h===void 0?{}:h,v=o.value,g=v===void 0?{}:v,C={line:void 0,text:void 0,value:void 0};if(s===!1||!t)return C;if(u.visible!==!1){var F=function(at){var st="_percentage-line-"+e+"-"+at,xt=t.get(st);return!xt&&n&&(xt=t.addShape({id:st,type:"line",attrs:{}}),t.set(st,xt)),xt},G=a.compareField?[0,1].map(F):F(0);C.line=G}if(c.visible!==!1){var F=function(st){var xt="_percentage-text-"+e+"-"+st,kt=t.get(xt);return!kt&&n&&(kt=t.addShape({id:xt,type:"text",attrs:{}}),t.set(xt,kt)),kt},V=a.compareField?[0,1].map(F):F(0);C.text=V}if(g.visible!==!1){var F=function(st){var xt="_percentage-value-"+e+"-"+st,kt=t.get(xt);return!kt&&n&&(kt=t.addShape({id:xt,type:"text",attrs:{}}),t.set(xt,kt)),kt},X=a.compareField?[0,1].map(F):F(0);C.value=X}return C},r.prototype._calcRefreshFadeDurations=function(){var t=this.options,e=(0,f.get)(t,"animation.update.duration"),n=(0,f.get)(t,"animation.enter.duration"),a=Math.min(n,e)*.6,o=Math.max(n,e)*1.2;return{fadeInDuration:a,fadeOutDuration:o}},r.prototype.resetLabels=function(){var t=this;if(!!this._shouldResetLabels){var e=this.options,n=e.xField,a=e.yField,o=Date.now(),s=this._getGeometry().labelsContainer,l=e.label||{},u=(0,f.deepMix)((0,Nt.__assign)({},this.theme.label),e.label.style,{opacity:0,textAlign:"center",textBaseline:"middle"}),h;this._eachShape(function(c,v,g,C){var F,G=c.get("element");v==0&&(h=g);var V=c.getBBox(),X=V.minX,at=V.maxX,st=V.minY,xt=V.maxY,kt=g[n],Gt=g[a];l.adjustColor&&(u.fill=t._getAdjustedTextFillByShape(c));var Wt=g.__compare__,Yt,ie=(F={},F[ks]=g,F.element=G,F.elementIndex=C,F.mappingDatum=[].concat(G.getModel().mappingData)[0],F.mappingDatumIndex=0,F);l.formatter?Yt=l.formatter(kt,ie,v,Gt,h[a]):Wt?Yt=[0,1].map(function(){return""+Gt}).join(e.transpose?`

`:"    "):Yt=kt+" "+Gt;var de=t._findLabelInContainerByIndex(s,v,!0),he=Wt?Wt.yValues[0]/(Wt.yValues[0]+Wt.yValues[1]):.5;de&&(de.attr((0,Nt.__assign)((0,Nt.__assign)({},u),{x:lu(X,at,e.transpose?.5:he),y:lu(st,xt,e.transpose?he:.5),text:Yt})),de.set("adjustTimestamp",o))}),s.get("children").forEach(function(c){c.get("adjustTimestamp")!=o&&(c.attr({opacity:0}),s.set(c.get("id"),null),setTimeout(function(){return c.remove()}))})}},r.prototype.fadeInLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var u=a._findLabelInContainerByIndex(o,l);if(u){var h=s.getBBox(),c=u.getBBox();if(c.minX>=h.minX&&c.maxX<=h.maxX&&c.minY>=h.minY&&c.maxY<=h.maxY){var v={opacity:1};e?u.animate(v,e):u.attr(v)}}}}),e&&n&&setTimeout(n,e)},r.prototype.fadeOutLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var u=a._findLabelInContainerByIndex(o,l);if(u){var h={opacity:0};e?u.animate(h,e):u.attr(h)}}}),e&&n&&setTimeout(n,e)},r.prototype.refreshLabels=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetLabels=!1,this.fadeOutLabels(null,o,function(){e._shouldResetLabels=!0,e.resetLabels(),e.fadeInLabels(null,s,t)})}},r.prototype._findLabelInContainerByIndex=function(t,e,n){var a;n===void 0&&(n=!1);var o=this.options,s;if(((a=o.label)===null||a===void 0?void 0:a.visible)===!1)return s;var l="_label-"+e;return s=t.get(l),!s&&n&&(s=t.addShape({id:l,type:"text",attrs:{}}),t.set(l,s)),s},r.prototype.resetCompareTexts=function(){if(!!this._shouldResetCompareTexts){var t=this.options,e,n;if(this._eachShape(function(g,C,F){C==0&&(e=g.get("parent").getBBox(),n=(0,f.get)(F,"__compare__"))}),e&&n&&(0,f.get)(t,"compareText.visible")!==!1){var a=this._findCompareTextContainer(!0),o=n.yValuesMax,s=n.compareValues,l=e.minX,u=e.maxX,h=e.minY,c=e.maxY,v=a.get("children");[0,1].forEach(function(g){var C=v[g];C||(C=a.addShape({type:"text"})),C.attr((0,f.deepMix)({},(0,f.get)(t,"compareText.style"),{text:t.transpose?s[g]:g?"  "+s[g]:s[g]+"  ",x:t.transpose?l+(0,f.get)(t,"compareText.offsetX"):lu(l,u,o[0]/(o[0]+o[1])),y:t.transpose?lu(h,c,o[0]/(o[0]+o[1]))+(g?8:-8):h+(0,f.get)(t,"compareText.offsetY"),opacity:0,textAlign:t.transpose?"right":g?"left":"right",textBaseline:t.transpose&&g?"top":"bottom"}))})}}},r.prototype.fadeInCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:1};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.fadeOutCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:0};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.refreshCompareTexts=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeInDuration,s=a.fadeOutDuration;this._shouldResetCompareTexts=!1,this.fadeOutCompareTexts(s,function(){e._shouldResetCompareTexts=!0,e.resetCompareTexts(),e.fadeInCompareTexts(o,t)})}},r.prototype._findCompareTextContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("compareTextContainer");return!n&&t&&(n=e.addGroup(),e.set("compareTextContainer",n)),n},r.prototype._eachShape=function(t){var e,n=this._findCheckedData(this.getData()),a=n.length,o=0,s;(e=this._getGeometry())===null||e===void 0||e.elements.forEach(function(l,u){var h=l.shape,c=n[o];o<a&&t(h,o,c,s,u),s=c,o++})},r.prototype._getGeometry=function(){return this.view.geometries[0]},r.prototype._getAdjustedTextFillByShape=function(t){var e=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,a=lo(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=tu(s,o);return l},r.prototype._genCustomFieldForDynamicHeight=function(t){var e=this.options,n=t.reduce(function(o,s){return o+s[e.yField]},0),a=1;t.forEach(function(o,s){var l=o[e.yField],u=l/n,h=a-u;o.__custom__={datumIndex:s,dataLength:t.length,ratioUpper:a,ratioLower:h,reverse:e.transpose},a=h})},r.prototype._findCheckedDataByMouseDownLegendItem=function(t){var e=t.get("parent").get("children").map(function(a){return!a.get("unchecked")}),n=this.getData().filter(function(a,o){return e[o]});return n},r.prototype._findCheckedDataInNewData=function(t){var e=this.options,n=this.view.getController("legend").container,a=n.findAll(function(s){return s.get("name")=="legend-item"}).filter(function(s){return s.get("unchecked")}).map(function(s){return s.get("id").replace("-legend-item-","")}),o=t.filter(function(s){return!(0,f.contains)(a,s[e.xField])});return o},r.prototype._findCheckedData=function(t){var e,n=this.options;if((e=n.legend)===null||e===void 0?void 0:e.visible){var a=this.view.getController("legend").container,o=a.findAll(function(l){return l.get("name")=="legend-item"}).filter(function(l){return!l.get("unchecked")}).map(function(l){return l.get("id").replace("-legend-item-","")}),s=t.filter(function(l){return(0,f.contains)(o,l[n.xField])});return s}else return this.processData(n.data)},r.prototype._reduceDataForCompare=function(t){var e=this.options,n,a=[-Infinity,-Infinity];return t=t.reduce(function(o,s){var l,u=s[e.xField],h=s[e.yField],c=s[e.compareField];n||(n=c);var v=o.find(function(C){return C[e.xField]==u});v||(v=(l={},l[e.xField]=u,l[e.yField]=0,l.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:e.transpose},l),o.push(v));var g=c==n?0:1;return v.__compare__.yValues[g]=h,a[g]<h&&(a[g]=h),v.__compare__.compareValues[g]=c,o},[]),t.forEach(function(o,s){o[e.yField]=(0,f.get)(o,"__compare__.yValues",[]).reduce(function(l,u){return l+=u},0),(0,f.set)(o,"__compare__.yValuesMax",a),(0,f.set)(o,"__compare__.yValuesNext",(0,f.get)(t,s+1+".__compare__.yValues"))}),t},r.prototype._updateDataForCompare=function(t){var e=[-Infinity,-Infinity];t.forEach(function(n){var a=(0,f.get)(n,"__compare__.yValues");[0,1].forEach(function(o){a[o]>e[o]&&(e[o]=a[o])})}),t.forEach(function(n,a){(0,f.set)(n,"__compare__.yValuesMax",e),(0,f.set)(n,"__compare__.yValuesNext",(0,f.get)(t,a+1+".__compare__.yValues"))})},r}(Hn),HO=Sy;en("funnel",Sy);var WO=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="funnel",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=HO.getDefaultOptions,r}(jr),jO=WO,Cy=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"stack"}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.stackField]))},r}(Nh),UO=Cy;en("stackedRose",Cy);var ZO=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedRose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=UO.getDefaultOptions,r}(jr),My=ZO,Ey=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"dodge",marginRatio:1}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.groupField]))},r}(Nh),KO=Ey;en("groupedRose",Ey);var $O=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedRose",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=KO.getDefaultOptions,r}(jr),Ay=$O,QO={area:"area",line:"line",point:"point"},JO=Mi(QO);(0,f.assign)(sn,JO);var qO=function(i){var r=i.opacity||1;return{opacity:r}},tk=function(i){var r=i.opacity||1;return{opacity:r*.5}},ek=function(i){var r=i.opacity||1;return{opacity:r}},rk=function(i){var r=i.opacity||1;return{opacity:r*.5}},nk=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},ik=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},ak=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},ok=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}};ra("radar",{areaStyle:{normal:{},active:qO,disable:tk,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:ek,disable:rk,selected:nk},pointStyle:{normal:{},active:ik,disable:ok,selected:ak}});var sk={area:"area",line:"line",point:"point"},Ty=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="radar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},r.prototype.init=function(){var t=this.options;t.xField=t.angleField,t.yField=t.radiusField,i.prototype.init.call(this)},r.prototype.getAngleScale=function(){var t=this.options.angleField;return this.view.getScaleByField(t)},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options.seriesField;return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return sk[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.angleField]={},(0,f.has)(t,"angleAxis")&&yi(e[t.angleField],t.angleAxis),e[t.radiusField]={},(0,f.has)(t,"radiusAxis")&&yi(e[t.radiusField],t.radiusAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius}};this.setConfig("coordinate",e)},r.prototype.axis=function(){var t=this.options,e=ki("axis",{plot:this,dim:"angle"}),n=ki("axis",{plot:this,dim:"radius"}),a={};a[t.angleField]=e,a[t.radiusField]=n,this.setConfig("axes",a)},r.prototype.addGeometry=function(){var t=this.options;if(t.area.visible){var e=qn("area","main",{plot:this});this.setConfig("geometry",e),this.area=e}if(t.line&&t.line.visible){var n=qn("line","main",{plot:this});this.setConfig("geometry",n),this.line=n}if(t.point&&t.point.visible){var a=qn("point","guide",{plot:this});this.setConfig("geometry",a),this.point=a}t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.line?this.line:this.area;t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.angleField,this.options.radiusField]),this.options.seriesField&&t.tooltip.fields.push(this.options.seriesField))},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),this.area&&(this.area.label=!1);return}var e=ki("label",(0,Nt.__assign)({fields:[t.radiusField],cfg:{type:"polar",autoRotate:!1},plot:this},t.label));this.point?this.point.label=e:this.line?this.line.label=e:this.area&&(this.area.label=e)},r.prototype.annotation=function(){},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,M)},r}(Hn),lk=Ty;en("radar",Ty);var uk=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="radar",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getColorScale=function(){var t=this.layers[0];return t.getColorScale()},r.getDefaultOptions=lk.getDefaultOptions,r}(jr),Py=uk,fk=d(89810),hk=d(79189),ck=function(){function i(r){var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}return i.prototype.render=function(){if((0,f.isElement)(this.container)){this.wrapperNode=(0,St.Z)('<div class="g2plot-htmlStatistic"></div>'),this.container.appendChild(this.wrapperNode),(0,Ot.Z)(this.wrapperNode,{position:"absolute",pointerEvents:"none"});var r=this.html;this.wrapperNode.appendChild(r),this.setDomPosition(this.x,this.y)}},i.prototype.updateHtml=function(r){(0,f.isType)(r,"HTMLDivElement")?(this.wrapperNode.innerHTML="",this.wrapperNode.appendChild(r)):this.wrapperNode.innerHTML=r,this.setDomPosition(this.x,this.y)},i.prototype.updatePosition=function(r,t){this.x=r,this.y=t,this.setDomPosition(r,t)},i.prototype.destroy=function(){this.container.removeChild(this.wrapperNode)},i.prototype.getDefaultOptions=function(){return{x:0,y:0,width:0,height:0,html:"",container:null,alignX:"middle",alignY:"middle"}},i.prototype.setDomPosition=function(r,t){var e=r,n=t,a=(0,fk.Z)(this.wrapperNode),o=(0,hk.Z)(this.wrapperNode);this.options.alignX==="middle"&&(e=r-a/2),this.options.alignY==="middle"&&(n=t-o/2),(0,Ot.Z)(this.wrapperNode,{top:Math.round(n)+"px",left:Math.round(e)+"px",transform:a>0?"none":"translate(-50%, -50%)"})},i}(),_y=ck,vk="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",dk="font-size:32px;font-weight:bold;color:#4D4D4D";function pk(i,r){var t='<span class="liquid-guide-value" style='+dk+">"+i+"</span>";return'<div class="liquid-guide-html '+r+'" style='+vk+">"+t+"</div>"}var gk=function(i){(0,Nt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.getTotalHtmlString=function(){var t=document.createElement("div"),e=this.plot.options,n=e.value,a=n===void 0?0:n,o=e.statistic;if(o&&!o.visible)return t;var s=this.options.htmlContent(a);return(0,f.isType)(s,"HTMLDivElement")?t.appendChild(s):t.innerHTML=pk(s,this.statisticClass),t},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r}(_y),yk=gk,mk={liquid:"intervl",statistic:"annotation-text"},xk=Mi(mk);(0,f.assign)(sn,xk);var Ly=Ni(),Iy={splitPoints:function(i){var r=[],t=i.x,e=i.y;return e=(0,f.isArray)(e)?e:[e],(0,f.each)(e,function(n,a){var o={x:(0,f.isArray)(t)?t[a]:t,y:n};r.push(o)}),r},addFillAttrs:function(i,r){r.color&&!i.fill&&(i.fill=r.color),(0,f.isNumber)(r.opacity)&&(i.opacity=i.fillOpacity=r.opacity)},addStrokeAttrs:function(i,r){r.color&&!i.stroke&&(i.stroke=r.color),(0,f.isNumber)(r.opacity)&&(i.opacity=i.strokeOpacity=r.opacity)}},Gh={lerp:function(i,r,t){return(1-t)*i+t*r}},bk=function(i){var r={lineWidth:0,fill:Ly.color,fillOpacity:.85},t=(0,f.mix)({},r,i.style);return Iy.addFillAttrs(t,i),i.color&&!t.stroke&&(t.stroke=t.stroke||i.color),t},wk=function(i){var r={fill:"#fff",stroke:Ly.color,fillOpacity:0,lineWidth:2},t=(0,f.mix)({},r,i.style);return Iy.addStrokeAttrs(t,i),t};function Sk(i,r,t,e){return r===0?[[i+1/2*t/Math.PI/2,e/2],[i+1/2*t/Math.PI,e],[i+t/4,e]]:r===1?[[i+1/2*t/Math.PI/2*(Math.PI-2),e],[i+1/2*t/Math.PI/2*(Math.PI-1),e/2],[i+t/4,0]]:r===2?[[i+1/2*t/Math.PI/2,-e/2],[i+1/2*t/Math.PI,-e],[i+t/4,-e]]:[[i+1/2*t/Math.PI/2*(Math.PI-2),-e],[i+1/2*t/Math.PI/2*(Math.PI-1),-e/2],[i+t/4,0]]}function Ck(i,r,t,e,n,a,o){for(var s=Math.ceil(2*i/t*4)*2,l=[],u=e;u<-Math.PI*2;)u+=Math.PI*2;for(;u>0;)u-=Math.PI*2;u=u/Math.PI/2*t;var h=a-i+u-i*2;l.push(["M",h,r]);for(var c=0,v=0;v<s;++v){var g=v%4,C=Sk(v*t/4,g,t,n);l.push(["C",C[0][0]+h,-C[0][1]+r,C[1][0]+h,-C[1][1]+r,C[2][0]+h,-C[2][1]+r]),v===s-1&&(c=C[2][0])}return l.push(["L",c+h,o+i]),l.push(["L",h,o+i]),l.push(["L",h,r]),l}function Mk(i,r,t,e,n,a,o,s){for(var l=o.getBBox(),u=l.maxX-l.minX,h=l.maxY-l.minY,c=5e3,v=0;v<e;v++){var g=e<=1?0:v/(e-1),C=a.addShape("path",{attrs:{path:Ck(s,l.minY+h*t,u/4,0,u/Gh.lerp(56,64,g),i,r),fill:n,opacity:Gh.lerp(.6,.3,g)}}),F=es([["t",u/2,0]]);C.animate({matrix:F},{duration:Gh.lerp(c,.7*c,g),repeat:!0})}}vn("interval","liquid-fill-gauge",{draw:function(i,r){var t=.5,e=Infinity;(0,f.each)(i.points,function(v){v.x<e&&(e=v.x)});var n=.5,a=this.parsePoint({x:n,y:t}),o=this.parsePoint({x:e,y:.5}),s=a.x-o.x,l=Math.min(s,o.y),u=bk(i).fill,h=r.addGroup({name:"waves",attrs:{x:a.x,y:a.y}});h.setClip({type:"circle",attrs:{x:a.x,y:a.y,r:l}});var c=h.get("clipShape");return Mk(a.x,a.y,1-i.points[1].y,3,u,h,c,l*4),r.addShape("circle",{name:"wrap",attrs:(0,f.mix)(wk(i),{x:a.x,y:a.y,r:l,fill:"transparent"})}),h[0]}});function Oy(i,r){var t=i.get("parent"),e=t.getBBox(),n=Math.min(Math.max(0,(0,f.get)(r,"factor",.5)),1),a=(0,f.get)(r,"delay",0),o=(0,f.get)(r,"duration",800),s=r.callback,l=(e.minX+e.maxX)/2,u=e.maxY,h=t.find(function(F){return F.get("name")=="wrap"}),c=h.attr("opacity");h.attr("opacity",0),h.animate({opacity:c},o*n,"easeLinear",null,a);var v=t.find(function(F){return F.get("name")=="waves"}),g=(0,f.clone)(v.attr("matrix"))||[1,0,0,0,1,0,0,0,1],C=es(g,[["t",-l,-u],["s",1,0],["t",l,u]]);v.setMatrix(C),v.animate({matrix:g},o,r.easing,function(){return s&&s(t,h,v)},a)}Oy.animationName="liquidMoveIn",li("liquidMoveIn",Oy);var Ek={column:"interval"},Ak={interval:"liquid"},ky=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="liquid",t.shouldFadeInAnnotation=!0,t}return r.getDefaultOptions=function(){var t={padding:[0,0,0,0],animation:{factor:.4,easing:"easeExpOut",duration:800},liquidStyle:{lineWidth:2},color:"#6a99f9",interactions:[],statistic:{visible:!0}};return(0,f.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){var t=this.options,e=t.min,n=t.max,a=t.value;if(!(0,f.isNumber)(e))throw new Error("The min value of Liquid is required, and the type of min must be Number.");if(!(0,f.isNumber)(n))throw new Error("The max value of Liquid is required, and the type of max must be Number.");if(!(0,f.isNumber)(a))throw new Error("The value of Liquid is required, and the type of value must be Number.")},r.prototype.init=function(){this.options.data=[{}],i.prototype.init.call(this)},r.prototype.coord=function(){},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a={value:{}};yi(a.value,{min:Math.min(e,n),max:Math.max(e,n)}),this.setConfig("scales",a),i.prototype.scale.call(this)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustLiquid=function(t){var e=this.options;t.shape={values:["liquid-fill-gauge"]},t.tooltip=!1;var n=e.liquidStyle;(0,f.isFunction)(n)&&(n=n()),n&&(t.style=n)},r.prototype.addGeometry=function(){var t=qn("interval","main",{positionFields:[1,"value"],plot:this});this.adjustLiquid(t);var e=this.getViewRange(),n=Math.min(e.width,e.height)*.8,a=this.options.liquidSize?this.options.liquidSize:n;t.size={values:[a]},this.liquid=t,this.setConfig("geometry",t)},r.prototype.animation=function(){var t=this.options;if(t.animation===!1)this.liquid.animate=!1;else{var e=(0,f.get)(t,"animation.factor"),n=(0,f.get)(t,"animation.easing"),a=(0,f.get)(t,"animation.duration");this.liquid.animate={appear:{animation:"liquidMoveIn",factor:e,easing:n,duration:a}}}},r.prototype.geometryParser=function(t,e){return t==="g2"?Ek[e]:Ak[e]},r.prototype.annotation=function(){var t=[],e=this.extractStatistic();t.push(e),this.setConfig("annotations",t)},r.prototype.useHtmlContent=function(){var t=this.options,e=t.statistic||{};return(0,f.isFunction)(e.htmlContent)},r.prototype.extractStatistic=function(){if(!this.useHtmlContent()){var t=this.options,e=t.statistic||{},n;(0,f.isFunction)(e.formatter)?n=e.formatter(t.value):n=""+t.value;var a,o;if(n){var s=Math.min(this.width,this.height);a=s/n.length*.5,o=Math.max(1,Math.ceil(.025*a))}var l;if(e.visible!==!1){var u=(0,f.deepMix)({style:{fontSize:a,shadowBlur:o}},{top:!0,content:n,type:"text",position:["50%","50%"],style:{opacity:l,fill:"transparent",shadowColor:"transparent",textAlign:"center"}},e);return delete u.visible,delete u.formatter,delete u.adjustColor,u}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,k)},r.prototype.afterRender=function(){var t;((t=this.options.statistic)===null||t===void 0?void 0:t.visible)&&!this.useHtmlContent()&&this.fadeInAnnotation();var e=this.options,n=e.padding?e.padding:this.config.theme.padding;if(e.defaultState&&n!=="auto"&&this.stateController.defaultStates(e.defaultState),n==="auto"&&this.paddingController.processAutoPadding(),this.useHtmlContent()){var a=this.canvas.get("container");if(this.statistic&&a.removeChild(this.statistic.wrapperNode),this.options.statistic&&this.options.statistic.visible){var o=this.canvas.get("container");(0,Ot.Z)(o,{position:"relative"}),this.statistic=new yk((0,Nt.__assign)({container:o,view:this.view,plot:this},this.options.statistic)),this.statistic.render()}i.prototype.afterRender.call(this)}},r.prototype.processData=function(){var t=this.options;return[{_:"_",value:t.value}]},r.prototype.changeValue=function(t){var e=this.options;e.value=t,this.changeData([])},r.prototype.fadeInAnnotation=function(){var t=this,e=this.options,n=this.view.foregroundGroup.findAll(function(s){return s.get("name")==="annotation-text"})[0],a=e.animation||{},o=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?n.animate(o,a.duration*Math.min(1,1.5*a.factor),null,function(){t.shouldFadeInAnnotation=!1}):(0,f.forIn)(o,function(s,l){return n.attr(l,s)})},r.prototype.calcAnnotationColorStyle=function(){var t=this.options,e={fill:"#f6f6f6",shadowColor:"black"},n={fill:"#303030",shadowColor:"white"};if((0,f.get)(t,"statistic.adjustColor")===!1)return{fill:(0,f.get)(t,"statistic.style.fill",n.fill),shadowColor:(0,f.get)(t,"statistic.style.shadowColor",n.shadowColor)};var a=t.min,o=t.max,s=t.value;a=Math.min(a,o),o=Math.max(a,o);var l;if(a==o?l=1:l=(s-a)/(o-a),l>.55){var u=this.options.color,h=.8,c=lo(u),v=Math.round(c[0]*.299+c[1]*.587+c[2]*.114)/h;return v<156?e:n}return n},r.prototype.updateConfig=function(t){i.prototype.updateConfig.call(this,t),this.shouldFadeInAnnotation=!0},r.prototype.getViewRange=function(){var t=i.prototype.getViewRange.call(this),e=this.options.liquidStyle,n=e.lineWidth?e.lineWidth:2,a=t.minX,o=t.minY,s=t.width,l=t.height,u=Math.min(s,l)-n*2,h=a+s/2,c=o+l/2,v=h-u/2,g=c-u/2;return new Zr(v,g,u,u)},r}(Hn),zh=ky;en("liquid",ky);var Tk=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="liquid",i.prototype.createLayers.call(this,e)},r.prototype.changeValue=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof zh&&a.changeValue(t)});else{var n=this.layers[0];n instanceof zh&&n.changeValue(t)}},r.getDefaultOptions=zh.getDefaultOptions,r}(jr),By=Tk,Dy=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="histogram",t}return r.prototype.init=function(){this.options.xField="range",this.options.yField="count",i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=(0,f.clone)(t);(0,f.sortBy)(l,a);var u=(0,f.valuesOfKey)(l,a),h=(0,f.getRange)(u),c=h.max-h.min,v=o;if(!o&&s&&(v=c/s),!o&&!s){var g=Gd(u);v=c/g}var C={};(0,f.each)(l,function(G){var V=G[a],X=e.getBin(V,v),at=X[0]+"-"+X[1];(0,f.hasKey)(C,at)||(C[at]={name:at,range:X,count:0,data:[]}),C[at].data.push(G),C[at].count+=1});var F=[];return(0,f.each)(C,function(G){F.push(G)}),F},r.prototype.scale=function(){i.prototype.scale.call(this);var t=this.config.scales.range;t.nice=!1,t.type="linear"},r.prototype.getBin=function(t,e){var n=Math.floor(t/e);return[e*n,e*(n+1)]},r}(as),Pk=Dy;en("histogram",Dy);var _k=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="histogram",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Pk.getDefaultOptions,r}(jr),Fy=_k,Lk={epanechnikov:function(i){return Math.abs(i)<=1?.75*(1-i*i):0},gaussian:function(i){return 1/Math.sqrt(Math.PI*2)*Math.exp(-.5*Math.pow(i,2))},uniform:function(i){return Math.abs(i)<=1?.5:0},triangle:function(i){return Math.abs(i)<=1?1-Math.abs(i):0},quartic:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*r*r:0},triweight:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*Math.pow(r,3):0},cosinus:function(i){var r=Math.PI/4*Math.cos(.5*Math.PI*i);return Math.abs(i)<=1?r:0}},Ry=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="density",t}return r.prototype.init=function(){var t=this.options.xAxis?(0,f.clone)(this.options.xAxis):{};this.options.xField="value",this.options.yField="density",this.options.xAxis=(0,f.deepMix)({},t,{type:"linear"}),this.options.smooth=!0,i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=n.kernel,u=l||"epanechnikov",h=Lk[u],c=(0,f.clone)(t);(0,f.sortBy)(c,a);var v=(0,f.valuesOfKey)(c,a),g=(0,f.getRange)(v),C=g.max-g.min,F=s,G=o;!s&&o&&(F=Math.floor(C/o)),!o&&s&&(G=C/s),!s&&!o&&(F=Gd(v),G=C/s);var V=(0,Yr.getScale)("linear"),X=new V({min:g.min,max:g.max,tickCount:F,nice:!1}),at=X.getTicks(),st=[];return(0,f.each)(at,function(xt){var kt=e.kernelDensityEstimator(G,h,xt,v);st.push({value:xt.text,density:kt})}),st},r.prototype.kernelDensityEstimator=function(t,e,n,a){var o=0;return(0,f.each)(a,function(s){var l=(n.tickValue-s)/t;o+=e(l)}),a.length===0?0:o/a.length},r}(Th),Ik=Ry;en("density",Ry);var LG=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="density",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Ik.getDefaultOptions,r}(jr),IG=null,Ok={ring:"interval"},kk=Mi(Ok);(0,f.assign)(sn,kk);var Bk="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",Dk="font-weight:300;white-space: nowrap;text-overflow: ellipsis;",Fk="font-size:32px;font-weight:bold;color:#4D4D4D";function Rk(i,r,t,e){var n=Bk+"width:"+e+"px;",a=i?'<span class="ring-guide-name" style='+Dk+">"+i+"</span><br/>":"",o='<span class="ring-guide-value" style='+Fk+">"+r+"</span>";return'<div class="ring-guide-html '+t+'" style='+n+">"+a+o+"</div>"}var Nk=function(i){(0,Nt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.triggerOn=function(){var t=this,e=this.options.triggerOn;this.view.on("interval:"+e,(0,f.debounce)(function(a){var o=t.parseStatisticData("item",a.data.data,a.data.color),s=t.getStatisticHtmlString(o);t.updateHtml(s)},150));var n=this.options.triggerOff?this.options.triggerOff:"mouseleave";this.view.on("interval:"+n,(0,f.debounce)(function(){var a=t.getTotalHtmlString();t.updateHtml(a)},150))},r.prototype.getTotalHtmlString=function(){var t;if(this.options.content)t=this.options.content;else{var e=this.getTotalValue();t=this.parseStatisticData("total",e)}var n;this.options.htmlContent?n=this.options.htmlContent(t,this.getStatisticSize()):n=this.getStatisticTemplate(t);var a=document.createElement("div");return(0,f.isType)(n,"HTMLDivElement")?a.appendChild(n):a.innerHTML=n,a},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r.prototype.getTotalValue=function(){var t,e=0,n=this.plot.options,a=n.angleField,o=n.colorField,s=this.options.totalLabel;(0,f.each)(this.plot.options.data,function(u){typeof u[a]=="number"&&(e+=u[a])});var l=(t={},t[a]=e,t[o]=s,t);return l},r.prototype.parseStatisticData=function(t,e,n){var a=this.plot,o=a.options,s=o.angleField,l=o.colorField,u=a.getScaleByField(s),h=a.getScaleByField(l),c={name:h?h.getText(e[l]):null,value:u.getText(e[s])};return t==="item"&&(c.itemData=e,c.color=n),c},r.prototype.getStatisticTemplate=function(t){var e=this.getStatisticSize(),n=Rk(t.name,t.value,this.statisticClass,e);return n},r.prototype.getStatisticSize=function(){var t=this.plot.view.coordinateBBox,e=this.plot.options,n=e.radius,a=e.innerRadius,o=Math.min(t.width,t.height),s=o*n*a;return s},r.prototype.getStatisticHtmlString=function(t){var e=this.options.htmlContent,n;return e?n=e(t,this.getStatisticSize()):n=this.getStatisticTemplate(t),n},r}(_y),Yk=Nk,Gk={ring:"interval"},zk={interval:"ring"},Ny=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="donut",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{radius:.8,innerRadius:.64,tooltip:{visible:!1},statistic:{visible:!0,totalLabel:"\u603B\u8BA1",triggerOn:"mouseenter",triggerOff:"mouseleave"}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),r.centralId++,this.statisticClass="statisticClassId"+r.centralId,this.adjustLabelDefaultOptions()},r.prototype.afterRender=function(){var t=this.canvas.get("container");if(this.statistic&&(t.removeChild(this.statistic.wrapperNode),this.statistic=null),this.options.statistic&&this.options.statistic.visible){var e=this.canvas.get("container");(0,Ot.Z)(e,{position:"relative"}),this.statistic=new Yk((0,Nt.__assign)({container:e,view:this.view,plot:this,statisticClass:this.statisticClass},this.options.statistic)),this.statistic.render(),this.options.statistic.triggerOn&&this.statistic.triggerOn()}i.prototype.afterRender.call(this)},r.prototype.destroy=function(){this.statistic&&this.statistic.destroy(),i.prototype.destroy.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?Gk[e]:zk[e]},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coordinate",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,R)},r.prototype.adjustLabelDefaultOptions=function(){var t=this.options.label;if(t&&t.type==="inner"){var e=t.style||{};e.textAlign||(e.textAlign="center"),t.style=e,t.offset||(t.offset=(this.options.innerRadius-1)/2*100+"%")}},r.centralId=0,r}(ly),Yy=Ny;en("donut",Ny);var Xk=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=Yy.getDefaultOptions,r}(jr),Gy=Xk;function Vk(i,r,t){var e=i.style,n=i.defaultStyle,a=i.color,o=(0,Nt.__assign)((0,Nt.__assign)({},n),e);return a&&(r&&(o.stroke=a),t&&(o.fill=a)),o}function Hk(i){var r=[],t=i[0];r.push(["M",t.x,t.y]);for(var e=1,n=i.length;e<n;e++)r.push(["L",i[e].x,i[e].y]);return r.push(["L",t.x,t.y]),r.push(["z"]),r}vn("interval","waterfall",{draw:function(i,r){var t=Vk(i,!1,!0),e=this.parsePath(Hk(i.points)),n=r.addShape("path",{attrs:(0,Nt.__assign)((0,Nt.__assign)({},t),{path:e}),name:"interval"}),a=(0,f.get)(i.style,"leaderLine");if(a&&a.visible){var o=a.style||{};if(i.nextPoints){var s=[["M",i.points[2].x,i.points[2].y],["L",i.nextPoints[0].x,i.nextPoints[0].y]];s=this.parsePath(s),r.addShape("path",{attrs:(0,Nt.__assign)({path:s,stroke:"#d3d3d3",lineDash:[4,2],lineWidth:1},o),name:"leader-line"})}}return n}});var zy=2,Wk=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n,a,o=e.shape,s=o.getBBox(),l=e.getData(),u=l[ua],h=l[this.layer.options.yField],c=(0,f.isArray)(u)?u[1]:u,v=this.options.formatter,g=[].concat(e.getModel().mappingData),C=v?g[0]&&g[0]._origin[uu]:0,F=v?v(c,(n={},n[ks]=(a=g[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=g[0],n.mappingDatumIndex=0,n.element=e,n.elementIndex=C,n),C):c,G=(s.minY+s.maxY)/2,V="bottom";h<0?(G=s.maxY+zy,V="top"):G=s.minY-zy,t.attr("y",G),t.attr("text",F),t.attr("textBaseline",V)},r}(Lh),OG=null;ea("waterfall",Wk);function jk(){return{fill:"#fff",fontSize:12,lineHeight:12,stroke:"rgba(0, 0, 0, 0.45)"}}var Uk=function(){function i(r){this.textAttrs={},this.view=r.view,this.fields=r.fields,this.formatter=r.formatter,this.textAttrs=(0,f.mix)(jk(),r.style),this._init()}return i.prototype.draw=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,f.clone)(this.view.getData());this.container=this.view.foregroundGroup.addGroup();var e=this.view.geometries[0].elements.map(function(n){return n.shape});(0,f.each)(e,function(n,a){if(!!n.cfg.origin){var o=n.cfg.origin.data,s=n.getBBox(),l=o[ua],u=l;(0,f.isArray)(l)&&(u=l[1]-l[0]),u=u>0?"+"+u:u,o[Xh]&&(u=l[0]-l[1]);var h=u;if(r.formatter){var c=e[a].attr("fill");h=r.formatter(""+u,{_origin:t[a],color:c},a)}var v=r.container.addShape("text",{attrs:(0,Nt.__assign)({text:h,textBaseline:"middle",textAlign:"center",x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},r.textAttrs),name:"dill-label"});v.getBBox().height>s.height&&v.set("visible",!1)}}),this.view.getCanvas().draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype._init=function(){var r=this;this.view.on(gn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){r.clear()}),this.view.on(gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){r.draw()})},i}(),Zk=Uk,Kk={waterfall:"interval"},$k={interval:"waterfall"},ua="$$value$$",Xh="$$total$$",uu="$$index$$",Xy=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="watarfall",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!1,position:"bottom"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:"\u603B\u8BA1\u503C"},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustLegendOptions(e),this.adjustMeta(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options;t.diffLabel&&t.diffLabel.visible?this.diffLabel=new Zk({view:this.view,fields:[t.xField,t.yField,ua],formatter:t.diffLabel.formatter,style:t.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;this.view.on("tooltip:change",function(e){for(var n=e.items,a=0;a<n.length;a++){var o=n[a],s=(0,f.get)(o,"data",{});if(o.name=s[t.xField],o.value=s[t.yField],!o.value&&s[Xh]){var l=s[ua];o.value=l[0]-l[1]}e.items[a]=o}}),this.renderLabel()},r.prototype.renderLabel=function(){var t=Co(this.view,"interval");this.options.label&&this.options.label.visible&&this.doRenderLabel(t,(0,Nt.__assign)({type:"waterfall"},this.options.label))},r.prototype.geometryParser=function(t,e){return t==="g2"?Kk[e]:$k[e]},r.prototype.interaction=function(){this.setConfig("interactions",[{type:"tooltip"},{type:"active-region"}])},r.prototype.addGeometry=function(){var t=this.options,e={type:"interval",position:{fields:[t.xField,ua]},shape:{values:["waterfall"]}};e.style=this._parseStyle(),e.color=this._parseColor(),this.waterfall=e,this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.processData=function(t){var e,n=[],a=this.options.xField,o=this.options.yField;if((0,f.map)(t,function(u,h){var c,v=u[o];if(h>0){var g=n[h-1][ua];(0,f.isArray)(g)?v=[g[1],u[o]+g[1]]:v=[g,u[o]+g]}n.push((0,Nt.__assign)((0,Nt.__assign)({},u),(c={},c[ua]=v,c[uu]=h,c)))}),this.options.showTotal&&this.options.showTotal.visible){var s=(0,f.map)(t,function(u){return u[o]}),l=(0,f.reduce)(s,function(u,h){return u+h},0);n.push((e={},e[a]=this.options.showTotal.label,e[o]=null,e[ua]=[l,0],e[uu]=n.length,e[Xh]=!0,e))}return n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&yi(e[t.xField],t.xAxis),e[ua]={},(0,f.has)(t,"yAxis")&&yi(e[ua],t.yAxis),this.setConfig("scales",e)},r.prototype.axis=function(){var t=ki("axis",{plot:this,dim:"x"}),e=ki("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[ua]=e,this.setConfig("axes",n)},r.prototype.coord=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,N)},r.prototype.geometryTooltip=function(){this.waterfall.tooltip={};var t=this.options.tooltip;t.fields&&(this.waterfall.tooltip.fields=t.fields),t.formatter&&(this.waterfall.tooltip.callback=t.formatter,t.fields||(this.waterfall.tooltip.fields=[this.options.xField,ua]))},r.prototype._parseStyle=function(){var t=this.options.waterfallStyle,e=this.options.leaderLine,n={};return(0,f.isFunction)(t)?n.callback=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return Object.assign({},t.apply(void 0,a),{leaderLine:e})}:n.cfg=(0,Nt.__assign)((0,Nt.__assign)({},t),{leaderLine:e}),n},r.prototype._parseColor=function(){var t=this,e=this.options,n=this.options,a=n.xField,o=n.yField,s={fields:[a,o,ua,uu]};if((0,f.isFunction)(e.color))s.callback=e.color;else{var l="#f4664a",u="#30bf78",h="rgba(0, 0, 0, 0.25)";if((0,f.isString)(e.color))l=u=h=e.color;else if((0,f.isObject)(e.color)){var c=e.color,v=c.rising,g=c.falling,C=c.total;l=v,u=g,h=C}s.callback=function(F,G,V,X){return X===t.options.data.length?h||(V[0]>=0?l:u):((0,f.isArray)(V)?V[1]-V[0]:V)>=0?l:u}}return s},r.prototype.adjustLegendOptions=function(t){var e=t.legend;e&&(e.visible=!1)},r.prototype.adjustMeta=function(t){var e=t.meta;if(e){var n=e?e[t.yField]:{};n.alias=n.alias||t.yField,t.meta[ua]=n}},r}(Hn),Qk=Xy;en("waterfall",Xy);var Jk=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="waterfall",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Qk.getDefaultOptions,r}(jr),Vy=Jk,qk=function(){function i(r){this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=r,this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options,t=r.xBaseline,e=r.yBaseline,n=this.view.getCoordinate(),a=this.view.getScaleByField(this.options.plotOptions.xField),o=this.view.getScaleByField(this.options.plotOptions.yField),s;if(t>a.min&&t<a.max){var l=(t-a.min)/(a.max-a.min);s=[new Zr(n.start.x,n.end.y,n.getWidth()*l,n.getHeight()),new Zr(n.start.x+n.getWidth()*l,n.end.y,n.getWidth()*(1-l),n.getHeight())];var u={start:{x:n.start.x+n.getWidth()*l,y:n.end.y},end:{x:n.start.x+n.getWidth()*l,y:n.start.y}};this.lineData.push(u)}else s=[new Zr(n.start.x,n.end.y,n.getWidth(),n.getHeight())];if(e>o.min&&e<o.max){var l=(e-o.min)/(o.max-o.min),h={start:{x:n.start.x,y:n.start.y-n.getHeight()*l},end:{x:n.end.x,y:n.start.y-n.getHeight()*l}};this.lineData.push(h);var c={name:t<=a.min?"top-right":"top-left",bbox:new Zr(s[0].minX,s[0].minY,s[0].width,s[0].height*(1-l)),index:t<=a.min?2:0};this.regionData.push(c);var v={name:t<=a.min?"bottom-right":"bottom-left",bbox:new Zr(s[0].minX,s[0].minY+s[0].height*(1-l),s[0].width,s[0].height*l),index:t<=a.min?3:1};if(this.regionData.push(v),s.length>1){var g={name:"top-right",bbox:new Zr(s[1].minX,s[1].minY,s[1].width,s[1].height*(1-l)),index:2};this.regionData.push(g);var C={name:"bottom-right",bbox:new Zr(s[1].minX,s[1].minY+s[1].height*(1-l),s[1].width,s[1].height*l),index:3};this.regionData.push(C)}}else if(s.length===2)if(e<=o.min){var F={name:"top-left",bbox:s[0],index:0};this.regionData.push(F);var g={name:"top-right",bbox:s[1],index:2};this.regionData.push(g)}else{var G={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(G);var C={name:"bottom-right",bbox:s[1],index:3};this.regionData.push(C)}else if(t<=a.min)if(e<=o.min){var g={name:"top-right",bbox:s[0],index:2};this.regionData.push(g)}else{var C={name:"bottom-right",bbox:s[0],index:3};this.regionData.push(C)}else if(e<=o.min){var F={name:"top-left",bbox:s[0],index:0};this.regionData.push(F)}else{var G={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(G)}this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this;if(this.regionData.length>0){var t=this.getDefaultStyle(),e=this.getRegionStyle(this.regionData);(0,f.each)(this.regionData,function(a){var o=a.index,s=r.container.addGroup(),l=s.addShape("rect",{attrs:(0,Nt.__assign)({x:a.bbox.minX,y:a.bbox.minY,width:a.bbox.width,height:a.bbox.height},e[o]),name:"quadrant"});if(r.options.label&&r.options.label.text){var u=(0,f.deepMix)({},t.label,r.options.label),h=r.getLabelConfig(a,u);s.addShape("text",{attrs:(0,Nt.__assign)({},h),name:"quadrant-label"})}l.set("data",a),r.quadrantGroups.push(s)});var n=(0,f.deepMix)({},t.line,this.options.lineStyle);(0,f.each)(this.lineData,function(a){r.container.addShape("path",{attrs:(0,Nt.__assign)({path:[["M",a.start.x,a.start.y],["L",a.end.x,a.end.y]]},n),name:"quadrant-line"})}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.getDefaultStyle=function(){return{line:{stroke:"#9ba29a",lineWidth:1},regionStyle:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0},{fill:"#ffffff",opacity:0},{fill:"#000000",opacity:.05}],label:{position:"outter-inner",offset:10,style:{fontSize:14,fill:"#ccc"}}}},i.prototype.getRegionStyle=function(r){var t=this.getDefaultStyle(),e=t.regionStyle;if(this.options.regionStyle){var n=this.options.regionStyle;(0,f.isArray)(n)?e=e.map(function(a,o){return n.length>o&&n[o]?n[o]:a}):(0,f.isFunction)(n)&&(0,f.each)(r,function(a,o){e[o]=n(a)})}return e},i.prototype.getLabelConfig=function(r,t){var e=r.index,n=0,a=0,o={},s=t.text;(0,f.isFunction)(s)?s=s(r):(0,f.isArray)(s)&&(s=s[e]);var l=t.position,u=l.split("-"),h=r.name.split("-");return h[1]==="left"?(u[0]==="inner"&&(n=r.bbox.maxX-t.offset,o.textAlign="right"),u[0]==="outter"&&(n=r.bbox.minX+t.offset,o.textAlign="left")):h[1]==="right"&&(u[0]==="inner"&&(n=r.bbox.minX+t.offset,o.textAlign="left"),u[0]==="outter"&&(n=r.bbox.maxX-t.offset,o.textAlign="right")),h[0]==="top"?(u[1]==="inner"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom"),u[1]==="outter"&&(a=r.bbox.minY+t.offset,o.textBaseline="top")):h[0]==="bottom"&&(u[1]==="inner"&&(a=r.bbox.minY+t.offset,o.textBaseline="top"),u[1]==="outter"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom")),o=(0,f.deepMix)({},t.style,o),o.lineHeight=o.fontSize,(0,Nt.__assign)({x:n,y:a,text:s},o)},i}(),tB=qk,Xo=d(56645),eB={exp:Xo.regressionExp,linear:Xo.regressionLinear,loess:Xo.regressionLoess,log:Xo.regressionLog,poly:Xo.regressionPoly,pow:Xo.regressionPow,quad:Xo.regressionQuad};function rB(i,r){return Math.sqrt(i*(1-i)/r)*1.96}var nB=function(){function i(r){var t={type:"linear",style:{stroke:"#9ba29a",lineWidth:2,opacity:.5,lineJoin:"round",lineCap:"round"},showConfidence:!1,confidenceStyle:{fill:"#ccc",opacity:.1}};this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options.plotOptions,t=r.xField,e=r.yField,n=r.data,a=eB[this.options.type]().x(function(o){return o[t]}).y(function(o){return o[e]});this.data=this.processData(a(n)),this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this.view.getScaleByField(this.options.plotOptions.xField),t=this.view.getScaleByField(this.options.plotOptions.yField),e=this.view.getCoordinate(),n=this.data.trendlineData,a=(0,Yr.getScale)("linear"),o=this.adjustScale(r,n,"x"),s=new a({min:o.min,max:o.max}),l=this.adjustScale(t,n,"y"),u=new a({min:l.min,max:l.max});if(this.options.showConfidence){var h=this.getConfidencePath(s,u,e);this.container.addShape("path",{attrs:(0,Nt.__assign)({path:h},this.options.confidenceStyle),name:"confidence"})}var c=this.getTrendlinePoints(s,u,e),v=[[0,0],[1,1]],g=yh(c,!1,v);this.shape=this.container.addShape("path",{attrs:(0,Nt.__assign)({path:g},this.options.style),name:"trendline"})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.destroy()},i.prototype.processData=function(r){var t=[],e=[];return(0,f.each)(r,function(n){t.push({x:n[0],y:n[1]});var a=rB(r.rSquared,n[1]);e.push({x:n[0],y0:n[1]-a,y1:n[1]+a})}),{trendlineData:t,confidenceData:e}},i.prototype.getTrendlinePoints=function(r,t,e){var n=[];return(0,f.each)(this.data.trendlineData,function(a){var o=r.scale(a.x),s=t.scale(a.y),l=e.start.x+e.width*o,u=e.start.y-e.height*s;n.push({x:l,y:u})}),n},i.prototype.getConfidencePath=function(r,t,e){var n=[],a=[],o=[];(0,f.each)(this.data.confidenceData,function(c){var v=r.scale(c.x),g=t.scale(c.y0),C=t.scale(c.y1),F=e.start.x+e.width*v,G=e.start.y-e.height*g,V=e.start.y-e.height*C;n.push({x:F,y:G}),a.push({x:F,y:V})});for(var s=0;s<n.length;s++){var l=s===0?"M":"L",u=n[s];!isNaN(u.x)&&!isNaN(u.y)&&o.push([l,u.x,u.y])}for(var h=a.length-1;h>0;h--){var u=a[h];!isNaN(u.x)&&!isNaN(u.y)&&o.push(["L",u.x,u.y])}return o},i.prototype.adjustScale=function(r,t,e){var n=r.min,a=r.max,o=this.options.plotOptions,s=o.data,l=o.xField,u=o.yField,h=e==="x"?l:u,c=(0,f.minBy)(s,h)[h],v=(0,f.maxBy)(s,h)[h],g=(n-c)/(v-c),C=(a-v)/(v-c),F=(0,f.minBy)(t,e)[e],G=(0,f.maxBy)(t,e)[e];return{min:F+g*(G-F),max:G+C*(G-F)}},i}(),iB=nB,aB={point:"point",trendline:"trendline",confidence:"confidence",quadrant:"quadrant",quadrantLabel:"quadrant-label",quadrantLine:"quadrant-line"},oB=Mi(aB);(0,f.assign)(sn,oB);var sB=function(i){var r=i.stroke||"#000";return{stroke:r}},lB=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},uB=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};ra("scatter",{pointStyle:{normal:{},active:sB,selected:lB,inactive:uB}});var fB={scatter:"point"},hB={point:"point"},Hy=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="scatter",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{pointSize:4,pointStyle:{lineWidth:1,strokeOpacity:1,fillOpacity:.95,stroke:"#fff"},xAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},yAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,showTitle:!1,showMarkers:!1,showCrosshairs:!1},label:{visible:!1},shape:"circle"})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.quadrant&&this.quadrant.destroy(),this.trendline&&this.trendline.destroy(),this.options.quadrant&&this.options.quadrant.visible&&(this.quadrant=new tB((0,Nt.__assign)({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new iB((0,Nt.__assign)({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},r.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),i.prototype.destroy.call(this)},r.prototype.isValidLinearValue=function(t){return(0,f.isNil)(t)?!1:!Number.isNaN(Number(t))},r.prototype.processData=function(t){var e=this,n=this.options,a=n.xField,o=n.yField,s=(0,f.get)(this.options,["xAxis","type"],"linear"),l=(0,f.get)(this.options,["yAxis","type"],"linear");if(s&&l){var u=t.filter(function(h){return!(s==="linear"&&!e.isValidLinearValue(h[a])||l==="linear"&&!e.isValidLinearValue(h[o]))}).map(function(h){var c;return(0,Nt.__assign)((0,Nt.__assign)({},h),(c={},c[a]=s==="linear"?Number(h[a]):String(h[a]),c[o]=l==="linear"?Number(h[o]):String(h[o]),c))});return u}return t},r.prototype.geometryParser=function(t,e){return t==="g2"?fB[e]:hB[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&yi(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&yi(e[t.yField],t.yAxis);var n=(0,f.find)(t.interactions,function(o){return o.type==="timeline"});if(n&&(0,f.get)(n,"cfg.key")){var a=n.cfg.key;e[a]?e[a].key=!0:e[a]={key:!0}}this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=qn("point","circle",{plot:this});if(this.points=t,this.options.tooltip&&this.options.tooltip.visible){var e=this.options.tooltip,n=e.showTitle,a=e.titleField;this.extractTooltip(),this.setConfig("tooltip",(0,Nt.__assign)({showTitle:n,title:n?a:void 0},this.options.tooltip))}this.options.label&&this.label(),this.setConfig("geometry",t)},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.points&&(this.points.label=!1);return}var e=ki("label",(0,Nt.__assign)((0,Nt.__assign)({fields:t.label.field?[t.label.field]:[t.yField]},t.label),{plot:this}));this.points&&(this.points.label=e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.points.animate=!1)},r.prototype.parseEvents=function(t){i.prototype.parseEvents.call(this,t||W)},r.prototype.extractTooltip=function(){this.points.tooltip={};var t=this.options.tooltip;t.fields?this.points.tooltip.fields=t.fields:this.points.tooltip.fields=[this.options.xField,this.options.yField],t.formatter&&(this.points.tooltip.callback=t.formatter,this.options.colorField&&this.points.tooltip.fields.push(this.options.colorField))},r}(Hn),Wy=Hy;en("scatter",Hy);var cB=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="scatter",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Wy.getDefaultOptions,r}(jr),jy=cB,vB=d(78685);vn("point","bubble-point",{draw:function(i,r){var t=(0,vB.iV)(this,i,r,"circle",!1);if(!i.style.stroke){var e=t.attr("fill");t.attr("stroke",e)}return t},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}});var dB=function(i){var r=i.stroke||"#000",t=i.fillOpacity||i.opacity||.95;return{stroke:r,fillOpacity:t}},pB=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},gB=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};ra("bubble",{pointStyle:{normal:{},active:dB,selected:pB,inactive:gB}});var Uy=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bubble",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{pointSize:[2,32],pointStyle:{stroke:null,strokeOpacity:1,fillOpacity:.5},label:{position:"middle",style:{stroke:"#fff",lineWidth:2}},shape:"bubble-point"})},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.legend=function(){var t;i.prototype.legend.call(this),!(this.options.legend&&this.options.legend.visible===!1)&&this.setConfig("legends",(t={},t[this.options.sizeField]=!1,t))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,W)},r}(Wy),yB=Uy;en("bubble",Uy);var mB=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bubble",i.prototype.createLayers.call(this,e)},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=yB.getDefaultOptions,r}(jr),Zy=mB,xB={bullet:"interval",bulletTarget:"bullet-target"},bB=Mi(xB);(0,f.assign)(sn,bB);var wB=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.middleGroup.addGroup(),this.container.set("name","rectGroups"),this.container.setZIndex(-100);for(var r=this.getGeometry(),t=(0,f.map)(r==null?void 0:r.elements,function(o){return o.shape}),e=0;e<this.cfg.ranges.length;e+=1){var n=t[e].getBBox(),a=n.width/t[e].get("origin").data[this.cfg.yField];this.drawRect(n,this.cfg.ranges[e]||[0,1],a)}this.view.canvas.draw()}},i.prototype.drawRect=function(r,t,e){for(var n=this.cfg,a=n.rangeColors,o=r.minX,s=r.minY-r.height*(n.rangeSize-1)/2,l=1;l<t.length;l+=1){var u=(t[l]-t[l-1])*n.rangeMax*e;this.container.addShape("rect",{name:"bullet-rect",attrs:{width:u,height:r.height*n.rangeSize,x:o,y:s,fill:a[(l-1)%a.length],fillOpacity:.25}}).set("zIndex",-1),o+=u}if(n.axis&&n.axis.visible){var h=n.rangeMax/(n.axis.tickCount-1),c=new Zr(r.x,s,o,r.height*n.rangeSize);this.drawBulletTicks(c,h,e)}},i.prototype.drawBulletTicks=function(r,t,e){for(var n=this.cfg,a=n.axis.style,o=n.axis.tickCount,s=n.axis.position,l=(0,f.get)(a,"lineHeight",0)-a.fontSize/2,u=0;u<o;u+=1){var h=r.minX+t*u*e,c=""+t*u;if(n.axis.formatter&&(c=n.axis.formatter(c,u)),this.container.addShape("text",{name:"tick",attrs:(0,Nt.__assign)({x:h,y:s==="before"?r.minY-l:r.maxY+l,text:""+c},a)}),n.axis.tickLine&&n.axis.tickLine.visible){var v=n.axis.tickLine;u>0&&u!==o-1&&this.container.addShape("path",{attrs:(0,Nt.__assign)({path:[["M",h,r.minY],["L",h,r.maxY]]},v)}).set("zIndex",-1)}}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),SB=wB,CB=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.foregroundGroup.addGroup(),this.container.set("name","targetGroups");for(var r=(0,f.map)(this.getGeometry().elements,function(a){return a.shape}),t=0;t<this.cfg.targets.length;t+=1){var e=r[t].getBBox(),n=e.width/r[t].get("origin").data[this.cfg.yField];this.drawTarget(e,this.cfg.targets[t],n)}this.view.canvas.draw()}},i.prototype.drawTarget=function(r,t,e){var n=this,a=this.cfg,o=a.markerColors;t.forEach(function(s,l){var u=a.markerStyle;n.container.addShape("rect",{name:"bullet-target",attrs:(0,Nt.__assign)((0,Nt.__assign)({width:u.width,height:r.height*a.markerSize-u.width/2,x:r.minX+s*e,y:r.minY-r.height*(a.markerSize-1)/2},u),{fill:o[l%o.length]||u.fill})})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),MB=CB,EB=function(i){var r=i.opacity||1;return{opacity:r*.5,lineWidth:0}},AB=function(i){var r=i.opacity||1;return{opacity:r*.5}};ra("bullet",{columnStyle:{normal:{},active:EB,disable:AB,selected:{}}});var TB={bullet:"interval"},PB={interval:"bullet"},_B="$$stackField$$",LB="$$xField$$",IB="$$yField$$",Ky=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bullet",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{data:[],stackField:_B,xField:LB,yField:IB,rangeColors:["rgba(91, 143, 249, 0.45)"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:"#5B8FF9",lineWidth:0},axis:{visible:!1,position:"before",tickCount:6,formatter:function(t,e){return""+e},style:{fill:"rgba(0, 0, 0, 0.25)",textBaseline:"middle",textAlign:"center",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:"#FFF",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1,nice:!1},tooltip:{visible:!1,trigger:"item",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:"rgba(0, 0, 0, 0.45)",stroke:"#fff",lineWidth:1}}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.view.removeInteraction("legend-filter")},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={},(0,f.has)(t,"yAxis")&&yi(e[t.yField],t.yAxis),e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&yi(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustOptions(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.data.map(function(a){return a.ranges}),n=t.data.map(function(a){return a.targets});this.bulletRect=new SB(this.view,{ranges:e,rangeMax:t.rangeMax,yField:t.yField,rangeSize:t.rangeSize,rangeColors:t.rangeColors||[],axis:t.axis}),this.bulletTarget=new MB(this.view,{targets:n,yField:t.yField,markerSize:t.markerSize,markerColors:t.markerColors||[],markerStyle:t.markerStyle})},r.prototype.geometryParser=function(t,e){return t==="g2"?TB[e]:PB[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.legend=function(){var t=this.options,e=t.markerStyle.fill,n=t.measureColors||this.theme.colors,a=[{name:"\u5B9E\u9645\u8FDB\u5EA6",value:"\u5B9E\u9645\u8FDB\u5EA6",marker:{symbol:"square",style:{fill:n[0]}}},{name:"\u76EE\u6807\u503C",value:"\u76EE\u6807\u503C",marker:{symbol:"line",style:{stroke:e,lineWidth:2}}}],o=(0,Nt.__assign)({custom:!0,position:"bottom",items:a},t.legend);this.setConfig("legends",o)},r.prototype.addGeometry=function(){var t=this.options,e=qn("interval","main",{positionFields:[t.xField,t.yField],plot:this});e.adjust=[{type:"stack"}],t.label&&(e.label=this.extractLabel()),this.bullet=e,this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Q)},r.prototype.extractLabel=function(){var t=this.options,e=(0,f.deepMix)({},t.label);if(e.visible===!1)return!1;var n=ki("label",(0,Nt.__assign)({plot:this,labelType:"barLabel",fields:[t.yField]},e));return n},r.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},r.prototype.adjustYAxisOptions=function(t){var e=[];t.data.forEach(function(n){return e.push(n.measures.reduce(function(a,o){return a+o},0))}),e.push(t.rangeMax),t.yAxis.max=Math.max.apply([],e)},r.prototype.processData=function(t){var e=this.options,n=[];return t.forEach(function(a,o){for(var s,l=0;l<a.measures.length;l+=1){var u=a.measures[l],h=a.title||""+o;n.push((s={},s[e.xField]=h,s[e.yField]=u,s[e.stackField]=""+l,s))}}),n},r}(Hn),OB=Ky;en("bullet",Ky);var kB=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bullet",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=OB.getDefaultOptions,r}(jr),$y=kB,ss="$$day$$",ls="$$week$$",Qy="$$date$$",kG="$$is_month_center$$",us="YYYY-MM-DD",BB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],DB=["S","M","T","W","T","F","S"],Ys=864e5;function FB(i){var r=(0,Nt.__spreadArrays)(i).sort(function(t,e){return t.getTime()-e.getTime()});return[Mo().format((0,f.head)(r),us),Mo().format((0,f.last)(r),us)]}function BG(i){var r=i||new Date;return[fecha.format(new Date(r.getFullYear(),0,1),FORMATTER),fecha.format(new Date(r.getFullYear(),11,30),FORMATTER)]}function RB(i){return i.getMonth()!==fu(new Date(i),7*Ys).getMonth()}function NB(i){return i.getMonth()!==fu(new Date(i),Ys).getMonth()}function Jy(i){var r=new Date(i.getFullYear(),0,1);return Math.ceil(((i.getTime()-r.getTime())/Ys+r.getDay()+1)/7)}function YB(i){return i.getDay()}function fu(i,r){return i.setMilliseconds(i.getMilliseconds()+r),i}function qy(i){var r,t=i[0],e=i[1],n=Mo().parse(t,us),a=Mo().parse(e,us);return n>a&&(r=[n,a],a=r[0],n=r[1]),[n,a]}function GB(i,r,t){for(var e=[],n=qy(r),a=n[0],o=n[1],s=new Date(a),l=function(){var u,h=Mo().format(s,us),c=(0,f.find)(i,function(v){return v[t]===h});e.push((0,Nt.__assign)((u={},u[ss]=YB(s),u[ls]=""+Jy(s),u[t]=h,u[Qy]=new Date(s),u),c)),fu(s,Ys)};s<=o;)l();return e}function zB(i){var r=qy(i),t=r[0],e=r[1],n=new Map;function a(l){var u=l.getMonth(),h=Jy(l);n.has(u)||n.set(u,[]),n.get(u).push(h)}for(var o=new Date(t);o<=e;)a(o),fu(o,Ys*7);e<o&&a(e);var s={};return n.forEach(function(l,u){var h=Math.ceil(((0,f.head)(l)+(0,f.last)(l))/2);s[h]=u}),s}var XB={rect:"polygon"},VB=Mi(XB);(0,f.assign)(sn,VB);var t0=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="calendar",t}return r.getDefaultOptions=function(){var t;return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},yAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},legend:{visible:!1},meta:(t={},t[ss]={type:"cat",alias:"Day",values:[0,1,2,3,4,5,6]},t[ls]={type:"cat",alias:"Month"},t),tooltip:{visible:!0,showTitle:!0,showCrosshairs:!1,showMarkers:!1,title:"date"}})},r.prototype.processData=function(t){var e=this.options.dateField,n=this.options.dateRange;if((0,f.isNil)(n)){var a=(0,f.map)(t,function(o){return Mo().parse(""+o[e],us)});n=FB(a)}return GB(t,n,e)},r.prototype.addGeometry=function(){var t=this.options,e=t.valueField,n=t.colors,a=t.tooltip,o={type:"polygon",position:{fields:[ls,ss]},shape:{values:["calendar-polygon"]},color:{fields:[e],values:n},label:this.extractLabel()};a&&(a.fields||a.formatter)&&this.geometryTooltip(o),this.setConfig("geometry",o)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[ls,ss]))},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=this.options.valueField;return ki("label",(0,Nt.__assign)({plot:this,fields:[n],position:"top",offset:0},e))},r.prototype.coord=function(){var t={type:"rect",cfg:{},actions:[["reflect","y"]]};this.setConfig("coordinate",t)},r.prototype.geometryParser=function(){return""},r.prototype.axis=function(){var t=ki("axis",{plot:this,dim:"x"}),e=ki("axis",{plot:this,dim:"y"}),n={};n[ls]=t,n[ss]=e,this.setConfig("axes",n)},r.prototype.scale=function(){i.prototype.scale.call(this);var t=zB(this.options.dateRange),e=this.config.scales,n=this.options,a=n.weeks,o=a===void 0?DB:a,s=n.months,l=s===void 0?BB:s,u=e[ls],h=e[ss];u.formatter=function(C){var F=t[C];return F!==void 0?l[F]:""},h.formatter=function(C){return o[C]||""};var c=this.options,v=c.xAxis,g=c.yAxis;u.alias=(0,f.get)(v,["title","text"],u.alias),h.alias=(0,f.get)(g,["title","text"],h.alias),this.setConfig("scales",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,H)},r}(Hn),HB=t0;en("calendar",t0),vn("polygon","calendar-polygon",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=i.points,e=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]];e=this.parsePath(e);var n=(0,Nt.__assign)((0,Nt.__assign)({stroke:"#fff",lineWidth:1,fill:i.color},i.style),{path:e}),a=r.addShape("path",{attrs:n}),o=i.data[Qy];if(RB(o)){var s=[["M",t[2].x,t[2].y],["L",t[3].x,t[3].y]];r.addShape("path",{zIndex:1,attrs:{path:this.parsePath(s),lineWidth:1,stroke:"#404040"}}),NB(o)&&r.addShape("path",{zIndex:1,attrs:{path:this.parsePath([["M",t[1].x,t[1].y],["L",t[2].x,t[2].y]]),lineWidth:1,stroke:"#404040"}})}return r.sort(),a}}});var WB=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="calendar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=HB.getDefaultOptions,r}(jr),jB=WB,e0=function(){function i(r){this.uid=r}return i.prototype.setOption=function(r,t){this.type=r,this.options=t,this.axis=t.axis,this.pivot=t.pivot},i.prototype.render=function(){var r=this;vn("point","gauge",{draw:function(t,e){var n,a,o;this.gauge={},this.gauge.options=r.options,this.gauge.axis=r.axis,this.gauge.pivot=r.pivot,this.gauge.type=r.type;var s=this.gauge,l=this.gauge.type,u=t.points[0],h=this.parsePoint({x:0,y:0}),c=this.parsePoint({x:u.x||0,y:1});s.center=h,s.group=e;var v={x:h.x-c.x,y:h.y-c.y};this.gauge.ringRadius=Math.sqrt(v.x*v.x+v.y*v.y);var g=this.getAngleRange(),C=g.starAngle,F=g.endAngle,G=u.x*(F-C)+C;switch(l){case"meterGauge":this.drawBarGauge(G),this.gauge.axis.visible&&((n=this.gauge.axis.tickLine)===null||n===void 0?void 0:n.visible)&&this.drawInSideAxis();break;case"fanGauge":this.drawGauge(G),this.gauge.axis.visible&&((a=this.gauge.axis.tickLine)===null||a===void 0?void 0:a.visible)&&this.drawOutSideAxis();break;case"standardGauge":default:this.drawGauge(G),this.gauge.axis.visible&&((o=this.gauge.axis.tickLine)===null||o===void 0?void 0:o.visible)&&this.drawAxis();break}this.gauge.pivot.visible&&this.drawPivot(t,e)},drawGauge:function(t){var e=this.gauge.options.range;this.drawBottomRing(),e&&e.length?this.drawRangeColor():this.drawCurrentRing(t)},drawRangeColor:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.range,o=t.color,s=t.rangeStyle,l=o||Ni().colors,u=this.getAngleRange(),h=u.starAngle,c=u.endAngle,v={min:e,max:n,starAngle:h,endAngle:c},g=0;g<a.length;g++){var C=this.valueToAngle(a[g],v),F=this.valueToAngle(a[g+1],v);if(F>=C){var G=this.getPath(C,F),V=(0,f.deepMix)({fill:l[g]},s);this.drawRing(G,V)}}},drawBottomRing:function(){var t=this.getAngleRange(),e=t.starAngle,n=t.endAngle,a=this.gauge.options.rangeBackgroundStyle,o=this.getPath(e,n);this.drawRing(o,a)},drawCurrentRing:function(t){var e=this.getAngleRange().starAngle,n=this.gauge.rangeStyle,a=this.getPath(e,t);this.drawRing(a,n)},drawInSideAxis:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.axis,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:e,max:n,starAngle:s,endAngle:l},h=(n-e)/a.tickCount,c=0;c<a.tickCount;c++){var v=e+c*h,g=this.valueToAngle(v+h/2,u);this.drawRect(g,{length:a.tickLine.length,style:a.tickLine.style})}},drawAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var v=n+c*h,g=this.valueToAngle(v,u),C=(0,f.clone)(t.tickLine.style);c%5!=0&&(C.lineWidth=C.lineWidth/2),this.drawRect(g,{length:c%5==0?t.tickLine.length:t.tickLine.length/2,style:C})}},drawOutSideAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var v=n+c*h,g=this.valueToAngle(v,u);this.drawRect(g,{length:t.tickLine.length,style:t.tickLine.style})}},drawBarGauge:function(t){for(var e=this,n=this.gauge.options,a=n.min,o=n.max,s=n.range,l=n.color,u=n.rangeStyle,h=n.rangeBackgroundStyle,c=l||Ni().colors,v=this.getAngleRange(),g=v.starAngle,C=v.endAngle,F={min:a,max:o,starAngle:g,endAngle:C},G=(C-g)/(50-1),V=G/3,X=0;X<50;X++){var at=g+X*G,st=this.getPath(at-V/2,at+V-V/2),xt=h;if(s&&s.length){var kt=s.map(function(Yt){return e.valueToAngle(Yt,F)}),Gt=FE(kt,at),Wt=Math.min(Gt,s.length-1);xt=(0,f.deepMix)({},{fill:c[Wt-1]},u)||h}else xt=t>=at?(0,f.deepMix)({},{fill:l},u):h;this.drawRing(st,xt)}},getAngleRange:function(){var t=this.gauge.options.angle,e=90-(360-t)*.5,n=(270-90-e)*Math.PI/180,a=(270+90+e)*Math.PI/180;return{starAngle:n,endAngle:a}},valueToAngle:function(t,e){var n=e.min,a=e.max,o=e.starAngle,s=e.endAngle;if(t===a)return s;if(t===n)return o;var l=(t-n)/(a-n);a===n&&(l=1);var u=l*(s-o)+o;return u=Math.max(u,o),u=Math.min(u,s),u},drawRing:function(t,e){this.gauge.group.addShape("path",{attrs:(0,f.deepMix)({},{path:t},e)})},drawRect:function(t,e){var n=this.gauge.axis,a=(0,Nt.__assign)((0,Nt.__assign)({},n),e),o=a.offset,s=a.length,l=this.gauge.center,u;o<0?u=this.gauge.ringRadius-this.gauge.options.rangeSize+o:u=this.gauge.ringRadius+o;var h=u*Math.cos(t)+l.x,c=u*Math.sin(t)+l.y,v=(u+s)*Math.cos(t)+l.x,g=(u+s)*Math.sin(t)+l.y,C=this.gauge.group.addShape("line",{attrs:(0,f.deepMix)({},{x1:h,y1:c,x2:v,y2:g},e.style)});C.set("name","axis-tickLine")},getPath:function(t,e){var n=this.gauge.center,a=this.gauge.ringRadius,o=this.gauge.options.rangeSize,s=a*Math.cos(t)+n.x,l=a*Math.sin(t)+n.y,u=(a-o)*Math.cos(t)+n.x,h=(a-o)*Math.sin(t)+n.y,c=a*Math.cos(e)+n.x,v=a*Math.sin(e)+n.y,g=(a-o)*Math.cos(e)+n.x,C=(a-o)*Math.sin(e)+n.y,F=Math.abs(t-e)>Math.PI?1:0;return[["M",s,l],["A",a,a,0,F,1,c,v],["L",g,C],["A",a-o,a-o,0,F,0,u,h],["Z"]]},drawPivot:function(t){var e=this.getAngleRange(),n=e.starAngle,a=e.endAngle,o=this.gauge.options,s=o.radius,l=o.rangeSize,u=this.gauge.pivot,h=u.thickness,c=u.thickness/2.5,v=this.gauge.group,g=t.points[0],C=this.parsePoint({x:0,y:0}),F=g.x*(a-n)+n,G=(this.gauge.ringRadius-l)*s*Math.cos(F)+this.gauge.center.x,V=(this.gauge.ringRadius-l)*s*Math.sin(F)+this.gauge.center.y,X={x:G,y:V};if(u.base.visible&&v.addShape("circle",{attrs:(0,f.deepMix)({},{x:C.x,y:C.y,r:u.base.size?u.base.size/2:h*2.2},u.base.style)}),u.pointer.visible){var at={x:C.x-X.x,y:C.y-X.y},st=Math.sqrt(at.x*at.x+at.y*at.y);at.x*=1/st,at.y*=1/st;var xt=-Math.PI/2,kt=Math.cos(xt)*at.x-Math.sin(xt)*at.y,Gt=Math.sin(xt)*at.x+Math.cos(xt)*at.y,Wt=Math.PI/2,Yt=Math.cos(Wt)*at.x-Math.sin(Wt)*at.y,ie=Math.sin(Wt)*at.x+Math.cos(Wt)*at.y,de=[["M",X.x+kt*c,X.y+Gt*c],["L",C.x+kt*h,C.y+Gt*h],["L",C.x+Yt*h,C.y+ie*h],["L",X.x+Yt*c,X.y+ie*c],["Z"]];v.addShape("path",{attrs:(0,f.deepMix)({},{path:de},u.pointer.style)}),v.addShape("circle",{attrs:{x:X.x,y:X.y,r:c,fill:u.pointer.style.fill}}),v.addShape("circle",{attrs:{x:C.x,y:C.y,r:h,fill:u.pointer.style.fill}})}u.pin.visible&&v.addShape("circle",{attrs:(0,f.deepMix)({},{x:C.x,y:C.y,r:c/1.2},u.pin.style)})}})},i}(),UB={range:"point",statistic:"annotation-text"},ZB=Mi(UB);(0,f.assign)(sn,ZB);var r0=function(i){(0,Nt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="gauge",e}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{startAngle:-7/6,endAngle:1/6,rangeBackgroundStyle:{fill:"#f0f0f0"},rangeSize:24,statistic:{position:["50%","80%"]},axis:{visible:!0,offset:-10,tickCount:21,subTickCount:4,tickLine:{visible:!0,length:5,style:{stroke:"#aaa",lineWidth:2}},label:{visible:!0,offset:8,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}},pivot:{visible:!0,thickness:6,pin:{visible:!0,size:2,style:{fill:"#2E364B"}},base:{visible:!0,style:{fill:"#EEEEEE"}},pointer:{visible:!0,style:{fill:"#CFCFCF"}}}})},r.prototype.init=function(){var t=this.options,e=t.value,n=t.range,a=(n||[]).map(function(C){return+C}).sort(function(C,F){return C-F}),o=this.options,s=o.min,l=s===void 0?a[0]:s,u=o.max,h=u===void 0?a[a.length-1]:u,c=o.format,v=c===void 0?function(C){return""+C}:c,g=v(e);this.options.data=[{value:e||0}],this.options.valueText=g,this.options.min=l,this.options.max=h,this.options.format=v,this.initG2Shape(),i.prototype.init.call(this)},r.prototype.initG2Shape=function(){this.gaugeShape=new e0((0,f.uniqueId)()),this.gaugeShape.setOption(this.type,(0,f.deepMix)({},this.options,{radius:.6,angle:240,textPosition:"100%"})),this.gaugeShape.render()},r.prototype.geometryParser=function(){return"gauge"},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a=t.format,o={value:{}};yi(o.value,{min:e,max:n,minLimit:e,maxLimit:n,nice:!0,formatter:a,tickInterval:20}),this.setConfig("scales",o),i.prototype.scale.call(this)},r.prototype.coord=function(){var t={type:"polar",cfg:{radius:1,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig("coordinate",t)},r.prototype.axis=function(){var t=this.options.axis,e={value:{line:null,grid:null,tickLine:null}},n;t.offset<0?n=t.offset-this.options.rangeSize-t.tickLine.length-t.label.offset:n=t.offset+t.tickLine.length+t.label.offset,t.label.visible?e.value.label={offset:n,textStyle:t.label.style,autoRotate:!0}:e.value.label={style:{opacity:0}},e["1"]=!1,e.value=t.visible?e.value:!1,this.setConfig("axes",e)},r.prototype.addGeometry=function(){var t=this.options.pivot.pointer.style.fill||this.theme.defaultColor,e={type:"point",position:{fields:["value","1"]},shape:{values:["gauge"]},color:{values:[t]}};this.setConfig("geometry",e)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}this.setConfig("annotations",e)},r.prototype.renderStatistic=function(){var t=Math.max(this.options.width,this.options.height)/20,e=this.options.statistic,n={type:"text",content:e.text,top:!0,position:e.position,style:{fill:e.color,fontSize:e.size?e.size:t*1.2,textAlign:"center",textBaseline:"middle"}};return n},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,$)},r}(Hn),Vh=r0;en("gauge",r0);var KB=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="gauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Vh.getDefaultOptions,r}(jr),n0=KB,i0=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="fanGauge",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{rangeColor:"#F6445A",rangeSize:70,axis:{visible:!0,offset:5,tickCount:10,subTickCount:4,tickLine:{visible:!0,length:3,style:{stroke:"#aaa",lineWidth:3}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}}})},r.prototype.initG2Shape=function(){this.gaugeShape=new e0((0,f.uniqueId)()),this.gaugeShape.setOption(this.type,(0,f.deepMix)({},this.options,{radius:1,angle:120,textPosition:"125%",bottomRatio:3.5})),this.gaugeShape.render()},r.prototype.axis=function(){var t={value:!1,1:!1};this.setConfig("axes",t)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}var a=this.renderSideText(),o=e.concat(a);this.setConfig("annotations",o)},r.prototype.renderSideText=function(){var t=this.options,e=t.max,n=t.min,a=t.format,o=t.rangeSize,s=t.axis,l=12;return[n,e].map(function(u,h){return{type:"text",top:!0,position:["50%","50%"],content:a(u),style:(0,f.deepMix)({},s.label.style,{textAlign:"center"}),offsetX:h?o:-o,offsetY:l}})},r}(Vh),$B=i0;en("fanGauge",i0);var QB=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="fanGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=$B.getDefaultOptions,r}(jr),a0=QB,o0=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="meterGauge",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{axis:{visible:!0,offset:-10,tickCount:25,subTickCount:4,tickLine:{visible:!0,length:2,style:{stroke:"#aaa",lineWidth:1}}}})},r}(Vh),JB=o0;en("meterGauge",o0);var qB=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="meterGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=JB.getDefaultOptions,r}(jr),s0=qB,tD=d(42473),uo=d.n(tD),DG=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e),uo()(!1,'Please use "Donut" instead of "Ring" which was not recommended.')},r.getDefaultOptions=Yy.getDefaultOptions,r}(jr),FG=null,RG=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e),uo()(!1,'Please use "GroupedColumn" instead of "GroupColumn" which was not recommended.')},r.getDefaultOptions=Oh.getDefaultOptions,r}(jr),NG=null,YG=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e),uo()(!1,'Please use "GroupedBar" instead of "GroupBar" which was not recommended.')},r.getDefaultOptions=xg.getDefaultOptions,r}(jr),GG=null,zG=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e),uo()(!1,'Please use "PercentStackedArea" instead of "PercentageStackArea" which was not recommended.')},r.getDefaultOptions=Yg.getDefaultOptions,r}(jr),XG=null,VG=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e),uo()(!1,'Please use "PercentStackedBar" instead of "PercentageStackBar" which was not recommended.')},r.getDefaultOptions=Sg.getDefaultOptions,r}(jr),HG=null,WG=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e),uo()(!1,'Please use "PercentStackedColumn" instead of "PercentageStackColumn" which was not recommended.')},r.getDefaultOptions=ry.getDefaultOptions,r}(jr),jG=null,UG=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e),uo()(!1,'Please use "StackedArea" instead of "StackArea" which was not recommended.')},r.getDefaultOptions=_h.getDefaultOptions,r}(jr),ZG=null,KG=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e),uo()(!1,'Please use "StackedBar" instead of "StackBar" which was not recommended.')},r.getDefaultOptions=Eh.getDefaultOptions,r}(jr),$G=null,QG=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e),uo()(!1,'Please use "StackedColumn" instead of "StackColumn" which was not recommended.')},r.getDefaultOptions=ru.getDefaultOptions,r}(jr),JG=null,eD=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},r.prototype.coord=function(){},r.prototype.addGeometry=function(){},r.prototype.annotation=function(){var t=this,e=this.options,n=[],a={line:{style:{lineWidth:1,stroke:"#66d6a8"}}};(0,f.each)(e.guideLine,function(o){var s=ki("guideLine",{plot:t,cfg:(0,f.deepMix)({},a,o)});n.push(s)}),this.setConfig("annotations",n)},r}(Hn),hu=eD,rD=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.destroy=function(){this.shape&&this.shape.destroy()},i.prototype.update=function(r,t,e){var n={};if((0,f.assign)(this,r),this.coord=this.view.geometries[0].coordinate,r.value){var a=this.coord.convert({x:0,y:this.value}).x,o=[1,0,0,0,1,0,a,0,1];n.matrix=o}if(r.style){var s=this.shape,l=s.attrs,u=(0,f.deepMix)({},l,r.style);n=(0,f.deepMix)({},u,n)}this.shape.stopAnimate(),this.shape.animate(n,t,e)},i.prototype.init=function(){this.coord=this.view.geometries[0].coordinate,this.container=this.view.foregroundGroup.addGroup();var r=this.coord.convert({x:0,y:this.value}).x,t=this.coord.center.y-this.progressSize/2-2,e=this.coord.center.y+this.progressSize/2+2,n=(0,f.deepMix)({},{stroke:"grey",lineWidth:1},this.style);this.shape=this.container.addShape("path",{attrs:(0,Nt.__assign)({path:[["M",0,t],["L",0,e]]},n),name:"progress-marker"}),this.shape.move(r,0),this.canvas.draw()},i}(),l0=rD,nD={progress:"interval"},iD=Mi(nD);(0,f.assign)(sn,iD);var aD={progress:"interval"},oD={interval:"progress"},u0=["#55A6F3","#E8EDF3"],f0=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="progress",t.isEntered=!1,t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barSize:t.size?t.size:this.getSize(),barStyle:t.progressStyle,color:this.parseColorProps(t)||u0};t=(0,f.mix)(t,e)},r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.beforeInit=function(){var t=this.options.percent;if(!(0,f.isNumber)(t))throw new Error("Percent value is required, and the type of percent must be Number.")},r.prototype.update=function(t){var e=this.options;if((0,f.hasKey)(t,"percent")&&(e.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color){var n=void 0;(0,f.isArray)(t.color)?(this.options.color=t.color,n=[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,n={fill:t.color}),this.styleUpdateAnimation(n)}t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},r.prototype.destroy=function(){this.markers&&this.markers.length>0&&((0,f.each)(this.markers,function(t){t.destroy()}),this.markers=[]),i.prototype.destroy.call(this)},r.prototype.afterRender=function(){var t=this;this.options.marker&&!this.markers&&(this.markers=[],(0,f.each)(this.options.marker,function(s){var l=(0,f.mix)({canvas:t.canvas,view:t.view,progressSize:t.options.barSize},s),u=new l0(l);t.markers.push(u)}));var e=this.view.geometries[0].container,n=e.getBBox(),a=e.addShape("rect",{attrs:{width:n.width,height:n.height,x:n.minX,y:n.minY,fill:"rgba(0,0,0,0)"}});this.canvas.draw(),a.on("mouseenter",function(s){t.isEntered=!0,t.view.emit("progress:mouseenter",s)}),a.on("mouseleave",function(s){t.isEntered=!1,t.view.emit("progress:mouseleave",s)});var o=this.canvas.get("container");o.addEventListener("mouseleave",function(s){t.isEntered&&(t.view.emit("progress:mouseleave",s),t.isEntered=!1)})},r.prototype.geometryParser=function(t,e){return t==="g2"?aD[e]:oD[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.addGeometry=function(){var t=this.options,e=qn("interval","main",{positionFields:[t.yField,t.xField],plot:this});e.adjust=[{type:"stack"}],(0,f.has)(t,"animation")&&(e.animate=t.animation),this.setConfig("geometry",e)},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,it)},r.prototype.parseColorProps=function(t){var e;if(t.color)if((0,f.isFunction)(t.color)?e=t.color(t.percent):e=t.color,(0,f.isString)(e)){var n=(0,f.clone)(u0);return n[0]=e,n}else return e;return t.color},r.prototype.processData=function(){var t=this.options,e=[{type:"current",value:t.percent},{type:"rest",value:1-t.percent}];return e},r.prototype.updateMarkers=function(t){var e=t.length,n=this.getUpdateAnimationOptions();if((0,f.each)(this.markers,function(u,h){h>e-1?u.destroy():u.update(t[h],n.duration,n.easing)}),this.markers.length<e)for(var a=this.markers.length,o=a;o<e;o++){var s=(0,f.deepMix)({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},t[o]),l=new l0(s);this.markers.push(l)}},r.prototype.getSize=function(){var t=this.height;return t>=50?10:4},r.prototype.styleUpdateAnimation=function(t){var e=this.getUpdateAnimationOptions(),n=e.duration,a=e.easing,o=[],s=this.view,l=s.geometries;(0,f.each)(l,function(u){if(u.type==="interval"){var h=u.elements;(0,f.each)(h,function(c){o.push.apply(o,c.shape)})}}),(0,f.isArray)(t)?(0,f.each)(t,function(u,h){o[h].animate(u,n,a)}):o[0].animate(t,n,a)},r.prototype.getUpdateAnimationOptions=function(){var t=450,e="easeQuadInOut",n=this.options.animation;return n&&n.update&&(n.update.duration&&(t=n.update.duration),n.update.easing&&(e=n.update.easing)),{duration:t,easing:e}},r.prototype.updateColorConfigByStyle=function(t){var e=this;(0,f.isArray)(t)?(0,f.each)(t,function(n,a){n.fill&&(e.options.color[a]=n.fill)}):t.fill&&(this.options.color[0]=t.fill)},r}(hu),h0=f0;en("progress",f0);var sD=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="progress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t,e){var n=this.layers[0];n.update(t,e)},r.getDefaultOptions=h0.getDefaultOptions,r}(jr),c0=sD,lD={ringProgress:"interval"},uD=Mi(lD);(0,f.assign)(sn,uD);var fD=["#55A6F3","#E8EDF3"],v0=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ringProgrsss",t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barStyle:t.progressStyle,color:this.parseColorProps(t)||fD};t=(0,f.mix)(t,e)},r.prototype.coord=function(){var t={type:"theta",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig("coordinate",t)},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=this.options;this.ring=qn("interval","main",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:"stack"}],this.setConfig("geometry",this.ring)},r.prototype.animation=function(){this.ring.animate={appear:{duration:1e3}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,nt)},r.prototype.getThickness=function(t){var e=this.width,n=this.height,a=Math.min(e,n);return t?1-t/a:a>=60?1-20/a:1-10/a},r}(h0),hD=v0;en("ringProgress",v0);var cD=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="ringProgress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t){var e=this.layers[0];e.update(t)},r.getDefaultOptions=hD.getDefaultOptions,r}(jr),d0=cD,vD={onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnContextmenu:"interval:contextmenu"};(0,f.assign)(sn,vD);var dD=.6,pD={column:"interval"},gD={interval:"column"},p0=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyColumn",t}return r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?pD[e]:gD[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},this.setConfig("scales",e)},r.prototype.addGeometry=function(){var t=this.options,e=qn("interval","main",{positionFields:[t.xField,t.yField],plot:this});this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,wt)},r.prototype.processProps=function(){var t={padding:[0,0,0,0],columnSize:this.getSize()};this.options=(0,f.mix)(this.options,t)},r.prototype.getSize=function(){var t=this.options,e=this.getColumnNum(t.data,t.xField),n=this.width;return n/e*dD},r.prototype.getColumnNum=function(t,e){var n=[];return(0,f.each)(t,function(a){var o=a[e];n.indexOf(o)<0&&n.push(o)}),n.length},r}(hu),yD=p0;en("tinyColumn",p0);var mD=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=yD.getDefaultOptions,r}(jr),g0=mD,xD={onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,f.assign)(sn,xD);var bD={area:"area",line:"line"},y0=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyArea",t}return r.prototype.geometryParser=function(t,e){return bD[e]},r.prototype.addGeometry=function(){this.area=qn("area","mini",{plot:this}),this.setConfig("geometry",this.area),this.line=qn("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,yt)},r}(hu),wD=y0;en("tinyArea",y0);var SD=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=wD.getDefaultOptions,r}(jr),m0=SD,CD={onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,f.assign)(sn,CD);var MD={line:"line"},x0=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyLine",t}return r.prototype.geometryParser=function(t,e){return MD[e]},r.prototype.addGeometry=function(){this.line=qn("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Lt)},r}(hu),ED=x0;en("tinyLine",x0);var AD=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ED.getDefaultOptions,r}(jr),b0=AD,Hh=5,TD=function(i){(0,Nt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.geomLayers=[],e.legends=[],e.requiredField=["xField","yField"],e.options=e.getOptions(t),e.initialOptions=(0,f.deepMix)({},t),e.themeController=new ph,e}return r.getDefaultOptions=function(){return{title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"}}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t);return(0,f.deepMix)({},n,a,e,t)},r.prototype.checkData=function(){for(var t=this,e,n,a=this.options,o=a.data,s=a.xField,l=a.yField,u=0;u<this.requiredField.length;u++){var h=this.requiredField[u];if(!(0,f.hasKey)(this.options,h))return!1}return!(!(0,f.isArray)(l)||l.length<2||!(0,f.isArray)(o)||o.length===0||((e=o[0])===null||e===void 0?void 0:e.length)===0&&((n=o[1])===null||n===void 0?void 0:n.length)===0||((0,f.each)(o,function(c,v){if(!(0,f.isArray)(c)||c.length===0){var g=t.getMockData(v);o[v]=g}}),!o[0][0][s]||!o[1][0][s]))},r.prototype.init=function(){i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.drawTitle(),this.drawDescription()},r.prototype.updateConfig=function(t){this.doDestroy(),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){t&&t.length<2||!(0,f.isArray)(t[0])||(0,f.each)(this.geomLayers,function(e,n){e.changeData(t[n])})},r.prototype.changeDataByIndex=function(t,e){if(!(0,f.isArray)(t[0])){var n=this.geomLayers[e];n.changeData(t)}},r.prototype.doDestroy=function(){(0,f.each)(this.geomLayers,function(t){t.doDestroy()}),this.geomLayers=[],(0,f.each)(this.legends,function(t){t.destroy()}),this.legends=[]},r.prototype.createLayer=function(t,e,n){var a=this.getViewRange(),o=new t((0,Nt.__assign)({canvas:this.canvas,container:this.container,x:a.minX,y:a.minY,width:a.width,height:a.height,data:e},n));return this.geomLayers.push(o),o},r.prototype.getLeftYAxisMax=function(){var t=this.getScaleData(0),e=this.getScaleData(1);return t.min==0&&t.max===0?Math.max(e.max,0):t.max},r.prototype.yAxis=function(t){var e=this.getScaleData(0),n=this.options.yAxis,a=t===0?n.leftConfig:n.rightConfig,o=this.colors[t],s=(0,f.clone)(a),l={title:"stroke",line:"stroke",label:"fill",tickLine:"stroke"};a.visible&&a.colorMapping&&(0,f.each)(s,function(h,c){if(!(0,f.isString)(h)&&(0,f.hasKey)(l,c)){var v=l[c];h.style||(h.style={}),h.style[v]=o}}),a.visible||(s.title.visible=!1,s.tickLine.visible=!1,s.label.visible=!1,s.line.visible=!1,s.visible=!0);var u=this.getYAxisGlobalConfig();return t===0&&e.max===0&&e.min===0&&(s.max=this.getLeftYAxisMax()),(0,f.deepMix)({},u,s)},r.prototype.getTicks=function(){for(var t=this.options.yAxis,e=this.getScaleData(0),n=(0,Yr.getScale)("linear"),a=new n((0,f.deepMix)({},{min:0,max:this.getLeftYAxisMax(),nice:!0,values:e.values},{tickCount:t.tickCount})),o=a.ticks.length,s=t.max?a.max:this.getScaleData(1).max,l=s/(o-1),u=[],h=0;h<o;h++){var c=h*l;Number.isInteger(c)||(c=parseFloat(c.toFixed(1))),u.push(c)}return u},r.prototype.getScaleData=function(t){var e=this.options,n=e.data,a=e.yField,o=e.yAxis,s=[];(0,f.each)(n[t],function(h){s.push(h[a[t]])}),s.sort(function(h,c){return h-c});var l=s[0],u=o.max?o.max:s[s.length-1];return{min:l,max:u,values:s}},r.prototype.getDataByXField=function(t,e){var n=this.options,a=n.data,o=n.xField,s=a[e];return s.filter(function(l){return l[o]===t})},r.prototype.getYAxisGlobalConfig=function(){var t=this.options.yAxis,e=t.min,n=t.max,a=t.tickCount;return{min:e,max:n,tickCount:a}},r.prototype.adjustLayout=function(){var t=this,e,n,a=Ni().bleeding;(0,f.isArray)(a)&&(0,f.each)(a,function(g,C){typeof a[C]=="function"&&(a[C]=a[C](t.options))});var o=this.getViewRange(),s=this.transfromPadding(this.geomLayers[0].options.padding),l=this.transfromPadding(this.geomLayers[1].options.padding),u=0,h,c;((e=this.options.legend)===null||e===void 0?void 0:e.visible)&&(h=this.legends[0].getLayoutBBox(),c=this.legends[1].getLayoutBBox(),u=h.height+Hh*2);var v=s.map(function(g,C){return C===0?Math.max.apply(null,[g+u,l[C]]):Math.max.apply(null,[g,l[C]])});this.geomLayers[0].updateConfig({padding:v}),this.geomLayers[0].render(),this.geomLayers[1].updateConfig({padding:v}),this.geomLayers[1].render(),((n=this.options.legend)===null||n===void 0?void 0:n.visible)&&(this.legends[0].setLocation({x:a[3],y:o.minY+Hh}),this.legends[1].setLocation({x:o.maxX-a[1]-c.width,y:o.minY+Hh}))},r.prototype.transfromPadding=function(t){return typeof t=="string"||typeof t=="number"?[Number(t)]:t},r.prototype.legendFilter=function(t){var e=this,n=this.legends[t],a=n.get("group");a.on("click",function(){var o=n.get("items")[0];o.unchecked?(n.setItemState(o,"unchecked",!1),e.showLayer(t)):(n.setItemState(o,"unchecked",!0),e.hideLayer(t))})},r.prototype.hideLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!1),this.setGeometryVisibility(a,!1),this.canvas.draw()},r.prototype.showLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!0),this.setGeometryVisibility(a,!0),this.canvas.draw()},r.prototype.setGeometryVisibility=function(t,e){(0,f.each)(t.geometries,function(n){var a=n.container,o=n.labelsContainer;a&&a.set("visible",e),o&&o.set("visible",e)})},r.prototype.getYAxisContainer=function(t,e){var n,a=t.controllers.filter(function(l){return(0,f.hasKey)(l,"axisContainer")})[0];if(a){var o=a,s=o.axisContainer.get("children");(0,f.each)(s,function(l){var u=l.get("component").get("field");u===e&&(n=l)})}return n},r.prototype.getUnCheckedValue=function(){var t=[];return(0,f.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,f.each)(n,function(a){t.push(a.name)})}),t},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),qo(t.title)){var n=this.width,a=this.theme,o=new Nl({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,f.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:qo(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),qo(t.description)){var n=this.width,a=this.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new Nl({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,f.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l}},r.prototype.getViewRange=function(){this.layerBBox||(this.layerBBox=new Zr(this.x,this.y,this.width,this.height));var t=this.layerBBox.minX,e=this.layerBBox.maxX,n=this.layerBBox.minY,a=this.layerBBox.maxY,o=[this.title,this.description];return(0,f.each)(o,function(s){if(s){var l=s.position,u=s.getBBox(),h=u.minX,c=u.maxX,v=u.minY,g=u.maxY;g>=n&&g<=a&&l==="top"&&(n=g),v>=n&&v<=a&&l==="bottom"&&(a=v),c>t&&c<=e&&l==="left"&&(t=c),h>=t&&c<=e&&l==="right"&&(e=h)}}),new Zr(t,n,e-t,a-n)},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o={};return o[n]="null",o[a[t]]=0,[o]},r}(Rl),w0=TD,S0={lineSize:2,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},C0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},M0=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dualLine",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0},yAxis:{leftConfig:C0,rightConfig:C0},lineConfigs:[(0,f.deepMix)({},S0,{color:"#5B8FF9"}),(0,f.deepMix)({},S0,{color:"#e76c5e"})]})},r.prototype.init=function(){var t=this;if(i.prototype.init.call(this),!!this.checkData()){var e=this.options,n=e.data,a=e.meta,o=e.xField,s=e.yField,l=e.xAxis,u=e.tooltip,h=e.lineConfigs,c=e.legend,v=e.events,g=e.customMeta;this.colors=[h[0].color,h[1].color];var C=this.getYAxisGlobalConfig(),F=this.createLayer(Fs,n[0],(0,Nt.__assign)({meta:a,xField:o,yField:s[0],xAxis:{visible:!1},yAxis:(0,f.deepMix)({},C,{grid:{visible:!1},nice:!0},this.yAxis(0)),tooltip:{visible:!1},events:v},h[0]));F.render();var G={};G[s[1]]={ticks:this.getTicks()};var V=this.createLayer(Fs,n[1],(0,Nt.__assign)({xField:o,yField:s[1],meta:g?a:(0,f.deepMix)({},a,G),serieField:s[1],xAxis:l,yAxis:(0,f.deepMix)({},C,{position:"right",nice:!1},this.yAxis(1)),tooltip:(0,f.deepMix)({},{showMarkers:!1,custom:{onChange:function(X,at){t.tooltip(X,at)}}},u),events:v},h[1]));V.render(),c.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.tooltip=function(t,e){var n=this.getUnCheckedValue();if(n.length===this.colors.length){t.style.display="none";return}else t.style.display="block";var a=this.options,o=a.yField,s=a.legend,l=(0,f.clone)(e.items[0]),u=this.getDataByXField(e.title,0)[0];u&&(0,f.findIndex)(e.items,function(h){return h.name===o[0]})<0&&e.items.push((0,Nt.__assign)((0,Nt.__assign)({},l),{mappingData:(0,f.deepMix)({},l.mappingData,{_origin:u}),data:u,name:o[0],value:u[o[0]],color:this.colors[0]})),s.visible&&(0,f.each)(this.legends,function(h,c){var v=h.get("items")[0];if(v.unchecked){var g=c===0?1:0;e.items.splice(g,1)}})},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a;(0,f.each)(this.geomLayers,function(u,h){var c=(0,f.deepMix)({},{symbol:"circle",style:{r:4,fill:o[h]}},l.marker),v=[{name:n[h],unchecked:!1,marker:c}],g=new nn.Legend.Category({id:t.type,container:s,x:0,y:0,items:v,updateAutoRender:!0,itemBackground:null,itemName:l.text});g.init(),g.render(),t.legends.push(g)}),(0,f.each)(this.geomLayers,function(u,h){t.legendFilter(h)})},r}(w0),PD=M0;en("dualLine",M0);var _D=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="dualLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=PD.getDefaultOptions,r}(jr),E0=_D,LD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},ID={color:"#5B8FF9"},A0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},T0=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="columnLine",t.legends=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:A0,rightConfig:A0},lineConfig:LD,columnConfig:ID,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions;if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var s=Ni(),l=s.colors,u=s.colors_20,h=this.getValueBySeriesField(),c=h.length>l.length?u:l,v=[];(0,f.each)(h,function(g,C){v.push(c[C+1])}),a.lineConfig.color=v}},r.prototype.init=function(){if(i.prototype.init.call(this),!!this.checkData()){var t=this.options,e=t.data,n=t.meta,a=t.xField,o=t.yField,s=t.lineSeriesField,l=t.legend,u=t.lineConfig,h=t.columnConfig,c=t.events,v=t.customMeta;this.colors=[h.color,u.color],this.drawColumn();var g={};g[o[1]]={ticks:this.getTicks()};var C=this.createLayer(Fs,e[1],(0,Nt.__assign)({xField:a,yField:o[1],seriesField:s,meta:v?n:(0,f.deepMix)({},n,g),xAxis:{visible:!1},yAxis:(0,f.deepMix)({},{position:"right",grid:{visible:!1},nice:!0},this.yAxis(1)),tooltip:{visible:!1},legend:{visible:!1},events:c},u));C.render(),l.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.xAxis,l=e.tooltip,u=e.columnConfig,h=e.meta,c=e.events,v=this.createLayer(as,n[0],(0,Nt.__assign)({xField:a,yField:o[0],meta:h,xAxis:s,yAxis:(0,f.deepMix)({},{grid:{visible:!0},nice:!0},this.yAxis(0)),tooltip:(0,f.deepMix)({},{showMarkers:!1,custom:{onChange:function(g,C){t.tooltip(g,C)}}},l),events:c},u));v.render()},r.prototype.tooltip=function(t,e){var n=this,a=this.options,o=a.xField,s=a.yField,l=a.tooltip,u=(0,f.clone)(e.items[0]),h=this.getDataByXField(e.title,1),c=(0,f.get)(l,"formatter");if(h&&(0,f.each)(h,function(G,V){var X=n.geomLayers[1].options.seriesField,at=X?G[X]:s[1],st=c?c(G[o],G[s[1]],G[X]):{name:at,value:G[s[1]]};e.items.push((0,Nt.__assign)((0,Nt.__assign)((0,Nt.__assign)((0,Nt.__assign)({},u),{mappingData:(0,f.deepMix)({},u.mappingData,{_origin:h}),data:G}),st),{color:(0,f.isArray)(n.colors[1])?n.colors[1][V]:n.colors[1]}))}),this.options.legend.visible){var v=this.getUnCheckedValue(),g=this.legends[0].get("items").length+this.legends[1].get("items").length;if(v.length===g){t.style.display="none";return}else t.style.display="block";var C=[],F=[];(0,f.each)(e.items,function(G){var V=G.name;!(0,f.contains)(C,V)&&!(0,f.contains)(v,V)&&(C.push(V),F.push(G))}),(0,f.each)(e.items,function(G,V){V<F.length?e.items[V]=F[V]:e.items.pop()})}},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var g=t.getValueBySeriesField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else v=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(v)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):t.legendFilter(c)})},r.prototype.createSingleLegend=function(t,e,n,a,o){var s=(0,f.deepMix)({},{symbol:e,style:{r:4,fill:n}},a.marker),l=[{name:t,unchecked:!1,marker:s}],u=new nn.Legend.Category({id:this.type,container:o,x:0,y:0,items:l,updateAutoRender:!0,itemBackground:null,itemName:a.text});return u.init(),u.render(),u},r.prototype.createNormalLegend=function(t,e,n,a,o){var s=[];(0,f.each)(t,function(u,h){s.push({name:u,unchecked:!1,marker:{symbol:e,style:{r:4,fill:n[h]}}})});var l=new nn.Legend.Category({id:this.type,container:o,x:0,y:0,items:s,updateAutoRender:!0,itemBackground:null,itemName:a.text,offsetX:0});return l.init(),l.render(),l},r.prototype.multipleLegendFilter=function(t,e){var n=this,a=this.legends[t],o=[],s=a.get("group"),l=!1;s.on("click",function(u){var h=n.geomLayers[t].view,c=u.target.get("delegateObject").item;c.unchecked?(l===!0&&(n.showLayer(t),l=!1),(0,f.pull)(o,c.name),h.filter(c.value,function(v){return!(0,f.contains)(o,v)}),h.render(),a.setItemState(c,"unchecked",!1)):(a.setItemState(c,"unchecked",!0),o.push(c.name),o.length===n.legends[t].get("items").length?(n.hideLayer(t),l=!0):(h.filter(e,function(v){return!(0,f.contains)(o,v)}),h.render())),n.canvas.draw()})},r.prototype.getValueBySeriesField=function(){var t=this.options,e=t.lineSeriesField,n=t.data,a=n[1],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r}(w0),Wh=T0;en("columnLine",T0);var OD=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="columnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Wh.getDefaultOptions,r}(jr),P0=OD,kD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},BD={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},_0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},L0=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnGroupField"],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,f.deepMix)({},_0,{colorMapping:!1}),rightConfig:_0},lineConfig:kD,columnConfig:BD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions,s=this.getValueByGroupField();if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var l=Ni(),u=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),v=c.length>u.length?h:u,g=[],C=s.length;(0,f.each)(c,function(G,V){g.push(v[V+C])}),a.lineConfig.color=g}var F=this.options.columnConfig.color;this.options.columnConfig.color=F.slice(0,s.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnGroupField,l=e.xAxis,u=e.tooltip,h=e.columnConfig,c=e.events,v=this.createLayer(Oh,n[0],(0,Nt.__assign)({xField:a,yField:o[0],groupField:s,xAxis:l,yAxis:(0,f.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,f.deepMix)({},u,{showMarkers:!1,custom:{onChange:function(g,C){t.tooltip(g,C)}}}),events:c},h));v.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var g=t.getValueBySeriesField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else if(h.options.groupField){var g=t.getValueByGroupField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else v=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(v)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.groupField?t.multipleLegendFilter(c,h.options.groupField):t.legendFilter(c)})},r.prototype.getValueByGroupField=function(){var t=this.options,e=t.columnGroupField,n=t.data,a=n[0],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnGroupField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(Wh),DD=L0;en("groupedColumnLine",L0);var FD=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=DD.getDefaultOptions,r}(jr),I0=FD,RD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},ND={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},O0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},k0=function(i){(0,Nt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnStackField"],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,f.deepMix)({},O0,{colorMapping:!1}),rightConfig:O0},lineConfig:RD,columnConfig:ND,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this.getValueByStackField(),a=this,o=a.options,s=a.initialOptions;if(o.lineSeriesField&&(o.yAxis.rightConfig.colorMapping=!1,((t=s.lineConfig)===null||t===void 0?void 0:t.lineSize)||(o.lineConfig.lineSize=3),!((e=s.lineConfig)===null||e===void 0?void 0:e.color))){var l=Ni(),u=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),v=c.length>u.length?h:u,g=[],C=n.length;(0,f.each)(c,function(G,V){g.push(v[V+C])}),o.lineConfig.color=g}var F=this.options.columnConfig.color;this.options.columnConfig.color=F.slice(0,n.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnStackField,l=e.xAxis,u=e.tooltip,h=e.columnConfig,c=e.events,v=this.createLayer(ru,n[0],(0,Nt.__assign)({xField:a,yField:o[0],stackField:s,xAxis:l,yAxis:(0,f.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,f.deepMix)({},u,{showMarkers:!1,custom:{onChange:function(g,C){t.tooltip(g,C)}}}),events:c},h));v.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var g=t.getValueBySeriesField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else if(h.options.stackField){var g=t.getValueByStackField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else v=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(v)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.stackField?t.multipleLegendFilter(c,h.options.stackField):t.legendFilter(c)})},r.prototype.getValueByStackField=function(){var t=this.options,e=t.columnStackField,n=t.data,a=n[0],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r.prototype.getUnCheckedValue=function(){var t=[];return(0,f.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,f.each)(n,function(a){t.push(a.name)})}),t},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnStackField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(Wh),YD=k0;en("stackedColumnLine",k0);var GD=function(i){(0,Nt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=YD.getDefaultOptions,r}(jr),B0=GD,zD=function(r){return r.charAt(0).toUpperCase()+r.slice(1).replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},qG=function(r,t){return JSON.stringify(r)===JSON.stringify(t)},XD=function(r,t){return new Set(r.concat(t)).size===r.length},VD=function(r,t){var e={}.toString;return e.call(r)==="[object "+t+"]"},HD=function(r){if(!r)return r;var t={};for(var e in r)t[e]=r[e];return t},Gs={sameArray:XD,camelCase:zD,isType:VD,clone:HD},WD=d(73935),jD=function(r){var t=document.createElement("div");return t.className="g2-tooltip eva-charts-tootip",WD.render(r,t),t},jh=jD;function D0(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function UD(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?D0(Object(t),!0).forEach(function(e){ZD(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):D0(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function ZD(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}function rn(i,r){var t=(0,K.useRef)(),e=(0,K.useRef)(null),n=function(){var l,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",h=arguments.length>1?arguments[1]:void 0;return(l=t.current)===null||l===void 0?void 0:l.canvas.cfg.el.toDataURL(u,h)},a=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/png",h=arguments.length>2?arguments[2]:void 0;try{var c;l&&l.indexOf(".")===-1&&(l="".concat(l,".png"));var v=l;if(!v){var g,C=r;v="".concat((C==null||(g=C.title)===null||g===void 0?void 0:g.text)||(i==null?void 0:i.name),".png")}var F=(c=t.current)===null||c===void 0?void 0:c.canvas.cfg.el.toDataURL(u,h),G=document.createElement("a");G.href=F,G.download=v,document.body.appendChild(G),G.click(),document.body.removeChild(G),G=null}catch(V){console.log(V)}},o=function(){var l,u,h,c,v;if((l=r.statistic)===null||l===void 0?void 0:l.htmlContent){var g=r.statistic.htmlContent;r.statistic.htmlContent=function(){var F=g.apply(void 0,arguments);return Gs.isType(F,"String")||Gs.isType(F,"Number")||Gs.isType(F,"HTMLDivElement")?F:jh(F)}}if(((u=r.tooltip)===null||u===void 0||(h=u.custom)===null||h===void 0?void 0:h.container)&&(r.tooltip.custom.container=jh(r.tooltip.custom.container)),(c=r.tooltip)===null||c===void 0||(v=c.custom)===null||v===void 0?void 0:v.customContent){var C=r.tooltip.custom.customContent;r.tooltip.custom.customContent=function(F,G){var V=C(F,G)||"";return Gs.isType(V,"HTMLDivElement")?V:jh(V)}}};return(0,K.useEffect)(function(){t.current&&(r.onlyChangeData?t.current.changeData((r==null?void 0:r.data)||[]):(o(),t.current.updateConfig(r),t.current.render()))},[(r==null?void 0:r.memoData)?r.memoData:JSON.stringify(r)]),(0,K.useEffect)(function(){if(!e.current)return function(){return null};o();var s=new i(e.current,UD({},r));return s.__proto__.toDataURL=function(l,u){return n(l,u)},s.__proto__.downloadImage=function(l,u,h){return a(l,u,h)},s.render(),t.current=Gs.clone(s),function(){return s.destroy()}},[]),{chart:t,container:e,toDataURL:n,downloadImage:a}}var KD=K.createContext({});function cu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cu=function(t){return typeof t}:cu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(i)}function $D(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}function F0(i,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}function QD(i,r,t){return r&&F0(i.prototype,r),t&&F0(i,t),i}function JD(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),r&&Uh(i,r)}function Uh(i,r){return Uh=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},Uh(i,r)}function qD(i){var r=r5();return function(){var e=vu(i),n;if(r){var a=vu(this).constructor;n=Reflect.construct(e,arguments,a)}else n=e.apply(this,arguments);return t5(this,n)}}function t5(i,r){return r&&(cu(r)==="object"||typeof r=="function")?r:e5(i)}function e5(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function r5(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(i){return!1}}function vu(i){return vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vu(i)}var n5=function(i){JD(t,i);var r=qD(t);function t(){var e;return $D(this,t),e=r.apply(this,arguments),e.state={hasError:!1},e.renderError=function(n){switch(n){default:return K.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",n.message)}},e}return QD(t,[{key:"render",value:function(){return this.state.hasError?this.renderError(this.state.error):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{hasError:!0,error:n}}},{key:"getDerivedStateFromProps",value:function(n,a){return a.children!==n.children?{children:n.children,hasError:!1,error:void 0}:null}}]),t}(K.Component),qr=n5,tz=KD.Provider;function i5(i,r){if(i==null)return{};var t=a5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function a5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var R0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=i5(i,["chartRef","style","className"]),s=rn(Bg,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});R0.defaultProps=Bg.getDefaultOptions();var o5=R0;function s5(i,r){if(i==null)return{};var t=l5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function l5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var N0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=s5(i,["chartRef","style","className"]),s=rn(pg,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});N0.defaultProps=pg.getDefaultOptions();var u5=N0;function f5(i,r){if(i==null)return{};var t=h5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function h5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Y0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=f5(i,["chartRef","style","className"]),s=rn(Zy,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});Y0.defaultProps=Zy.getDefaultOptions();var c5=Y0;function v5(i,r){if(i==null)return{};var t=d5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function d5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var G0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=v5(i,["chartRef","style","className"]),s=rn($y,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});G0.defaultProps=$y.getDefaultOptions();var p5=G0;function g5(i,r){if(i==null)return{};var t=y5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function y5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var m5=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=g5(i,["chartRef","style","className"]),s=rn(jB,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))}),x5=m5;function b5(i,r){if(i==null)return{};var t=w5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function w5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var z0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=b5(i,["chartRef","style","className"]),s=rn(Hg,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});z0.defaultProps=Hg.getDefaultOptions();var X0=z0;function S5(i,r){if(i==null)return{};var t=C5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function C5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var V0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=S5(i,["chartRef","style","className"]),s=rn(P0,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});V0.defaultProps=P0.getDefaultOptions();var M5=V0;function E5(i,r){if(i==null)return{};var t=A5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function A5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var H0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=E5(i,["chartRef","style","className"]),s=rn(cy,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});H0.defaultProps=cy.getDefaultOptions();var T5=H0;function P5(i,r){if(i==null)return{};var t=_5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function _5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var W0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=P5(i,["chartRef","style","className"]),s=rn(Gy,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});W0.defaultProps=Gy.getDefaultOptions();var j0=W0;function L5(i,r){if(i==null)return{};var t=I5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function I5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var U0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=L5(i,["chartRef","style","className"]),s=rn(E0,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});U0.defaultProps=E0.getDefaultOptions();var O5=U0;function k5(i,r){if(i==null)return{};var t=B5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function B5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Z0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=k5(i,["chartRef","style","className"]),s=rn(a0,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});Z0.defaultProps=a0.getDefaultOptions();var D5=Z0;function F5(i,r){if(i==null)return{};var t=R5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function R5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var N5=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=F5(i,["chartRef","style","className"]),s=rn(jO,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))}),Y5=N5;function G5(i,r){if(i==null)return{};var t=z5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function z5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var K0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=G5(i,["chartRef","style","className"]),s=rn(n0,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});K0.defaultProps=n0.getDefaultOptions();var $0=K0;function X5(i,r){if(i==null)return{};var t=V5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function V5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Q0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=X5(i,["chartRef","style","className"]),s=rn(bg,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});Q0.defaultProps=bg.getDefaultOptions();var H5=Q0;function W5(i,r){if(i==null)return{};var t=j5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function j5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var J0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=W5(i,["chartRef","style","className"]),s=rn(jg,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});J0.defaultProps=jg.getDefaultOptions();var U5=J0;function Z5(i,r){if(i==null)return{};var t=K5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function K5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var q0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=Z5(i,["chartRef","style","className"]),s=rn(I0,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});q0.defaultProps=I0.getDefaultOptions();var $5=q0;function Q5(i,r){if(i==null)return{};var t=J5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function J5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var tm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=Q5(i,["chartRef","style","className"]),s=rn(Ay,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});tm.defaultProps=Ay.getDefaultOptions();var q5=tm;function tF(i,r){if(i==null)return{};var t=eF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function eF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var em=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=tF(i,["chartRef","style","className"]),s=rn(gy,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});em.defaultProps=gy.getDefaultOptions();var rF=em;function nF(i,r){if(i==null)return{};var t=iF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function iF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var rm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=nF(i,["chartRef","style","className"]),s=rn(Fy,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});rm.defaultProps=Fy.getDefaultOptions();var aF=rm;function oF(i,r){if(i==null)return{};var t=sF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function sF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var nm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=oF(i,["chartRef","style","className"]),s=rn(Kp,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});nm.defaultProps=Kp.getDefaultOptions();var im=nm;function lF(i,r){if(i==null)return{};var t=uF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function uF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var am=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=lF(i,["chartRef","style","className"]),s=rn(By,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});am.defaultProps=By.getDefaultOptions();var om=am;function fF(i,r){if(i==null)return{};var t=hF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function hF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var sm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=fF(i,["chartRef","style","className"]),s=rn(s0,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});sm.defaultProps=s0.getDefaultOptions();var cF=sm;function vF(i,r){if(i==null)return{};var t=dF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function dF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var lm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=vF(i,["chartRef","style","className"]),s=rn(Gg,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});lm.defaultProps=Gg.getDefaultOptions();var pF=lm;function gF(i,r){if(i==null)return{};var t=yF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function yF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var um=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=gF(i,["chartRef","style","className"]),s=rn(Cg,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});um.defaultProps=Cg.getDefaultOptions();var mF=um;function xF(i,r){if(i==null)return{};var t=bF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function bF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var fm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=xF(i,["chartRef","style","className"]),s=rn(ny,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});fm.defaultProps=ny.getDefaultOptions();var wF=fm;function SF(i,r){if(i==null)return{};var t=CF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function CF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var hm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=SF(i,["chartRef","style","className"]),s=rn(uy,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});hm.defaultProps=uy.getDefaultOptions();var MF=hm;function EF(i,r){if(i==null)return{};var t=AF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function AF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var cm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=EF(i,["chartRef","style","className"]),s=rn(c0,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});cm.defaultProps=c0.getDefaultOptions();var vm=cm;function TF(i,r){if(i==null)return{};var t=PF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function PF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var dm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=TF(i,["chartRef","style","className"]),s=rn(Py,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});dm.defaultProps=Py.getDefaultOptions();var pm=dm;function _F(i,r){if(i==null)return{};var t=LF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function LF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var gm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=_F(i,["chartRef","style","className"]),s=rn(_g,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});gm.defaultProps=_g.getDefaultOptions();var IF=gm;function OF(i,r){if(i==null)return{};var t=kF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function kF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var ym=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=OF(i,["chartRef","style","className"]),s=rn(ty,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});ym.defaultProps=ty.getDefaultOptions();var BF=ym;function DF(i,r){if(i==null)return{};var t=FF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function FF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var mm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=DF(i,["chartRef","style","className"]),s=rn(d0,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});mm.defaultProps=d0.getDefaultOptions();var xm=mm;function RF(i,r){if(i==null)return{};var t=NF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function NF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var bm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=RF(i,["chartRef","style","className"]),s=rn(my,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});bm.defaultProps=my.getDefaultOptions();var YF=bm;function GF(i,r){if(i==null)return{};var t=zF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function zF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var wm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=GF(i,["chartRef","style","className"]),s=rn(jy,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});wm.defaultProps=jy.getDefaultOptions();var XF=wm;function VF(i,r){if(i==null)return{};var t=HF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function HF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Sm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=VF(i,["chartRef","style","className"]),s=rn(Rg,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});Sm.defaultProps=Rg.getDefaultOptions();var WF=Sm;function jF(i,r){if(i==null)return{};var t=UF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function UF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Cm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=jF(i,["chartRef","style","className"]),s=rn(yg,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});Cm.defaultProps=yg.getDefaultOptions();var ZF=Cm;function KF(i,r){if(i==null)return{};var t=$F(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function $F(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Mm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=KF(i,["chartRef","style","className"]),s=rn(Kg,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});Mm.defaultProps=Kg.getDefaultOptions();var QF=Mm;function JF(i,r){if(i==null)return{};var t=qF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function qF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Em=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=JF(i,["chartRef","style","className"]),s=rn(B0,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});Em.defaultProps=B0.getDefaultOptions();var tR=Em;function eR(i,r){if(i==null)return{};var t=rR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function rR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Am=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=eR(i,["chartRef","style","className"]),s=rn(My,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});Am.defaultProps=My.getDefaultOptions();var nR=Am;function iR(i,r){if(i==null)return{};var t=aR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function aR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Tm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=iR(i,["chartRef","style","className"]),s=rn(lg,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});Tm.defaultProps=lg.getDefaultOptions();var oR=Tm;function sR(i,r){if(i==null)return{};var t=lR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function lR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Pm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=sR(i,["chartRef","style","className"]),s=rn(m0,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});Pm.defaultProps=m0.getDefaultOptions();var _m=Pm;function uR(i,r){if(i==null)return{};var t=fR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function fR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Lm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=uR(i,["chartRef","style","className"]),s=rn(g0,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});Lm.defaultProps=g0.getDefaultOptions();var Im=Lm;function hR(i,r){if(i==null)return{};var t=cR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function cR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Om=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=hR(i,["chartRef","style","className"]),s=rn(b0,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});Om.defaultProps=b0.getDefaultOptions();var vR=Om;function dR(i,r){if(i==null)return{};var t=pR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function pR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var km=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=dR(i,["chartRef","style","className"]),s=rn(og,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});km.defaultProps=og.getDefaultOptions();var gR=km;function yR(i,r){if(i==null)return{};var t=mR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function mR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Bm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=yR(i,["chartRef","style","className"]),s=rn(Vy,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))});Bm.defaultProps=Vy.getDefaultOptions();var xR=Bm;function bR(i,r){if(i==null)return{};var t=wR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function wR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var SR=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=bR(i,["chartRef","style","className"]),s=rn(IO,o),l=s.chart,u=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(qr,null,K.createElement("div",{className:a,style:n,ref:u}))}),Dm=SR,CR={i8:"3.8.5"},jn=d(50229),MR={getDefaultCfg:function(){return{}},getEvents:function(){return{}},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(r){var t=this,e=this.events;this.graph=r,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!0),(0,Cn.default)(e,function(n,a){r.on(a,n)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(r){var t=this.events;(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!1),(0,Cn.default)(t,function(e,n){r.off(n,e)})},get:function(r){return this[r]},set:function(r,t){return this[r]=t,this}},ER=function(){function i(){}return i.registerBehavior=function(r,t){if(!t)throw new Error("please specify handler for this behavior: "+r);var e=(0,jn.d9)(MR);Object.assign(e,t);var n=function(o){var s=this;Object.assign(this,this.getDefaultCfg(),o);var l=this.getEvents();this.events=null;var u={};l&&((0,jn.S6)(l,function(h,c){u[c]=(0,jn.Ko)(s,h)}),this.events=u)};n.prototype=e,i.types[r]=n},i.hasBehavior=function(r){return!!i.types[r]},i.getBehavior=function(r){return i.types[r]},i.types={},i}(),Zh=ER,Kh;(function(i){i.CLICK="click",i.DBLCLICK="dblclick",i.MOUSEDOWN="mousedown",i.MOUDEUP="mouseup",i.CONTEXTMENU="contextmenu",i.MOUSEENTER="mouseenter",i.MOUSEOUT="mouseout",i.MOUSEOVER="mouseover",i.MOUSEMOVE="mousemove",i.MOUSELEAVE="mouseleave",i.DRAGSTART="dragstart",i.DRAGEND="dragend",i.DRAG="drag",i.DRAGENTER="dragenter",i.DRAGLEAVE="dragleave",i.DRAGOVER="dragover",i.DRAGOUT="dragout",i.DDROP="drop",i.KEYUP="keyup",i.KEYDOWN="keydown",i.WHEEL="wheel",i.FOCUS="focus",i.BLUR="blur",i.TOUCHSTART="touchstart",i.TOUCHMOVE="touchmove",i.TOUCHEND="touchend",i.NODE_CONTEXTMENU="node:contextmenu",i.NODE_CLICK="node:click",i.NODE_DBLCLICK="node:dblclick",i.NODE_MOUSEDOWN="node:mousedown",i.NODE_MOUSEUP="node:mouseup",i.NODE_MOUSEENTER="node:mouseenter",i.NODE_MOUSELEAVE="node:mouseleave",i.NODE_MOUSEMOVE="node:mousemove",i.NODE_MOUSEOUT="node:mouseout",i.NODE_MOUSEOVER="node:mouseover",i.NODE_DROP="node:drop",i.NODE_DRAGOVER="node:dragover",i.NODE_DRAGENTER="node:dragenter",i.NODE_DRAGLEAVE="node:dragleave",i.NODE_DRAGSTART="node:dragstart",i.NODE_DRAG="node:drag",i.NODE_DRAGEND="node:dragend",i.COMBO_CONTEXTMENU="combo:contextmenu",i.COMBO_CLICK="combo:click",i.COMBO_DBLCLICK="combo:dblclick",i.COMBO_MOUSEDOWN="combo:mousedown",i.COMBO_MOUSEUP="combo:mouseup",i.COMBO_MOUSEENTER="combo:mouseenter",i.COMBO_MOUSELEAVE="combo:mouseleave",i.COMBO_MOUSEMOVE="combo:mousemove",i.COMBO_MOUSEOUT="combo:mouseout",i.COMBO_MOUSEOVER="combo:mouseover",i.COMBO_DROP="combo:drop",i.COMBO_DRAGOVER="combo:dragover",i.COMBO_DRAGENTER="combo:dragenter",i.COMBO_DRAGLEAVE="combo:dragleave",i.COMBO_DRAGSTART="combo:dragstart",i.COMBO_DRAG="combo:drag",i.COMBO_DRAGEND="combo:dragend",i.EDGE_CONTEXTMENU="edge:contextmenu",i.EDGE_CLICK="edge:click",i.EDGE_DBLCLICK="edge:dblclick",i.EDGE_MOUSEDOWN="edge:mousedown",i.EDGE_MOUSEUP="edge:mouseup",i.EDGE_MOUSEENTER="edge:mouseenter",i.EDGE_MOUSELEAVE="edge:mouseleave",i.EDGE_MOUSEMOVE="edge:mousemove",i.EDGE_MOUSEOUT="edge:mouseout",i.EDGE_MOUSEOVER="edge:mouseover",i.EDGE_DROP="edge:drop",i.EDGE_DRAGOVER="edge:dragover",i.EDGE_DRAGENTER="edge:dragenter",i.EDGE_DRAGLEAVE="edge:dragleave",i.CANVAS_CONTEXTMENU="canvas:contextmenu",i.CANVAS_CLICK="canvas:click",i.CANVAS_DBLCLICK="canvas:dblclick",i.CANVAS_MOUSEDOWN="canvas:mousedown",i.CANVAS_MOUSEUP="canvas:mouseup",i.CANVAS_MOUSEENTER="canvas:mouseenter",i.CANVAS_MOUSELEAVE="canvas:mouseleave",i.CANVAS_MOUSEMOVE="canvas:mousemove",i.CANVAS_MOUSEOUT="canvas:mouseout",i.CANVAS_MOUSEOVER="canvas:mouseover",i.CANVAS_DROP="canvas:drop",i.CANVAS_DRAGENTER="canvas:dragenter",i.CANVAS_DRAGLEAVE="canvas:dragleave",i.CANVAS_DRAGSTART="canvas:dragstart",i.CANVAS_DRAG="canvas:drag",i.CANVAS_DRAGEND="canvas:dragend",i.BEFORERENDER="beforerender",i.AFTERRENDER="afterrender",i.BEFOREADDITEM="beforeadditem",i.AFTERADDITEM="afteradditem",i.BEFOREREMOVEITEM="beforeremoveitem",i.AFTERREMOVEITEM="afterremoveitem",i.BEFOREUPDATEITEM="beforeupdateitem",i.AFTERUPDATEITEM="afterupdateitem",i.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",i.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",i.BEFOREITEMSTATECHANGE="beforeitemstatechange",i.AFTERITEMSTATECHANGE="afteritemstatechange",i.BEFOREITEMREFRESH="beforeitemrefresh",i.AFTERITEMREFRESH="afteritemrefresh",i.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",i.AFTERITEMSTATESCLEAR="afteritemstatesclear",i.BEFOREMODECHANGE="beforemodechange",i.AFTERMODECHANGE="aftermodechange",i.BEFORELAYOUT="beforelayout",i.AFTERLAYOUT="afterlayout",i.BEFORECREATEEDGE="beforecreateedge",i.AFTERCREATEEDGE="aftercreateedge",i.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",i.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",i.BEFOREGRAPHREFRESH="beforegraphrefresh",i.AFTERGRAPHREFRESH="aftergraphrefresh",i.BEFOREANIMATE="beforeanimate",i.AFTERANIMATE="afteranimate",i.BEFOREPAINT="beforepaint",i.AFTERPAINT="afterpaint",i.GRAPHSTATECHANGE="graphstatechange",i.AFTERACTIVATERELATIONS="afteractivaterelations",i.NODESELECTCHANGE="nodeselectchange",i.TOOLTIPCHANGE="tooltipchange",i.WHEELZOOM="wheelzoom",i.VIEWPORTCHANGE="viewportchange",i.DRAGNODEEND="dragnodeend",i.STACKCHANGE="stackchange"})(Kh||(Kh={}));var Ra=d(16185);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $h=function(r,t){return $h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},$h(r,t)};function Bn(i,r){$h(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var te=function(){return te=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},te.apply(this,arguments)};function Zi(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t}function ez(i,r,t,e){var n=arguments.length,a=n<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,r,t,e);else for(var s=i.length-1;s>=0;s--)(o=i[s])&&(a=(n<3?o(a):n>3?o(r,t,a):o(r,t))||a);return n>3&&a&&Object.defineProperty(r,t,a),a}function rz(i,r){return function(t,e){r(t,e,i)}}function nz(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)}function iz(i,r,t,e){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(h){try{u(e.next(h))}catch(c){o(c)}}function l(h){try{u(e.throw(h))}catch(c){o(c)}}function u(h){h.done?a(h.value):n(h.value).then(s,l)}u((e=e.apply(i,r||[])).next())})}function az(i,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},e,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(h){return l([u,h])}}function l(u){if(e)throw new TypeError("Generator is already executing.");for(;t;)try{if(e=1,n&&(a=u[0]&2?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(i,t)}catch(h){u=[6,h],n=0}finally{e=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function oz(i,r,t,e){e===void 0&&(e=t),i[e]=r[t]}function sz(i,r){for(var t in i)t!=="default"&&!r.hasOwnProperty(t)&&(r[t]=i[t])}function Fm(i){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&i[r],e=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&e>=i.length&&(i=void 0),{value:i&&i[e++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function AR(i,r){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var e=t.call(i),n,a=[],o;try{for(;(r===void 0||r-- >0)&&!(n=e.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(t=e.return)&&t.call(e)}finally{if(o)throw o.error}}return a}function lz(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(AR(arguments[r]));return i}function zs(){for(var i=0,r=0,t=arguments.length;r<t;r++)i+=arguments[r].length;for(var e=Array(i),n=0,r=0;r<t;r++)for(var a=arguments[r],o=0,s=a.length;o<s;o++,n++)e[n]=a[o];return e}function du(i){return this instanceof du?(this.v=i,this):new du(i)}function uz(i,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t.apply(i,r||[]),n,a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(v){e[v]&&(n[v]=function(g){return new Promise(function(C,F){a.push([v,g,C,F])>1||s(v,g)})})}function s(v,g){try{l(e[v](g))}catch(C){c(a[0][3],C)}}function l(v){v.value instanceof du?Promise.resolve(v.value.v).then(u,h):c(a[0][2],v)}function u(v){s("next",v)}function h(v){s("throw",v)}function c(v,g){v(g),a.shift(),a.length&&s(a[0][0],a[0][1])}}function fz(i){var r,t;return r={},e("next"),e("throw",function(n){throw n}),e("return"),r[Symbol.iterator]=function(){return this},r;function e(n,a){r[n]=i[n]?function(o){return(t=!t)?{value:du(i[n](o)),done:n==="return"}:a?a(o):o}:a}}function hz(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],t;return r?r.call(i):(i=typeof Fm=="function"?Fm(i):i[Symbol.iterator](),t={},e("next"),e("throw"),e("return"),t[Symbol.asyncIterator]=function(){return this},t);function e(a){t[a]=i[a]&&function(o){return new Promise(function(s,l){o=i[a](o),n(s,l,o.done,o.value)})}}function n(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}function cz(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i}function vz(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var t in i)Object.hasOwnProperty.call(i,t)&&(r[t]=i[t]);return r.default=i,r}function dz(i){return i&&i.__esModule?i:{default:i}}function pz(i,r){if(!r.has(i))throw new TypeError("attempted to get private field on non-instance");return r.get(i)}function gz(i,r,t){if(!r.has(i))throw new TypeError("attempted to set private field on non-instance");return r.set(i,t),t}var TR=d(30490),PR=function(i){Bn(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.item=e.item,n.canvasX=e.canvasX,n.canvasY=e.canvasY,n.wheelDelta=e.wheelDelta,n.detail=e.detail,n}return r}(TR.Z),Qh=function(r){var t=0,e=0,n=0,a=0;if((0,Ra.default)(r))t=e=n=a=r;else if((0,mn.default)(r)){var o=parseInt(r,10);t=e=n=a=o}else(0,Oi.default)(r)&&(t=r[0],n=(0,Ii.default)(r[1])?r[0]:r[1],a=(0,Ii.default)(r[2])?r[0]:r[2],e=(0,Ii.default)(r[3])?n:r[3]);return[t,n,a,e]},pu=function(r){var t=new PR(r.type,r);return t.clientX=r.clientX,t.clientY=r.clientY,t.x=r.x,t.y=r.y,t.target=r.target,t.currentTarget=r.currentTarget,t.bubbles=!0,t.item=r.item,t},Rm=function(r){if(!r)return!1;for(var t=9,e=[1,0,0,0,1,0,0,0,1],n=0;n<t;n++)if(r[n]!==e[n])return!0;return!1},fo=function(r){return Number.isNaN(Number(r))},Nm=function(r){for(var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity,o=0;o<r.length;o++){var s=r[o],l=s.getBBox(),u=l.minX,h=l.minY,c=l.maxX,v=l.maxY;u<t&&(t=u),h<n&&(n=h),c>e&&(e=c),v>a&&(a=v)}var g=Math.floor(t),C=Math.floor(n),F=Math.ceil(e)-Math.floor(t),G=Math.ceil(a)-Math.floor(n);return{x:g,y:C,width:F,height:G,minX:t,minY:n,maxX:e,maxY:a}},_R=function(r,t){t===void 0&&(t=15);for(var e=r.length,n=t*2,a=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],o={},s=[],l={},u=0;u<e;u++){var h=r[u],c=h.source,v=h.target,g=c+"-"+v;if(!s[u]){o[g]||(o[g]=[]),s[u]=!0,o[g].push(h);for(var C=0;C<e;C++)if(u!==C){var F=r[C],G=F.source,V=F.target;s[C]||(c===V&&v===G?(o[g].push(F),s[C]=!0,l[G+"|"+V+"|"+(o[g].length-1)]=!0):c===G&&v===V&&(o[g].push(F),s[C]=!0))}}}for(var X in o)for(var at=o[X],st=at.length,xt=0;xt<st;xt++){var kt=at[xt];if(kt.source===kt.target){kt.type="loop",kt.loopCfg={position:a[xt%8],dist:Math.floor(xt/8)*20+50};continue}kt.type="quadratic";var Gt=(xt%2==0?1:-1)*(l[kt.source+"|"+kt.target+"|"+xt]?-1:1);st%2==1?kt.curveOffset=Gt*Math.ceil(xt/2)*n:kt.curveOffset=Gt*(Math.floor(xt/2)*n+t)}return r},Ym=Math.abs,LR=10,IR=["shift","ctrl","alt","control"],OR={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0}},getEvents:function(){return{dragstart:"onMouseDown",mousedown:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp",mouseup:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"}},updateViewport:function(r){var t=this.origin,e=+r.clientX,n=+r.clientY;if(!(fo(e)||fo(n))){var a=e-t.x,o=n-t.y;this.get("direction")==="x"?o=0:this.get("direction")==="y"&&(a=0),this.origin={x:e,y:n};var s=this.graph.get("width"),l=this.graph.get("height"),u=this.graph.get("canvas").getCanvasBBox();(u.minX<=s+this.scalableRange&&u.minX+a>s+this.scalableRange||u.maxX+this.scalableRange>=0&&u.maxX+this.scalableRange+a<0)&&(a=0),(u.minY<=l+this.scalableRange&&u.minY+o>l+this.scalableRange||u.maxY+this.scalableRange>=0&&u.maxY+this.scalableRange+o<0)&&(o=0),this.graph.translate(a,o)}},onMouseDown:function(r){var t=this,e=r.originalEvent;if(!(e&&e.button!==0)&&!(r.name!==Kh.TOUCHSTART&&window&&window.event&&typeof window!="undefined"&&!window.event.buttons&&!window.event.button)&&!(t.keydown||r.shape)&&(t.origin={x:r.clientX,y:r.clientY},t.dragging=!1,this.enableOptimize)){for(var n=this.graph,a=n.getEdges(),o=0,s=a.length;o<s;o++){var l=a[o].get("group").get("children");!l||l.forEach(function(X){X.hide()})}for(var u=n.getNodes(),h=0,c=u.length;h<c;h++)for(var v=u[h].getContainer(),g=v.get("children"),C=0,F=g;C<F.length;C++){var G=F[C],V=G.get("isKeyShape");V||G.hide()}}},onMouseMove:function(r){var t=this.graph;if(!(this.keydown||r.shape)&&(r=pu(r),!!this.origin)){if(this.dragging)r.type="drag",t.emit("canvas:drag",r);else{if(Ym(this.origin.x-r.clientX)+Ym(this.origin.y-r.clientY)<LR)return;this.shouldBegin.call(this,r)&&(r.type="dragstart",t.emit("canvas:dragstart",r),this.dragging=!0)}this.shouldUpdate.call(this,r)&&this.updateViewport(r)}},onMouseUp:function(r){var t=this.graph;if(!(this.keydown||r.shape)){if(this.enableOptimize){for(var e=t.getEdges(),n=0,a=e.length;n<a;n++){var o=e[n].get("group").get("children");!o||o.forEach(function(G){G.show()})}for(var s=t.getNodes(),l=0,u=s.length;l<u;l++)for(var h=s[l].getContainer(),c=h.get("children"),v=0,g=c;v<g.length;v++){var C=g[v],F=C.get("isKeyShape");F||C.show()}}if(!this.dragging){this.origin=null;return}r=pu(r),this.shouldEnd.call(this,r)&&this.updateViewport(r),r.type="dragend",t.emit("canvas:dragend",r),this.endDrag()}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(r){var t=this,e=r.key;!e||(IR.indexOf(e.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},kR=d(6767),gu=d.n(kR),BR=d(17621),yu=d.n(BR),mu=2,Gm=.16,DR=.05,FR=.05,RR=.15,zm=5,Xm=4,NR=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Vm(i,r,t){var e;return Math.round(i.h)>=60&&Math.round(i.h)<=240?e=t?Math.round(i.h)-mu*r:Math.round(i.h)+mu*r:e=t?Math.round(i.h)+mu*r:Math.round(i.h)-mu*r,e<0?e+=360:e>=360&&(e-=360),e}function Hm(i,r,t){if(i.h===0&&i.s===0)return i.s;var e;return t?e=i.s-Gm*r:r===Xm?e=i.s+Gm:e=i.s+DR*r,e>1&&(e=1),t&&r===zm&&e>.1&&(e=.1),e<.06&&(e=.06),Number(e.toFixed(2))}function Wm(i,r,t){var e;return t?e=i.v+FR*r:e=i.v-RR*r,e>1&&(e=1),Number(e.toFixed(2))}function Jh(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],e=yu()(i),n=zm;n>0;n-=1){var a=e.toHsv(),o=yu()({h:Vm(a,n,!0),s:Hm(a,n,!0),v:Wm(a,n,!0)}).toHexString();t.push(o)}t.push(e.toHexString());for(var s=1;s<=Xm;s+=1){var l=e.toHsv(),u=yu()({h:Vm(l,s),s:Hm(l,s),v:Wm(l,s)}).toHexString();t.push(u)}return r.theme==="dark"?NR.map(function(h){var c=h.index,v=h.opacity,g=yu().mix(r.backgroundColor||"#141414",t[c],v*100).toHexString();return g}):t}var qh={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ki={},tc={};Object.keys(qh).forEach(function(i){Ki[i]=Jh(qh[i]),Ki[i].primary=Ki[i][5],tc[i]=Jh(qh[i],{theme:"dark",backgroundColor:"#141414"}),tc[i].primary=tc[i][5]});var yz=Ki.red,mz=Ki.volcano,xz=Ki.gold,bz=Ki.orange,wz=Ki.yellow,Sz=Ki.lime,Cz=Ki.green,Mz=Ki.cyan,Ez=Ki.blue,Az=Ki.geekblue,Tz=Ki.purple,Pz=Ki.magenta,_z=Ki.grey,ja=function(r,t,e){var n=gu()(r),a=gu()(t);return gu()([(1-e)*n.color[0]+e*a.color[0],(1-e)*n.color[1]+e*a.color[1],(1-e)*n.color[2]+e*a.color[2]]).rgb()},jm=function(r,t,e,n){t===void 0&&(t="#fff"),e===void 0&&(e="default"),n===void 0&&(n="rgb(150, 150, 150)");var a=ja(t,r,.05).rgb().toString(),o=ja(t,n,.02).rgb().toString(),s=ja(t,n,.05).rgb().toString(),l=ja(t,n,.1).rgb().toString(),u=ja(t,n,.2).rgb().toString(),h=ja(t,n,.3).rgb().toString(),c=Jh(r,{theme:e,backgroundColor:t}),v=gu()(r).hex().toLowerCase(),g=c.indexOf(v),C=r;return g!==-1&&(C=c[g+1]),{mainStroke:r,mainFill:ja(t,r,.1).rgb().toString(),activeStroke:r,activeFill:a,inactiveStroke:ja(t,r,.4).rgb().toString(),inactiveFill:a,selectedStroke:r,selectedFill:t,highlightStroke:C,highlightFill:ja(t,r,.2).rgb().toString(),disableStroke:h,disableFill:s,edgeMainStroke:h,edgeActiveStroke:r,edgeInactiveStroke:u,edgeSelectedStroke:r,edgeHighlightStroke:r,edgeDisableStroke:l,comboMainStroke:h,comboMainFill:o,comboActiveStroke:r,comboActiveFill:a,comboInactiveStroke:h,comboInactiveFill:o,comboSelectedStroke:r,comboSelectedFill:o,comboHighlightStroke:C,comboHighlightFill:o,comboDisableStroke:u,comboDisableFill:s}},YR="rgb(95, 149, 255)",GR="rgb(255, 255, 255)",Um="rgb(0, 0, 0)",hn=jm(YR,GR),ze={version:"3.8.5",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",customGroupContainerClassName:"custom-group-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:hn.mainStroke,fill:hn.mainFill},size:20,color:hn.mainStroke,linkPoints:{size:8,lineWidth:1,fill:hn.activeFill,stroke:hn.activeStroke}},nodeStateStyles:{active:{fill:hn.activeFill,stroke:hn.activeStroke,lineWidth:2,shadowColor:hn.mainStroke,shadowBlur:10},selected:{fill:hn.selectedFill,stroke:hn.selectedStroke,lineWidth:4,shadowColor:hn.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:hn.highlightFill,stroke:hn.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:hn.inactiveFill,stroke:hn.inactiveStroke,lineWidth:1},disable:{fill:hn.disableFill,stroke:hn.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:Um,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:hn.edgeMainStroke,lineAppendWidth:2},color:hn.edgeMainStroke},edgeStateStyles:{active:{stroke:hn.edgeActiveStroke,lineWidth:1},selected:{stroke:hn.edgeSelectedStroke,lineWidth:2,shadowColor:hn.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:hn.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:hn.edgeInactiveStroke,lineWidth:1},disable:{stroke:hn.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:Um,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:hn.comboMainFill,lineWidth:1,stroke:hn.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:hn.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:hn.comboActiveStroke,lineWidth:1,fill:hn.comboActiveFill},selected:{stroke:hn.comboSelectedStroke,lineWidth:2,fill:hn.comboSelectedFill,shadowColor:hn.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:hn.comboHighlightStroke,lineWidth:2,fill:hn.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:hn.comboInactiveStroke,fill:hn.comboInactiveFill,lineWidth:1},disable:{stroke:hn.comboDisableStroke,fill:hn.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},zR={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(r){if(!this.origin||!r||r.destroyed)return!1;var t=r.getType();return t==="combo"},onDragStart:function(r){var t=this;if(!!this.shouldBegin.call(this,r)){var e=r.item;if(!(!e||e.destroyed||e.hasLocked())){var n=e.getContainer();n.set("capture",!1);var a=r.target;if(a){var o=a.get("isAnchorPoint");if(o)return}var s=this.graph;this.targets=[],this.targetCombo=null;var l=s.findAllByState("node",this.selectedState),u=e.get("id"),h=l.filter(function(v){var g=v.get("id");return u===g});h.length===0?this.targets.push(e):l.length>1?l.forEach(function(v){var g=v.hasLocked();g||t.targets.push(v)}):this.targets.push(e);var c=[];this.targets.forEach(function(v){c.push((0,jn.d9)(v.getModel()))}),this.set("beforeDragNodes",c),this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}}},onDrag:function(r){var t=this;!this.origin||!this.shouldUpdate(this,r)||(this.get("enableDelegate")?this.updateDelegate(r):this.targets.map(function(e){t.update(e,r)}))},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){var t=r.item;if(t){var e=t.getContainer();e.set("capture",!0)}this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(r);var n=this.graph;if(n.get("enabledStack")){var a={before:{nodes:this.get("beforeDragNodes"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.targets.forEach(function(o){a.after.nodes.push(o.getModel())}),n.pushStack("update",(0,jn.d9)(a))}n.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(r){var t=r.item;if(!!this.validationCombo(t)){this.updatePositions(r);var e=this.graph;if(this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)e.updateCombos();else{var n=t.getModel();this.targets.map(function(a){var o=a.getModel();o.comboId!==n.id&&e.updateComboTree(a,n.id)}),e.updateCombo(t)}e.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(r){var t=this.graph;!this.targets||this.targets.length===0||(this.updatePositions(r),this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(e){var n=e.getModel();n.comboId&&t.updateComboTree(e)}))},onDropNode:function(r){if(!(!this.targets||this.targets.length===0)){var t=this,e=r.item;this.updatePositions(r);var n=t.graph,a=e.getModel().comboId;if(a){var o=n.findById(a);t.comboActiveState&&n.setItemState(o,t.comboActiveState,!1),this.targets.map(function(s){var l=s.getModel();a!==l.comboId&&n.updateComboTree(s,a)}),n.updateCombo(o)}else this.targets.map(function(s){var l=s.getModel();l.comboId&&n.updateComboTree(s)});n.emit("dragnodeend",{items:this.targets,targetItem:e})}},onDragEnter:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(r){var t=this;!this.targets||this.targets.length===0||this.get("enableDelegate")&&this.targets.map(function(e){return t.update(e,r)})},update:function(r,t){var e=this.origin,n=r.get("model"),a=r.get("id");this.point[a]||(this.point[a]={x:n.x||0,y:n.y||0});var o=t.x-e.x+this.point[a].x,s=t.y-e.y+this.point[a].y,l={x:o,y:s};this.get("updateEdge")?this.graph.updateItem(r,l,!1):r.updatePosition(l)},updateDelegate:function(r){var t=this.graph;if(this.delegateRect){var v=r.x-this.origin.x+this.originPoint.minX,g=r.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:v,y:g})}else{var e=this.graph.get("group"),n=(0,jn.b$)({},ze.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(r),o=a.x,s=a.y,l=a.width,u=a.height,h=a.minX,c=a.minY;this.originPoint={x:o,y:s,width:l,height:u,minX:h,minY:c},this.delegateRect=e.addShape("rect",{attrs:te({width:l,height:u,x:o,y:s},n),name:"rect-delegate-shape"}),this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(r){var t=this.graph,e=t.findAllByState("node",this.selectedState);e.length===0&&e.push(r.item);for(var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity,l=0;l<e.length;l++){var u=e[l],h=u.getBBox(),c=h.minX,v=h.minY,g=h.maxX,C=h.maxY;c<n&&(n=c),v<o&&(o=v),g>a&&(a=g),C>s&&(s=C)}var F=Math.floor(n),G=Math.floor(o),V=Math.ceil(a)-Math.floor(n),X=Math.ceil(s)-Math.floor(o);return{x:F,y:G,width:V,height:X,minX:n,minY:o}}},XR={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","canvas:click":"clearAllItemStates"}},setAllItemStates:function(r){var t=r.item,e=this.graph;if(this.item=t,!!this.shouldUpdate(r.item,{event:r,action:"activate"})){for(var n=this,a=this.activeState,o=this.inactiveState,s=e.getNodes(),l=e.getEdges(),u=s.length,h=l.length,c=0;c<u;c++){var v=s[c],g=v.hasState("selected");n.resetSelected&&g&&e.setItemState(v,"selected",!1),e.setItemState(v,a,!1),o&&e.setItemState(v,o,!0)}for(var c=0;c<h;c++){var C=l[c];e.setItemState(C,a,!1),o&&e.setItemState(C,o,!0)}o&&e.setItemState(t,o,!1),e.setItemState(t,a,!0);for(var F=t.getEdges(),G=F.length,c=0;c<G;c++){var C=F[c],V=void 0;C.getSource()===t?V=C.getTarget():V=C.getSource(),o&&e.setItemState(V,o,!1),e.setItemState(V,a,!0),e.setItemState(C,o,!1),e.setItemState(C,a,!0),C.toFront()}e.emit("afteractivaterelations",{item:r.item,action:"activate"})}},clearActiveState:function(r){var t=this,e=t.get("graph");if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){var n=this.activeState,a=this.inactiveState,o=e.get("autoPaint");e.setAutoPaint(!1);for(var s=e.getNodes(),l=e.getEdges(),u=s.length,h=l.length,c=0;c<u;c++){var v=s[c];e.clearItemStates(v,[n,a])}for(var c=0;c<h;c++){var g=l[c];e.clearItemStates(g,[n,a,"deactivate"])}e.paint(),e.setAutoPaint(o),e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}},clearAllItemStates:function(r){var t=this,e=t.graph;if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){for(var n=this.activeState,a=this.inactiveState,o=e.getNodes(),s=e.getEdges(),l=o.length,u=s.length,h=0;h<l;h++){var c=o[h];e.clearItemStates(c,[n,a])}for(var h=0;h<u;h++){var v=s[h];e.clearItemStates(v,[n,a,"deactivate"])}e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}}},xu=Math.min,Zm=Math.max,Km=Math.abs,$m="shift",VR=["drag","shift","ctrl","alt","control"],HR={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:$m,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return VR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=$m,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(r){var t=r.item,e=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),e||(e=this.createBrush()),this.originPoint={x:r.canvasX,y:r.canvasY},e.attr({width:0,height:0}),e.show(),this.dragging=!0)},onMouseMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(r)},onMouseUp:function(r){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(r),this.dragging=!1)},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(r){var t=this,e=this,n=e.graph,a=e.originPoint,o=e.shouldUpdate,s=this.selectedState,l={x:r.x,y:r.y},u=n.getPointByCanvas(a.x,a.y),h=xu(l.x,u.x),c=Zm(l.x,u.x),v=xu(l.y,u.y),g=Zm(l.y,u.y),C=[],F=[];n.getNodes().forEach(function(V){var X=V.getBBox();if(X.centerX>=h&&X.centerX<=c&&X.centerY>=v&&X.centerY<=g&&o(V,"select")){C.push(V);var at=V.getModel();F.push(at.id),n.setItemState(V,s,!0)}});var G=[];this.includeEdges&&C.forEach(function(V){var X=V.getOutEdges();X.forEach(function(at){var st=at.getModel(),xt=st.source,kt=st.target;F.includes(xt)&&F.includes(kt)&&o(at,"select")&&(G.push(at),n.setItemState(at,t.selectedState,!0))})}),this.selectedEdges=G,this.selectedNodes=C,this.onSelect&&this.onSelect(C,G),n.emit("nodeselectchange",{selectedItems:{nodes:C,edges:G},select:!0})},createBrush:function(){var r=this,t=r.graph.get("canvas").addShape("rect",{attrs:r.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,t},updateBrush:function(r){var t=this.originPoint;this.brush.attr({width:Km(r.canvasX-t.x),height:Km(r.canvasY-t.y),x:xu(r.canvasX,t.x),y:xu(r.canvasY,t.y)})},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},Qm="shift",WR=["shift","ctrl","alt","control"],jR={getDefaultCfg:function(){return{multiple:!0,trigger:Qm,selectedState:"selected"}},getEvents:function(){var r=this;return WR.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=Qm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),r.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(r){var t=this,e=r.item;if(!(!e||e.destroyed)){var n=e.getType(),a=this,o=a.graph,s=a.keydown,l=a.multiple,u=a.shouldUpdate,h=a.shouldBegin;if(!!h.call(this,r)){if(!s||!l){var c=o.findAllByState(n,this.selectedState);(0,Cn.default)(c,function(C){C!==e&&o.setItemState(C,t.selectedState,!1)})}if(e.hasState(this.selectedState)){u.call(this,r)&&o.setItemState(e,this.selectedState,!1);var v=o.findAllByState("node",this.selectedState),g=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:v,combos:g},select:!1})}else{u.call(this,r)&&o.setItemState(e,this.selectedState,!0);var v=o.findAllByState("node",this.selectedState),g=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:v,combos:g},select:!0})}}}},onCanvasClick:function(){var r=this,t=this.graph,e=t.findAllByState("node",this.selectedState);(0,Cn.default)(e,function(a){t.setItemState(a,r.selectedState,!1)});var n=t.findAllByState("combo",this.selectedState);(0,Cn.default)(n,function(a){t.setItemState(a,r.selectedState,!1)}),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()||t.toLowerCase()==="control"?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},fa=d(31502);fa.translate=function(i,r,t){var e=new Array(9);return fa.fromTranslation(e,t),fa.multiply(i,e,r)},fa.rotate=function(i,r,t){var e=new Array(9);return fa.fromRotation(e,t),fa.multiply(i,e,r)},fa.scale=function(i,r,t){var e=new Array(9);return fa.fromScaling(e,t),fa.multiply(i,e,r)},fa.transform=function(i,r){for(var t=[].concat(i),e=0,n=r.length;e<n;e++){var a=r[e];switch(a[0]){case"t":fa.translate(t,t,[a[1],a[2]]);break;case"s":fa.scale(t,t,[a[1],a[2]]);break;case"r":fa.rotate(t,t,a[1]);break;default:break}}return t};var ho=fa,Ua=d(76172);Ua.angle=function(i,r){var t=Ua.dot(i,r)/(Ua.length(i)*Ua.length(r));return Math.acos((0,f.clamp)(t,-1,1))},Ua.direction=function(i,r){return i[0]*r[1]-r[0]*i[1]},Ua.angleTo=function(i,r,t){var e=Ua.angle(i,r),n=Ua.direction(i,r)>=0;return t?n?Math.PI*2-e:e:n?e:Math.PI*2-e},Ua.vertical=function(i,r,t){return t?(i[0]=r[1],i[1]=-1*r[0]):(i[0]=-1*r[1],i[1]=r[0]),i};var Dn=Ua,UR=d(88395),Jm=UR,Za=function(i,r){var t=i?(0,f.clone)(i):[1,0,0,0,1,0,0,0,1];return(0,f.each)(r,function(e){switch(e[0]){case"t":ho.translate(t,t,[e[1],e[2]]);break;case"s":ho.scale(t,t,[e[1],e[2]]);break;case"r":ho.rotate(t,t,e[1]);break;case"m":ho.multiply(t,t,e[1]);break;default:return!1}}),t},qm=.05,ZR={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.7,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var r=this.fixSelectedItems;return r.fixState||(r.fixState="selected"),r.fixAll&&(r.fixLineWidth=!0,r.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(r){var t=r.originalEvent.touches,e=t[0],n=t[1];r.preventDefault(),!!n&&(this.startPoint={pageX:e.pageX,pageY:e.pageY},this.moveable=!0,n&&(this.endPoint={pageX:n.pageX,pageY:n.pageY}),this.originScale=this.currentScale||1)},onTouchMove:function(r){if(!!this.moveable){r.preventDefault();var t=r.originalEvent.touches,e=t[0],n=t[1];if(!!n){this.endPoint||(this.endPoint={pageX:n.pageX,pageY:n.pageY});var a=function(g,C){return Math.hypot(C.x-g.x,C.y-g.y)},o=a({x:e.pageX,y:e.pageY},{x:n.pageX,y:n.pageY})/a({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var l=this.get("minZoom")||this.graph.get("minZoom"),u=this.get("maxZoom")||this.graph.get("maxZoom");if(!(s>u||s<l)){var h=this.graph.get("canvas"),c=h.getPointByClient(r.clientX,r.clientY);this.graph.zoomTo(s,{x:c.x,y:c.y}),this.graph.emit("wheelzoom",r)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(r){var t=this,e=this,n=e.graph,a=e.fixSelectedItems;if(!!this.shouldUpdate.call(this,r)){r.preventDefault();var o=n.get("canvas"),s=o.getPointByClient(r.clientX,r.clientY),l=this.get("sensitivity"),u=n.getZoom(),h=u,c=u;r.wheelDelta<0?h=1-qm*l:h=1/(1-qm*l),c=u*h;var v=this.get("minZoom")||n.get("minZoom"),g=this.get("maxZoom")||n.get("maxZoom");if(!(c>g||c<v)){var C=this.get("enableOptimize");if(C){var F=this.get("optimizeZoom"),G=this.get("optimized"),V=n.getNodes(),X=n.getEdges(),at=V.length,st=X.length;if(!G){for(var xt=0;xt<at;xt++){var kt=V[xt];if(!kt.destroyed)for(var Gt=kt.get("group").get("children"),Wt=Gt.length,Yt=0;Yt<Wt;Yt++){var ie=Gt[Yt];!ie.destoryed&&!ie.get("isKeyShape")&&ie.hide()}}for(var de=0;de<st;de++)for(var he=X[de],Gt=he.get("group").get("children"),Wt=Gt.length,Yt=0;Yt<Wt;Yt++){var ie=Gt[Yt];ie.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var Ee=setTimeout(function(){var Rr=n.getZoom(),Jr=t.get("optimized");if(Jr){t.set("optimized",!1);for(var ln=0;ln<at;ln++){var In=V[ln],bn=In.get("group").get("children"),Gn=bn.length;if(Rr<F)In.getKeyShape().show();else for(var Un=0;Un<Gn;Un++){var Fi=bn[Un];Fi.get("visible")||Fi.show()}}for(var zi=0;zi<st;zi++){var di=X[zi],bn=di.get("group").get("children"),Gn=bn.length;if(Rr<F)di.getKeyShape().show();else for(var Un=0;Un<Gn;Un++){var Fi=bn[Un];Fi.get("visible")||Fi.show()}}}},500);this.set("timeout",Ee)}if(u<=1){var Ie=void 0,Le=void 0;if(a.fixAll||a.fixLineWidth||a.fixLabel){Ie=n.findAllByState("node",a.fixState),Le=n.findAllByState("edge",a.fixState);for(var He=u/c,je=Ie.length,Ke=0;Ke<je;Ke++){var kt=Ie[Ke],Xe=kt.getContainer(),Ve=kt.getModel(),pr=kt.getOriginStyle(),vr=kt.getStateStyle(a.fixState),xr=kt.get("shapeFactory").getShape(Ve.shape||Ve.type).getStateStyle(a.fixState,kt)[a.fixState];if(a.fixAll){if(c<=1){var Je=(0,f.clone)(Xe.getMatrix());Je||(Je=[1,0,0,0,1,0,0,0,1]);var gr=kt.getModel(),Or=gr.x,mr=gr.y;ho.translate(Je,Je,[-Or,-mr]),ho.scale(Je,Je,[He,He]),ho.translate(Je,Je,[Or,mr]),Xe.setMatrix(Je)}}else for(var Gt=Xe.get("children"),Wt=Gt.length,Yt=0;Yt<Wt;Yt++){var ie=Gt[Yt],yr=void 0,Dr=void 0;if(a.fixLabel){var Kr=ie.get("type");if(Kr==="text"){yr=ie.attr("fontSize")||12;var Er=vr[ie.get("name")],De=xr[ie.get("name")],qe=Er?Er.fontSize:12,Fr=De?De.fontSize:12,Vr=qe||Fr||12;if(c<=1&&ie.attr("fontSize",Vr/c),Dr)break}}if(a.fixLineWidth&&ie.get("isKeyShape")){Dr=ie.attr("lineWidth")||0;var _r=vr.lineWidth||xr.lineWidth||pr.lineWidth||0;if(c<=1&&ie.attr("lineWidth",_r/c),yr)break}}}for(var Qr=Le.length,Ur=0;Ur<Qr;Ur++)for(var he=Le[Ur],Xe=he.getContainer(),Gt=Xe.get("children"),Ve=he.getModel(),vr=he.getStateStyle(a.fixState),xr=he.get("shapeFactory").getShape(Ve.shape||Ve.type).getStateStyle(a.fixState,he)[a.fixState],Wt=Gt.length,Yt=0;Yt<Wt;Yt++){var ie=Gt[Yt],yr=void 0,Dr=void 0;if(a.fixLabel||a.fixAll){var Kr=ie.get("type");if(Kr==="text"){yr=ie.attr("fontSize")||12;var Er=vr[ie.get("name")],De=xr[ie.get("name")],qe=Er?Er.fontSize:12,Fr=De?De.fontSize:12,Vr=qe||Fr||12;if(c<=1&&ie.attr("fontSize",Vr/c),Dr)break}}if((a.fixLineWidth||a.fixAll)&&ie.get("isKeyShape")){Dr=ie.attr("lineWidth")||0;var _r=vr.lineWidth||xr.lineWidth||1;if(c<=1&&ie.attr("lineWidth",_r/c),yr)break}}}}n.zoomTo(c,{x:s.x,y:s.y}),n.emit("wheelzoom",r)}}}},Tn=d(1513),vi=d(57821),tx={onMouseEnter:function(r){var t=r.item;this.currentTarget=t,this.showTooltip(r),this.graph.emit("tooltipchange",{item:r.item,action:"show"})},onMouseMove:function(r){if(!this.shouldUpdate(r)){this.hideTooltip();return}!this.currentTarget||r.item!==this.currentTarget||this.updatePosition(r)},onMouseLeave:function(r){!this.shouldEnd(r)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(r){var t=this.container;if(!(!r.item||r.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var e=this.formatText(r.item.get("model"),r);t.innerHTML=e,(0,Tn.Z)(this.container,{visibility:"visible"}),this.updatePosition(r)}},hideTooltip:function(){(0,Tn.Z)(this.container,{visibility:"hidden"})},updatePosition:function(r){var t=this.get("shouldBegin"),e=this,n=e.width,a=e.height,o=e.container,s=e.graph;if(!t(r)){(0,Tn.Z)(o,{visibility:"hidden"});return}var l=s.getPointByClient(r.clientX,r.clientY),u=s.getCanvasByPoint(l.x,l.y),h=u.x,c=u.y,v=o.getBoundingClientRect();h>n/2?h-=v.width:h+=this.offset,c>a/2?c-=v.height:c+=this.offset;var g=h+"px",C=c+"px";(0,Tn.Z)(this.container,{left:g,top:C,visibility:"visible"})},createTooltip:function(r){var t=r.get("el");t.style.position="relative";var e=(0,vi.Z)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(e),(0,Tn.Z)(e,{position:"absolute",visibility:"visible"}),this.width=r.get("width"),this.height=r.get("height"),this.container=e,this.graph.get("tooltips").push(e),e}},KR=te({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},tx),$R=te({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},tx),Yi=d(90497),QR={getDefaultCfg:function(){return{delegate:!0,delegateStyle:{},delegateShapes:{},delegateShapeBBoxs:{}}},getEvents:function(){return{dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd","canvas:mouseleave":"onOutOfRange"}},onDragStart:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(!!n){var a=t.get("customGroupControll"),o=a.customGroup,s=o[n].nodeGroup;this.targetGroup=s,this.mouseOrigin={x:r.x,y:r.y};for(var l=t.save().groups,u=null,h=0;h<l.length;h++){var c=l[h];if(n===c.id){u=c.parentId;break}}if(u){var v=o[u].nodeGroup;a.setGroupStyle(v.get("keyShape"),"hover")}}},onDrag:function(r){!this.mouseOrigin||this.updateDelegate(r)},onDragEnd:function(r){var t=this.graph,e=r.target.get("groupId");if(this.delegateShapes[e]&&(this.delegateShapeBBox=this.delegateShapes[e].getBBox(),this.delegateShapes[e].remove(),delete this.delegateShapes[e]),!!this.delegateShapeBBox){var n=t.get("customGroupControll"),a=this.delegateShapeBBoxs[e];n.updateGroup(e,a,this.mouseOrigin),this.mouseOrigin=null,this.shapeOrigin=null,n.resetNodePoint(),this.delegateShapeBBox=null}},updateDelegate:function(r){var t=this.graph,e=r.target.get("groupId"),n=this.targetGroup.get("keyShape"),a=this.delegateShapes[e],o=n.getBBox(),s=n.get("type");if(a){var V=this,X=V.mouseOrigin,at=V.shapeOrigin,st=r.x-X.x,xt=r.y-X.y,kt=st+at.x,Gt=xt+at.y;a.attr({x:kt,y:Gt}),this.delegateShapeBBoxs[e]=a.getBBox()}else{var l=t.get("delegateGroup"),u=o.x,h=o.y,c=o.width,v=o.height,g=te({width:c,height:v},(0,Yi.default)({},ze.delegateStyle,this.delegateStyle));if(s==="circle"){var C=c>v?c/2:v/2,F=u+C,G=h+C;a=l.addShape("circle",{attrs:te({x:F,y:G,r:C},g),name:"circle-delegate-shape"}),this.shapeOrigin={x:F,y:G}}else a=l.addShape("rect",{attrs:te({x:u,y:h},g),name:"rect-delegate-shape"}),this.shapeOrigin={x:u,y:h};this.delegateShapes[e]=a,this.delegateShapeBBoxs[e]=a.getBBox()}},onOutOfRange:function(r){var t=this,e=this.graph.get("canvas").get("el"),n=function a(o){o.target!==e&&(t.onDragEnd(r),document.body.removeEventListener("mouseup",a,!0))};this.mouseOrigin&&document.body.addEventListener("mouseup",n,!0)}},JR=document.body,qR={getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},maxMultiple:1.1,minMultiple:1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","canvas:mouseleave":"onOutOfRange",dragover:"onDragOver",dragleave:"onDragLeave"}},onDragOver:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");this.inGroupId=n,a.setGroupStyle(l,"hover")}}},onDragLeave:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");a.setGroupStyle(l,"default")}}n||(this.inGroupId=null)},onDragStart:function(r){var t=this.graph;if(!!this.shouldBegin.call(this,r)){var e=r.item;this.target=e;var n=e.getModel(),a=n.groupId;if(a){var o=t.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,u=l.get("keyShape");o.setGroupStyle(u,"hover"),this.inGroupId=a}}this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}},onDrag:function(r){if(!!this.origin&&!!this.get("shouldUpdate").call(this,r)){this.update(this.target,r,!0);var t=r.item,e=this.graph,n=t.getModel(),a=n.groupId;if(a){var o=e.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,u=l.get("keyShape");this.inGroupId!==a?o.setGroupStyle(u,"default"):o.setGroupStyle(u,"hover")}}}},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){if(this.shape&&(this.shape.remove(),this.shape=null),this.target){var t=this.target.get("delegateShape");t&&(t.remove(),this.target.set("delegateShape",null))}this.target&&this.update(this.target,r),this.point={},this.origin=null,this.originPoint={},this.target=null,this.setCurrentGroupStyle(r)}},setCurrentGroupStyle:function(r){var t=this.graph,e=r.item,n=e.getModel(),a=n.groupId,o=n.id,s=t.get("customGroupControll"),l=s.customGroup,u=t.get("groupNodes");if(this.inGroupId&&a){var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape"),v=e.getBBox(),g=c.getBBox(),C=v.centerX,F=v.centerY,G=g.minX,V=g.minY,X=g.maxX,at=g.maxY;if(!(C<X*this.maxMultiple&&C>G*this.minMultiple&&F<at*this.maxMultiple&&F>V*this.minMultiple)||this.inGroupId!==a){var st=u[a];u[a]=st.filter(function(Gt){return Gt!==o}),s.dynamicChangeGroupSize(r,h,c),delete n.groupId}if(this.inGroupId!==a){var xt=l[this.inGroupId].nodeGroup;if(!xt)return;var kt=xt.get("keyShape");u[this.inGroupId].indexOf(o)===-1&&u[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,xt,kt)}s.setGroupStyle(c,"default")}else if(this.inGroupId&&!a){var xt=l[this.inGroupId].nodeGroup;if(!xt)return;var c=xt.get("keyShape");u[this.inGroupId].indexOf(o)===-1&&u[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,xt,c)}else if(!this.inGroupId&&a){Object.keys(u).forEach(function(Yt){var ie=u[Yt];u[Yt]=ie.filter(function(de){return de!==o})});var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape");s.dynamicChangeGroupSize(r,h,c),delete n.groupId}this.inGroupId=null},onOutOfRange:function(r){var t=this,e=t.graph.get("canvas").get("el");function n(a){a.target!==e&&(r.item=t.target,t.onDragEnd(r),document.body.removeEventListener("mouseup",n,!0))}t.origin&&JR.addEventListener("mouseup",n,!0)},update:function(r,t,e){var n=this.origin,a=r.get("model"),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-n.x+this.point[o].x,l=t.y-n.y+this.point[o].y;if(e){this.updateDelegate(t,s,l);return}var u={x:s,y:l};this.get("updateEdge")?this.graph.updateItem(r,u):(r.updatePosition(u),this.graph.paint())},updateDelegate:function(r,t,e){var n=this.graph,a=r.item,o=n.get("groupType"),s=a.get("keyShape").getBBox();if(!this.shape){var l=n.get("delegateGroup"),u=(0,Yi.default)({},ze.delegateStyle,this.delegateStyle);this.target&&(this.shape=l.addShape("rect",{attrs:te({width:s.width,height:s.height,x:t-s.width/2,y:e-s.height/2},u),name:"delegate-shape"}),this.target.set("delegateShape",this.shape)),this.shape.set("capture",!1)}this.target&&(o==="circle"?this.shape.attr({x:t-s.width/2,y:e-s.height/2}):o==="rect"&&this.shape.attr({x:t,y:e}))}},ex="dblclick",t3=["click","dblclick"],e3={getDefaultCfg:function(){return{trigger:ex}},getEvents:function(){var r,t;return t3.includes(this.trigger)?t=this.trigger:(t=ex,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r[""+t]="onGroupClick",r},onGroupClick:function(r){var t=r.target,e=this.graph,n=t.get("groupId");if(!!n){var a=e.get("customGroupControll");a.collapseExpandGroup(n)}}},rx="click",r3=["click","dblclick"],n3={getDefaultCfg:function(){return{trigger:rx,onChange:function(){}}},getEvents:function(){var r,t;return r3.includes(this.trigger)?t=this.trigger:(t=rx,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["node:"+t]="onNodeClick",r.touchstart="onNodeClick",r},onNodeClick:function(r){var t=r.item,e=this.graph.findDataById(t.get("id"));if(!!e){var n=e.children;if(!(!n||n.length===0)){var a=!e.collapsed;if(!!this.shouldBegin(r,a)&&(e.collapsed=a,t.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:r.item,collapsed:a}),!!this.shouldUpdate(r,a))){try{this.onChange(t,a)}catch(o){console.warn("G6 \u81EA 3.0.4 \u7248\u672C\u652F\u6301\u76F4\u63A5\u4ECE item.getModel() \u83B7\u53D6\u6E90\u6570\u636E(\u4E34\u65F6\u901A\u77E5\uFF0C\u5C06\u57283.2.0\u7248\u672C\u4E2D\u6E05\u9664)",o)}this.graph.layout()}}}}},i3=function i(r,t){if(t(r)!==!1&&r){var e=r.get("combos");if(e.length===0)return!1;(0,jn.S6)(e,function(n){i(n,t)})}},a3={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(r){var t=r.item;if(!t||t.destroyed||!this.shouldUpdate(this,r))return!1;var e=t.getType();return e==="combo"},onDragStart:function(r){var t=this,e=this.graph,n=r.item;if(!!this.validationCombo(r)){this.targets=[];var a=e.findAllByState("combo",this.selectedState),o=n.get("id"),s=a.filter(function(l){var u=l.get("id");return o===u});s.length===0?this.targets.push(n):this.targets=a,this.activeState&&this.targets.map(function(l){var u=l.getModel();if(u.parentId){var h=e.findById(u.parentId);h&&e.setItemState(h,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:r.x,y:r.y},this.currentItemChildCombos=[],i3(n,function(l){if(l.destroyed)return!1;var u=l.getModel();return t.currentItemChildCombos.push(u.id),!0})}},onDrag:function(r){var t=this;if(!!this.origin&&!!this.validationCombo(r))if(this.enableDelegate)this.updateDelegate(r);else{if(this.activeState){var e=this.graph,n=r.item,a=n.getModel(),o=e.getCombos(),s=n.getBBox(),l=s.centerX,u=s.centerY,h=s.width,c=o.filter(function(v){var g=v.getModel();return a.parentId,g.id!==a.id&&!t.currentItemChildCombos.includes(g.id)});c.map(function(v){var g=v.getBBox(),C=g.centerX,F=g.centerY,G=g.width,V=l-C,X=u-F,at=2*Math.sqrt(V*V+X*X);h+G-at>.8*h?e.setItemState(v,t.activeState,!0):e.setItemState(v,t.activeState,!1)})}(0,jn.S6)(this.targets,function(v){t.updateCombo(v,r)})}},updatePositions:function(r){var t=this;this.enableDelegate&&(0,jn.S6)(this.targets,function(e){t.updateCombo(e,r)})},onDrop:function(r){var t=this,e=r.item;if(!(!e||!this.targets||e.destroyed)){this.updatePositions(r);var n=this.graph,a=e.getModel();this.targets.map(function(o){var s=o.getModel();s.parentId!==a.id?(t.activeState&&n.setItemState(e,t.activeState,!1),t.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o,a.id)):n.updateCombo(e)}),this.end(e,r),this.endComparison=!0}},onNodeDrop:function(r){var t=this;if(!(!this.targets||this.targets.length===0)){this.updatePositions(r);var e=this.graph,n=r.item,a=n.getModel().comboId,o;if(a){if(this.activeState){var s=e.findById(a);e.setItemState(s,this.activeState,!1)}this.targets.map(function(l){t.onlyChangeComboSize?e.updateCombo(l):a!==l.getID()&&(o=e.findById(a),a!==l.getModel().parentId&&e.updateComboTree(l,a))})}else this.targets.map(function(l){if(t.onlyChangeComboSize)e.updateCombo(l);else{var u=l.getModel();u.comboId&&e.updateComboTree(l)}});this.endComparison=!0,this.end(o,r)}},onDragEnter:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!0)}},onDragLeave:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!1)}},onDragEnd:function(r){if(!(!this.targets||this.targets.length===0)){var t=r.item;this.updatePositions(r);var e=this.getParentCombo(t.getModel().parentId),n=this.graph;e&&this.activeState&&n.setItemState(e,this.activeState,!1),this.end(void 0,r)}},end:function(r,t){var e=this;if(!!this.origin){var n=this.graph;if(this.delegateShape){var a=n.get("delegateGroup");a.clear(),this.delegateShape=null}r&&this.activeState&&n.setItemState(r,this.activeState,!1),r||this.targets.map(function(o){e.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(r,t){var e=this;if(t(r)!==!1&&r){var n=r.get("combos");(0,jn.S6)(n,function(o){e.traverse(o,t)});var a=r.get("nodes");(0,jn.S6)(a,function(o){e.traverse(o,t)})}},updateCombo:function(r,t){var e=this;this.traverse(r,function(n){return n.destroyed?!1:(e.updateSignleItem(n,t),!0)})},updateSignleItem:function(r,t){var e=this.origin,n=this.graph,a=r.getModel(),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-e.x+this.point[o].x,l=t.y-e.y+this.point[o].y;n.updateItem(r,{x:s,y:l})},getParentCombo:function(r){var t=this.graph;if(!!r){var e=t.findById(r);if(!!e)return e}},updateDelegate:function(r){var t=this.graph;if(this.delegateShape){var v=r.x-this.origin.x+this.originPoint.minX,g=r.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:v,y:g})}else{var e=t.get("delegateGroup"),n=null;this.targets.length>1?n=Nm(this.targets):n=this.targets[0].getBBox();var a=n.x,o=n.y,s=n.width,l=n.height,u=n.minX,h=n.minY;this.originPoint={x:a,y:o,width:s,height:l,minX:u,minY:h};var c=te(te({},ze.delegateStyle),this.delegateStyle);this.delegateShape=e.addShape("rect",{attrs:te({width:n.width,height:n.height,x:n.x,y:n.y},c),name:"combo-delegate-shape"})}}},nx="dblclick",o3=["click","dblclick"],s3={getDefaultCfg:function(){return{trigger:nx,relayout:!0}},getEvents:function(){var r,t;return o3.includes(this.trigger)?t=this.trigger:(t=nx,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["combo:"+t]="onComboClick",r},onComboClick:function(r){var t=r.item,e=this,n=e.graph,a=e.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var o=t.getModel(),s=o.id;!s||(n.collapseExpandCombo(s),a&&n.get("layout")?n.layout():n.refreshPositions())}}},ix=function(r,t,e){return r>=t&&r<=e},Xs=function(r,t,e,n){var a=.001,o={x:e.x-r.x,y:e.y-r.y},s={x:t.x-r.x,y:t.y-r.y},l={x:n.x-e.x,y:n.y-e.y},u=s.x*l.y-s.y*l.x,h=u*u,c=s.x*s.x+s.y*s.y,v=l.x*l.x+l.y*l.y,g=null;if(h>a*c*v){var C=(o.x*l.y-o.y*l.x)/u,F=(o.x*s.y-o.y*s.x)/u;ix(C,0,1)&&ix(F,0,1)&&(g={x:r.x+C*s.x,y:r.y+C*s.y})}return g},ax=function(r,t){var e=r.x,n=r.y,a=r.width,o=r.height,s=e+a/2,l=n+o/2,u=[],h={x:s,y:l};u.push({x:e,y:n}),u.push({x:e+a,y:n}),u.push({x:e+a,y:n+o}),u.push({x:e,y:n+o}),u.push({x:e,y:n});for(var c=null,v=1;v<u.length&&(c=Xs(u[v-1],u[v],h,t),!c);v++);return c},ox=function(r,t){var e=r.x,n=r.y,a=r.r,o=t.x,s=t.y,l=o-e,u=s-n,h=Math.sqrt(l*l+u*u);if(h<a)return null;var c=Math.sign(l),v=Math.sign(u),g=Math.atan(u/l);return{x:e+Math.abs(a*Math.cos(g))*c,y:n+Math.abs(a*Math.sin(g))*v}},sx=function(r,t){var e=r.rx,n=r.ry,a=r.x,o=r.y,s=t.x-a,l=t.y-o,u=Math.atan2(l/n,s/e);return u<0&&(u+=2*Math.PI),{x:a+e*Math.cos(u),y:o+n*Math.sin(u)}},Vs=function(r,t,e){e===void 0&&(e=1);var n=[r.x,r.y,e];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),Jm.transformMat3(n,n,t),{x:n[0],y:n[1]}},lx=function(r,t,e){e===void 0&&(e=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var n=ho.invert([],t);n||(n=[1,0,0,0,1,0,0,0,1]);var a=[r.x,r.y,e];return Jm.transformMat3(a,a,n),{x:a[0],y:a[1]}},ec=function(r,t,e){var n=r.x-t.x,a=r.y-t.y,o=r.x-e.x,s=r.y-e.y,l=(r.x*r.x-t.x*t.x-t.y*t.y+r.y*r.y)/2,u=(r.x*r.x-e.x*e.x-e.y*e.y+r.y*r.y)/2,h=a*o-n*s;return{x:-(s*l-a*u)/h,y:-(n*u-o*l)/h}},Hs=function(r,t){var e=r.x-t.x,n=r.y-t.y;return Math.sqrt(e*e+n*n)},ux=function(r,t){var e=[];return r.forEach(function(n){var a=[];n.forEach(function(o){a.push(o*t)}),e.push(a)}),e},rc=function(r){for(var t=[],e=r.length,n=0;n<e;n+=1){t[n]=[];for(var a=0;a<e;a+=1)n===a?t[n][a]=0:r[n][a]===0||!r[n][a]?t[n][a]=Infinity:t[n][a]=r[n][a]}for(var o=0;o<e;o+=1)for(var n=0;n<e;n+=1)for(var a=0;a<e;a+=1)t[n][a]>t[n][o]+t[o][a]&&(t[n][a]=t[n][o]+t[o][a]);return t},nc=function(r,t){var e=r.nodes,n=r.edges,a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.id]=l;var u=[];a.push(u)}),n&&n.forEach(function(s){var l=s.source,u=s.target,h=o[l],c=o[u];a[h][c]=1,t||(a[c][h]=1)}),a},fx=function(r,t){r.translate(t.x,t.y)},hx=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=r.getCanvasBBox(),a=t.x-n.minX,o=t.y-n.minY,s=Za(e,[["t",a,o]]);r.setMatrix(s)},l3=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=t;(0,Oi.default)(t)||(n=[t,t]),(0,Oi.default)(t)&&t.length===1&&(n=[t[0],t[0]]),e=Za(e,[["s",n[0],n[1]]]),r.setMatrix(e)},u3=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]),e=Za(e,[["r",t]]),r.setMatrix(e)},bu=function(r,t,e){for(var n=[],a=0;a<r;a++)n[a]=0;return e.forEach(function(o){o.source&&(n[t[o.source]]+=1),o.target&&(n[t[o.target]]+=1)}),n};function f3(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}var Ws=function(r,t,e){var n=!1,a=r.length,o=1e-6;function s(c){return Math.abs(c)<o?0:c<0?-1:1}if(a<=2)return!1;for(var l=0;l<a;l++){var u=r[l],h=r[(l+1)%a];if(f3(u,h,[t,e]))return!0;s(u[1]-e)>0!=s(h[1]-e)>0&&s(t-(e-u[1])*(u[0]-h[0])/(u[1]-h[1])-u[0])<0&&(n=!n)}return n},cx=function(r,t){return!(t.minX>r.maxX||t.maxX<r.minX||t.minY>r.maxY||t.maxY<r.minY)},h3=function(r,t){var e=!1;return(0,f.each)(r,function(n){if(Xs(n.from,n.to,t.from,t.to))return e=!0,!1}),e},ic=function(r,t){var e=function(v){var g=v.map(function(F){return F[0]}),C=v.map(function(F){return F[1]});return{minX:Math.min.apply(null,g),maxX:Math.max.apply(null,g),minY:Math.min.apply(null,C),maxY:Math.max.apply(null,C)}},n=function(v){for(var g=[],C=v.length,F=0;F<C-1;F++){var G=v[F],V=v[F+1];g.push({from:{x:G[0],y:G[1]},to:{x:V[0],y:V[1]}})}if(g.length>1){var X=v[0],at=v[C-1];g.push({from:{x:at[0],y:at[1]},to:{x:X[0],y:X[1]}})}return g};if(r.length<2||t.length<2)return!1;var a=e(r),o=e(t);if(!cx(a,o))return!1;var s=!1;if((0,f.each)(t,function(c){if(Ws(r,c[0],c[1]))return s=!0,!1}),s||((0,f.each)(r,function(c){if(Ws(t,c[0],c[1]))return s=!0,!1}),s))return!0;var l=n(r),u=n(t),h=!1;return(0,f.each)(u,function(c){if(h3(l,c))return h=!0,!1}),h},Vo=function(){function i(r,t,e,n){this.x1=r,this.y1=t,this.x2=e,this.y2=n}return i.prototype.getBBox=function(){var r=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),e=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2),a={x:r,y:t,minX:r,minY:t,maxX:e,maxY:n,width:e-r,height:n-t};return a},i}(),ac=function(r,t){var e={top:[r.minX,r.minY,r.maxX,r.minY],left:[r.minX,r.minY,r.minX,r.maxY],bottom:[r.minX,r.maxY,r.maxX,r.maxY],right:[r.maxX,r.minY,r.maxX,r.maxY]};return e[t]},c3=function(r,t){var e=(t.x2-t.x1)*(r.y1-t.y1)-(t.y2-t.y1)*(r.x1-t.x1),n=(r.x2-r.x1)*(r.y1-t.y1)-(r.y2-r.y1)*(r.x1-t.x1),a=(t.y2-t.y1)*(r.x2-r.x1)-(t.x2-t.x1)*(r.y2-r.y1);if(a){var o=e/a,s=n/a;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},vx=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=0,o=[],s=0;s<4;s++){var l=ac(n,e[s]),u=l[0],h=l[1],c=l[2],v=l[3];o[s]=Xs({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:u,y:h},{x:c,y:v}),o[s]&&(a+=1)}return[o,a]},oc=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var l=ac(n,e[s]),u=l[0],h=l[1],c=l[2],v=l[3],g=c3(t,new Vo(u,h,c,v));g=Math.abs(g-.5),g>=0&&g<=1&&(o+=1,a=g<a?g:a)}return o===0?-1:a},dx=function(r){var t=0,e=0;if(r.length>0){for(var n=0,a=r;n<a.length;n++){var o=a[n];t+=o.x,e+=o.y}t/=r.length,e/=r.length}return{x:t,y:e}},wu=function(r,t){return Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)},px=function(r,t){var e=t.x1,n=t.y1,a=t.x2-e,o=t.y2-n,s=r.x-e,l=r.y-n,u=s*a+l*o,h;u<=0?h=0:(s=a-s,l=o-l,u=s*a+l*o,u<=0?h=0:h=u*u/(a*a+o*o));var c=s*s+l*l-h;return c<0&&(c=0),c},sc=function(r,t,e){return e===void 0&&(e=.001),Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)<Math.pow(e,2)},gx=function(r,t){var e=r.x<t.x,n=r.x>t.x+t.width,a=r.y>t.y+t.height,o=r.y<t.y,s=e||n||a||o;if(!s)return 0;if(a&&!e&&!n)return Math.pow(t.y+t.height-r.y,2);if(o&&!e&&!n)return Math.pow(r.y-t.y,2);if(e&&!a&&!o)return Math.pow(t.x-r.x,2);if(n&&!a&&!o)return Math.pow(t.x+t.width-r.x,2);var l=Math.min(Math.abs(t.x-r.x),Math.abs(t.x+t.width-r.x)),u=Math.min(Math.abs(t.y-r.y),Math.abs(t.y+t.height-r.y));return l*l+u*u},v3=function(r,t){return!r||!t?r:r.replace(/\\?\{([^{}]+)\}/g,function(e,n){if(e.charAt(0)==="\\")return e.slice(1);var a=t[n];return a===0&&(a="0"),a||""})},yx=function(r){var t=[];if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);for(var e=0,n=r;e<n.length;e++){var a=n[e],o=a.x,s=a.y;t.push(o),t.push(s)}var l=(0,pl.catmullRom2Bezier)(t);return l.unshift(["M",r[0].x,r[0].y]),l},Su=function(r,t,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var a={x:(1-e)*r.x+e*t.x,y:(1-e)*r.y+e*t.y},o=[];Dn.normalize(o,[t.x-r.x,t.y-r.y]),o.length===0&&(o=[0,0]);var s=[-o[1]*n,o[0]*n];return a.x+=s[0],a.y+=s[1],a},mx=function(r,t){var e=r.length;if(!e)return"";for(var n="",a="",o=0;o<e;o++){var s=r[o];o===0?a="M{x} {y}":a="L{x} {y}",n+=v3(a,s)}return t&&(n+="Z"),n},Cu=function(r){var t=[];return r.forEach(function(e){var n=e[0];if(n!=="A")for(var a=1;a<e.length;a=a+2)t.push([e[a],e[a+1]]);else{var o=e.length;t.push([e[o-2],e[o-1]])}}),t},lc=function(r){if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);var t=r[0],e=r[1],n=r[r.length-1],a=r[r.length-2];r.unshift(n),r.unshift(a),r.push(t),r.push(e);for(var o=[],s=1;s<r.length-2;s+=1){var l=r[s-1].x,u=r[s-1].y,h=r[s].x,c=r[s].y,v=r[s+1].x,g=r[s+1].y,C=s!==r.length-2?r[s+2].x:v,F=s!==r.length-2?r[s+2].y:g,G=h+(v-l)/6,V=c+(g-u)/6,X=v-(C-h)/6,at=g-(F-c)/6;o.push(["C",G,V,X,at,v,g])}return o.unshift(["M",n.x,n.y]),o},xx=function(r,t){return Dn.scale([],Dn.normalize([],r),t)},bx=function(r,t){var e=[r[1]-t[1],t[0]-r[0]],n=Math.sqrt(e[0]*e[0]+e[1]*e[1]);if(n===0)throw new Error("p0 should not be equal to p1");return[e[0]/n,e[1]/n]},wx=function(r,t){return[t[0]-r[0],t[1]-r[1]]};function Sx(i,r){var t=function(c){var v=[c[0][0],c[0][1]-r],g=[c[0][0],c[0][1]+r];return"M "+v+" A "+r+","+r+",0,0,0,"+g+" A "+r+","+r+",0,0,0,"+v},e=function(c){var v=Dn.scale([],bx(c[0],c[1]),r),g=Dn.scale([],v,-1),C=Dn.add([],c[0],v),F=Dn.add([],c[1],v),G=Dn.add([],c[1],g),V=Dn.add([],c[0],g);return"M "+C+" L "+F+" A "+[r,r,"0,0,0",G].join(",")+" L "+V+" A "+[r,r,"0,0,0",C].join(",")};if(!i||i.length<1)return"";if(i.length===1)return t(i);if(i.length===2)return e(i);for(var n=new Array(i.length),a=0;a<n.length;++a){var o=a===0?i[i.length-1]:i[a-1],s=i[a],l=Dn.scale([],bx(o,s),r);n[a]=[Dn.add([],o,l),Dn.add([],s,l)]}var u="A "+[r,r,"0,0,0,"].join(",");return n=n.map(function(h,c){var v="";return c===0&&(v="M "+n[n.length-1][1]+" "),v+=u+h[0]+" L "+h[1],v}),n.join(" ")}function Cx(i,r){var t=i.length,e=function(h){var c=[h[0][0],h[0][1]-r],v=[h[0][0],h[0][1]+r];return"M "+c+" A "+[r,r,"0,0,0",v].join(",")+" A "+[r,r,"0,0,0",c].join(",")},n=function(h){var c=wx(h[0],h[1]),v=xx(c,r),g=Dn.add([],h[0],Dn.scale([],v,-1)),C=Dn.add([],h[1],v),F=1.2*r,G=xx(Dn.normalize([],c),F),V=Dn.scale([],G,-1),X=Dn.add([],g,V),at=Dn.add([],C,V),st=Dn.add([],g,G);return"M "+g+" C "+[X,at,C].join(",")+" S "+[st,g].join(",")+" Z"};if(!i||t<1)return"";if(t===1)return e(i);if(t===2)return n(i);for(var a=i.map(function(u,h){var c=i[(h+1)%t];return{p:u,v:Dn.normalize([],wx(u,c))}}),o=0;o<a.length;++o){var s=o>0?o-1:t-1,l=Dn.normalize([],Dn.add([],a[s].v,Dn.scale([],a[o].v,-1)));a[o].p=Dn.add([],a[o].p,Dn.scale([],l,r))}return a.map(function(u){var h=u.p;return{x:h[0],y:h[1]}})}var Mx="shift",d3=["drag","shift","ctrl","alt","control"],p3=function(r,t){var e,n=r.getKeyShape();if(r.get("type")==="path")e=Cu(n.attr("path"));else{var a=n.getCanvasBBox();e=[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}return ic(t,e)},g3={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:Mx,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return d3.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Mx,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(r){var t=this.lasso,e=r.item;e||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:r.x,y:r.y},this.points.push(this.originPoint),t.show())},onDragMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:r.x,y:r.y}),this.updateLasso(r))},onDragEnd:function(r){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var r=this.points,t=[];return r.length&&(r.forEach(function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t.push(["L",r[0].x,r[0].y])),t},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var r=this,t=this,e=t.graph,n=t.shouldUpdate,a=this.points.map(function(h){return[e.getCanvasByPoint(h.x,h.y).x,e.getCanvasByPoint(h.x,h.y).y]}),o=this.selectedState,s=[],l=[];e.getNodes().forEach(function(h){if(p3(h,a)&&n(h,"select")){s.push(h);var c=h.getModel();l.push(c.id),e.setItemState(h,o,!0)}});var u=[];this.includeEdges&&s.forEach(function(h){var c=h.getOutEdges();c.forEach(function(v){var g=v.getModel(),C=g.source,F=g.target;l.includes(C)&&l.includes(F)&&n(v,"select")&&(u.push(v),e.setItemState(v,r.selectedState,!0))})}),this.selectedEdges=u,this.selectedNodes=s,this.onSelect&&this.onSelect(s,u),e.emit("nodeselectchange",{selectedItems:{nodes:s,edges:u},select:!0})},createLasso:function(){var r=this,t=r.graph.get("delegateGroup").addShape("path",{attrs:te({path:[]},r.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.points=[],t},updateLasso:function(r){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},Ex="click",y3=["click","drag"],Ax=void 0,m3=["shift","ctrl","control","alt","meta",void 0],x3={getDefaultCfg:function(){return{trigger:Ex,key:Ax,edgeConfig:{}}},getEvents:function(){var r=this;y3.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=Ex,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),r.key&&m3.indexOf(r.key.toLowerCase())===-1&&(r.trigger=Ax,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return r.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:r.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),r.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item;(!e||e.getID()===t.source||e.getType()!=="node")&&t.cancelCreating({item:t.edge,x:r.x,y:r.y})}},onClick:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item,n=t.graph,a=e.getModel();if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,r))return;var o={target:a.id};t.source===a.id&&(o.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(t.edge,o),n.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,r))return;t.edge=n.addItem("edge",te({source:a.id,target:a.id},t.edgeConfig),!1),t.source=a.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(r){var t=this;if(!(t.key&&!t.keydown)){var e={x:r.x,y:r.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:e},!1)}},cancelCreating:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=t.graph,n=r.item;if(t.addingEdge&&r.target&&r.target.isCanvas&&r.target.isCanvas()){e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1;return}if(t.addingEdge&&t.edge===n){var a=!0;if(!e.get("groupByTypes"))for(var o=r.x,s=r.y,l=e.getNodes(),u=l.length,h=0;h<u;h++){var c=l[h],v=c.getModel(),g=c.getBBox();if(o<=g.maxX&&o>=g.minX&&s<=g.maxY&&s>=g.minY){if(!t.shouldEnd.call(t,{x:r.x,y:r.y,canvasX:r.canvasX,canvasY:r.canvasY,clientX:r.clientX,clientY:r.clientY,item:c}))return;e.emit("beforecreateedge",{}),e.updateItem(t.edge,{target:v.id}),e.emit("aftercreateedge",{edge:t.edge}),a=!1;break}}a&&e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1}}},onKeyDown:function(r){var t=this,e=r.key;!e||(e.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var r=this;r.addingEdge&&r.edge&&(r.graph.removeItem(r.edge,!1),r.addingEdge=!1,r.edge=null),this.keydown=!1}},Tx="ctrl",b3=["shift","ctrl","alt","control"],w3="1",S3={getDefaultCfg:function(){return{trigger:Tx,combinedKey:w3,functionName:"fitView",functionParams:[]}},getEvents:function(){return b3.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Tx,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();this.triggerKeydown||(n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var a=this.graph;if(!a[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]();return}var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(n===o||n==="control"&&o==="ctrl"||n==="ctrl"&&o==="control")&&(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},C3={"drag-canvas":OR,"zoom-canvas":ZR,"drag-node":zR,"activate-relations":XR,"brush-select":HR,"click-select":jR,"lasso-select":g3,tooltip:KR,"edge-tooltip":$R,"drag-group":QR,"drag-node-with-group":qR,"collapse-expand-group":e3,"collapse-expand":n3,"drag-combo":a3,"collapse-expand-combo":s3,"create-edge":x3,"shortcuts-call":S3};(0,Cn.default)(C3,function(i,r){Zh.registerBehavior(r,i)});var Px=Zh,Ho=d(14563),js=d(70673),Na=d(83077),_x=d(54544),M3=function(r){var t=(0,_x.default)(r.groups,"id"),e=(0,_x.default)(r.groups,"parentId"),n={};for(var a in e)if(!!a){var o=e[a],s=t[a];if(s&&o){var l=zs(o,s);n[a]=l}else o&&(n[a]=o)}var u=te(te({},t),n),h={};for(var c in u)if(!(!c||c==="undefined")){var o=u[c].map(function(F){return F.id});h[c]=o}var v={},g=function(F){if(!F||F==="undefined")return"continue";for(var G=h[F],V=[],X=0,at=G;X<at.length;X++){var st=at[X],xt=u[st].map(function(Gt){return Gt.id});V.push.apply(V,xt)}var kt=r.nodes?r.nodes.filter(function(Gt){return V.indexOf(Gt.groupId)>-1||V.indexOf(Gt.parentId)>-1}).map(function(Gt){return Gt.id}):[];v[F]=kt};for(var c in h)g(c);return v},E3=function(){function i(r){this.graph=r,this.destroyed=!1,this.modes=r.get("modes")||{default:[]},this.formatModes(),this.mode=r.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return i.prototype.formatModes=function(){var r=this.modes;(0,Cn.default)(r,function(t){(0,Cn.default)(t,function(e,n){(0,mn.default)(e)&&(t[n]={type:e})})})},i.prototype.setBehaviors=function(r){var t=this.graph,e=this.modes[r],n=[],a;(0,Cn.default)(e||[],function(o){var s=Zh.getBehavior(o.type);!s||(a=new s(o),a&&(a.bind(t),n.push(a)))}),this.currentBehaves=n},i.mergeBehaviors=function(r,t){return(0,Cn.default)(t,function(e){r.indexOf(e)<0&&((0,mn.default)(e)&&(e={type:e}),r.push(e))}),r},i.filterBehaviors=function(r,t){var e=[];return r.forEach(function(n){var a="";(0,mn.default)(n)?a=n:a=n.type,t.indexOf(a)<0&&e.push(n)}),e},i.prototype.setMode=function(r){var t=this,e=t.modes,n=t.graph,a=r,o=e[a];!o||(n.emit("beforemodechange",{mode:r}),(0,Cn.default)(this.currentBehaves,function(s){s.unbind(n)}),this.setBehaviors(a),n.emit("aftermodechange",{mode:r}),this.mode=r)},i.prototype.getMode=function(){return this.mode},i.prototype.manipulateBehaviors=function(r,t,e){var n=this,a;if((0,Oi.default)(r)?a=r:a=[r],(0,Oi.default)(t))return(0,Cn.default)(t,function(s){n.modes[s]?e?n.modes[s]=i.mergeBehaviors(n.modes[s]||[],a):n.modes[s]=i.filterBehaviors(n.modes[s]||[],a):e&&(n.modes[s]=a)}),this;var o=t;return t||(o=this.mode),this.modes[o]||e&&(this.modes[o]=a),e?this.modes[o]=i.mergeBehaviors(this.modes[o]||[],a):this.modes[o]=i.filterBehaviors(this.modes[o]||[],a),this.setMode(this.mode),this},i.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},i}(),A3=E3,T3=function(){function i(r){this.destroyed=!1,this.graph=r,this.destroyed=!1}return i.prototype.getViewCenter=function(){var r=this.getFormatPadding(),t=this.graph,e=this.graph.get("width"),n=t.get("height");return{x:(e-r[1]-r[3])/2+r[3],y:(n-r[0]-r[2])/2+r[0]}},i.prototype.fitCenter=function(){var r=this.graph,t=r.get("group");t.resetMatrix();var e=t.getCanvasBBox();if(!(e.width===0||e.height===0)){var n=this.getViewCenter(),a={x:e.x+e.width/2,y:e.y+e.height/2};r.translate(n.x-a.x,n.y-a.y)}},i.prototype.fitView=function(){var r=this.graph,t=this.getFormatPadding(),e=r.get("width"),n=r.get("height"),a=r.get("group");a.resetMatrix();var o=a.getCanvasBBox();if(!(o.width===0||o.height===0)){var s=this.getViewCenter(),l={x:o.x+o.width/2,y:o.y+o.height/2};r.translate(s.x-l.x,s.y-l.y);var u=(e-t[1]-t[3])/o.width,h=(n-t[0]-t[2])/o.height,c=u;u>h&&(c=h),r.zoom(c,s)}},i.prototype.getFormatPadding=function(){var r=this.graph.get("fitViewPadding");return Qh(r)},i.prototype.focusPoint=function(r,t,e){var n=this,a=this.getViewCenter(),o=this.getPointByCanvas(a.x,a.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),t){var l=(o.x-r.x)*s[0],u=(o.y-r.y)*s[4],h=0,c=0,v=0,g=0;this.graph.get("canvas").animate(function(C){v=l*C,g=u*C,n.graph.translate(v-h,g-c),h=v,c=g},te({},e))}else this.graph.translate((o.x-r.x)*s[0],(o.y-r.y)*s[4])},i.prototype.getPointByCanvas=function(r,t){var e=this.graph.get("group").getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=lx({x:r,y:t},e);return n},i.prototype.getPointByClient=function(r,t){var e=this.graph.get("canvas"),n=e.getPointByClient(r,t);return this.getPointByCanvas(n.x,n.y)},i.prototype.getClientByPoint=function(r,t){var e=this.graph.get("canvas"),n=this.getCanvasByPoint(r,t),a=e.getClientByPoint(n.x,n.y);return{x:a.x,y:a.y}},i.prototype.getCanvasByPoint=function(r,t){var e=this.graph.get("group").getMatrix();return e||(e=[1,0,0,0,1,0,0,0,1]),Vs({x:r,y:t},e)},i.prototype.focus=function(r,t,e){(0,mn.default)(r)&&(r=this.graph.findById(r));var n=r.get("group"),a=n.getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r&&this.focusPoint({x:a[6],y:a[7]},t,e)},i.prototype.changeSize=function(r,t){var e=this.graph;if(!(0,Ra.default)(r)||!(0,Ra.default)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");e.set({width:r,height:t});var n=e.get("canvas");n.changeSize(r,t);var a=e.get("plugins");a.forEach(function(o){if(o.get("gridContainer")){var s=e.get("minZoom");(0,Tn.Z)(o.get("container"),{width:r+"px",height:t+"px"}),(0,Tn.Z)(o.get("gridContainer"),{width:r/s+"px",height:t/s+"px",left:0,top:0})}})},i.prototype.destroy=function(){this.graph=null,this.destroyed=!1},i}(),P3=T3,Us=d(73136),Mu=d(61262),_3=function(){function i(r){this.preItem=null,this.graph=r,this.extendEvents=[],this.dragging=!1,this.destroyed=!1,this.initEvents()}return i.prototype.initEvents=function(){var r=this,t=r.graph,e=r.extendEvents,n=t.get("canvas"),a=n.get("el"),o=(0,Mu.default)(this,"onCanvasEvents"),s=(0,Mu.default)(this,"onExtendEvents"),l=(0,Mu.default)(this,"onWheelEvent");n.on("*",o),this.canvasHandler=o,e.push((0,Us.Z)(a,"DOMMouseScroll",l)),e.push((0,Us.Z)(a,"mousewheel",l)),typeof window!="undefined"&&(e.push((0,Us.Z)(window,"keydown",s)),e.push((0,Us.Z)(window,"keyup",s)),e.push((0,Us.Z)(window,"focus",s)))},i.getItemRoot=function(r){for(;r&&!r.get("item");)r=r.get("parent");return r},i.prototype.onCanvasEvents=function(r){var t=this.graph,e=t.get("canvas"),n=r.target,a=r.type;r.canvasX=r.x,r.canvasY=r.y;var o={x:r.canvasX,y:r.canvasY},s=t.get("group"),l=s.getMatrix();if(l||(l=[1,0,0,0,1,0,0,0,1]),Rm(l)&&(o=t.getPointByClient(r.clientX,r.clientY)),r.x=o.x,r.y=o.y,r.currentTarget=t,n===e){a==="mousemove"&&this.handleMouseMove(r,"canvas"),r.target=e,r.item=null,t.emit(a,r),t.emit("canvas:"+a,r);return}var u=i.getItemRoot(n);if(!u){t.emit(a,r);return}var h=u.get("item");if(!h.destroyed){var c=h.getType();if(r.target=n,r.item=h,r.canvasX===r.x&&r.canvasY===r.y){var v=t.getCanvasByPoint(r.x,r.y);r.canvasX=v.x,r.canvasY=v.y}t.emit(a,r),r.name&&!r.name.includes(":")?t.emit(c+":"+a,r):t.emit(r.name,r),a==="dragstart"&&(this.dragging=!0),a==="dragend"&&(this.dragging=!1),a==="mousemove"&&this.handleMouseMove(r,c)}},i.prototype.onExtendEvents=function(r){this.graph.emit(r.type,r)},i.prototype.onWheelEvent=function(r){(0,Ii.default)(r.wheelDelta)&&(r.wheelDelta=-r.detail),this.graph.emit("wheel",r)},i.prototype.handleMouseMove=function(r,t){var e=this,n=e.graph,a=e.preItem,o=n.get("canvas"),s=r.target===o?null:r.item;r=pu(r),a&&a!==s&&!a.destroyed&&(r.item=a,this.emitCustomEvent(a.getType(),"mouseleave",r),this.dragging&&this.emitCustomEvent(a.getType(),"dragleave",r)),s&&a!==s&&(r.item=s,this.emitCustomEvent(t,"mouseenter",r),this.dragging&&this.emitCustomEvent(t,"dragenter",r)),this.preItem=s},i.prototype.emitCustomEvent=function(r,t,e){e.type=t,this.graph.emit(r+":"+t,e)},i.prototype.destroy=function(){var r=this,t=r.graph,e=r.canvasHandler,n=r.extendEvents,a=t.get("canvas");a.off("*",e),(0,Cn.default)(n,function(o){o.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},i}(),L3=_3,Lx=d(8289),Ix=d(33643),Ox=d(85260),I3=d(58070),O3={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},_a=Math.PI,uc=Math.sin,fc=Math.cos,Bi=uc(_a/8),Di=fc(_a/8),Eu=function(r,t){var e=r.getBBox(),n={x:e.minX,y:e.minY},a={x:e.maxX,y:e.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),n=Vs(n,o),a=Vs(a,o)}var s=n.x,l=n.y,u=a.x,h=a.y;return{x:s,y:l,minX:s,minY:l,maxX:u,maxY:h,width:u-s,height:h-l}},kx=function(r){var t=r.sourceNode||r.targetNode,e=t.get("group"),n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var a=t.getKeyShape(),o=a.getBBox(),s=r.loopCfg||{},l=s.dist||Math.max(o.width,o.height)*2,u=s.position||ze.defaultLoopPosition,h=[n[6],n[7]],c=[r.startPoint.x,r.startPoint.y],v=[r.endPoint.x,r.endPoint.y],g=o.height/2,C=o.height/2,F=g*Bi,G=g*Di,V=C*Bi,X=C*Di;if(c[0]===v[0]&&c[1]===v[1]){switch(u){case"top":c=[h[0]-F,h[1]-G],v=[h[0]+V,h[1]-X];break;case"top-right":g=o.height/2,C=o.width/2,F=g*Bi,G=g*Di,V=C*Bi,X=C*Di,c=[h[0]+F,h[1]-G],v=[h[0]+X,h[1]-V];break;case"right":g=o.width/2,C=o.width/2,F=g*Bi,G=g*Di,V=C*Bi,X=C*Di,c=[h[0]+G,h[1]-F],v=[h[0]+X,h[1]+V];break;case"bottom-right":g=o.width/2,C=o.height/2,F=g*Bi,G=g*Di,V=C*Bi,X=C*Di,c=[h[0]+G,h[1]+F],v=[h[0]+V,h[1]+X];break;case"bottom":g=o.height/2,C=o.height/2,F=g*Bi,G=g*Di,V=C*Bi,X=C*Di,c=[h[0]+F,h[1]+G],v=[h[0]-V,h[1]+X];break;case"bottom-left":g=o.height/2,C=o.width/2,F=g*Bi,G=g*Di,V=C*Bi,X=C*Di,c=[h[0]-F,h[1]+G],v=[h[0]-X,h[1]+V];break;case"left":g=o.width/2,C=o.width/2,F=g*Bi,G=g*Di,V=C*Bi,X=C*Di,c=[h[0]-G,h[1]+F],v=[h[0]-X,h[1]-V];break;case"top-left":g=o.width/2,C=o.height/2,F=g*Bi,G=g*Di,V=C*Bi,X=C*Di,c=[h[0]-G,h[1]-F],v=[h[0]-V,h[1]-X];break;default:g=o.width/2,C=o.width/2,F=g*Bi,G=g*Di,V=C*Bi,X=C*Di,c=[h[0]-F,h[1]-G],v=[h[0]+V,h[1]-X]}if(s.clockwise===!1){var at=[c[0],c[1]];c=[v[0],v[1]],v=[at[0],at[1]]}}var st=[c[0]-h[0],c[1]-h[1]],xt=(g+l)/g,kt=(C+l)/C;s.clockwise===!1&&(xt=(C+l)/C,kt=(g+l)/g);var Gt=Dn.scale([],st,xt),Wt=[h[0]+Gt[0],h[1]+Gt[1]],Yt=[v[0]-h[0],v[1]-h[1]],ie=Dn.scale([],Yt,kt),de=[h[0]+ie[0],h[1]+ie[1]];return r.startPoint={x:c[0],y:c[1]},r.endPoint={x:v[0],y:v[1]},r.controlPoints=[{x:Wt[0],y:Wt[1]},{x:de[0],y:de[1]}],r},Au=function(r,t,e,n,a){var o=1e-4,s=[],l=r.getPoint(t);if(l===null)return{x:0,y:0,angle:0};if(t<o)s=r.getStartTangent().reverse();else if(t>1-o)s=r.getEndTangent();else{var u=r.getPoint(t+o);s.push([l.x,l.y]),s.push([u.x,u.y])}var h=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(h<0&&(h+=_a*2),e&&(l.x+=fc(h)*e,l.y+=uc(h)*e),n){var c=h-_a/2;h>1/2*_a&&h<3*1/2*_a&&(c-=_a),l.x+=fc(c)*n,l.y+=uc(c)*n}var v={x:l.x,y:l.y,angle:h};return a?(h>1/2*_a&&h<3*1/2*_a&&(h-=_a),te({rotate:h},v)):v},Bx=function i(r,t){if(t(r)===!1)return!1;if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return!1}return!0},k3=function i(r,t){if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return}return t(r)!==!1},$i=function(r,t){typeof t=="function"&&Bx(r,t)},La=function(r,t){typeof t=="function"&&k3(r,t)},Dx=function(r,t){var e=["V","TB","BT"],n={x:Infinity,y:Infinity},a={x:-Infinity,y:-Infinity},o="x",s="y";t&&e.indexOf(t)>=0&&(s="x",o="y");var l=0;$i(r,function(c){return l++,c.x>a.x&&(a.x=c.x),c.x<n.x&&(n.x=c.x),c.y>a.y&&(a.y=c.y),c.y<n.y&&(n.y=c.y),!0});var u=_a*2/l,h=a[s]-n[s];return h===0||$i(r,function(c){var v=(c[s]-n[s])/h*(_a*2-u)+u,g=Math.abs(o==="x"?c.x-r.x:c.y-r.y);return c.x=g*Math.cos(v),c.y=g*Math.sin(v),!0}),r},Fx=function(r,t){return t*(O3[r]||1)},Rx=function(r,t){var e=0,n=new RegExp("[\u4E00-\u9FA5]+");return r.split("").forEach(function(a){n.test(a)?e+=t:e+=Fx(a,t)}),[e,t]},hc=function(r,t){var e=[],n={},a={};r.forEach(function(s){a[s.id]=s}),r.forEach(function(s,l){var u=(0,f.clone)(s);u.itemType="combo",u.children=void 0,u.parentId===u.id?(console.warn("The parentId for combo "+u.id+" can not be the same as the combo's id"),delete u.parentId):u.parentId&&!a[u.parentId]&&(console.warn("The parent combo for combo "+u.id+" does not exist!"),delete u.parentId);var h=n[u.id];if(h){if(u.children=h.children,n[u.id]=u,h=u,!h.parentId){e.push(h);return}var c=n[h.parentId];if(c)c.children?c.children.push(u):c.children=[u];else{var v={id:h.parentId,children:[h]};n[h.parentId]=v,n[u.id]=u}return}if((0,f.isString)(s.parentId)){var g=n[s.parentId];if(g)g.children?g.children.push(u):g.children=[u],n[u.id]=u;else{var C={id:s.parentId,children:[u]};n[C.id]=C,n[u.id]=u}}else e.push(u),n[u.id]=u});var o={};return(t||[]).forEach(function(s){o[s.id]=s;var l=n[s.comboId];if(l){var u={id:s.id,comboId:s.comboId};l.children?l.children.push(u):l.children=[u],u.itemType="node",n[s.id]=u}}),e.forEach(function(s){s.depth=0,Bx(s,function(l){var u,h=n[l.id].itemType;h==="node"?u=n[l.comboId]:u=n[l.parentId],u?h==="node"?l.depth=u.depth+1:l.depth=u.depth+2:l.depth=0;var c=o[l.id];return c&&(c.depth=l.depth),!0})}),e},cc=function(r,t,e){var n=r,a,o={root:{children:r}},s=!1,l="root";(r||[]).forEach(function(g){if(!s){if(g.id===t){a=g,g.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0;return}$i(g,function(C){return o[C.id]={children:C.children},n=o[C.parentId||C.comboId||"root"].children,C&&(C.removed||t===C.id)&&n?(l=C.parentId||C.comboId||"root",a=C,C.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0,!1):!0})}}),n=o[l].children;var u=n?n.indexOf(a):-1;if(u>-1&&n.splice(u,1),s||(a={id:t,itemType:"node",comboId:e},o[t]={children:void 0}),t){var h=!1;if(e){var c=0;(r||[]).forEach(function(g){h||$i(g,function(C){return e===C.id?(h=!0,C.children?C.children.push(a):C.children=[a],c=C.depth,a.itemType==="node"?a.depth=c+2:a.depth=c+1,!1):!0})})}else(!e||!h)&&a.itemType!=="node"&&r.push(a);var v=a.depth;$i(a,function(g){return g.itemType==="node"?v+=2:v+=1,g.depth=v,!0})}return r},vc=function(r,t){var e={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return!r||r.length===0||(r.forEach(function(n){var a=t.findById(n.id);if(!(!a||!a.isVisible())){a.set("bboxCanvasCache",void 0);var o=a.getCanvasBBox();o.x&&e.minX>o.minX&&(e.minX=o.minX),o.y&&e.minY>o.minY&&(e.minY=o.minY),o.x&&e.maxX<o.maxX&&(e.maxX=o.maxX),o.y&&e.maxY<o.maxY&&(e.maxY=o.maxY)}}),e.x=(e.minX+e.maxX)/2,e.y=(e.minY+e.maxY)/2,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,Object.keys(e).forEach(function(n){(e[n]===Infinity||e[n]===-Infinity)&&(e[n]=void 0)})),e},B3=function(r){var t=r.group,e=r.height,n=r.width,a=r.x,o=r.y,s=t.get("canvas"),l=s.get("width"),u=s.get("height"),h={start:{x:0,y:0},end:{x:0,y:0}};return h.start.x=a/l,h.start.y=o/u,h.end.x=(a+n)/l,h.end.y=(o+e)/u,h};function Tu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tu=function(t){return typeof t}:Tu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(i)}function Nx(i){if(typeof i!="string")return i;var r=function(Gt){if(typeof Gt!="string")return Gt;try{return JSON.parse(Gt.trim())}catch(Wt){return Gt.trim()}},t=r(i);if(typeof t!="string")return t;for(var e=function(Gt){return Gt[Gt.length-1]},n=i.trim(),a=[],o=[],s=function(){for(var Gt=[],Wt=0;Wt<arguments.length;Wt++)Gt[Wt]=arguments[Wt];return Gt.some(function(Yt){return e(o)===Yt})},l=function(){return e(a)},u=null,h=0,c="";h<n.length;){var v=n[h],g=s('"',"'");if(!g&&!v.trim()){h+=1;continue}var C=n[h-1]==="\\",F=s("}"),G=s("]"),V=s(","),X=l();if(g)if(e(o)===v&&!C){o.pop();var at=r(c);X.push(at),u=at,c=""}else c+=v;else if(G&&v===",")c&&(X.push(r(c)),c="");else if(F&&v===":")o.push(","),c&&(X.push(c),c="");else if(V&&v===",")c&&(X.push(r(c)),c=""),o.pop();else if(v==="}"&&(F||V)){c&&(X.push(r(c)),c=""),V&&o.pop();for(var st={},xt=1;xt<X.length;xt+=2)st[X[xt-1]]=X[xt];a.pop(),a.length&&e(a).push(st),o.pop(),u=st}else v==="]"&&G?(c&&(X.push(r(c)),c=""),a.pop(),a.length&&e(a).push(X),o.pop(),u=X):v==="{"?(a.push([]),o.push("}")):v==="["?(a.push([]),o.push("]")):v==='"'?o.push('"'):v==="'"?o.push("'"):c+=v;h+=1}return u||c}var D3=function(r){return r.split("-").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})},F3=function(r){return function(t){for(var e=r.length,n=[],a=0,o="";a<e;)if(r[a]==="{"&&r[a+1]==="{")n.push(o),o="",a+=2;else if(r[a]==="}"&&r[a+1]==="}"){if(n.length){var s=n.pop();o=(0,I3.default)(t,o,s.endsWith("=")?'"{'+o+'}"':o),n.push(s+o)}a+=2,o=""}else o+=r[a],a+=1;return n.push(o),n.map(function(l,u){return n[u-1]&&n[u-1].endsWith("=")?'"{'+l+'}"':l}).join("")}};function Yx(i,r){var t={},e=i.getAttributeNames&&i.getAttributeNames()||[],n=i.children&&Array.from(i.children).map(function(s){return Yx(s,r)}),a={},o=i.tagName?i.tagName.toLowerCase():"group";return o==="text"&&(t.text=i.innerText),a.type=o,o==="img"&&(a.type="image"),Array.from(e).forEach(function(s){var l=D3(s),u=i.getAttribute(s);try{if(l==="style"||l==="attrs"){var h=Nx(u);t=te(te({},t),h)}else a[l]=Nx(u)}catch(c){if(l==="style")throw c;a[l]=u}}),a.attrs=t,r&&r.style&&a.name&&Tu(r.style[a.name])==="object"&&(a.attrs=te(te({},a.attrs),r.style[a.name])),r&&r.style&&a.keyshape&&(a.attrs=te(te({},a.attrs),r.style)),n.length&&(a.children=n),a}function R3(i,r,t){var e=i.attrs,n=e===void 0?{}:e,a={x:r.x||0,y:r.y||0,width:t.width||0,height:t.height||0},o,s;switch(i.type){case"maker":case"circle":n.r&&(s=2*n.r,o=2*n.r);break;case"text":n.text&&(s=Rx(n.text,n.fontSize||12)[0],o=16,a.y+=o,a.height=o,a.width=s,i.attrs=te({fontSize:12,fill:"#000"},n));break;default:n.width&&(s=n.width),n.height&&(o=n.height)}return o>=0&&(a.height=o),s>=0&&(a.width=s),n.marginTop&&(a.y+=n.marginTop),n.marginLeft&&(a.x+=n.marginLeft),a}function Gx(i,r){var t;r===void 0&&(r={x:0,y:0});var e=te({x:0,y:0,width:0,height:0},r);if((t=i.children)===null||t===void 0?void 0:t.length){var n=i.attrs,a=n===void 0?{}:n,o=a.marginTop,s=te({},r);o&&(s.y+=o);for(var l=0;l<i.children.length;l++){i.children[l].attrs.key=(a.key||"root")+" -"+l+" ";var u=Gx(i.children[l],s);if(u.bbox){var h=u.bbox;u.attrs.next==="inline"?s.x+=u.bbox.width:s.y+=u.bbox.height,h.width+h.x>e.width&&(e.width=h.width+h.x),h.height+h.y>e.height&&(e.height=h.height+h.y)}}}return i.bbox=R3(i,r,e),i.attrs=te(te({},i.attrs),i.bbox),i}function zx(i,r){var t,e,n,a,o=(i||{}).type,s=((r==null?void 0:r.attrs)||{}).key;if(s&&i&&(i.attrs.key=s),!i&&r)return{action:"delete",val:r,type:o,key:s};if(i&&!r)return{action:"add",val:i,type:o};if(!i&&!r)return{action:"same",type:o};var l=[];if(((t=i.children)===null||t===void 0?void 0:t.length)>0||((e=r.children)===null||e===void 0?void 0:e.length)>0)for(var u=Math.max((n=i.children)===null||n===void 0?void 0:n.length,(a=r.children)===null||a===void 0?void 0:a.length),h=r.children||[],c=i.children||[],v=0;v<u;v+=1)l.push(zx(c[v],h[v]));var g=Object.keys(r.attrs),C=Object.keys(i.attrs);return r.type!==i.type?{action:"restructure",nowTarget:i,formerTarget:r,key:s,children:l}:g.filter(function(F){return F!=="children"}).some(function(F){return i.attrs[F]!==r.attrs[F]||!C.includes(F)})?{action:"change",val:i,children:l,type:o,key:s}:{action:"same",children:l,type:o,key:s}}function Xx(i){var r={},t=function(n){var a=typeof i=="function"?i(n):i,o=F3(a)(n),s=document.createElement("div");s.innerHTML=o;var l=s.children[0],u=Gx(Yx(l,n));return s.remove(),u};return{draw:function(n,a){var o=t(n),s=a,l=function u(h){var c=h.attrs,v=c===void 0?{}:c,g=h.bbox,C=h.type,F=h.children,G=Zi(h,["attrs","bbox","type","children"]);if(h.type!=="group"){var V=a.addShape(h.type,te({attrs:v,origin:{bbox:g,type:C,children:F}},G));h.keyshape&&(s=V)}h.children&&h.children.forEach(function(X){return u(X)})};return l(o),r[n.id]=[o],s},update:function(n,a){r[n.id]||(r[n.id]=[]);var o=a.getContainer(),s=o.get("children"),l=t(n),u=r[n.id].pop(),h=zx(l,u),c=function C(F){var G;F.type!=="group"&&o.addShape(F.type,{attrs:F.attrs}),((G=F.children)===null||G===void 0?void 0:G.length)&&F.children.map(function(V){return C(V)})},v=function C(F){var G,V=s.find(function(X){return X.attrs.key===F.attrs.key});V&&o.removeChild(V),((G=F.children)===null||G===void 0?void 0:G.length)&&F.children.map(function(X){return C(X)})},g=function C(F){var G=F.key;if(F.type!=="group"){var V=s.find(function(at){return at.attrs.key===G});switch(F.action){case"change":if(V){var X=F.val.keyshape?a.getOriginStyle():{};V.attr(te(te({},X),F.val.attrs))}break;case"add":c(F.val);break;case"delete":v(F.val);break;case"restructure":v(F.formerTarget),c(F.nowTarget);break;default:break}}F.children&&F.children.forEach(function(at){return C(at)})};g(h),r[n.id].push(l)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var dc={};function Vx(i){return dc[i]||(dc[i]=(0,f.upperFirst)(i)),dc[i]}var N3={defaultShapeType:"defaultType",className:null,getShape:function(r){var t=this,e=t[r]||t[t.defaultShapeType];return e},draw:function(r,t,e){var n=this.getShape(r),a=n.draw(t,e);return n.afterDraw&&n.afterDraw(t,e,a),a},baseUpdate:function(r,t,e){var n=this.getShape(r);n.update&&n.update(t,e),n.afterUpdate&&n.afterUpdate(t,e)},setState:function(r,t,e,n){var a=this.getShape(r);a.setState(t,e,n)},shouldUpdate:function(r){var t=this.getShape(r);return!!t.update},getControlPoints:function(r,t){var e=this.getShape(r);return e.getControlPoints(t)},getAnchorPoints:function(r,t){var e=this.getShape(r);return e.getAnchorPoints(t)}},pc={options:{},draw:function(r,t){return this.drawShape(r,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.options.anchorPoints,e=r.anchorPoints||t;return e}},Pu=function(){function i(){}return i.registerFactory=function(r,t){var e=Vx(r),n=N3,a=te(te({},n),t);return i[e]=a,a.className=e,a},i.getFactory=function(r){var t=Vx(r);return i[t]},i.registerNode=function(r,t,e){var n=i.Node,a;if(typeof t=="string"||typeof t=="function"){var o=Xx(t);a=te(te({},n.getShape("single-node")),o)}else if(t.jsx){var s=t.jsx,o=Xx(s);a=te(te(te({},n.getShape("single-node")),o),t)}else{var l=e?n.getShape(e):pc;a=te(te({},l),t)}return a.type=r,a.itemType="node",n[r]=a,a},i.registerEdge=function(r,t,e){var n=i.Edge,a=e?n.getShape(e):pc,o=te(te({},a),t);return o.type=r,o.itemType="edge",n[r]=o,o},i.registerCombo=function(r,t,e){var n=i.Combo,a=e?n.getShape(e):pc,o=te(te({},a),t);return o.type=r,o.itemType="combo",n[r]=o,o},i}(),ti=Pu;Pu.registerFactory("node",{defaultShapeType:"circle"}),Pu.registerFactory("edge",{defaultShapeType:"line"}),Pu.registerFactory("combo",{defaultShapeType:"circle"});var gc="bboxCache",yc="bboxCanvasCache",Y3=function(){function i(r){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),r);var e=this.get("model"),n=e.id,a=this.get("type");n||(n=(0,f.uniqueId)(a),this.get("model").id=n),this.set("id",n);var o=r.group;o&&(o.set("item",this),o.set("id",n)),this.init(),this.draw();var s=e.shape||e.type||(a==="edge"?"line":"circle"),l=this.get("shapeFactory");if(l&&l[s]){var u=l[s].options;if(u&&u.stateStyles){var h=this.get("styles")||e.stateStyles;h=(0,f.deepMix)({},u.stateStyles,h),this.set("styles",h)}}}return i.prototype.calculateBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=Eu(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.calculateCanvasBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=Eu(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.drawInner=function(){var r=this,t=r.get("shapeFactory"),e=r.get("group"),n=r.get("model");e.clear();var a=n.visible;if(a!==void 0&&!a&&r.changeVisibility(a),!!t){r.updatePosition(n);var o=r.getShapeCfg(n),s=o.shape||o.type,l=t.draw(s,o,e);l&&(r.set("keyShape",l),l.set("isKeyShape",!0),l.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(t,s)}},i.prototype.setOriginStyle=function(r){var t={},e=this.get("group"),n=e.get("children"),a=this.getKeyShape(),o=this;(0,f.each)(n,function(u){var h=u.get("name");if(h)t[h]=o.getShapeStyleByName(h);else{var c=a.get("name"),v=o.getShapeStyleByName();c?t[c]=v:Object.assign(t,v)}});var s=this.getOriginStyle(),l={};r?l=(0,f.deepMix)({},s,t,r.style,{labelCfg:r.labelCfg}):l=(0,f.deepMix)({},s,t),o.set("originStyle",l)},i.prototype.restoreStates=function(r,t){var e=this,n=e.get("states");(0,f.each)(n,function(a){r.setState(t,a,!0,e)})},i.prototype.init=function(){var r=ti.getFactory(this.get("type"));this.set("shapeFactory",r)},i.prototype.get=function(r){return this._cfg[r]},i.prototype.set=function(r,t){(0,f.isPlainObject)(r)?this._cfg=te(te({},this._cfg),r):this._cfg[r]=t},i.prototype.getDefaultCfg=function(){return{}},i.prototype.clearCache=function(){this.set(gc,null),this.set(yc,null)},i.prototype.beforeDraw=function(){},i.prototype.afterDraw=function(){},i.prototype.afterUpdate=function(){},i.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},i.prototype.getShapeStyleByName=function(r){var t=this.get("group"),e=this.getKeyShape();if(r&&(e=t.find(function(a){return a.get("name")===r})),e){var n={};return(0,f.each)(e.attr(),function(a,o){o!=="img"&&(n[o]=a)}),n}return{}},i.prototype.getShapeCfg=function(r){var t=this.get("styles");if(t){var e=r;return e.style=te(te({},t),r.style),e}return r},i.prototype.getStateStyle=function(r){var t=this.get("styles"),e=t&&t[r];return e},i.prototype.getOriginStyle=function(){return this.get("originStyle")},i.prototype.getCurrentStatesStyle=function(){var r=this,t={};return(0,f.each)(r.getStates(),function(e){t=Object.assign(t,r.getStateStyle(e))}),t},i.prototype.setState=function(r,t){var e=this.get("states"),n=this.get("shapeFactory"),a=r,o=r;(0,f.isString)(t)&&(a=r+":"+t,o=r+":");var s=e;if((0,f.isBoolean)(t)){var l=e.indexOf(o);if(t){if(l>-1)return;e.push(a)}else l>-1&&e.splice(l,1)}else if((0,f.isString)(t)){var u=e.filter(function(v){return v.includes(o)});u.length>0&&this.clearStates(u),s=s.filter(function(v){return!v.includes(o)}),s.push(a),this.set("states",s)}if(n){var h=this.get("model"),c=h.shape||h.type;n.setState(c,r,t,this)}},i.prototype.clearStates=function(r){var t=this,e=t.getStates(),n=t.get("shapeFactory"),a=t.get("model"),o=a.shape||a.type;r||(r=e),(0,f.isString)(r)&&(r=[r]);var s=e.filter(function(l){return r.indexOf(l)===-1});t.set("states",s),r.forEach(function(l){n.setState(o,l,!1,t)})},i.prototype.getContainer=function(){return this.get("group")},i.prototype.getKeyShape=function(){return this.get("keyShape")},i.prototype.getModel=function(){return this.get("model")},i.prototype.getType=function(){return this.get("type")},i.prototype.getID=function(){return this.get("id")},i.prototype.isItem=function(){return!0},i.prototype.getStates=function(){return this.get("states")},i.prototype.hasState=function(r){var t=this.getStates();return t.indexOf(r)>=0},i.prototype.refresh=function(){var r=this.get("model");this.updatePosition(r),this.updateShape(),this.afterUpdate(),this.clearCache()},i.prototype.isOnlyMove=function(r){return!1},i.prototype.update=function(r){var t=this.get("model"),e=t.visible,n=r.visible;e!==n&&n!==void 0&&this.changeVisibility(n);var a={x:t.x,y:t.y};r.x=isNaN(r.x)?t.x:r.x,r.y=isNaN(r.y)?t.y:r.y;var o=this.get("styles");if(r.stateStyles){var s=r.stateStyles;(0,f.mix)(o,s),delete r.stateStyles}Object.assign(t,r);var l=this.isOnlyMove(r);l?this.updatePosition(r):((a.x!==r.x||a.y!==r.y)&&this.updatePosition(r),this.updateShape()),this.afterUpdate(),this.clearCache()},i.prototype.updateShape=function(){var r=this.get("shapeFactory"),t=this.get("model"),e=t.shape||t.type;if(r.shouldUpdate(e)&&e===this.get("currentShape")){var n=this.getShapeCfg(t);r.baseUpdate(e,n,this)}else this.draw();this.setOriginStyle(t),this.restoreStates(r,e)},i.prototype.updatePosition=function(r){var t=this.get("model"),e=(0,f.isNil)(r.x)?t.x:r.x,n=(0,f.isNil)(r.y)?t.y:r.y,a=this.get("group");(0,f.isNil)(e)||(0,f.isNil)(n)||(a.resetMatrix(),fx(a,{x:e,y:n}),t.x=e,t.y=n,this.clearCache())},i.prototype.getBBox=function(){var r=this.get(gc);return r||(r=this.calculateBBox(),this.set(gc,r)),r},i.prototype.getCanvasBBox=function(){var r=this.get(yc);return r||(r=this.calculateCanvasBBox(),this.set(yc,r)),r},i.prototype.toFront=function(){var r=this.get("group");r.toFront()},i.prototype.toBack=function(){var r=this.get("group");r.toBack()},i.prototype.show=function(){this.changeVisibility(!0)},i.prototype.hide=function(){this.changeVisibility(!1)},i.prototype.changeVisibility=function(r){var t=this.get("group");r?t.show():t.hide(),this.set("visible",r)},i.prototype.isVisible=function(){return this.get("visible")},i.prototype.enableCapture=function(r){var t=this.get("group");t&&t.set("capture",r)},i.prototype.destroy=function(){if(!this.destroyed){var r=this.get("animate"),t=this.get("group");r&&t.stopAnimate(),this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},i}(),Hx=Y3,_u={source:"start",target:"end"},Ka="Node",fs="Point",G3="Anchor",z3=function(i){Bn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},r.prototype.setEnd=function(t,e){var n=_u[t]+fs,a=t+Ka,o=this.get(a);o&&!o.destroyed&&o.removeEdge(this),(0,f.isPlainObject)(e)?(this.set(n,e),this.set(a,null)):(e.addEdge(this),this.set(a,e),this.set(n,null))},r.prototype.getLinkPoint=function(t,e,n){var a=_u[t]+fs,o=t+Ka,s=this.get(a);if(!s){var l=this.get(o),u=t+G3,h=this.getPrePoint(t,n),c=e[u];(0,f.isNil)(c)||(s=l.getLinkPointByAnchor(c)),s=s||l.getLinkPoint(h),(0,f.isNil)(s.index)||this.set(t+"AnchorIndex",s.index)}return s},r.prototype.getPrePoint=function(t,e){if(e&&e.length){var n=t==="source"?0:e.length-1;return e[n]}var a=t==="source"?"target":"source";return this.getEndPoint(a)},r.prototype.getEndPoint=function(t){var e=t+Ka,n=_u[t]+fs,a=this.get(e);return a?a.get("model"):this.get(n)},r.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),n=this.getEndPoint("target"),a=this.get("shapeFactory"),o=t.shape||t.type;return a.getControlPoints(o,{startPoint:e,endPoint:n})},r.prototype.getEndCenter=function(t){var e=t+Ka,n=_u[t]+fs,a=this.get(e);if(a){var o=a.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(n)},r.prototype.init=function(){i.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},r.prototype.getShapeCfg=function(t){var e=this,n=e.get("linkCenter"),a=i.prototype.getShapeCfg.call(this,t);if(n)a.startPoint=e.getEndCenter("source"),a.endPoint=e.getEndCenter("target");else{var o=a.controlPoints||e.getControlPointsByCenter(a);a.startPoint=e.getLinkPoint("source",t,o),a.endPoint=e.getLinkPoint("target",t,o)}return a.sourceNode=e.get("sourceNode"),a.targetNode=e.get("targetNode"),a},r.prototype.getModel=function(){var t=this.get("model"),e=this.get("source"+Ka),n=this.get("target"+Ka);return e?delete t["source"+Ka]:t.source=this.get("start"+fs),n?delete t["target"+Ka]:t.target=this.get("end"+fs),!(0,f.isString)(t.source)&&!(0,f.isPlainObject)(t.source)&&(t.source=t.source.getID()),!(0,f.isString)(t.target)&&!(0,f.isPlainObject)(t.target)&&(t.target=t.target.getID()),t},r.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},r.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},r.prototype.getSource=function(){return this.get("source")},r.prototype.getTarget=function(){return this.get("target")},r.prototype.updatePosition=function(){},r.prototype.update=function(t){var e=this.get("model"),n=e.visible,a=t.visible;n!==a&&a!==void 0&&this.changeVisibility(a);var o=this.get("styles");if(t.stateStyles){var s=t.stateStyles;(0,f.mix)(o,s),delete t.stateStyles}Object.assign(e,t),this.updateShape(),this.afterUpdate(),this.clearCache()},r.prototype.destroy=function(){var t=this.get("source"+Ka),e=this.get("target"+Ka);t&&!t.destroyed&&t.removeEdge(this),e&&!e.destroyed&&e.removeEdge(this),i.prototype.destroy.call(this)},r}(Hx),X3=z3,Zs=d(66974),mc="anchorPointsCache",V3="bboxCache",H3=function(i){Bn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getNearestPoint=function(t,e){for(var n=0,a=t[0],o=Hs(t[0],e),s=0;s<t.length;s++){var l=t[s],u=Hs(l,e);u<o&&(a=l,o=u,n=s)}return a.anchorIndex=n,a},r.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("target")===t})},r.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("source")===t})},r.prototype.getNeighbors=function(t){var e=this,n=this.get("edges");if(t==="target"){var a=function(u){return u.getSource()===e};return n.filter(a).map(function(l){return l.getTarget()})}if(t==="source"){var o=function(u){return u.getTarget()===e};return n.filter(o).map(function(l){return l.getSource()})}var s=function(u){return u.getSource()===e?u.getTarget():u.getSource()};return n.map(s)},r.prototype.getLinkPointByAnchor=function(t){var e=this.getAnchorPoints();return e[t]},r.prototype.getLinkPoint=function(t){var e=this.get("keyShape"),n=e.get("type"),a=this.get("type"),o,s,l=this.getBBox();a==="combo"?(o=(l.maxX+l.minX)/2,s=(l.maxY+l.minY)/2):(o=l.centerX,s=l.centerY);var u=this.getAnchorPoints(),h;switch(n){case"circle":h=ox({x:o,y:s,r:l.width/2},t);break;case"ellipse":h=sx({x:o,y:s,rx:l.width/2,ry:l.height/2},t);break;default:h=ax(l,t)}var c=h;return u.length&&(c||(c=t),c=this.getNearestPoint(u,c)),c||(c={x:o,y:s}),c},r.prototype.getAnchorPoints=function(){var t=this.get(mc);if(!t){t=[];var e=this.get("shapeFactory"),n=this.getBBox(),a=this.get("model"),o=this.getShapeCfg(a),s=a.shape||a.type,l=e.getAnchorPoints(s,o)||[];(0,Cn.default)(l,function(u,h){var c=(0,Zs.default)({x:n.minX+u[0]*n.width,y:n.minY+u[1]*n.height},u[2],{index:h});t.push(c)}),this.set(mc,t)}return t},r.prototype.addEdge=function(t){this.get("edges").push(t)},r.prototype.lock=function(){this.set("locked",!0)},r.prototype.unlock=function(){this.set("locked",!1)},r.prototype.hasLocked=function(){return this.get("locked")},r.prototype.removeEdge=function(t){var e=this.getEdges(),n=e.indexOf(t);n>-1&&e.splice(n,1)},r.prototype.clearCache=function(){this.set(V3,null),this.set(mc,null)},r.prototype.isOnlyMove=function(t){if(!t)return!1;var e=!(0,Ii.default)(t.x),n=!(0,Ii.default)(t.y),a=Object.keys(t);return a.length===1&&(e||n)||a.length===2&&e&&n},r}(Hx),Wx=H3,W3="bboxCache",jx="bboxCanvasCache",xc="sizeCache",j3="anchorPointsCache",U3=function(i){Bn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},r.prototype.getShapeCfg=function(t){var e=this.get("styles"),n=this.get("bbox");if(e&&n){var a=t,o={r:Math.hypot(n.height,n.width)/2||ze.defaultCombo.size[0]/2,width:n.width||ze.defaultCombo.size[0],height:n.height||ze.defaultCombo.size[1]};a.style=te(te(te({},e),t.style),o);var s=t.padding||ze.defaultCombo.padding;return(0,Ra.default)(s)?(o.r+=s,o.width+=s*2,o.height+=s*2):(o.r+=s[0],o.width+=s[1]+s[3]||s[1]*2,o.height+=s[0]+s[2]||s[0]*2),this.set(xc,o),a}return t},r.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=Eu(t,e);n.x=n.minX,n.y=n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var a=this.get(xc);if(a){var o=t.get("type");o==="circle"?(n.width=a.r*2,n.height=a.r*2):(n.width=a.width,n.height=a.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2}else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n},r.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},r.prototype.getNodes=function(){var t=this;return t.get("nodes")},r.prototype.getCombos=function(){var t=this;return t.get("combos")},r.prototype.addChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.addNode(t);break;case"combo":e.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.addCombo=function(t){var e=this;return e.get("combos").push(t),!0},r.prototype.addNode=function(t){var e=this;return e.get("nodes").push(t),!0},r.prototype.removeChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.removeNode(t);break;case"combo":e.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.removeCombo=function(t){if(!!t){var e=this.getCombos(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.removeNode=function(t){if(!!t){var e=this.getNodes(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.isOnlyMove=function(t){return!1},r.prototype.getBBox=function(){this.set(jx,null);var t=this.calculateCanvasBBox();return t},r.prototype.clearCache=function(){this.set(W3,null),this.set(jx,null),this.set(j3,null)},r.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),this.set(xc,null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},r}(Wx),Z3=U3,Lu="node",Iu="edge",Ux="vedge",Ou="combo",K3="default",Zx="Mapper",co="stateStyles",$3=Object.hasOwnProperty,Q3=function(){function i(r){this.graph=r,this.destroyed=!1}return i.prototype.addItem=function(r,t){var e=this,n=this.graph,a=r===Ux?Iu:r,o=n.get(a+"Group")||n.get("group"),s=(0,Ox.default)(a),l=null,u=n.get(a+(0,Ox.default)(co))||{},h=n.get(K3+s);t[co]&&(u=t[co]);var c=n.get(a+Zx);if(c){var v=c(t);v[co]&&(u=v[co],delete v[co]),t=(0,Yi.default)({},h,t,v)}else h&&(0,Cn.default)(h,function(at,st){$3.call(t,st)||((0,Ix.default)(at)?t[st]=(0,Lx.default)(at):t[st]=h[st])});if(t.shape&&!t.type&&console.warn("shape \u5B57\u6BB5\u5373\u5C06\u88AB\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 type \u4EE3\u66FF"),n.emit("beforeadditem",{type:r,model:t}),r===Iu||r===Ux){var g=void 0,C=void 0;if(g=t.source,C=t.target,g&&(0,mn.default)(g)&&(g=n.findById(g)),C&&(0,mn.default)(C)&&(C=n.findById(C)),!g||!C){console.warn("The source or target node of edge "+t.id+" does not exist!");return}g.getType&&g.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(g)),C.getType&&C.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(C)),l=new X3({model:t,source:g,target:C,styles:u,linkCenter:n.get("linkCenter"),group:o.addGroup()})}else if(r===Lu)l=new Wx({model:t,styles:u,group:o.addGroup()});else if(r===Ou){var F=t.children,G=vc(F,n);t.x=G.x||t.x||Math.random()*100,t.y=G.y||t.y||Math.random()*100;var V=o.addGroup();V.setZIndex(t.depth),l=new Z3({model:t,styles:u,bbox:G,group:V});var X=l.getModel();(F||[]).forEach(function(at){var st=n.findById(at.id);l.addChild(st),at.depth=X.depth+2}),t.collapsed&&setTimeout(function(){n.collapseCombo(l),e.updateCombo(l,[])},250)}if(l)return n.get(r+"s").push(l),n.get("itemMap")[l.get("id")]=l,n.emit("afteradditem",{item:l,model:t}),l},i.prototype.updateItem=function(r,t){var e=this.graph;if((0,mn.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n="";r.getType&&(n=r.getType());var a=e.get(n+Zx),o=r.getModel();if(a){var s=(0,Yi.default)({},o,t),l=a(s),u=(0,Yi.default)({},o,l,t);l[co]&&(r.set("styles",u[co]),delete u[co]),(0,Cn.default)(u,function(g,C){t[C]=g})}else(0,Cn.default)(t,function(g,C){o[C]&&(0,Ix.default)(g)&&!(0,Oi.default)(g)&&(t[C]=te(te({},o[C]),t[C]))});if(e.emit("beforeupdateitem",{item:r,cfg:t}),n===Iu){if(t.source){var h=t.source;(0,mn.default)(h)&&(h=e.findById(h)),r.setSource(h)}if(t.target){var c=t.target;(0,mn.default)(c)&&(c=e.findById(c)),r.setTarget(c)}}if(r.update(t),n===Lu||n===Ou){var v=r.getEdges();(0,Cn.default)(v,function(g){g.refresh()})}e.emit("afterupdateitem",{item:r,cfg:t})}},i.prototype.updateCombo=function(r,t){var e=this.graph;if((0,mn.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=vc(t,e);r.set("bbox",n),r.update({x:n.x,y:n.y});for(var a=r.getEdges()||[],o=a.length,s=0;s<o;s++){var l=a[s];l==null||l.refresh()}}},i.prototype.collapseCombo=function(r){var t=this.graph;(0,mn.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.hideItem(n)}),e.combos.forEach(function(n){t.hideItem(n)})},i.prototype.expandCombo=function(r){var t=this.graph;(0,mn.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.showItem(n)}),e.combos.forEach(function(n){n.getModel().collapsed?n.show():t.showItem(n)})},i.prototype.removeItem=function(r){var t=this,e=this.graph;if((0,mn.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=(0,Lx.default)(r.getModel());e.emit("beforeremoveitem",{item:n});var a="";r.getType&&(a=r.getType());var o=e.get(a+"s"),s=o.indexOf(r);if(s>-1&&o.splice(s,1),a===Iu){var l=e.get("v"+a+"s"),u=l.indexOf(r);u>-1&&l.splice(u,1)}var h=r.get("id"),c=e.get("itemMap");delete c[h];var v=e.get("comboTrees"),g=r.get("id");if(a===Lu){var C=r.getModel().comboId;if(v){var F=v,G=!1;v.forEach(function(kt){G||$i(kt,function(Gt){if(Gt.id===g&&F){var Wt=F.indexOf(Gt);return F.splice(Wt,1),G=!0,!1}return F=Gt.children,!0})})}for(var V=r.getEdges(),X=V.length-1;X>=0;X--)e.removeItem(V[X],!1);C&&e.updateCombo(C)}else if(a===Ou){var at=r.getModel().parentId,st,xt=!1;(v||[]).forEach(function(Gt){xt||$i(Gt,function(Wt){return Wt.id===g?(st=Wt,xt=!0,!1):!0})}),st.removed=!0,st&&st.children&&st.children.forEach(function(Gt){t.removeItem(Gt.id)});for(var V=r.getEdges(),X=V.length;X>=0;X--)e.removeItem(V[X],!1);at&&e.updateCombo(at)}r.destroy(),e.emit("afterremoveitem",{item:n})}},i.prototype.setItemState=function(r,t,e){var n=this.graph,a=t;(0,mn.default)(e)&&(a=t+":"+e),!(r.hasState(a)===e||(0,mn.default)(e)&&r.hasState(a))&&(n.emit("beforeitemstatechange",{item:r,state:a,enabled:e}),r.setState(t,e),n.autoPaint(),n.emit("afteritemstatechange",{item:r,state:a,enabled:e}))},i.prototype.priorityState=function(r,t){var e=this.graph,n=r;(0,mn.default)(r)&&(n=e.findById(r)),this.setItemState(n,t,!1),this.setItemState(n,t,!0)},i.prototype.clearItemStates=function(r,t){var e=this.graph;(0,mn.default)(r)&&(r=e.findById(r)),e.emit("beforeitemstatesclear",{item:r,states:t}),r.clearStates(t),e.emit("afteritemstatesclear",{item:r,states:t})},i.prototype.refreshItem=function(r){var t=this.graph;(0,mn.default)(r)&&(r=t.findById(r)),t.emit("beforeitemrefresh",{item:r}),r.refresh(),t.emit("afteritemrefresh",{item:r})},i.prototype.addCombos=function(r,t){var e=this,n=this.graph;(r||[]).forEach(function(o){La(o,function(s){var l;return t.forEach(function(u){u.id===s.id&&(u.children=s.children,u.depth=s.depth,l=u)}),l&&e.addItem("combo",l),!0})});var a=n.get("comboGroup");a&&a.sort()},i.prototype.changeItemVisibility=function(r,t){var e=this,n=this.graph;if((0,mn.default)(r)&&(r=n.findById(r)),!r){console.warn("The item to be shown or hidden does not exist!");return}if(n.emit("beforeitemvisibilitychange",{item:r,visible:t}),r.changeVisibility(t),r.getType&&r.getType()===Lu){var a=r.getEdges();(0,Cn.default)(a,function(h){t&&!(h.get("source").isVisible()&&h.get("target").isVisible())||e.changeItemVisibility(h,t)})}else if(r.getType&&r.getType()===Ou){var o=n.get("comboTrees"),s=r.get("id"),l=[],u=!1;(o||[]).forEach(function(c){u||!c.children||c.children.length===0||$i(c,function(v){return v.id===s?(l=v.children,u=!0,!1):!0})}),l.forEach(function(c){var v=n.findById(c.id);e.changeItemVisibility(v,t)});var a=r.getEdges();(0,Cn.default)(a,function(c){t&&!(c.get("source").isVisible()&&c.get("target").isVisible())||e.changeItemVisibility(c,t)})}return n.emit("afteritemvisibilitychange",{item:r,visible:t}),r},i.prototype.destroy=function(){this.graph=null,this.destroyed=!0},i}(),J3=Q3,Ia=function(){function i(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return i.prototype.init=function(r){var t=this;t.nodes=r.nodes||[],t.edges=r.edges||[],t.combos=r.combos||[]},i.prototype.execute=function(){},i.prototype.layout=function(r){var t=this;t.init(r),t.execute()},i.prototype.getDefaultCfg=function(){return{}},i.prototype.updateCfg=function(r){var t=this;(0,Zs.default)(t,r)},i.prototype.destroy=function(){var r=this;r.positions=null,r.nodes=null,r.edges=null,r.destroyed=!0},i}(),Kx={registerLayout:function(r,t,e){if(e===void 0&&(e=Ia),!t)throw new Error("please specify handler for this layout: "+r);var n=function(a){Bn(o,a);function o(s){var l=a.call(this)||this,u=l,h={},c=u.getDefaultCfg();return(0,Zs.default)(h,c,t,s),(0,Cn.default)(h,function(v,g){u[g]=v}),l}return o}(e);Kx[r]=n}},$x=Kx;function q3(i,r,t,e){i.forEach(function(n,a){i[a].children=[],i[a].parent=[]}),e?r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].parent.push(i[a].id)}):r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].children.push(i[a].id)})}function tN(i,r,t){for(var e=t.length,n=0;n<e;n++)if(i.id===t[n].source&&r.id===t[n].target||r.id===t[n].source&&i.id===t[n].target)return!0;return!1}function eN(i,r){return i.degree<r.degree?-1:i.degree>r.degree?1:0}var rN=function(i){Bn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.radius=null,t.startRadius=null,t.endRadius=null,t.startAngle=0,t.endAngle=2*Math.PI,t.clockwise=!0,t.divisions=1,t.ordering=null,t.angleRatio=1,t.nodes=[],t.edges=[],t.nodeMap={},t.degrees=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.radius,l=t.startRadius,u=t.endRadius,h=t.divisions,c=t.startAngle,v=t.endAngle,g=(v-c)/a,C={};e.forEach(function(Yt,ie){C[Yt.id]=ie}),t.nodeMap=C;var F=bu(e.length,C,n);t.degrees=F,!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),!s&&!l&&!u?s=t.height>t.width?t.width/2:t.height/2:!l&&u?l=u:l&&!u&&(u=l);var G=t.angleRatio,V=g*G;t.astep=V;var X=t.ordering,at=[];X==="topology"?at=t.topologyOrdering():X==="topology-directed"?at=t.topologyOrdering(!0):X==="degree"?at=t.degreeOrdering():at=e;for(var st=t.clockwise,xt=Math.ceil(a/h),kt=0;kt<a;++kt){var Gt=s;!Gt&&l!==null&&u!==null&&(Gt=l+kt*(u-l)/(a-1)),Gt||(Gt=10+kt*100/(a-1));var Wt=c+kt%xt*V+2*Math.PI/h*Math.floor(kt/xt);st||(Wt=v-kt%xt*V-2*Math.PI/h*Math.floor(kt/xt)),at[kt].x=o[0]+Math.cos(Wt)*Gt,at[kt].y=o[1]+Math.sin(Wt)*Gt,at[kt].weight=F[kt]}}},r.prototype.topologyOrdering=function(t){t===void 0&&(t=!1);var e=this,n=e.degrees,a=e.edges,o=e.nodes,s=(0,f.clone)(o),l=e.nodeMap,u=[s[0]],h=[o[0]],c=[],v=o.length;c[0]=!0,q3(s,a,l,t);var g=0;return s.forEach(function(C,F){if(F!==0)if((F===v-1||n[F]!==n[F+1]||tN(u[g],C,a))&&c[F]!==!0)u.push(C),h.push(o[l[C.id]]),c[F]=!0,g++;else{for(var G=u[g].children,V=!1,X=0;X<G.length;X++){var at=l[G[X]];if(n[at]===n[F]&&c[at]!==!0){u.push(s[at]),h.push(o[l[s[at].id]]),c[at]=!0,V=!0;break}}for(var st=0;!V&&(c[st]||(u.push(s[st]),h.push(o[l[s[st].id]]),c[st]=!0,V=!0),st++,st!==v););}}),h},r.prototype.degreeOrdering=function(){var t=this,e=t.nodes,n=[],a=t.degrees;return e.forEach(function(o,s){o.degree=a[s],n.push(o)}),n.sort(eN),n},r}(Ia),nN=rN,iN=function(i){Bn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeSize=30,t.minNodeSpacing=10,t.preventOverlap=!1,t.equidistant=!1,t.startAngle=3/2*Math.PI,t.clockwise=!0,t.sortBy="degree",t.nodes=[],t.edges=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=[],l;(0,Oi.default)(t.nodeSize)?l=Math.max(t.nodeSize[0],t.nodeSize[1]):l=t.nodeSize,e.forEach(function(Wt){s.push(Wt);var Yt=l;(0,Oi.default)(Wt.size)?Yt=Math.max(Wt.size[0],Wt.size[1]):(0,f.isNumber)(Wt.size)&&(Yt=Wt.size),l=Math.max(l,Yt)}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.clockwise=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise;var u={},h={};if(s.forEach(function(Wt,Yt){u[Wt.id]=Wt,h[Wt.id]=Yt}),(t.sortBy==="degree"||!(0,mn.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",!(0,f.isNumber)(e[0].degree))){var c=bu(e.length,h,n);s.forEach(function(Wt,Yt){Wt.degree=c[Yt]})}s.sort(function(Wt,Yt){return Yt[t.sortBy]-Wt[t.sortBy]}),t.maxValueNode=s[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var v=[[]],g=v[0];s.forEach(function(Wt){if(g.length>0){var Yt=Math.abs(g[0][t.sortBy]-Wt[t.sortBy]);t.maxLevelDiff&&Yt>=t.maxLevelDiff&&(g=[],v.push(g))}g.push(Wt)});var C=l+t.minNodeSpacing;if(!t.preventOverlap){var F=v.length>0&&v[0].length>1,G=Math.min(t.width,t.height)/2-C,V=G/(v.length+(F?1:0));C=Math.min(C,V)}var X=0;if(v.forEach(function(Wt){var Yt=t.sweep;Yt===void 0&&(Yt=2*Math.PI-2*Math.PI/Wt.length);var ie=Wt.dTheta=Yt/Math.max(1,Wt.length-1);if(Wt.length>1&&t.preventOverlap){var de=Math.cos(ie)-Math.cos(0),he=Math.sin(ie)-Math.sin(0),Ee=Math.sqrt(C*C/(de*de+he*he));X=Math.max(Ee,X)}Wt.r=X,X+=C}),t.equidistant){for(var at=0,st=0,xt=0;xt<v.length;xt++){var kt=v[xt],Gt=kt.r-st;at=Math.max(at,Gt)}st=0,v.forEach(function(Wt,Yt){Yt===0&&(st=Wt.r),Wt.r=st,st+=at})}v.forEach(function(Wt){var Yt=Wt.dTheta,ie=Wt.r;Wt.forEach(function(de,he){var Ee=t.startAngle+(t.clockwise?1:-1)*Yt*he;de.x=o[0]+ie*Math.cos(Ee),de.y=o[1]+ie*Math.sin(Ee)})})}},r}(Ia),aN=iN,oN=d(49772),Qx=d.n(oN),sN=function(i){Bn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.rankdir="TB",t.nodesep=50,t.ranksep=50,t.controlPoints=!1,t.sortByCombo=!1,t}return r.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.nodeSize,a=t.rankdir;if(!!e){var o=t.edges||[],s=new(Qx()).graphlib.Graph,l;n?(0,Oi.default)(n)?l=function(){return n}:l=function(){return[n,n]}:l=function(g){return g.size?(0,Oi.default)(g.size)?g.size:[g.size,g.size]:[40,40]};var u=ku(t.nodesepFunc,t.nodesep,50),h=ku(t.ranksepFunc,t.ranksep,50);(a==="LR"||a==="RL")&&(u=ku(t.ranksepFunc,t.ranksep,50),h=ku(t.nodesepFunc,t.nodesep,50)),s.setDefaultEdgeLabel(function(){return{}}),s.setGraph(t),e.forEach(function(v){var g=l(v),C=h(v),F=u(v),G=g[0]+2*F,V=g[1]+2*C;s.setNode(v.id,{width:G,height:V})}),o.forEach(function(v){s.setEdge(v.source,v.target,{weight:v.weight||1})}),Qx().layout(s);var c;s.nodes().forEach(function(v){c=s.node(v);var g=e.findIndex(function(C){return C.id===v});e[g].x=c.x,e[g].y=c.y}),s.edges().forEach(function(v){c=s.edge(v);var g=o.findIndex(function(C){return C.source===v.v&&C.target===v.w});t.controlPoints&&o[g].type!=="loop"&&o[g].shape!=="loop"&&(o[g].controlPoints=c.points.slice(1,c.points.length-1))}),t.sortByCombo&&t.sortLevel("comboId")}},r.prototype.sortLevel=function(t){var e=this,n=e.nodes,a={};n.forEach(function(o){a[o.y]||(a[o.y]={y:o.y,nodes:[]}),a[o.y].nodes.push(o)}),Object.keys(a).forEach(function(o){var s=a[o].nodes,l=s.length,u={};if(s.forEach(function(F){var G=F.comboId;u[G]||(u[G]={x:0,y:0,count:0}),u[G].x+=F.x,u[G].y+=F.y,u[G].count++}),Object.keys(u).forEach(function(F){u[F].x/=u[F].count,u[F].y/=u[F].count}),l!==1){var h=s.sort(function(F,G){return F.x-G.x}),c=h[0].x,v=h[l-1].x,g=(v-c)/(l-1),C=s.sort(function(F,G){var V=F[t]||"undefined",X=G[t]||"undefined";return V<X?-1:V>X?1:0});C.forEach(function(F,G){F.x=c+G*g})}})},r}(Ia),lN=sN;function ku(i,r,t){var e;return i?e=i:(0,f.isNumber)(r)?e=function(){return r}:e=function(){return t},e}function uN(i){const r=+this._x.call(null,i),t=+this._y.call(null,i);return Jx(this.cover(r,t),r,t,i)}function Jx(i,r,t,e){if(isNaN(r)||isNaN(t))return i;var n,a=i._root,o={data:e},s=i._x0,l=i._y0,u=i._x1,h=i._y1,c,v,g,C,F,G,V,X;if(!a)return i._root=o,i;for(;a.length;)if((F=r>=(c=(s+u)/2))?s=c:u=c,(G=t>=(v=(l+h)/2))?l=v:h=v,n=a,!(a=a[V=G<<1|F]))return n[V]=o,i;if(g=+i._x.call(null,a.data),C=+i._y.call(null,a.data),r===g&&t===C)return o.next=a,n?n[V]=o:i._root=o,i;do n=n?n[V]=new Array(4):i._root=new Array(4),(F=r>=(c=(s+u)/2))?s=c:u=c,(G=t>=(v=(l+h)/2))?l=v:h=v;while((V=G<<1|F)==(X=(C>=v)<<1|g>=c));return n[X]=a,n[V]=o,i}function fN(i){var r,t,e=i.length,n,a,o=new Array(e),s=new Array(e),l=Infinity,u=Infinity,h=-Infinity,c=-Infinity;for(t=0;t<e;++t)isNaN(n=+this._x.call(null,r=i[t]))||isNaN(a=+this._y.call(null,r))||(o[t]=n,s[t]=a,n<l&&(l=n),n>h&&(h=n),a<u&&(u=a),a>c&&(c=a));if(l>h||u>c)return this;for(this.cover(l,u).cover(h,c),t=0;t<e;++t)Jx(this,o[t],s[t],i[t]);return this}function hN(i,r){if(isNaN(i=+i)||isNaN(r=+r))return this;var t=this._x0,e=this._y0,n=this._x1,a=this._y1;if(isNaN(t))n=(t=Math.floor(i))+1,a=(e=Math.floor(r))+1;else{for(var o=n-t||1,s=this._root,l,u;t>i||i>=n||e>r||r>=a;)switch(u=(r<e)<<1|i<t,l=new Array(4),l[u]=s,s=l,o*=2,u){case 0:n=t+o,a=e+o;break;case 1:t=n-o,a=e+o;break;case 2:n=t+o,e=a-o;break;case 3:t=n-o,e=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=t,this._y0=e,this._x1=n,this._y1=a,this}function cN(){var i=[];return this.visit(function(r){if(!r.length)do i.push(r.data);while(r=r.next)}),i}function vN(i){return arguments.length?this.cover(+i[0][0],+i[0][1]).cover(+i[1][0],+i[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function na(i,r,t,e,n){this.node=i,this.x0=r,this.y0=t,this.x1=e,this.y1=n}function dN(i,r,t){var e,n=this._x0,a=this._y0,o,s,l,u,h=this._x1,c=this._y1,v=[],g=this._root,C,F;for(g&&v.push(new na(g,n,a,h,c)),t==null?t=Infinity:(n=i-t,a=r-t,h=i+t,c=r+t,t*=t);C=v.pop();)if(!(!(g=C.node)||(o=C.x0)>h||(s=C.y0)>c||(l=C.x1)<n||(u=C.y1)<a))if(g.length){var G=(o+l)/2,V=(s+u)/2;v.push(new na(g[3],G,V,l,u),new na(g[2],o,V,G,u),new na(g[1],G,s,l,V),new na(g[0],o,s,G,V)),(F=(r>=V)<<1|i>=G)&&(C=v[v.length-1],v[v.length-1]=v[v.length-1-F],v[v.length-1-F]=C)}else{var X=i-+this._x.call(null,g.data),at=r-+this._y.call(null,g.data),st=X*X+at*at;if(st<t){var xt=Math.sqrt(t=st);n=i-xt,a=r-xt,h=i+xt,c=r+xt,e=g.data}}return e}function pN(i){if(isNaN(h=+this._x.call(null,i))||isNaN(c=+this._y.call(null,i)))return this;var r,t=this._root,e,n,a,o=this._x0,s=this._y0,l=this._x1,u=this._y1,h,c,v,g,C,F,G,V;if(!t)return this;if(t.length)for(;;){if((C=h>=(v=(o+l)/2))?o=v:l=v,(F=c>=(g=(s+u)/2))?s=g:u=g,r=t,!(t=t[G=F<<1|C]))return this;if(!t.length)break;(r[G+1&3]||r[G+2&3]||r[G+3&3])&&(e=r,V=G)}for(;t.data!==i;)if(n=t,!(t=t.next))return this;return(a=t.next)&&delete t.next,n?(a?n.next=a:delete n.next,this):r?(a?r[G]=a:delete r[G],(t=r[0]||r[1]||r[2]||r[3])&&t===(r[3]||r[2]||r[1]||r[0])&&!t.length&&(e?e[V]=t:this._root=t),this):(this._root=a,this)}function gN(i){for(var r=0,t=i.length;r<t;++r)this.remove(i[r]);return this}function yN(){return this._root}function mN(){var i=0;return this.visit(function(r){if(!r.length)do++i;while(r=r.next)}),i}function xN(i){var r=[],t,e=this._root,n,a,o,s,l;for(e&&r.push(new na(e,this._x0,this._y0,this._x1,this._y1));t=r.pop();)if(!i(e=t.node,a=t.x0,o=t.y0,s=t.x1,l=t.y1)&&e.length){var u=(a+s)/2,h=(o+l)/2;(n=e[3])&&r.push(new na(n,u,h,s,l)),(n=e[2])&&r.push(new na(n,a,h,u,l)),(n=e[1])&&r.push(new na(n,u,o,s,h)),(n=e[0])&&r.push(new na(n,a,o,u,h))}return this}function bN(i){var r=[],t=[],e;for(this._root&&r.push(new na(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var n=e.node;if(n.length){var a,o=e.x0,s=e.y0,l=e.x1,u=e.y1,h=(o+l)/2,c=(s+u)/2;(a=n[0])&&r.push(new na(a,o,s,h,c)),(a=n[1])&&r.push(new na(a,h,s,l,c)),(a=n[2])&&r.push(new na(a,o,c,h,u)),(a=n[3])&&r.push(new na(a,h,c,l,u))}t.push(e)}for(;e=t.pop();)i(e.node,e.x0,e.y0,e.x1,e.y1);return this}function wN(i){return i[0]}function SN(i){return arguments.length?(this._x=i,this):this._x}function CN(i){return i[1]}function MN(i){return arguments.length?(this._y=i,this):this._y}function bc(i,r,t){var e=new wc(r==null?wN:r,t==null?CN:t,NaN,NaN,NaN,NaN);return i==null?e:e.addAll(i)}function wc(i,r,t,e,n,a){this._x=i,this._y=r,this._x0=t,this._y0=e,this._x1=n,this._y1=a,this._root=void 0}function qx(i){for(var r={data:i.data},t=r;i=i.next;)t=t.next={data:i.data};return r}var ia=bc.prototype=wc.prototype;ia.copy=function(){var i=new wc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,t,e;if(!r)return i;if(!r.length)return i._root=qx(r),i;for(t=[{source:r,target:i._root=new Array(4)}];r=t.pop();)for(var n=0;n<4;++n)(e=r.source[n])&&(e.length?t.push({source:e,target:r.target[n]=new Array(4)}):r.target[n]=qx(e));return i},ia.add=uN,ia.addAll=fN,ia.cover=hN,ia.data=cN,ia.extent=vN,ia.find=dN,ia.remove=pN,ia.removeAll=gN,ia.root=yN,ia.size=mN,ia.visit=xN,ia.visitAfter=bN,ia.x=SN,ia.y=MN;function aa(i){return function(){return i}}function Ao(i){return(i()-.5)*1e-6}var EN={value:function(){}};function t1(){for(var i=0,r=arguments.length,t={},e;i<r;++i){if(!(e=arguments[i]+"")||e in t||/[\s.]/.test(e))throw new Error("illegal type: "+e);t[e]=[]}return new Bu(t)}function Bu(i){this._=i}function AN(i,r){return i.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}Bu.prototype=t1.prototype={constructor:Bu,on:function(r,t){var e=this._,n=AN(r+"",e),a,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((a=(r=n[o]).type)&&(a=TN(e[a],r.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(a=(r=n[o]).type)e[a]=e1(e[a],r.name,t);else if(t==null)for(a in e)e[a]=e1(e[a],r.name,null);return this},copy:function(){var r={},t=this._;for(var e in t)r[e]=t[e].slice();return new Bu(r)},call:function(r,t){if((a=arguments.length-2)>0)for(var e=new Array(a),n=0,a,o;n<a;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(o=this._[r],n=0,a=o.length;n<a;++n)o[n].value.apply(t,e)},apply:function(r,t,e){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var n=this._[r],a=0,o=n.length;a<o;++a)n[a].value.apply(t,e)}};function TN(i,r){for(var t=0,e=i.length,n;t<e;++t)if((n=i[t]).name===r)return n.value}function e1(i,r,t){for(var e=0,n=i.length;e<n;++e)if(i[e].name===r){i[e]=EN,i=i.slice(0,e).concat(i.slice(e+1));break}return t!=null&&i.push({name:r,value:t}),i}var PN=t1,hs=0,Ks=0,$s=0,r1=1e3,Du,Qs,Fu=0,Wo=0,Ru=0,Js=typeof performance=="object"&&performance.now?performance:Date,n1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function i1(){return Wo||(n1(_N),Wo=Js.now()+Ru)}function _N(){Wo=0}function Sc(){this._call=this._time=this._next=null}Sc.prototype=a1.prototype={constructor:Sc,restart:function(i,r,t){if(typeof i!="function")throw new TypeError("callback is not a function");t=(t==null?i1():+t)+(r==null?0:+r),!this._next&&Qs!==this&&(Qs?Qs._next=this:Du=this,Qs=this),this._call=i,this._time=t,Cc()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Cc())}};function a1(i,r,t){var e=new Sc;return e.restart(i,r,t),e}function LN(){i1(),++hs;for(var i=Du,r;i;)(r=Wo-i._time)>=0&&i._call.call(null,r),i=i._next;--hs}function o1(){Wo=(Fu=Js.now())+Ru,hs=Ks=0;try{LN()}finally{hs=0,ON(),Wo=0}}function IN(){var i=Js.now(),r=i-Fu;r>r1&&(Ru-=r,Fu=i)}function ON(){for(var i,r=Du,t,e=Infinity;r;)r._call?(e>r._time&&(e=r._time),i=r,r=r._next):(t=r._next,r._next=null,r=i?i._next=t:Du=t);Qs=i,Cc(e)}function Cc(i){if(!hs){Ks&&(Ks=clearTimeout(Ks));var r=i-Wo;r>24?(i<Infinity&&(Ks=setTimeout(o1,i-Js.now()-Ru)),$s&&($s=clearInterval($s))):($s||(Fu=Js.now(),$s=setInterval(IN,r1)),hs=1,n1(o1))}}var kN=1664525,BN=1013904223,s1=4294967296;function DN(){var i=1;return function(){return(i=(kN*i+BN)%s1)/s1}}function FN(i){return i.x}function RN(i){return i.y}var NN=10,YN=Math.PI*(3-Math.sqrt(5));function l1(i){var r,t=1,e=.001,n=1-Math.pow(e,1/300),a=0,o=.6,s=new Map,l=a1(c),u=PN("tick","end"),h=DN();i==null&&(i=[]);function c(){v(),u.call("tick",r),t<e&&(l.stop(),u.call("end",r))}function v(F){var G,V=i.length,X;F===void 0&&(F=1);for(var at=0;at<F;++at)for(t+=(a-t)*n,s.forEach(function(st){st(t)}),G=0;G<V;++G)X=i[G],X.fx==null?X.x+=X.vx*=o:(X.x=X.fx,X.vx=0),X.fy==null?X.y+=X.vy*=o:(X.y=X.fy,X.vy=0);return r}function g(){for(var F=0,G=i.length,V;F<G;++F){if(V=i[F],V.index=F,V.fx!=null&&(V.x=V.fx),V.fy!=null&&(V.y=V.fy),isNaN(V.x)||isNaN(V.y)){var X=NN*Math.sqrt(.5+F),at=F*YN;V.x=X*Math.cos(at),V.y=X*Math.sin(at)}(isNaN(V.vx)||isNaN(V.vy))&&(V.vx=V.vy=0)}}function C(F){return F.initialize&&F.initialize(i,h),F}return g(),r={tick:v,restart:function(){return l.restart(c),r},stop:function(){return l.stop(),r},nodes:function(G){return arguments.length?(i=G,g(),s.forEach(C),r):i},alpha:function(G){return arguments.length?(t=+G,r):t},alphaMin:function(G){return arguments.length?(e=+G,r):e},alphaDecay:function(G){return arguments.length?(n=+G,r):+n},alphaTarget:function(G){return arguments.length?(a=+G,r):a},velocityDecay:function(G){return arguments.length?(o=1-G,r):1-o},randomSource:function(G){return arguments.length?(h=G,s.forEach(C),r):h},force:function(G,V){return arguments.length>1?(V==null?s.delete(G):s.set(G,C(V)),r):s.get(G)},find:function(G,V,X){var at=0,st=i.length,xt,kt,Gt,Wt,Yt;for(X==null?X=Infinity:X*=X,at=0;at<st;++at)Wt=i[at],xt=G-Wt.x,kt=V-Wt.y,Gt=xt*xt+kt*kt,Gt<X&&(Yt=Wt,X=Gt);return Yt},on:function(G,V){return arguments.length>1?(u.on(G,V),r):u.on(G)}}}function u1(){var i,r,t,e,n=aa(-30),a,o=1,s=Infinity,l=.81;function u(g){var C,F=i.length,G=bc(i,FN,RN).visitAfter(c);for(e=g,C=0;C<F;++C)r=i[C],G.visit(v)}function h(){if(!!i){var g,C=i.length,F;for(a=new Array(C),g=0;g<C;++g)F=i[g],a[F.index]=+n(F,g,i)}}function c(g){var C=0,F,G,V=0,X,at,st;if(g.length){for(X=at=st=0;st<4;++st)(F=g[st])&&(G=Math.abs(F.value))&&(C+=F.value,V+=G,X+=G*F.x,at+=G*F.y);g.x=X/V,g.y=at/V}else{F=g,F.x=F.data.x,F.y=F.data.y;do C+=a[F.data.index];while(F=F.next)}g.value=C}function v(g,C,F,G){if(!g.value)return!0;var V=g.x-r.x,X=g.y-r.y,at=G-C,st=V*V+X*X;if(at*at/l<st)return st<s&&(V===0&&(V=Ao(t),st+=V*V),X===0&&(X=Ao(t),st+=X*X),st<o&&(st=Math.sqrt(o*st)),r.vx+=V*g.value*e/st,r.vy+=X*g.value*e/st),!0;if(g.length||st>=s)return;(g.data!==r||g.next)&&(V===0&&(V=Ao(t),st+=V*V),X===0&&(X=Ao(t),st+=X*X),st<o&&(st=Math.sqrt(o*st)));do g.data!==r&&(at=a[g.data.index]*e/st,r.vx+=V*at,r.vy+=X*at);while(g=g.next)}return u.initialize=function(g,C){i=g,t=C,h()},u.strength=function(g){return arguments.length?(n=typeof g=="function"?g:aa(+g),h(),u):n},u.distanceMin=function(g){return arguments.length?(o=g*g,u):Math.sqrt(o)},u.distanceMax=function(g){return arguments.length?(s=g*g,u):Math.sqrt(s)},u.theta=function(g){return arguments.length?(l=g*g,u):Math.sqrt(l)},u}function GN(i,r){var t,e=1;i==null&&(i=0),r==null&&(r=0);function n(){var a,o=t.length,s,l=0,u=0;for(a=0;a<o;++a)s=t[a],l+=s.x,u+=s.y;for(l=(l/o-i)*e,u=(u/o-r)*e,a=0;a<o;++a)s=t[a],s.x-=l,s.y-=u}return n.initialize=function(a){t=a},n.x=function(a){return arguments.length?(i=+a,n):i},n.y=function(a){return arguments.length?(r=+a,n):r},n.strength=function(a){return arguments.length?(e=+a,n):e},n}function zN(i){return i.index}function f1(i,r){var t=i.get(r);if(!t)throw new Error("node not found: "+r);return t}function h1(i){var r=zN,t=c,e,n=aa(30),a,o,s,l,u,h=1;i==null&&(i=[]);function c(G){return 1/Math.min(s[G.source.index],s[G.target.index])}function v(G){for(var V=0,X=i.length;V<h;++V)for(var at=0,st,xt,kt,Gt,Wt,Yt,ie;at<X;++at)st=i[at],xt=st.source,kt=st.target,Gt=kt.x+kt.vx-xt.x-xt.vx||Ao(u),Wt=kt.y+kt.vy-xt.y-xt.vy||Ao(u),Yt=Math.sqrt(Gt*Gt+Wt*Wt),Yt=(Yt-a[at])/Yt*G*e[at],Gt*=Yt,Wt*=Yt,kt.vx-=Gt*(ie=l[at]),kt.vy-=Wt*ie,xt.vx+=Gt*(ie=1-ie),xt.vy+=Wt*ie}function g(){if(!!o){var G,V=o.length,X=i.length,at=new Map(o.map(function(xt,kt){return[r(xt,kt,o),xt]})),st;for(G=0,s=new Array(V);G<X;++G)st=i[G],st.index=G,typeof st.source!="object"&&(st.source=f1(at,st.source)),typeof st.target!="object"&&(st.target=f1(at,st.target)),s[st.source.index]=(s[st.source.index]||0)+1,s[st.target.index]=(s[st.target.index]||0)+1;for(G=0,l=new Array(X);G<X;++G)st=i[G],l[G]=s[st.source.index]/(s[st.source.index]+s[st.target.index]);e=new Array(X),C(),a=new Array(X),F()}}function C(){if(!!o)for(var G=0,V=i.length;G<V;++G)e[G]=+t(i[G],G,i)}function F(){if(!!o)for(var G=0,V=i.length;G<V;++G)a[G]=+n(i[G],G,i)}return v.initialize=function(G,V){o=G,u=V,g()},v.links=function(G){return arguments.length?(i=G,g(),v):i},v.id=function(G){return arguments.length?(r=G,v):r},v.iterations=function(G){return arguments.length?(h=+G,v):h},v.strength=function(G){return arguments.length?(t=typeof G=="function"?G:aa(+G),C(),v):t},v.distance=function(G){return arguments.length?(n=typeof G=="function"?G:aa(+G),F(),v):n},v}function XN(i){return i.x+i.vx}function VN(i){return i.y+i.vy}function c1(i){var r,t,e,n=1,a=1;typeof i!="function"&&(i=aa(i==null?1:+i));function o(){for(var u,h=r.length,c,v,g,C,F,G,V=0;V<a;++V)for(c=bc(r,XN,VN).visitAfter(s),u=0;u<h;++u)v=r[u],F=t[v.index],G=F*F,g=v.x+v.vx,C=v.y+v.vy,c.visit(X);function X(at,st,xt,kt,Gt){var Wt=at.data,Yt=at.r,ie=F+Yt;if(Wt){if(Wt.index>v.index){var de=g-Wt.x-Wt.vx,he=C-Wt.y-Wt.vy,Ee=de*de+he*he;Ee<ie*ie&&(de===0&&(de=Ao(e),Ee+=de*de),he===0&&(he=Ao(e),Ee+=he*he),Ee=(ie-(Ee=Math.sqrt(Ee)))/Ee*n,v.vx+=(de*=Ee)*(ie=(Yt*=Yt)/(G+Yt)),v.vy+=(he*=Ee)*ie,Wt.vx-=de*(ie=1-ie),Wt.vy-=he*ie)}return}return st>g+ie||kt<g-ie||xt>C+ie||Gt<C-ie}}function s(u){if(u.data)return u.r=t[u.data.index];for(var h=u.r=0;h<4;++h)u[h]&&u[h].r>u.r&&(u.r=u[h].r)}function l(){if(!!r){var u,h=r.length,c;for(t=new Array(h),u=0;u<h;++u)c=r[u],t[c.index]=+i(c,u,r)}}return o.initialize=function(u,h){r=u,e=h,l()},o.iterations=function(u){return arguments.length?(a=+u,o):a},o.strength=function(u){return arguments.length?(n=+u,o):n},o.radius=function(u){return arguments.length?(i=typeof u=="function"?u:aa(+u),l(),o):i},o}function HN(i){var r=aa(.1),t,e,n;typeof i!="function"&&(i=aa(i==null?0:+i));function a(s){for(var l=0,u=t.length,h;l<u;++l)h=t[l],h.vx+=(n[l]-h.x)*e[l]*s}function o(){if(!!t){var s,l=t.length;for(e=new Array(l),n=new Array(l),s=0;s<l;++s)e[s]=isNaN(n[s]=+i(t[s],s,t))?0:+r(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(r=typeof s=="function"?s:aa(+s),o(),a):r},a.x=function(s){return arguments.length?(i=typeof s=="function"?s:aa(+s),o(),a):i},a}function WN(i){var r=aa(.1),t,e,n;typeof i!="function"&&(i=aa(i==null?0:+i));function a(s){for(var l=0,u=t.length,h;l<u;++l)h=t[l],h.vy+=(n[l]-h.y)*e[l]*s}function o(){if(!!t){var s,l=t.length;for(e=new Array(l),n=new Array(l),s=0;s<l;++s)e[s]=isNaN(n[s]=+i(t[s],s,t))?0:+r(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(r=typeof s=="function"?s:aa(+s),o(),a):r},a.y=function(s){return arguments.length?(i=typeof s=="function"?s:aa(+s),o(),a):i},a}function jN(){function i(Je){return function(){return Je}}var r=function(gr){return gr.cluster},t=i(1),e=i(-1),n=i(100),a=i(.1),o=[0,0],s=[],l={},u=[],h=100,c=100,v={none:{x:0,y:0}},g=[],C,F="force",G=!0,V=.1;function X(Je){if(!G)return X;C.tick(),Wt();for(var gr=0,Or=s.length,mr=void 0,yr=Je*V;gr<Or;++gr)mr=s[gr],mr.vx+=(v[r(mr)].x-mr.x)*yr,mr.vy+=(v[r(mr)].y-mr.y)*yr}function at(){!s||st()}function st(){if(!(!s||!s.length)){if(r(s[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var Je=xt();C=l1(Je.nodes).force("x",HN(h).strength(.1)).force("y",WN(c).strength(.1)).force("collide",c1(function(gr){return gr.r}).iterations(4)).force("charge",u1().strength(e)).force("links",h1(Je.nodes.length?Je.links:[]).distance(n).strength(a)),g=C.nodes(),Wt()}}function xt(){var Je=[],gr=[],Or={},mr=[],yr={},Dr=[];return yr=kt(s),Dr=Gt(u),mr=Object.keys(yr),mr.forEach(function(Kr,Er){var De=yr[Kr];Je.push({id:Kr,size:De.count,r:Math.sqrt(De.sumforceNodeSize/Math.PI)}),Or[Kr]=Er}),Dr.forEach(function(Kr){var Er=Or[Kr.source],De=Or[Kr.target];Er!==void 0&&De!==void 0&&gr.push({source:Er,target:De,count:Kr.count})}),{nodes:Je,links:gr}}function kt(Je){var gr={};return Je.forEach(function(Or){var mr=r(Or);gr[mr]||(gr[mr]={count:0,sumforceNodeSize:0})}),Je.forEach(function(Or){var mr=r(Or),yr=t(Or),Dr=gr[mr];Dr.count=Dr.count+1,Dr.sumforceNodeSize=Dr.sumforceNodeSize+Math.PI*(yr*yr)*1.3,gr[mr]=Dr}),gr}function Gt(Je){var gr={},Or=[];Je.forEach(function(yr){var Dr=Yt(yr),Kr=0;gr[Dr]!==void 0&&(Kr=gr[Dr]),Kr+=1,gr[Dr]=Kr});var mr=Object.entries(gr);return mr.forEach(function(yr){var Dr=yr[0],Kr=yr[1],Er=Dr.split("~")[0],De=Dr.split("~")[1];Er!==void 0&&De!==void 0&&Or.push({source:Er,target:De,count:Kr})}),Or}function Wt(){return v={none:{x:0,y:0}},g.forEach(function(Je){v[Je.id]={x:Je.x-o[0],y:Je.y-o[1]}}),v}function Yt(Je){var gr=r(l[Je.source]),Or=r(l[Je.target]);return gr<=Or?gr+"~"+Or:Or+"~"+gr}function ie(Je){l={},Je.forEach(function(gr){l[gr.id]=gr})}function de(Je){return arguments.length?(F=Je,at(),X):F}function he(Je){return arguments.length?typeof Je=="string"?(r=function(Or){return Or[Je]},X):(r=Je,X):r}function Ee(Je){return arguments.length?(G=Je,X):G}function Ie(Je){return arguments.length?(V=Je,X):V}function Le(Je){return arguments.length?(h=Je,X):h}function He(Je){return arguments.length?(c=Je,X):c}function je(Je){return arguments.length?(ie(Je||[]),s=Je||[],X):s}function Ke(Je){return arguments.length?(u=Je||[],at(),X):u}function Xe(Je){return arguments.length?(typeof Je=="function"?t=Je:t=i(+Je),at(),X):t}function Ve(Je){return arguments.length?(typeof Je=="function"?e=Je:e=i(+Je),at(),X):e}function pr(Je){return arguments.length?(typeof Je=="function"?n=Je:n=i(+Je),at(),X):n}function vr(Je){return arguments.length?(typeof Je=="function"?a=Je:a=i(+Je),at(),X):a}function xr(Je){return arguments.length?(o=Je,X):o}return X.initialize=function(Je){s=Je,at()},X.template=de,X.groupBy=he,X.enableGrouping=Ee,X.strength=Ie,X.centerX=Le,X.centerY=He,X.nodes=je,X.links=Ke,X.forceNodeSize=Xe,X.nodeSize=X.forceNodeSize,X.forceCharge=Ve,X.forceLinkDistance=pr,X.forceLinkStrength=vr,X.offset=xr,X.getFocis=Wt,X}var vo={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK"},UN=function(i){Bn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeStrength=null,t.edgeStrength=null,t.preventOverlap=!1,t.clusterNodeStrength=null,t.clusterEdgeStrength=null,t.clusterEdgeDistance=null,t.clusterNodeSize=null,t.clusterFociStrength=null,t.linkDistance=50,t.alphaDecay=.028,t.alphaMin=.001,t.alpha=.3,t.collideStrength=1,t.workerEnabled=!1,t.tick=function(){},t.onLayoutEnd=function(){},t.onTick=function(){},t.ticking=void 0,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},r.prototype.init=function(t){var e=this;e.nodes=t.nodes||[];var n=t.edges||[];e.edges=n.map(function(a){var o={},s=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(a).forEach(function(l){s.indexOf(l)>-1||(o[l]=a[l])}),o}),e.ticking=!1},r.prototype.execute=function(t){var e=this,n=e.nodes,a=e.edges;if(!e.ticking){var o=e.forceSimulation,s=e.alphaMin,l=e.alphaDecay,u=e.alpha;if(o)t&&(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(n),e.clusterForce.links(a)),o.nodes(n),e.edgeForce.links(a)),e.preventOverlap&&e.overlapProcess(o),o.alpha(u).restart(),this.ticking=!0;else try{var h=u1();if(e.nodeStrength&&h.strength(e.nodeStrength),o=l1().nodes(n),e.clustering){var c=jN();c.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),a&&c.links(a),n&&c.nodes(n),c.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=c,o.force("group",c)}if(o.force("center",GN(e.center[0],e.center[1])).force("charge",h).alpha(u).alphaDecay(l).alphaMin(s),e.preventOverlap&&e.overlapProcess(o),a){var v=h1().id(function(F){return F.id}).links(a);e.edgeStrength&&v.strength(e.edgeStrength),e.linkDistance&&v.distance(e.linkDistance),e.edgeForce=v,o.force("link",v)}if(e.workerEnabled&&!$N()&&(e.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!e.workerEnabled)o.on("tick",function(){e.tick()}).on("end",function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()}),e.ticking=!0;else{o.stop();for(var g=KN(o),C=1;C<=g;C++)o.tick(),postMessage({type:vo.TICK,currentTick:C,totalTicks:g,nodes:n},void 0);e.ticking=!1}e.forceSimulation=o,e.ticking=!0}catch(F){e.ticking=!1,console.warn(F)}}},r.prototype.overlapProcess=function(t){var e=this,n=e.nodeSize,a=e.nodeSpacing,o,s,l=e.collideStrength;if((0,Ra.default)(a)?s=function(){return a}:(0,ml.default)(a)?s=a:s=function(){return 0},!n)o=function(g){if(g.size){if((0,Oi.default)(g.size)){var C=g.size[0]>g.size[1]?g.size[0]:g.size[1];return C/2+s(g)}return g.size/2+s(g)}return 10+s(g)};else if((0,ml.default)(n))o=function(g){var C=n(g);return C+s(g)};else if((0,Oi.default)(n)){var u=n[0]>n[1]?n[0]:n[1],h=u/2;o=function(g){return h+s(g)}}else if((0,Ra.default)(n)){var c=n/2;o=function(g){return c+s(g)}}else o=function(){return 10};t.force("collisionForce",c1(o).strength(l))},r.prototype.updateCfg=function(t){var e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.forceSimulation=null,(0,Zs.default)(e,t)},r.prototype.destroy=function(){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.nodes=null,t.edges=null,t.destroyed=!0},r}(Ia),ZN=UN;function KN(i){var r=i.alphaMin(),t=i.alphaTarget(),e=i.alpha(),n=Math.log((r-t)/(e-t))/Math.log(1-i.alphaDecay()),a=Math.ceil(n);return a}function $N(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}var QN=function(i){Bn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=500,t.gravity=10,t.clustering=!1,t.clusterGravity=10,t.linkDistance=50,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.linkStrength=1,t.nodeStrength=30,t.preventOverlap=!1,t.collideStrength=1,t.optimizeRangeFactor=1,t.tick=function(){},t.nodes=[],t.edges=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,clustering:!1,clusterGravity:10,preventOverlap:!1,nodeSpacing:void 0,collideStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}var a={},o={};e.forEach(function(s,l){a[s.id]=s,o[s.id]=l}),t.nodeMap=a,t.nodeIdxMap=o,t.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.velocityDecay,l=t.clustering,u;t.initVals(),l&&(u=t.getClusterMap());for(var h=function(G){var V=[];e.forEach(function(X,at){V[at]={x:0,y:0}}),t.applyCalculate(e,n,V),l&&t.applyClusterForce(u,V),e.forEach(function(X,at){!(0,f.isNumber)(X.x)||!(0,f.isNumber)(X.y)||(X.x+=V[at].x*s,X.y+=V[at].y*s)}),c.alpha+=(c.alphaTarget-c.alpha)*c.alphaDecay,t.tick()},c=this,v=0;v<a;v++)h(v);var g=[0,0];e.forEach(function(F){!(0,f.isNumber)(F.x)||!(0,f.isNumber)(F.y)||(g[0]+=F.x,g[1]+=F.y)}),g[0]/=e.length,g[1]/=e.length;var C=[o[0]-g[0],o[1]-g[1]];e.forEach(function(F,G){!(0,f.isNumber)(F.x)||!(0,f.isNumber)(F.y)||(F.x+=C[0],F.y+=C[1])})},r.prototype.initVals=function(){for(var t=this,e=t.edges,n={},a=0;a<e.length;++a)n[e[a].source]?n[e[a].source]++:n[e[a].source]=1,n[e[a].target]?n[e[a].target]++:n[e[a].target]=1;for(var o=[],a=0;a<e.length;++a)o[a]=n[e[a].source]/(n[e[a].source]+n[e[a].target]);this.bias=o;var s=t.nodeSize,l=t.nodeSpacing,u,h;if((0,f.isNumber)(l)?h=function(){return l}:(0,f.isFunction)(l)?h=l:h=function(){return 0},!s)u=function(xt){if(xt.size){if((0,f.isArray)(xt.size)){var kt=xt.size[0]>xt.size[1]?xt.size[0]:xt.size[1];return kt/2+h(xt)}return xt.size/2+h(xt)}return 10+h(xt)};else if((0,f.isFunction)(s))u=function(xt){var kt=s(xt);return kt+h(xt)};else if((0,f.isArray)(s)){var c=s[0]>s[1]?s[0]:s[1],v=c/2;u=function(xt){return v+h(xt)}}else if((0,f.isNumber)(s)){var g=s/2;u=function(xt){return g+h(xt)}}else u=function(){return 10};this.nodeSize=u;var C=this.linkDistance,F;C||(C=50),(0,f.isNumber)(C)&&(F=function(xt){return C}),this.linkDistance=F;var G=this.linkStrength,V;G||(G=1),(0,f.isNumber)(G)&&(V=function(xt){return G}),this.linkStrength=V;var X=this.nodeStrength,at;X||(X=30),(0,f.isNumber)(X)&&(at=function(xt){return X}),this.nodeStrength=at},r.prototype.getClusterMap=function(){var t=this,e=t.nodes,n={};e.forEach(function(o){if(n[o.cluster]===void 0){var s={name:o.cluster,cx:0,cy:0,count:0};n[o.cluster]=s}var l=n[o.cluster];(0,f.isNumber)(o.x)&&(l.cx+=o.x),(0,f.isNumber)(o.y)&&(l.cy+=o.y),l.count++});for(var a in n)n[a].cx/=n[a].count,n[a].cy/=n[a].count;return n},r.prototype.applyClusterForce=function(t,e){var n=this,a=n.gravity,o=n.nodes,s=n.clusterGravity||a,l=this.alpha;o.forEach(function(h,c){if(!(!(0,f.isNumber)(h.x)||!(0,f.isNumber)(h.y))){var v=t[h.cluster],g=h.x-v.cx,C=h.y-v.cy,F=Math.sqrt(g*g+C*C);e[c].x-=g*s*l/F,e[c].y-=C*s*l/F}});for(var u in t)t[u].cx=0,t[u].cy=0,t[u].count=0;o.forEach(function(h){var c=t[h.cluster];(0,f.isNumber)(h.x)&&(c.cx+=h.x),(0,f.isNumber)(h.y)&&(c.cy+=h.y),c.count++});for(var u in t)t[u].cx/=t[u].count,t[u].cy/=t[u].count},r.prototype.applyCalculate=function(t,e,n){var a=this,o={};t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(u,h){if(!(l<h)){var c=s.x-u.x,v=s.y-u.y,g=c*c+v*v;g<1&&(g=Math.sqrt(g)),c===0&&(c=Math.random()*.01,g+=c*c),v===0&&(v=Math.random()*.01,g+=v*v);var C=Math.sqrt(g);o[s.id+"-"+u.id]={vx:c,vy:v,vl:g,sqrtVl:C},o[u.id+"-"+s.id]={vx:-c,vy:-v,vl:g,sqrtVl:C}}})}),a.calRepulsive(t,n,o),a.calAttractive(e,n,o)},r.prototype.calRepulsive=function(t,e,n){var a=this.width*this.optimizeRangeFactor*this.width*this.optimizeRangeFactor,o=this.nodeStrength,s=this.alpha,l=this.collideStrength,u=this.preventOverlap,h=this.nodeSize;t.forEach(function(c,v){t.forEach(function(g,C){if(v!==C&&!(!(0,f.isNumber)(c.x)||!(0,f.isNumber)(g.x)||!(0,f.isNumber)(c.y)||!(0,f.isNumber)(g.y))){var F=n[c.id+"-"+g.id],G=F.vl,V=F.vx,X=F.vy;if(!(G>a)&&(e[v].x+=V*o(g)*s/G,e[v].y+=X*o(g)*s/G,u&&v<C)){var at=h(c),st=h(g),xt=at+st;if(G<xt*xt){var kt=n[c.id+"-"+g.id].sqrtVl,Gt=(xt-kt)/kt*l,Wt=st*st/(at*at+st*st),Yt=V*Gt,ie=X*Gt;e[v].x+=Yt*Wt,e[v].y+=ie*Wt,Wt=1-Wt,e[C].x-=Yt*Wt,e[C].y-=ie*Wt}}}})})},r.prototype.calAttractive=function(t,e,n){var a=this,o=this.linkDistance,s=this.alpha,l=this.linkStrength,u=this.bias;t.forEach(function(h,c){if(!(!h.source||!h.target)){var v=a.nodeIdxMap[h.source],g=a.nodeIdxMap[h.target];if(v!==g){var C=a.nodeMap[h.source],F=a.nodeMap[h.target];if(!(!(0,f.isNumber)(F.x)||!(0,f.isNumber)(C.x)||!(0,f.isNumber)(F.y)||!(0,f.isNumber)(C.y))){var G=n[h.target+"-"+h.source],V=G.vl,X=G.sqrtVl,at=G.vx,st=G.vy,xt=(X-o(h))/X*s*l(h),kt=at*xt,Gt=st*xt,Wt=u[c];e[g].x-=kt*Wt,e[g].y-=Gt*Wt,e[v].x+=kt*(1-Wt),e[v].y+=Gt*(1-Wt)}}}})},r}(Ia),JN=QN,qN=800,t4=function(i){Bn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.gravity=10,t.speed=1,t.clustering=!1,t.clusterGravity=10,t.nodes=[],t.edges=[],t.width=300,t.height=300,t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},r.prototype.execute=function(){var t=this,e=this,n=e.nodes,a=e.center;if(!(!n||n.length===0)){if(n.length===1){n[0].x=a[0],n[0].y=a[1];return}var o={},s={};n.forEach(function(l,u){(0,f.isNumber)(l.x)||(l.x=Math.random()*t.width),(0,f.isNumber)(l.y)||(l.y=Math.random()*t.height),o[l.id]=l,s[l.id]=u}),e.nodeMap=o,e.nodeIdxMap=s,e.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.width/10,l=Math.sqrt(t.width*t.height/(e.length+1)),u=t.gravity,h=t.speed,c=t.clustering,v={};if(c){e.forEach(function(G){if(v[G.cluster]===void 0){var V={name:G.cluster,cx:0,cy:0,count:0};v[G.cluster]=V}var X=v[G.cluster];(0,f.isNumber)(G.x)&&(X.cx+=G.x),(0,f.isNumber)(G.y)&&(X.cy+=G.y),X.count++});for(var g in v)v[g].cx/=v[g].count,v[g].cy/=v[g].count}for(var C=function(V){var X=[];if(e.forEach(function(xt,kt){X[kt]={x:0,y:0}}),t.applyCalculate(e,n,X,l),c){var at=t.clusterGravity||u;e.forEach(function(xt,kt){if(!(!(0,f.isNumber)(xt.x)||!(0,f.isNumber)(xt.y))){var Gt=v[xt.cluster],Wt=Math.sqrt((xt.x-Gt.cx)*(xt.x-Gt.cx)+(xt.y-Gt.cy)*(xt.y-Gt.cy)),Yt=l*at;X[kt].x-=Yt*(xt.x-Gt.cx)/Wt,X[kt].y-=Yt*(xt.y-Gt.cy)/Wt}});for(var st in v)v[st].cx=0,v[st].cy=0,v[st].count=0;e.forEach(function(xt){var kt=v[xt.cluster];(0,f.isNumber)(xt.x)&&(kt.cx+=xt.x),(0,f.isNumber)(xt.y)&&(kt.cy+=xt.y),kt.count++});for(var st in v)v[st].cx/=v[st].count,v[st].cy/=v[st].count}e.forEach(function(xt,kt){if(!(!(0,f.isNumber)(xt.x)||!(0,f.isNumber)(xt.y))){var Gt=.01*l*u;X[kt].x-=Gt*(xt.x-o[0]),X[kt].y-=Gt*(xt.y-o[1])}}),e.forEach(function(xt,kt){if(!(!(0,f.isNumber)(xt.x)||!(0,f.isNumber)(xt.y))){var Gt=Math.sqrt(X[kt].x*X[kt].x+X[kt].y*X[kt].y);if(Gt>0){var Wt=Math.min(s*(h/qN),Gt);xt.x+=X[kt].x/Gt*Wt,xt.y+=X[kt].y/Gt*Wt}}})},F=0;F<a;F++)C(F)},r.prototype.applyCalculate=function(t,e,n,a){var o=this;o.calRepulsive(t,n,a),o.calAttractive(e,n,a)},r.prototype.calRepulsive=function(t,e,n){t.forEach(function(a,o){e[o]={x:0,y:0},t.forEach(function(s,l){if(o!==l&&!(!(0,f.isNumber)(a.x)||!(0,f.isNumber)(s.x)||!(0,f.isNumber)(a.y)||!(0,f.isNumber)(s.y))){var u=a.x-s.x,h=a.y-s.y,c=u*u+h*h;if(c===0){c=1;var v=o>l?1:-1;u=.01*v,h=.01*v}var g=n*n/c;e[o].x+=u*g,e[o].y+=h*g}})})},r.prototype.calAttractive=function(t,e,n){var a=this;t.forEach(function(o){if(!(!o.source||!o.target)){var s=a.nodeIdxMap[o.source],l=a.nodeIdxMap[o.target];if(s!==l){var u=a.nodeMap[o.source],h=a.nodeMap[o.target];if(!(!(0,f.isNumber)(h.x)||!(0,f.isNumber)(u.x)||!(0,f.isNumber)(h.y)||!(0,f.isNumber)(u.y))){var c=h.x-u.x,v=h.y-u.y,g=Math.sqrt(c*c+v*v),C=g*g/n;e[l].x-=c/g*C,e[l].y-=v/g*C,e[s].x+=c/g*C,e[s].y+=v/g*C}}}})},r}(Ia),e4=t4,r4=function(i){Bn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.begin=[0,0],t.preventOverlap=!0,t.preventOverlapPadding=10,t.condense=!1,t.sortBy="degree",t.nodeSize=30,t.nodes=[],t.edges=[],t.center=[0,0],t.width=300,t.height=300,t.row=0,t.col=0,t.cellWidth=0,t.cellHeight=0,t.cellUsed={},t.id2manPos={},t}return r.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},r.prototype.execute=function(){var t=this,e=t.nodes,n=e.length,a=t.center;if(n!==0){if(n===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.edges,s=[];e.forEach(function(X){s.push(X)});var l={};if(s.forEach(function(X,at){l[X.id]=at}),(t.sortBy==="degree"||!(0,mn.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",fo(e[0].degree))){var u=bu(s.length,l,o);s.forEach(function(X,at){X.degree=u[at]})}s.sort(function(X,at){return at[t.sortBy]-X[t.sortBy]}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var h=t.rows,c=t.cols!=null?t.cols:t.columns;if(t.cells=n,h!=null&&c!=null?(t.rows=h,t.cols=c):h!=null&&c==null?(t.rows=h,t.cols=Math.ceil(t.cells/t.rows)):h==null&&c!=null?(t.cols=c,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells){var v=t.small(),g=t.large();(v-1)*g>=t.cells?t.small(v-1):(g-1)*v>=t.cells&&t.large(g-1)}else for(;t.cols*t.rows<t.cells;){var v=t.small(),g=t.large();(g+1)*v>=t.cells?t.large(g+1):t.small(v+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&s.forEach(function(X){(!X.x||!X.y)&&(X.x=0,X.y=0);var at,st;(0,f.isArray)(X.size)?(at=X.size[0],st=X.size[1]):(0,f.isNumber)(X.size)&&(at=X.size,st=X.size),(at===void 0||st===void 0)&&((0,f.isArray)(t.nodeSize)?(at=t.nodeSize[0],st=t.nodeSize[1]):(0,f.isNumber)(t.nodeSize)?(at=t.nodeSize,st=t.nodeSize):(at=30,st=30));var xt=t.preventOverlapPadding,kt=at+xt,Gt=st+xt;t.cellWidth=Math.max(t.cellWidth,kt),t.cellHeight=Math.max(t.cellHeight,Gt)}),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var C=0;C<s.length;C++){var F=s[C],G=void 0;if(t.position&&(G=t.position(F)),G&&(G.row!==void 0||G.col!==void 0)){var V={row:G.row,col:G.col};if(V.col===void 0)for(V.col=0;t.used(V.row,V.col);)V.col++;else if(V.row===void 0)for(V.row=0;t.used(V.row,V.col);)V.row++;t.id2manPos[F.id]=V,t.use(V.row,V.col)}t.getPos(F)}}},r.prototype.small=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.min(a,o);else{var s=Math.min(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.large=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.max(a,o);else{var s=Math.max(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.used=function(t,e){var n=this;return n.cellUsed["c-"+t+"-"+e]||!1},r.prototype.use=function(t,e){var n=this;n.cellUsed["c-"+t+"-"+e]=!0},r.prototype.moveToNextCell=function(){var t=this,e=t.cols||5;t.col++,t.col>=e&&(t.col=0,t.row++)},r.prototype.getPos=function(t){var e=this,n=e.begin,a=e.cellWidth,o=e.cellHeight,s,l,u=e.id2manPos[t.id];if(u)s=u.col*a+a/2+n[0],l=u.row*o+o/2+n[1];else{for(;e.used(e.row,e.col);)e.moveToNextCell();s=e.col*a+a/2+n[0],l=e.row*o+o/2+n[1],e.use(e.row,e.col),e.moveToNextCell()}t.x=s,t.y=l},r}(Ia),n4=r4,i4=d(79320),v1=d(81306),d1=d(59206),Nu=d(69610),Yu=d(54941);const a4=Object.prototype.toString;function ma(i){return a4.call(i).endsWith("Array]")}function o4(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ma(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]>o&&(o=i[s]);return o}function s4(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ma(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]<o&&(o=i[s]);return o}function p1(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ma(i)){if(i.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(r.output!==void 0){if(!ma(r.output))throw new TypeError("output option must be an array if specified");t=r.output}else t=new Array(i.length);var e=s4(i),n=o4(i);if(e===n)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=r.min,o=a===void 0?r.autoMinMax?e:0:a,s=r.max,l=s===void 0?r.autoMinMax?n:1:s;if(o>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-o)/(n-e),h=0;h<i.length;h++)t[h]=(i[h]-e)*u+o;return t}var Gu=" ".repeat(2),g1=" ".repeat(4);function l4(){return y1(this)}function y1(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.maxRows,e=t===void 0?15:t,n=r.maxColumns,a=n===void 0?10:n,o=r.maxNumSize,s=o===void 0?8:o,l=r.padMinus,u=l===void 0?"auto":l;return"".concat(i.constructor.name,` {
`).concat(Gu,`[
`).concat(g1).concat(u4(i,e,a,s,u),`
`).concat(Gu,`]
`).concat(Gu,"rows: ").concat(i.rows,`
`).concat(Gu,"columns: ").concat(i.columns,`
}`)}function u4(i,r,t,e,n){var a=i.rows,o=i.columns,s=Math.min(a,r),l=Math.min(o,t),u=[];if(n==="auto"){n=!1;t:for(var h=0;h<s;h++)for(var c=0;c<l;c++)if(i.get(h,c)<0){n=!0;break t}}for(var v=0;v<s;v++){for(var g=[],C=0;C<l;C++)g.push(f4(i.get(v,C),e,n));u.push("".concat(g.join(" ")))}return l!==o&&(u[u.length-1]+=" ... ".concat(o-t," more columns")),s!==a&&u.push("... ".concat(a-r," more rows")),u.join(`
`.concat(g1))}function f4(i,r,t){return(i>=0&&t?" ".concat(m1(i,r-1)):m1(i,r)).padEnd(r)}function m1(i,r){var t=i.toString();if(t.length<=r)return t;var e=i.toFixed(r);if(e.length>r&&(e=i.toFixed(Math.max(0,r-(e.length-r)))),e.length<=r&&!e.startsWith("0.000")&&!e.startsWith("-0.000"))return e;var n=i.toExponential(r);return n.length>r&&(n=i.toExponential(Math.max(0,r-(n.length-r)))),n.slice(0)}function h4(i,r){i.prototype.add=function(e){return typeof e=="number"?this.addS(e):this.addM(e)},i.prototype.addS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e);return this},i.prototype.addM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e.get(n,a));return this},i.add=function(e,n){var a=new r(e);return a.add(n)},i.prototype.sub=function(e){return typeof e=="number"?this.subS(e):this.subM(e)},i.prototype.subS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e);return this},i.prototype.subM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e.get(n,a));return this},i.sub=function(e,n){var a=new r(e);return a.sub(n)},i.prototype.subtract=i.prototype.sub,i.prototype.subtractS=i.prototype.subS,i.prototype.subtractM=i.prototype.subM,i.subtract=i.sub,i.prototype.mul=function(e){return typeof e=="number"?this.mulS(e):this.mulM(e)},i.prototype.mulS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e);return this},i.prototype.mulM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e.get(n,a));return this},i.mul=function(e,n){var a=new r(e);return a.mul(n)},i.prototype.multiply=i.prototype.mul,i.prototype.multiplyS=i.prototype.mulS,i.prototype.multiplyM=i.prototype.mulM,i.multiply=i.mul,i.prototype.div=function(e){return typeof e=="number"?this.divS(e):this.divM(e)},i.prototype.divS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e);return this},i.prototype.divM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e.get(n,a));return this},i.div=function(e,n){var a=new r(e);return a.div(n)},i.prototype.divide=i.prototype.div,i.prototype.divideS=i.prototype.divS,i.prototype.divideM=i.prototype.divM,i.divide=i.div,i.prototype.mod=function(e){return typeof e=="number"?this.modS(e):this.modM(e)},i.prototype.modS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e);return this},i.prototype.modM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e.get(n,a));return this},i.mod=function(e,n){var a=new r(e);return a.mod(n)},i.prototype.modulus=i.prototype.mod,i.prototype.modulusS=i.prototype.modS,i.prototype.modulusM=i.prototype.modM,i.modulus=i.mod,i.prototype.and=function(e){return typeof e=="number"?this.andS(e):this.andM(e)},i.prototype.andS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e);return this},i.prototype.andM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e.get(n,a));return this},i.and=function(e,n){var a=new r(e);return a.and(n)},i.prototype.or=function(e){return typeof e=="number"?this.orS(e):this.orM(e)},i.prototype.orS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e);return this},i.prototype.orM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e.get(n,a));return this},i.or=function(e,n){var a=new r(e);return a.or(n)},i.prototype.xor=function(e){return typeof e=="number"?this.xorS(e):this.xorM(e)},i.prototype.xorS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e);return this},i.prototype.xorM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e.get(n,a));return this},i.xor=function(e,n){var a=new r(e);return a.xor(n)},i.prototype.leftShift=function(e){return typeof e=="number"?this.leftShiftS(e):this.leftShiftM(e)},i.prototype.leftShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e);return this},i.prototype.leftShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e.get(n,a));return this},i.leftShift=function(e,n){var a=new r(e);return a.leftShift(n)},i.prototype.signPropagatingRightShift=function(e){return typeof e=="number"?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},i.prototype.signPropagatingRightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e);return this},i.prototype.signPropagatingRightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e.get(n,a));return this},i.signPropagatingRightShift=function(e,n){var a=new r(e);return a.signPropagatingRightShift(n)},i.prototype.rightShift=function(e){return typeof e=="number"?this.rightShiftS(e):this.rightShiftM(e)},i.prototype.rightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e);return this},i.prototype.rightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e.get(n,a));return this},i.rightShift=function(e,n){var a=new r(e);return a.rightShift(n)},i.prototype.zeroFillRightShift=i.prototype.rightShift,i.prototype.zeroFillRightShiftS=i.prototype.rightShiftS,i.prototype.zeroFillRightShiftM=i.prototype.rightShiftM,i.zeroFillRightShift=i.rightShift,i.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,~this.get(e,n));return this},i.not=function(e){var n=new r(e);return n.not()},i.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.abs(this.get(e,n)));return this},i.abs=function(e){var n=new r(e);return n.abs()},i.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acos(this.get(e,n)));return this},i.acos=function(e){var n=new r(e);return n.acos()},i.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acosh(this.get(e,n)));return this},i.acosh=function(e){var n=new r(e);return n.acosh()},i.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asin(this.get(e,n)));return this},i.asin=function(e){var n=new r(e);return n.asin()},i.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asinh(this.get(e,n)));return this},i.asinh=function(e){var n=new r(e);return n.asinh()},i.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atan(this.get(e,n)));return this},i.atan=function(e){var n=new r(e);return n.atan()},i.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atanh(this.get(e,n)));return this},i.atanh=function(e){var n=new r(e);return n.atanh()},i.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cbrt(this.get(e,n)));return this},i.cbrt=function(e){var n=new r(e);return n.cbrt()},i.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.ceil(this.get(e,n)));return this},i.ceil=function(e){var n=new r(e);return n.ceil()},i.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.clz32(this.get(e,n)));return this},i.clz32=function(e){var n=new r(e);return n.clz32()},i.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cos(this.get(e,n)));return this},i.cos=function(e){var n=new r(e);return n.cos()},i.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cosh(this.get(e,n)));return this},i.cosh=function(e){var n=new r(e);return n.cosh()},i.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.exp(this.get(e,n)));return this},i.exp=function(e){var n=new r(e);return n.exp()},i.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.expm1(this.get(e,n)));return this},i.expm1=function(e){var n=new r(e);return n.expm1()},i.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.floor(this.get(e,n)));return this},i.floor=function(e){var n=new r(e);return n.floor()},i.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.fround(this.get(e,n)));return this},i.fround=function(e){var n=new r(e);return n.fround()},i.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log(this.get(e,n)));return this},i.log=function(e){var n=new r(e);return n.log()},i.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log1p(this.get(e,n)));return this},i.log1p=function(e){var n=new r(e);return n.log1p()},i.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log10(this.get(e,n)));return this},i.log10=function(e){var n=new r(e);return n.log10()},i.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log2(this.get(e,n)));return this},i.log2=function(e){var n=new r(e);return n.log2()},i.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.round(this.get(e,n)));return this},i.round=function(e){var n=new r(e);return n.round()},i.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sign(this.get(e,n)));return this},i.sign=function(e){var n=new r(e);return n.sign()},i.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sin(this.get(e,n)));return this},i.sin=function(e){var n=new r(e);return n.sin()},i.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sinh(this.get(e,n)));return this},i.sinh=function(e){var n=new r(e);return n.sinh()},i.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sqrt(this.get(e,n)));return this},i.sqrt=function(e){var n=new r(e);return n.sqrt()},i.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tan(this.get(e,n)));return this},i.tan=function(e){var n=new r(e);return n.tan()},i.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tanh(this.get(e,n)));return this},i.tanh=function(e){var n=new r(e);return n.tanh()},i.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.trunc(this.get(e,n)));return this},i.trunc=function(e){var n=new r(e);return n.trunc()},i.pow=function(e,n){var a=new r(e);return a.pow(n)},i.prototype.pow=function(e){return typeof e=="number"?this.powS(e):this.powM(e)},i.prototype.powS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e));return this},i.prototype.powM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e.get(n,a)));return this}}function Ya(i,r,t){var e=t?i.rows:i.rows-1;if(r<0||r>e)throw new RangeError("Row index out of range")}function Ga(i,r,t){var e=t?i.columns:i.columns-1;if(r<0||r>e)throw new RangeError("Column index out of range")}function cs(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.columns)throw new RangeError("vector size must be the same as the number of columns");return r}function vs(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.rows)throw new RangeError("vector size must be the same as the number of rows");return r}function c4(i,r){if(!ma(r))throw new TypeError("row indices must be an array");for(var t=0;t<r.length;t++)if(r[t]<0||r[t]>=i.rows)throw new RangeError("row indices are out of range")}function v4(i,r){if(!ma(r))throw new TypeError("column indices must be an array");for(var t=0;t<r.length;t++)if(r[t]<0||r[t]>=i.columns)throw new RangeError("column indices are out of range")}function x1(i,r,t,e,n){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(Xu("startRow",r),Xu("endRow",t),Xu("startColumn",e),Xu("endColumn",n),r>t||e>n||r<0||r>=i.rows||t<0||t>=i.rows||e<0||e>=i.columns||n<0||n>=i.columns)throw new RangeError("Submatrix indices are out of range")}function zu(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=[],e=0;e<i;e++)t.push(r);return t}function Xu(i,r){if(typeof r!="number")throw new TypeError("".concat(i," must be a number"))}function ds(i){if(i.isEmpty())throw new Error("Empty matrix has no elements to index")}function d4(i){for(var r=zu(i.rows),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]+=i.get(t,e);return r}function p4(i){for(var r=zu(i.columns),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]+=i.get(t,e);return r}function g4(i){for(var r=0,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r+=i.get(t,e);return r}function y4(i){for(var r=zu(i.rows,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]*=i.get(t,e);return r}function m4(i){for(var r=zu(i.columns,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]*=i.get(t,e);return r}function x4(i){for(var r=1,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r*=i.get(t,e);return r}function b4(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<e;o++){for(var s=0,l=0,u=0,h=0;h<n;h++)u=i.get(o,h)-t[o],s+=u,l+=u*u;r?a.push((l-s*s/n)/(n-1)):a.push((l-s*s/n)/n)}return a}function w4(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<n;o++){for(var s=0,l=0,u=0,h=0;h<e;h++)u=i.get(h,o)-t[o],s+=u,l+=u*u;r?a.push((l-s*s/e)/(e-1)):a.push((l-s*s/e)/e)}return a}function S4(i,r,t){for(var e=i.rows,n=i.columns,a=e*n,o=0,s=0,l=0,u=0;u<e;u++)for(var h=0;h<n;h++)l=i.get(u,h)-t,o+=l,s+=l*l;return r?(s-o*o/a)/(a-1):(s-o*o/a)/a}function C4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[t])}function M4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[e])}function E4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r)}function A4(i){for(var r=[],t=0;t<i.rows;t++){for(var e=0,n=0;n<i.columns;n++)e+=Math.pow(i.get(t,n),2)/(i.columns-1);r.push(Math.sqrt(e))}return r}function T4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[t])}function P4(i){for(var r=[],t=0;t<i.columns;t++){for(var e=0,n=0;n<i.rows;n++)e+=Math.pow(i.get(n,t),2)/(i.rows-1);r.push(Math.sqrt(e))}return r}function _4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[e])}function L4(i){for(var r=i.size-1,t=0,e=0;e<i.columns;e++)for(var n=0;n<i.rows;n++)t+=Math.pow(i.get(n,e),2)/r;return Math.sqrt(t)}function I4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r)}var Ei=function(){function i(){(0,Nu.Z)(this,i)}return(0,Yu.Z)(i,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.call(this,e,n);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);t++}return a}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);for(var s=e+1;s<this.rows;s++)this.get(t,s)!==0&&(a=!1);t++}return a}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,n=0;e<t.rows&&n<t.columns;){for(var a=e,o=e;o<t.rows;o++)t.get(o,n)>t.get(a,n)&&(a=o);if(t.get(a,n)===0)n++;else{t.swapRows(e,a);for(var s=t.get(e,n),l=n;l<t.columns;l++)t.set(e,l,t.get(e,l)/s);for(var u=e+1;u<t.rows;u++){var h=t.get(u,n)/t.get(e,n);t.set(u,n,0);for(var c=n+1;c<t.columns;c++)t.set(u,c,t.get(u,c)-t.get(e,c)*h)}e++,n++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,n=t.rows,a=n-1;a>=0;)if(t.maxRow(a)===0)a--;else{for(var o=0,s=!1;o<n&&s===!1;)t.get(a,o)===1?s=!0:o++;for(var l=0;l<a;l++)for(var u=t.get(l,o),h=o;h<e;h++){var c=t.get(l,h)-u*t.get(a,h);t.set(l,h,c)}a--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.rows,n=e===void 0?1:e,a=t.columns,o=a===void 0?1:a;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");for(var s=new $r(this.rows*n,this.columns*o),l=0;l<n;l++)for(var u=0;u<o;u++)s.setSubMatrix(this,this.rows*l,this.columns*u);return s}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){Ya(this,t);for(var e=[],n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"getRowVector",value:function(t){return $r.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){Ya(this,t),e=cs(this,e);for(var n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}},{key:"swapRows",value:function(t,e){Ya(this,t),Ya(this,e);for(var n=0;n<this.columns;n++){var a=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,a)}return this}},{key:"getColumn",value:function(t){Ga(this,t);for(var e=[],n=0;n<this.rows;n++)e.push(this.get(n,t));return e}},{key:"getColumnVector",value:function(t){return $r.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){Ga(this,t),e=vs(this,e);for(var n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}},{key:"swapColumns",value:function(t,e){Ga(this,t),Ga(this,e);for(var n=0;n<this.rows;n++){var a=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,a)}return this}},{key:"addRowVector",value:function(t){t=cs(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}},{key:"subRowVector",value:function(t){t=cs(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}},{key:"mulRowVector",value:function(t){t=cs(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}},{key:"divRowVector",value:function(t){t=cs(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}},{key:"addColumnVector",value:function(t){t=vs(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=vs(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=vs(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=vs(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}},{key:"mulRow",value:function(t,e){Ya(this,t);for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}},{key:"mulColumn",value:function(t,e){Ga(this,t);for(var n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}},{key:"max",value:function(t){if(this.isEmpty())return NaN;switch(t){case"row":{for(var e=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)>e[n]&&(e[n]=this.get(n,a));return e}case"column":{for(var o=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),s=0;s<this.rows;s++)for(var l=0;l<this.columns;l++)this.get(s,l)>o[l]&&(o[l]=this.get(s,l));return o}case void 0:{for(var u=this.get(0,0),h=0;h<this.rows;h++)for(var c=0;c<this.columns;c++)this.get(h,c)>u&&(u=this.get(h,c));return u}default:throw new Error("invalid option: ".concat(t))}}},{key:"maxIndex",value:function(){ds(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)>t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"min",value:function(t){if(this.isEmpty())return NaN;switch(t){case"row":{for(var e=new Array(this.rows).fill(Number.POSITIVE_INFINITY),n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)<e[n]&&(e[n]=this.get(n,a));return e}case"column":{for(var o=new Array(this.columns).fill(Number.POSITIVE_INFINITY),s=0;s<this.rows;s++)for(var l=0;l<this.columns;l++)this.get(s,l)<o[l]&&(o[l]=this.get(s,l));return o}case void 0:{for(var u=this.get(0,0),h=0;h<this.rows;h++)for(var c=0;c<this.columns;c++)this.get(h,c)<u&&(u=this.get(h,c));return u}default:throw new Error("invalid option: ".concat(t))}}},{key:"minIndex",value:function(){ds(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)<t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"maxRow",value:function(t){if(Ya(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxRowIndex",value:function(t){Ya(this,t),ds(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)>e&&(e=this.get(t,a),n[1]=a);return n}},{key:"minRow",value:function(t){if(Ya(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minRowIndex",value:function(t){Ya(this,t),ds(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)<e&&(e=this.get(t,a),n[1]=a);return n}},{key:"maxColumn",value:function(t){if(Ga(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}},{key:"maxColumnIndex",value:function(t){Ga(this,t),ds(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)>e&&(e=this.get(a,t),n[0]=a);return n}},{key:"minColumn",value:function(t){if(Ga(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}},{key:"minColumnIndex",value:function(t){Ga(this,t),ds(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)<e&&(e=this.get(a,t),n[0]=a);return n}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],n=0;n<t;n++)e.push(this.get(n,n));return e}},{key:"norm",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",e=0;if(t==="max")return this.max();if(t==="frobenius"){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)e=e+this.get(n,a)*this.get(n,a);return Math.sqrt(e)}else throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}},{key:"dot",value:function(t){i.isMatrix(t)&&(t=t.to1DArray());var e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");for(var n=0,a=0;a<e.length;a++)n+=e[a]*t[a];return n}},{key:"mmul",value:function(t){t=$r.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.columns,o=new $r(e,a),s=new Float64Array(n),l=0;l<a;l++){for(var u=0;u<n;u++)s[u]=t.get(u,l);for(var h=0;h<e;h++){for(var c=0,v=0;v<n;v++)c+=this.get(h,v)*s[v];o.set(h,l,c)}}return o}},{key:"strassen2x2",value:function(t){t=$r.checkMatrix(t);var e=new $r(2,2),n=this.get(0,0),a=t.get(0,0),o=this.get(0,1),s=t.get(0,1),l=this.get(1,0),u=t.get(1,0),h=this.get(1,1),c=t.get(1,1),v=(n+h)*(a+c),g=(l+h)*a,C=n*(s-c),F=h*(u-a),G=(n+o)*c,V=(l-n)*(a+s),X=(o-h)*(u+c),at=v+F-G+X,st=C+G,xt=g+F,kt=v-g+C+V;return e.set(0,0,at),e.set(0,1,st),e.set(1,0,xt),e.set(1,1,kt),e}},{key:"strassen3x3",value:function(t){t=$r.checkMatrix(t);var e=new $r(3,3),n=this.get(0,0),a=this.get(0,1),o=this.get(0,2),s=this.get(1,0),l=this.get(1,1),u=this.get(1,2),h=this.get(2,0),c=this.get(2,1),v=this.get(2,2),g=t.get(0,0),C=t.get(0,1),F=t.get(0,2),G=t.get(1,0),V=t.get(1,1),X=t.get(1,2),at=t.get(2,0),st=t.get(2,1),xt=t.get(2,2),kt=(n+a+o-s-l-c-v)*V,Gt=(n-s)*(-C+V),Wt=l*(-g+C+G-V-X-at+xt),Yt=(-n+s+l)*(g-C+V),ie=(s+l)*(-g+C),de=n*g,he=(-n+h+c)*(g-F+X),Ee=(-n+h)*(F-X),Ie=(h+c)*(-g+F),Le=(n+a+o-l-u-h-c)*X,He=c*(-g+F+G-V-X-at+st),je=(-o+c+v)*(V+at-st),Ke=(o-v)*(V-st),Xe=o*at,Ve=(c+v)*(-at+st),pr=(-o+l+u)*(X+at-xt),vr=(o-u)*(X-xt),xr=(l+u)*(-at+xt),Je=a*G,gr=u*st,Or=s*F,mr=h*C,yr=v*xt,Dr=de+Xe+Je,Kr=kt+Yt+ie+de+je+Xe+Ve,Er=de+he+Ie+Le+Xe+pr+xr,De=Gt+Wt+Yt+de+Xe+pr+vr,qe=Gt+Yt+ie+de+gr,Fr=Xe+pr+vr+xr+Or,Vr=de+he+Ee+He+je+Ke+Xe,_r=je+Ke+Xe+Ve+mr,Qr=de+he+Ee+Ie+yr;return e.set(0,0,Dr),e.set(0,1,Kr),e.set(0,2,Er),e.set(1,0,De),e.set(1,1,qe),e.set(1,2,Fr),e.set(2,0,Vr),e.set(2,1,_r),e.set(2,2,Qr),e}},{key:"mmulStrassen",value:function(t){t=$r.checkMatrix(t);var e=this.clone(),n=e.rows,a=e.columns,o=t.rows,s=t.columns;a!==o&&console.warn("Multiplying ".concat(n," x ").concat(a," and ").concat(o," x ").concat(s," matrix: dimensions do not match."));function l(v,g,C){var F=v.rows,G=v.columns;if(F===g&&G===C)return v;var V=i.zeros(g,C);return V=V.setSubMatrix(v,0,0),V}var u=Math.max(n,o),h=Math.max(a,s);e=l(e,u,h),t=l(t,u,h);function c(v,g,C,F){if(C<=512||F<=512)return v.mmul(g);C%2==1&&F%2==1?(v=l(v,C+1,F+1),g=l(g,C+1,F+1)):C%2==1?(v=l(v,C+1,F),g=l(g,C+1,F)):F%2==1&&(v=l(v,C,F+1),g=l(g,C,F+1));var G=parseInt(v.rows/2,10),V=parseInt(v.columns/2,10),X=v.subMatrix(0,G-1,0,V-1),at=g.subMatrix(0,G-1,0,V-1),st=v.subMatrix(0,G-1,V,v.columns-1),xt=g.subMatrix(0,G-1,V,g.columns-1),kt=v.subMatrix(G,v.rows-1,0,V-1),Gt=g.subMatrix(G,g.rows-1,0,V-1),Wt=v.subMatrix(G,v.rows-1,V,v.columns-1),Yt=g.subMatrix(G,g.rows-1,V,g.columns-1),ie=c(i.add(X,Wt),i.add(at,Yt),G,V),de=c(i.add(kt,Wt),at,G,V),he=c(X,i.sub(xt,Yt),G,V),Ee=c(Wt,i.sub(Gt,at),G,V),Ie=c(i.add(X,st),Yt,G,V),Le=c(i.sub(kt,X),i.add(at,xt),G,V),He=c(i.sub(st,Wt),i.add(Gt,Yt),G,V),je=i.add(ie,Ee);je.sub(Ie),je.add(He);var Ke=i.add(he,Ie),Xe=i.add(de,Ee),Ve=i.sub(ie,de);Ve.add(he),Ve.add(Le);var pr=i.zeros(2*je.rows,2*je.columns);return pr=pr.setSubMatrix(je,0,0),pr=pr.setSubMatrix(Ke,je.rows,0),pr=pr.setSubMatrix(Xe,0,je.columns),pr=pr.setSubMatrix(Ve,je.rows,je.columns),pr.subMatrix(0,C-1,0,F-1)}return c(e,t,u,h)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new $r(this.rows,this.columns),l=0;l<this.rows;l++){var u=this.getRow(l);u.length>0&&p1(u,{min:n,max:o,output:u}),s.setRow(l,u)}return s}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new $r(this.rows,this.columns),l=0;l<this.columns;l++){var u=this.getColumn(l);u.length&&p1(u,{min:n,max:o,output:u}),s.setColumn(l,u)}return s}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var n=0;n<t;n++){var a=this.get(e,n),o=this.get(e,this.columns-1-n);this.set(e,n,o),this.set(e,this.columns-1-n,a)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var n=0;n<t;n++){var a=this.get(n,e),o=this.get(this.rows-1-n,e);this.set(n,e,o),this.set(this.rows-1-n,e,a)}return this}},{key:"kroneckerProduct",value:function(t){t=$r.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.rows,o=t.columns,s=new $r(e*a,n*o),l=0;l<e;l++)for(var u=0;u<n;u++)for(var h=0;h<a;h++)for(var c=0;c<o;c++)s.set(a*l+h,o*u+c,this.get(l,u)*t.get(h,c));return s}},{key:"kroneckerSum",value:function(t){if(t=$r.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var e=this.rows,n=t.rows,a=this.kroneckerProduct($r.eye(n,n)),o=$r.eye(e,e).kroneckerProduct(t);return a.add(o)}},{key:"transpose",value:function(){for(var t=new $r(this.columns,this.rows),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b1,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b1,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,n,a){x1(this,t,e,n,a);for(var o=new $r(e-t+1,a-n+1),s=t;s<=e;s++)for(var l=n;l<=a;l++)o.set(s-t,l-n,this.get(s,l));return o}},{key:"subMatrixRow",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var a=new $r(t.length,n-e+1),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[o]));a.set(o,s-e,this.get(t[o],s))}return a}},{key:"subMatrixColumn",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var a=new $r(n-e+1,t.length),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[o]));a.set(s-e,o,this.get(s,t[o]))}return a}},{key:"setSubMatrix",value:function(t,e,n){if(t=$r.checkMatrix(t),t.isEmpty())return this;var a=e+t.rows-1,o=n+t.columns-1;x1(this,e,a,n,o);for(var s=0;s<t.rows;s++)for(var l=0;l<t.columns;l++)this.set(e+s,n+l,t.get(s,l));return this}},{key:"selection",value:function(t,e){c4(this,t),v4(this,e);for(var n=new $r(t.length,e.length),a=0;a<t.length;a++)for(var o=t[a],s=0;s<e.length;s++){var l=e[s];n.set(a,s,this.get(o,l))}return n}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,n=0;n<t;n++)e+=this.get(n,n);return e}},{key:"clone",value:function(){for(var t=new $r(this.rows,this.columns),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}},{key:"sum",value:function(t){switch(t){case"row":return d4(this);case"column":return p4(this);case void 0:return g4(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return y4(this);case"column":return m4(this);case void 0:return x4(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":{for(var n=0;n<this.rows;n++)e[n]/=this.columns;return e}case"column":{for(var a=0;a<this.columns;a++)e[a]/=this.rows;return e}case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.unbiased,o=a===void 0?!0:a,s=n.mean,l=s===void 0?this.mean(t):s;if(typeof o!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!ma(l))throw new TypeError("mean must be an array");return b4(this,o,l)}case"column":{if(!ma(l))throw new TypeError("mean must be an array");return w4(this,o,l)}case void 0:{if(typeof l!="number")throw new TypeError("mean must be a number");return S4(this,o,l)}default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){typeof t=="object"&&(e=t,t=void 0);var n=this.variance(t,e);if(t===void 0)return Math.sqrt(n);for(var a=0;a<n.length;a++)n[a]=Math.sqrt(n[a]);return n}},{key:"center",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.center,o=a===void 0?this.mean(t):a;switch(t){case"row":{if(!ma(o))throw new TypeError("center must be an array");return C4(this,o),this}case"column":{if(!ma(o))throw new TypeError("center must be an array");return M4(this,o),this}case void 0:{if(typeof o!="number")throw new TypeError("center must be a number");return E4(this,o),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e.scale;switch(t){case"row":{if(n===void 0)n=A4(this);else if(!ma(n))throw new TypeError("scale must be an array");return T4(this,n),this}case"column":{if(n===void 0)n=P4(this);else if(!ma(n))throw new TypeError("scale must be an array");return _4(this,n),this}case void 0:{if(n===void 0)n=L4(this);else if(typeof n!="number")throw new TypeError("scale must be a number");return I4(this,n),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return y1(this,t)}}],[{key:"from1DArray",value:function(t,e,n){var a=t*e;if(a!==n.length)throw new RangeError("data length does not match given dimensions");for(var o=new $r(t,e),s=0;s<t;s++)for(var l=0;l<e;l++)o.set(s,l,n[s*e+l]);return o}},{key:"rowVector",value:function(t){for(var e=new $r(1,t.length),n=0;n<t.length;n++)e.set(0,n,t[n]);return e}},{key:"columnVector",value:function(t){for(var e=new $r(t.length,1),n=0;n<t.length;n++)e.set(n,0,t[n]);return e}},{key:"zeros",value:function(t,e){return new $r(t,e)}},{key:"ones",value:function(t,e){return new $r(t,e).fill(1)}},{key:"rand",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");for(var a=n.random,o=a===void 0?Math.random:a,s=new $r(t,e),l=0;l<t;l++)for(var u=0;u<e;u++)s.set(l,u,o());return s}},{key:"randInt",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");var a=n.min,o=a===void 0?0:a,s=n.max,l=s===void 0?1e3:s,u=n.random,h=u===void 0?Math.random:u;if(!Number.isInteger(o))throw new TypeError("min must be an integer");if(!Number.isInteger(l))throw new TypeError("max must be an integer");if(o>=l)throw new RangeError("min must be smaller than max");for(var c=l-o,v=new $r(t,e),g=0;g<t;g++)for(var C=0;C<e;C++){var F=o+Math.round(h()*c);v.set(g,C,F)}return v}},{key:"eye",value:function(t,e,n){e===void 0&&(e=t),n===void 0&&(n=1);for(var a=Math.min(t,e),o=this.zeros(t,e),s=0;s<a;s++)o.set(s,s,n);return o}},{key:"diag",value:function(t,e,n){var a=t.length;e===void 0&&(e=a),n===void 0&&(n=e);for(var o=Math.min(a,e,n),s=this.zeros(e,n),l=0;l<o;l++)s.set(l,l,t[l]);return s}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new $r(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.min(t.get(s,l),e.get(s,l)));return o}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new this(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.max(t.get(s,l),e.get(s,l)));return o}},{key:"checkMatrix",value:function(t){return i.isMatrix(t)?t:new $r(t)}},{key:"isMatrix",value:function(t){return t!=null&&t.klass==="Matrix"}}]),i}();Ei.prototype.klass="Matrix",typeof Symbol!="undefined"&&(Ei.prototype[Symbol.for("nodejs.util.inspect.custom")]=l4);function b1(i,r){return i-r}function O4(i){return i.every(function(r){return typeof r=="number"})}Ei.random=Ei.rand,Ei.randomInt=Ei.randInt,Ei.diagonal=Ei.diag,Ei.prototype.diagonal=Ei.prototype.diag,Ei.identity=Ei.eye,Ei.prototype.negate=Ei.prototype.neg,Ei.prototype.tensorProduct=Ei.prototype.kroneckerProduct;var $r=function(i){(0,v1.Z)(t,i);var r=(0,d1.Z)(t);function t(e,n){var a;if((0,Nu.Z)(this,t),a=r.call(this),t.isMatrix(e))return(0,i4.Z)(a,e.clone());if(Number.isInteger(e)&&e>=0)if(a.data=[],Number.isInteger(n)&&n>=0)for(var o=0;o<e;o++)a.data.push(new Float64Array(n));else throw new TypeError("nColumns must be a positive integer");else if(ma(e)){var s=e;if(e=s.length,n=e?s[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");a.data=[];for(var l=0;l<e;l++){if(s[l].length!==n)throw new RangeError("Inconsistent array dimensions");if(!O4(s[l]))throw new TypeError("Input data contains non-numeric values");a.data.push(Float64Array.from(s[l]))}}else throw new TypeError("First argument must be a positive number or an array");return a.rows=e,a.columns=n,a}return(0,Yu.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}},{key:"removeRow",value:function(n){return Ya(this,n),this.data.splice(n,1),this.rows-=1,this}},{key:"addRow",value:function(n,a){return a===void 0&&(a=n,n=this.rows),Ya(this,n,!0),a=Float64Array.from(cs(this,a)),this.data.splice(n,0,a),this.rows+=1,this}},{key:"removeColumn",value:function(n){Ga(this,n);for(var a=0;a<this.rows;a++){for(var o=new Float64Array(this.columns-1),s=0;s<n;s++)o[s]=this.data[a][s];for(var l=n+1;l<this.columns;l++)o[l-1]=this.data[a][l];this.data[a]=o}return this.columns-=1,this}},{key:"addColumn",value:function(n,a){typeof a=="undefined"&&(a=n,n=this.columns),Ga(this,n,!0),a=vs(this,a);for(var o=0;o<this.rows;o++){for(var s=new Float64Array(this.columns+1),l=0;l<n;l++)s[l]=this.data[o][l];for(s[l++]=a[o];l<this.columns+1;l++)s[l]=this.data[o][l-1];this.data[o]=s}return this.columns+=1,this}}]),t}(Ei);h4(Ei,$r);var k4=function(i){(0,v1.Z)(t,i);var r=(0,d1.Z)(t);function t(e){var n;return(0,Nu.Z)(this,t),n=r.call(this),n.data=e,n.rows=e.length,n.columns=e[0].length,n}return(0,Yu.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}}]),t}(Ei);function ps(i,r){var t=0;return Math.abs(i)>Math.abs(r)?(t=r/i,Math.abs(i)*Math.sqrt(1+t*t)):r!==0?(t=i/r,Math.abs(r)*Math.sqrt(1+t*t)):0}var w1=function(){function i(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,Nu.Z)(this,i),r=k4.checkMatrix(r),r.isEmpty())throw new Error("Matrix must be non-empty");var e=r.rows,n=r.columns,a=t.computeLeftSingularVectors,o=a===void 0?!0:a,s=t.computeRightSingularVectors,l=s===void 0?!0:s,u=t.autoTranspose,h=u===void 0?!1:u,c=Boolean(o),v=Boolean(l),g=!1,C;if(e<n)if(!h)C=r.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{C=r.transpose(),e=C.rows,n=C.columns,g=!0;var F=c;c=v,v=F}else C=r.clone();for(var G=Math.min(e,n),V=Math.min(e+1,n),X=new Float64Array(V),at=new $r(e,G),st=new $r(n,n),xt=new Float64Array(n),kt=new Float64Array(e),Gt=new Float64Array(V),Wt=0;Wt<V;Wt++)Gt[Wt]=Wt;for(var Yt=Math.min(e-1,n),ie=Math.max(0,Math.min(n-2,e)),de=Math.max(Yt,ie),he=0;he<de;he++){if(he<Yt){X[he]=0;for(var Ee=he;Ee<e;Ee++)X[he]=ps(X[he],C.get(Ee,he));if(X[he]!==0){C.get(he,he)<0&&(X[he]=-X[he]);for(var Ie=he;Ie<e;Ie++)C.set(Ie,he,C.get(Ie,he)/X[he]);C.set(he,he,C.get(he,he)+1)}X[he]=-X[he]}for(var Le=he+1;Le<n;Le++){if(he<Yt&&X[he]!==0){for(var He=0,je=he;je<e;je++)He+=C.get(je,he)*C.get(je,Le);He=-He/C.get(he,he);for(var Ke=he;Ke<e;Ke++)C.set(Ke,Le,C.get(Ke,Le)+He*C.get(Ke,he))}xt[Le]=C.get(he,Le)}if(c&&he<Yt)for(var Xe=he;Xe<e;Xe++)at.set(Xe,he,C.get(Xe,he));if(he<ie){xt[he]=0;for(var Ve=he+1;Ve<n;Ve++)xt[he]=ps(xt[he],xt[Ve]);if(xt[he]!==0){xt[he+1]<0&&(xt[he]=0-xt[he]);for(var pr=he+1;pr<n;pr++)xt[pr]/=xt[he];xt[he+1]+=1}if(xt[he]=-xt[he],he+1<e&&xt[he]!==0){for(var vr=he+1;vr<e;vr++)kt[vr]=0;for(var xr=he+1;xr<e;xr++)for(var Je=he+1;Je<n;Je++)kt[xr]+=xt[Je]*C.get(xr,Je);for(var gr=he+1;gr<n;gr++)for(var Or=-xt[gr]/xt[he+1],mr=he+1;mr<e;mr++)C.set(mr,gr,C.get(mr,gr)+Or*kt[mr])}if(v)for(var yr=he+1;yr<n;yr++)st.set(yr,he,xt[yr])}}var Dr=Math.min(n,e+1);if(Yt<n&&(X[Yt]=C.get(Yt,Yt)),e<Dr&&(X[Dr-1]=0),ie+1<Dr&&(xt[ie]=C.get(ie,Dr-1)),xt[Dr-1]=0,c){for(var Kr=Yt;Kr<G;Kr++){for(var Er=0;Er<e;Er++)at.set(Er,Kr,0);at.set(Kr,Kr,1)}for(var De=Yt-1;De>=0;De--)if(X[De]!==0){for(var qe=De+1;qe<G;qe++){for(var Fr=0,Vr=De;Vr<e;Vr++)Fr+=at.get(Vr,De)*at.get(Vr,qe);Fr=-Fr/at.get(De,De);for(var _r=De;_r<e;_r++)at.set(_r,qe,at.get(_r,qe)+Fr*at.get(_r,De))}for(var Qr=De;Qr<e;Qr++)at.set(Qr,De,-at.get(Qr,De));at.set(De,De,1+at.get(De,De));for(var Ur=0;Ur<De-1;Ur++)at.set(Ur,De,0)}else{for(var Rr=0;Rr<e;Rr++)at.set(Rr,De,0);at.set(De,De,1)}}if(v)for(var Jr=n-1;Jr>=0;Jr--){if(Jr<ie&&xt[Jr]!==0)for(var ln=Jr+1;ln<n;ln++){for(var In=0,bn=Jr+1;bn<n;bn++)In+=st.get(bn,Jr)*st.get(bn,ln);In=-In/st.get(Jr+1,Jr);for(var Gn=Jr+1;Gn<n;Gn++)st.set(Gn,ln,st.get(Gn,ln)+In*st.get(Gn,Jr))}for(var Un=0;Un<n;Un++)st.set(Un,Jr,0);st.set(Jr,Jr,1)}for(var Fi=Dr-1,zi=0,di=Number.EPSILON;Dr>0;){var kr=void 0,zn=void 0;for(kr=Dr-2;kr>=-1&&kr!==-1;kr--){var Ai=Number.MIN_VALUE+di*Math.abs(X[kr]+Math.abs(X[kr+1]));if(Math.abs(xt[kr])<=Ai||Number.isNaN(xt[kr])){xt[kr]=0;break}}if(kr===Dr-2)zn=4;else{var mi=void 0;for(mi=Dr-1;mi>=kr&&mi!==kr;mi--){var eo=(mi!==Dr?Math.abs(xt[mi]):0)+(mi!==kr+1?Math.abs(xt[mi-1]):0);if(Math.abs(X[mi])<=di*eo){X[mi]=0;break}}mi===kr?zn=3:mi===Dr-1?zn=1:(zn=2,kr=mi)}switch(kr++,zn){case 1:{var Ti=xt[Dr-2];xt[Dr-2]=0;for(var wn=Dr-2;wn>=kr;wn--){var yn=ps(X[wn],Ti),On=X[wn]/yn,Rn=Ti/yn;if(X[wn]=yn,wn!==kr&&(Ti=-Rn*xt[wn-1],xt[wn-1]=On*xt[wn-1]),v)for(var Xi=0;Xi<n;Xi++)yn=On*st.get(Xi,wn)+Rn*st.get(Xi,Dr-1),st.set(Xi,Dr-1,-Rn*st.get(Xi,wn)+On*st.get(Xi,Dr-1)),st.set(Xi,wn,yn)}break}case 2:{var Uo=xt[kr-1];xt[kr-1]=0;for(var za=kr;za<Dr;za++){var il=ps(X[za],Uo),Rc=X[za]/il,Nc=Uo/il;if(X[za]=il,Uo=-Nc*xt[za],xt[za]=Rc*xt[za],c)for(var To=0;To<e;To++)il=Rc*at.get(To,za)+Nc*at.get(To,kr-1),at.set(To,kr-1,-Nc*at.get(To,za)+Rc*at.get(To,kr-1)),at.set(To,za,il)}break}case 3:{var al=Math.max(Math.abs(X[Dr-1]),Math.abs(X[Dr-2]),Math.abs(xt[Dr-2]),Math.abs(X[kr]),Math.abs(xt[kr])),ys=X[Dr-1]/al,mb=X[Dr-2]/al,lf=xt[Dr-2]/al,Yc=X[kr]/al,PY=xt[kr]/al,Zo=((mb+ys)*(mb-ys)+lf*lf)/2,uf=ys*lf*(ys*lf),ol=0;(Zo!==0||uf!==0)&&(Zo<0?ol=0-Math.sqrt(Zo*Zo+uf):ol=Math.sqrt(Zo*Zo+uf),ol=uf/(Zo+ol));for(var Ko=(Yc+ys)*(Yc-ys)+ol,ms=Yc*PY,Sn=kr;Sn<Dr-1;Sn++){var oa=ps(Ko,ms);oa===0&&(oa=Number.MIN_VALUE);var Xa=Ko/oa,Va=ms/oa;if(Sn!==kr&&(xt[Sn-1]=oa),Ko=Xa*X[Sn]+Va*xt[Sn],xt[Sn]=Xa*xt[Sn]-Va*X[Sn],ms=Va*X[Sn+1],X[Sn+1]=Xa*X[Sn+1],v)for(var Po=0;Po<n;Po++)oa=Xa*st.get(Po,Sn)+Va*st.get(Po,Sn+1),st.set(Po,Sn+1,-Va*st.get(Po,Sn)+Xa*st.get(Po,Sn+1)),st.set(Po,Sn,oa);if(oa=ps(Ko,ms),oa===0&&(oa=Number.MIN_VALUE),Xa=Ko/oa,Va=ms/oa,X[Sn]=oa,Ko=Xa*xt[Sn]+Va*X[Sn+1],X[Sn+1]=-Va*xt[Sn]+Xa*X[Sn+1],ms=Va*xt[Sn+1],xt[Sn+1]=Xa*xt[Sn+1],c&&Sn<e-1)for(var _o=0;_o<e;_o++)oa=Xa*at.get(_o,Sn)+Va*at.get(_o,Sn+1),at.set(_o,Sn+1,-Va*at.get(_o,Sn)+Xa*at.get(_o,Sn+1)),at.set(_o,Sn,oa)}xt[Dr-2]=Ko,zi=zi+1;break}case 4:{if(X[kr]<=0&&(X[kr]=X[kr]<0?-X[kr]:0,v))for(var ff=0;ff<=Fi;ff++)st.set(ff,kr,-st.get(ff,kr));for(;kr<Fi&&!(X[kr]>=X[kr+1]);){var sl=X[kr];if(X[kr]=X[kr+1],X[kr+1]=sl,v&&kr<n-1)for(var xs=0;xs<n;xs++)sl=st.get(xs,kr+1),st.set(xs,kr+1,st.get(xs,kr)),st.set(xs,kr,sl);if(c&&kr<e-1)for(var bs=0;bs<e;bs++)sl=at.get(bs,kr+1),at.set(bs,kr+1,at.get(bs,kr)),at.set(bs,kr,sl);kr++}zi=0,Dr--;break}}}if(g){var _Y=st;st=at,at=_Y}this.m=e,this.n=n,this.s=X,this.U=at,this.V=st}return(0,Yu.Z)(i,[{key:"solve",value:function(t){for(var e=t,n=this.threshold,a=this.s.length,o=$r.zeros(a,a),s=0;s<a;s++)Math.abs(this.s[s])<=n?o.set(s,s,0):o.set(s,s,1/this.s[s]);for(var l=this.U,u=this.rightSingularVectors,h=u.mmul(o),c=u.rows,v=l.rows,g=$r.zeros(c,v),C=0;C<c;C++)for(var F=0;F<v;F++){for(var G=0,V=0;V<a;V++)G+=h.get(C,V)*l.get(F,V);g.set(C,F,G)}return g.mmul(e)}},{key:"solveForDiagonal",value:function(t){return this.solve($r.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,e=this.threshold,n=t.rows,a=t.columns,o=new $r(n,this.s.length),s=0;s<n;s++)for(var l=0;l<a;l++)Math.abs(this.s[l])>e&&o.set(s,l,t.get(s,l)/this.s[l]);for(var u=this.U,h=u.rows,c=u.columns,v=new $r(n,h),g=0;g<n;g++)for(var C=0;C<h;C++){for(var F=0,G=0;G<c;G++)F+=o.get(g,G)*u.get(C,G);v.set(g,C,F)}return v}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s,a=0,o=n.length;a<o;a++)n[a]>t&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return $r.diag(this.s)}}]),i}(),B4=function(i){Bn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.linkDistance=50,t.scaledDistances=null,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=n===void 0?[]:n,o=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.linkDistance,l=nc({nodes:e,edges:a},!1),u=rc(l);t.handleInfinity(u);var h=ux(u,s);t.scaledDistances=h;var c=t.runMDS();t.positions=c,c.forEach(function(v,g){e[g].x=v[0]+o[0],e[g].y=v[1]+o[1]})}},r.prototype.runMDS=function(){var t=this,e=2,n=t.scaledDistances,a=$r.mul($r.pow(n,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var u=new w1(a),h=$r.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(c){return $r.mul([c],[h]).toJSON()[0].splice(0,e)})},r.prototype.handleInfinity=function(t){var e=-999999;t.forEach(function(n){n.forEach(function(a){a!==Infinity&&e<a&&(e=a)})}),t.forEach(function(n,a){n.forEach(function(o,s){o===Infinity&&(t[a][s]=e)})})},r}(Ia),D4=B4,F4=function(){function i(r){this.distances=r.distances,this.dimension=r.dimension||2,this.linkDistance=r.linkDistance}return i.prototype.layout=function(){var r=this,t=r.dimension,e=r.distances,n=r.linkDistance;try{var a=$r.mul($r.pow(e,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var u=new w1(a),h=$r.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(F){return $r.mul([F],[h]).toJSON()[0].splice(0,t)})}catch(F){for(var c=[],v=0;v<e.length;v++){var g=Math.random()*n,C=Math.random()*n;c.push([g,C])}return c}},i}(),R4=F4,N4=800,Y4=function(){function i(r){this.disp=[],this.positions=r.positions,this.adjMatrix=r.adjMatrix,this.focusID=r.focusID,this.radii=r.radii,this.iterations=r.iterations||10,this.height=r.height||10,this.width=r.width||10,this.speed=r.speed||100,this.gravity=r.gravity||10,this.nodeSizeFunc=r.nodeSizeFunc,this.k=r.k||5,this.strictRadial=r.strictRadial,this.nodes=r.nodes}return i.prototype.layout=function(){var r=this,t=r.positions,e=[],n=r.iterations,a=r.width/10;r.maxDisplace=a,r.disp=e;for(var o=0;o<n;o++)t.forEach(function(s,l){e[l]={x:0,y:0}}),r.getRepulsion(),r.updatePositions();return t},i.prototype.getRepulsion=function(){var r=this,t=r.positions,e=r.nodes,n=r.disp,a=r.k,o=r.radii||[];t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(u,h){if(l!==h&&o[l]===o[h]){var c=s[0]-u[0],v=s[1]-u[1],g=Math.sqrt(c*c+v*v);if(g===0){g=1;var C=l>h?1:-1;c=.01*C,v=.01*C}if(g<r.nodeSizeFunc(e[l])/2+r.nodeSizeFunc(e[h])/2){var F=a*a/g;n[l].x+=c/g*F,n[l].y+=v/g*F}}})})},i.prototype.updatePositions=function(){var r=this,t=r.positions,e=r.disp,n=r.speed,a=r.strictRadial,o=r.focusID,s=r.maxDisplace||r.width/10;a&&e.forEach(function(u,h){var c=t[h][0]-t[o][0],v=t[h][1]-t[o][1],g=Math.sqrt(c*c+v*v),C=v/g,F=-c/g,G=Math.sqrt(u.x*u.x+u.y*u.y),V=Math.acos((C*u.x+F*u.y)/G);V>Math.PI/2&&(V-=Math.PI/2,C*=-1,F*=-1);var X=Math.cos(V)*G;u.x=C*X,u.y=F*X});var l=r.radii;t.forEach(function(u,h){if(h!==o){var c=Math.sqrt(e[h].x*e[h].x+e[h].y*e[h].y);if(c>0&&h!==o){var v=Math.min(s*(n/N4),c);if(u[0]+=e[h].x/c*v,u[1]+=e[h].y/c*v,a){var g=u[0]-t[o][0],C=u[1]-t[o][1],F=Math.sqrt(g*g+C*C);g=g/F*l[h],C=C/F*l[h],u[0]=t[o][0]+g,u[1]=t[o][1]+C}}}})},i}(),G4=Y4;function z4(i){for(var r=i.length,t=i[0].length,e=[],n=0;n<r;n++){for(var a=[],o=0;o<t;o++)i[n][o]!==0?a.push(1/(i[n][o]*i[n][o])):a.push(0);e.push(a)}return e}function X4(i,r){var t=-1;return i.forEach(function(e,n){e.id===r&&(t=n)}),t}function S1(i,r){return Math.sqrt((i[0]-r[0])*(i[0]-r[0])+(i[1]-r[1])*(i[1]-r[1]))}var V4=function(i){Bn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.focusNode=null,t.unitRadius=null,t.linkDistance=50,t.preventOverlap=!1,t.strictRadial=!0,t.maxPreventOverlapIteration=200,t.sortStrength=10,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges||[],a=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.linkDistance,s=null;if((0,mn.default)(t.focusNode)){for(var l=!1,u=0;u<e.length;u++)e[u].id===t.focusNode&&(s=e[u],t.focusNode=s,l=!0,u=e.length);l||(s=null)}else s=t.focusNode;s||(s=e[0],t.focusNode=s);var h=X4(e,s.id);t.focusIndex=h;var c=nc({nodes:e,edges:n},!1),v=rc(c),g=t.maxToFocus(v,h);t.handleInfinity(v,h,g+1),t.distances=v;var C=v[h];!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var F=t.width||500,G=t.height||500,V=F-a[0]>a[0]?a[0]:F-a[0],X=G-a[1]>a[1]?a[1]:G-a[1];V===0&&(V=F/2),X===0&&(X=G/2);var at=X>V?V:X,st=Math.max.apply(Math,C),xt=[];C.forEach(function(Ke,Xe){t.unitRadius||(t.unitRadius=at/st),xt[Xe]=Ke*t.unitRadius}),t.radii=xt;var kt=t.eIdealDisMatrix();t.eIdealDistances=kt;var Gt=z4(kt);t.weights=Gt;var Wt=new R4({distances:kt,linkDistance:o}),Yt=Wt.layout();Yt.forEach(function(Ke){fo(Ke[0])&&(Ke[0]=Math.random()*o),fo(Ke[1])&&(Ke[1]=Math.random()*o)}),t.positions=Yt,Yt.forEach(function(Ke,Xe){e[Xe].x=Ke[0]+a[0],e[Xe].y=Ke[1]+a[1]}),Yt.forEach(function(Ke){Ke[0]-=Yt[h][0],Ke[1]-=Yt[h][1]}),t.run();var ie=t.preventOverlap,de=t.nodeSize,he,Ee=t.strictRadial;if(ie){var Ie=t.nodeSpacing,Le;(0,Ra.default)(Ie)?Le=function(){return Ie}:(0,ml.default)(Ie)?Le=Ie:Le=function(){return 0},de?(0,Oi.default)(de)?he=function(Xe){var Ve=de[0]>de[1]?de[0]:de[1];return Ve+Le(Xe)}:he=function(Xe){return de+Le(Xe)}:he=function(Xe){if(Xe.size){if((0,Oi.default)(Xe.size)){var Ve=Xe.size[0]>Xe.size[1]?Xe.size[0]:Xe.size[1];return Ve+Le(Xe)}return Xe.size+Le(Xe)}return 10+Le(Xe)};var He={nodeSizeFunc:he,adjMatrix:c,positions:Yt,radii:xt,height:G,width:F,strictRadial:Ee,focusID:h,iterations:t.maxPreventOverlapIteration||200,k:Yt.length/4.5,nodes:e},je=new G4(He);Yt=je.layout()}Yt.forEach(function(Ke,Xe){e[Xe].x=Ke[0]+a[0],e[Xe].y=Ke[1]+a[1]})}},r.prototype.run=function(){for(var t=this,e=t.maxIteration,n=t.positions||[],a=t.weights||[],o=t.eIdealDistances||[],s=t.radii||[],l=0;l<=e;l++){var u=l/e;t.oneIteration(u,n,s,o,a)}},r.prototype.oneIteration=function(t,e,n,a,o){var s=this,l=1-t,u=s.focusIndex;e.forEach(function(h,c){var v=S1(h,[0,0]),g=v===0?0:1/v;if(c!==u){var C=0,F=0,G=0;e.forEach(function(X,at){if(c!==at){var st=S1(h,X),xt=st===0?0:1/st,kt=a[at][c];G+=o[c][at],C+=o[c][at]*(X[0]+kt*(h[0]-X[0])*xt),F+=o[c][at]*(X[1]+kt*(h[1]-X[1])*xt)}});var V=n[c]===0?0:1/n[c];G*=l,G+=t*V*V,C*=l,C+=t*V*h[0]*g,h[0]=C/G,F*=l,F+=t*V*h[1]*g,h[1]=F/G}})},r.prototype.eIdealDisMatrix=function(){var t=this,e=t.nodes;if(!e)return[];var n=t.distances,a=t.linkDistance,o=t.radii||[],s=t.unitRadius||50,l=[];return n&&n.forEach(function(u,h){var c=[];u.forEach(function(v,g){if(h===g)c.push(0);else if(o[h]===o[g])if(t.sortBy==="data")c.push(v*(Math.abs(h-g)*t.sortStrength)/(o[h]/s));else if(t.sortBy){var C=e[h][t.sortBy]||0,F=e[g][t.sortBy]||0;(0,mn.default)(C)&&(C=C.charCodeAt(0)),(0,mn.default)(F)&&(F=F.charCodeAt(0)),c.push(v*(Math.abs(C-F)*t.sortStrength)/(o[h]/s))}else c.push(v*a/(o[h]/s));else{var G=(a+s)/2;c.push(v*G)}}),l.push(c)}),l},r.prototype.handleInfinity=function(t,e,n){for(var a=t.length,o=0;o<a;o++)if(t[e][o]===Infinity){t[e][o]=n,t[o][e]=n;for(var s=0;s<a;s++)t[o][s]!==Infinity&&t[e][s]===Infinity&&(t[e][s]=n+t[o][s],t[s][e]=n+t[o][s])}for(var o=0;o<a;o++)if(o!==e){for(var s=0;s<a;s++)if(t[o][s]===Infinity){var l=Math.abs(t[e][o]-t[e][s]);l=l===0?1:l,t[o][s]=l}}},r.prototype.maxToFocus=function(t,e){for(var n=0,a=0;a<t[e].length;a++)t[e][a]!==Infinity&&(n=t[e][a]>n?t[e][a]:n);return n},r}(Ia),H4=V4,W4=function(i){Bn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},r.prototype.execute=function(){var t=this,e=t.nodes,n=.9,a=t.center;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),e&&e.forEach(function(o){o.x=(Math.random()-.5)*n*t.width+a[0],o.y=(Math.random()-.5)*n*t.height+a[1]})},r}(Ia),j4=W4,U4=function(i){Bn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=100,t.gravity=10,t.comboGravity=10,t.linkDistance=10,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.edgeStrength=.2,t.nodeStrength=30,t.preventOverlap=!1,t.preventNodeOverlap=!1,t.preventComboOverlap=!1,t.collideStrength=void 0,t.nodeCollideStrength=void 0,t.comboCollideStrength=void 0,t.optimizeRangeFactor=1,t.onTick=function(){},t.onLayoutEnd=function(){},t.depthAttractiveForceScale=.5,t.depthRepulsiveForceScale=2,t.nodes=[],t.edges=[],t.combos=[],t.comboTrees=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.oriComboMap={},t.nodeIdxMap={},t.comboMap={},t.previousLayouted=!1,t}return r.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.2,nodeStrength:30,linkDistance:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(t.comboTree={id:"comboTreeRoot",depth:-1,children:t.comboTrees},!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}t.initVals(),t.run(),t.onLayoutEnd()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var a=t.center,o=t.velocityDecay,s=t.comboMap;t.previousLayouted||t.initPos(s);for(var l=function(g){var C=[];e.forEach(function(F,G){C[G]={x:0,y:0}}),t.applyCalculate(C),t.applyComboCenterForce(C),e.forEach(function(F,G){!(0,f.isNumber)(F.x)||!(0,f.isNumber)(F.y)||(F.x+=C[G].x*o,F.y+=C[G].y*o)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},u=0;u<n;u++)l(u);var h=[0,0];e.forEach(function(v){!(0,f.isNumber)(v.x)||!(0,f.isNumber)(v.y)||(h[0]+=v.x,h[1]+=v.y)}),h[0]/=e.length,h[1]/=e.length;var c=[a[0]-h[0],a[1]-h[1]];e.forEach(function(v,g){!(0,f.isNumber)(v.x)||!(0,f.isNumber)(v.y)||(v.x+=c[0],v.y+=c[1])}),t.combos.forEach(function(v){var g=s[v.id];g&&g.empty&&(v.x=g.cx||v.x,v.y=g.cy||v.y)}),t.previousLayouted=!0},r.prototype.initVals=function(){var t=this,e=t.edges,n=t.nodes,a=t.combos,o={},s={},l={};n.forEach(function(Le,He){s[Le.id]=Le,l[Le.id]=He}),t.nodeMap=s,t.nodeIdxMap=l;var u={};a.forEach(function(Le){u[Le.id]=Le}),t.oriComboMap=u,t.comboMap=t.getComboMap();var h=t.preventOverlap;t.preventComboOverlap=t.preventComboOverlap||h,t.preventNodeOverlap=t.preventNodeOverlap||h;var c=t.collideStrength;c&&(t.comboCollideStrength=c,t.nodeCollideStrength=c);for(var v=0;v<e.length;++v)o[e[v].source]?o[e[v].source]++:o[e[v].source]=1,o[e[v].target]?o[e[v].target]++:o[e[v].target]=1;for(var g=[],v=0;v<e.length;++v)g[v]=o[e[v].source]/(o[e[v].source]+o[e[v].target]);this.bias=g;var C=t.nodeSize,F=t.nodeSpacing,G,V;if((0,f.isNumber)(F)?V=function(){return F}:(0,f.isFunction)(F)?V=F:V=function(){return 0},this.nodeSpacing=V,!C)G=function(He){if(He.size){if((0,f.isArray)(He.size)){var je=He.size[0]>He.size[1]?He.size[0]:He.size[1];return je/2}return He.size/2}return 10};else if((0,f.isFunction)(C))G=function(He){return C(He)};else if((0,f.isArray)(C)){var X=C[0]>C[1]?C[0]:C[1],at=X/2;G=function(He){return at}}else{var st=C/2;G=function(He){return st}}this.nodeSize=G;var xt=t.comboSpacing,kt;(0,f.isNumber)(xt)?kt=function(){return xt}:(0,f.isFunction)(xt)?kt=xt:kt=function(){return 0},this.comboSpacing=kt;var Gt=t.comboPadding,Wt;(0,f.isNumber)(Gt)?Wt=function(){return Gt}:(0,f.isArray)(Gt)?Wt=function(){return Math.max.apply(null,Gt)}:(0,f.isFunction)(Gt)?Wt=Gt:Wt=function(){return 0},this.comboPadding=Wt;var Yt=this.linkDistance,ie;Yt||(Yt=10),(0,f.isNumber)(Yt)?ie=function(He){return Yt}:ie=Yt,this.linkDistance=ie;var de=this.edgeStrength,he;de||(de=1),(0,f.isNumber)(de)?he=function(He){return de}:he=de,this.edgeStrength=he;var Ee=this.nodeStrength,Ie;Ee||(Ee=30),(0,f.isNumber)(Ee)?Ie=function(He){return Ee}:Ie=Ee,this.nodeStrength=Ie},r.prototype.initPos=function(t){var e=this,n=e.nodes;n.forEach(function(a,o){if(a.comboId){var s=t[a.comboId];a.x=s.cx+100/(o+1),a.y=s.cy+100/(o+1)}else a.x=100/(o+1),a.y=100/(o+1)})},r.prototype.getComboMap=function(){var t=this,e=t.nodeMap,n=t.nodeIdxMap,a=t.comboTrees,o=t.oriComboMap,s={};return(a||[]).forEach(function(l){var u=[];La(l,function(h){if(h.itemType==="node"||!o[h.id])return!0;if(s[h.id]===void 0){var c={name:h.id,cx:0,cy:0,count:0,depth:t.oriComboMap[h.id].depth,children:[]};s[h.id]=c}var v=h.children;v&&v.forEach(function(X){if(!s[X.id]&&!e[X.id])return!0;u.push(X)});var g=s[h.id];if(g.cx=0,g.cy=0,u.length===0){g.empty=!0;var C=o[h.id],F=Object.keys(e).length,G=h.id+"-visual-child-"+F,V={id:G,x:C.x,y:C.y,depth:g.depth+1,itemType:"node"};t.nodes.push(V),e[G]=V,n[G]=F,g.cx=C.x,g.cy=C.y,u.push(V)}return u.forEach(function(X){if(g.count++,X.itemType!=="node"){var at=s[X.id];(0,f.isNumber)(at.cx)&&(g.cx+=at.cx),(0,f.isNumber)(at.cy)&&(g.cy+=at.cy);return}var st=e[X.id];!st||((0,f.isNumber)(st.x)&&(g.cx+=st.x),(0,f.isNumber)(st.y)&&(g.cy+=st.y))}),g.cx/=g.count,g.cy/=g.count,g.children=u,!0})}),s},r.prototype.applyComboCenterForce=function(t){var e=this,n=e.gravity,a=e.comboGravity||n,o=this.alpha,s=e.comboTrees,l=e.nodeIdxMap,u=e.nodeMap,h=e.comboMap;(s||[]).forEach(function(c){La(c,function(v){if(v.itemType==="node")return!0;var g=h[v.id];if(!g)return!0;var C=h[v.id],F=(C.depth+1)*.5,G=C.cx,V=C.cy;return C.cx=0,C.cy=0,C.children.forEach(function(X){if(X.itemType!=="node"){var at=h[X.id];at&&(0,f.isNumber)(at.cx)&&(C.cx+=at.cx),at&&(0,f.isNumber)(at.cy)&&(C.cy+=at.cy);return}var st=u[X.id],xt=st.x-G||.005,kt=st.y-V||.005,Gt=Math.sqrt(xt*xt+kt*kt),Wt=l[st.id],Yt=a*o/Gt*F;t[Wt].x-=xt*Yt,t[Wt].y-=kt*Yt,(0,f.isNumber)(st.x)&&(C.cx+=st.x),(0,f.isNumber)(st.y)&&(C.cy+=st.y)}),C.cx/=C.count,C.cy/=C.count,!0})})},r.prototype.applyCalculate=function(t){var e=this,n=e.comboMap,a=e.nodes,o={};a.forEach(function(l,u){a.forEach(function(h,c){if(!(u<c)){var v=l.x-h.x||.005,g=l.y-h.y||.005,C=v*v+g*g,F=Math.sqrt(C);C<1&&(C=F),o[l.id+"-"+h.id]={vx:v,vy:g,vl2:C,vl:F},o[h.id+"-"+l.id]={vx:-v,vy:-g,vl2:C,vl:F}}})}),e.updateComboSizes(n),e.calRepulsive(t,o),e.calAttractive(t,o);var s=e.preventComboOverlap;s&&e.comboNonOverlapping(t,n)},r.prototype.updateComboSizes=function(t){var e=this,n=e.comboTrees,a=e.nodeMap,o=e.nodeSize,s=e.comboSpacing,l=e.comboPadding;(n||[]).forEach(function(u){var h=[];La(u,function(c){if(c.itemType==="node")return!0;var v=t[c.id];if(!!v){var g=c.children;g&&g.forEach(function(G){!t[G.id]&&!a[G.id]||h.push(G)}),v.minX=Infinity,v.minY=Infinity,v.maxX=-Infinity,v.maxY=-Infinity,h.forEach(function(G){if(G.itemType!=="node")return!0;var V=a[G.id];if(!V)return!0;var X=o(V),at=V.x-X,st=V.y-X,xt=V.x+X,kt=V.y+X;v.minX>at&&(v.minX=at),v.minY>st&&(v.minY=st),v.maxX<xt&&(v.maxX=xt),v.maxY<kt&&(v.maxY=kt)});var C=e.oriComboMap[c.id].size||ze.defaultCombo.size;(0,f.isArray)(C)&&(C=C[0]);var F=Math.max(v.maxX-v.minX,v.maxY-v.minY,C);return v.r=F/2+s(v)/2+l(v),!0}})})},r.prototype.comboNonOverlapping=function(t,e){var n=this,a=n.comboTree,o=n.comboCollideStrength,s=n.nodeIdxMap,l=n.nodeMap;La(a,function(u){if(!(!e[u.id]&&!l[u.id]&&u.id!=="comboTreeRoot")){var h=u.children;return h&&h.length>1&&h.forEach(function(c,v){if(c.itemType!=="node"){var g=e[c.id];!g||h.forEach(function(C,F){if(!(v<=F)&&C.itemType!=="node"){var G=e[C.id];if(!!G){var V=g.cx-G.cx||.005,X=g.cy-G.cy||.005,at=V*V+X*X,st=g.r,xt=G.r,kt=st+xt,Gt=xt*xt,Wt=st*st;if(at<kt*kt){var Yt=c.children;if(!Yt||Yt.length===0)return;var ie=C.children;if(!ie||ie.length===0)return;var de=Math.sqrt(at),he=(kt-de)/de*o,Ee=V*he,Ie=X*he,Le=Gt/(Wt+Gt),He=1-Le;Yt.forEach(function(je){if(je.itemType==="node"&&!!l[je.id]){var Ke=s[je.id];ie.forEach(function(Xe){if(Xe.itemType==="node"&&!!l[Xe.id]){var Ve=s[Xe.id];t[Ke].x+=Ee*Le,t[Ke].y+=Ie*Le,t[Ve].x-=Ee*He,t[Ve].y-=Ie*He}})}})}}}})}}),!0}})},r.prototype.calRepulsive=function(t,e){var n=this,a=n.nodes,o=n.width*n.optimizeRangeFactor,s=n.nodeStrength,l=n.alpha,u=n.nodeCollideStrength,h=n.preventNodeOverlap,c=n.nodeSize,v=n.nodeSpacing,g=n.depthRepulsiveForceScale,C=n.center;a.forEach(function(F,G){if(!(!F.x||!F.y)){if(C){var V=n.gravity,X=F.x-C[0]||.005,at=F.y-C[1]||.005,st=Math.sqrt(X*X+at*at);t[G].x-=X*V*l/st,t[G].y-=at*V*l/st}a.forEach(function(xt,kt){if(G!==kt&&!(!xt.x||!xt.y)){var Gt=e[F.id+"-"+xt.id],Wt=Gt.vl2,Yt=Gt.vl;if(!(Yt>o)){var ie=e[F.id+"-"+xt.id],de=ie.vx,he=ie.vy,Ee=Math.abs(xt.depth-F.depth)+1||1;xt.comboId!==F.comboId&&Ee++;var Ie=Ee?Math.pow(g,Ee):1,Le=s(xt)*l/Wt*Ie;if(t[G].x+=de*Le,t[G].y+=he*Le,G<kt&&h){var He=c(F)+v(F),je=c(xt)+v(xt),Ke=He+je;if(Wt<Ke*Ke){var Xe=(Ke-Yt)/Yt*u,Ve=je*je,pr=Ve/(He*He+Ve),vr=de*Xe,xr=he*Xe;t[G].x+=vr*pr,t[G].y+=xr*pr,pr=1-pr,t[kt].x-=vr*pr,t[kt].y-=xr*pr}}}}})}})},r.prototype.calAttractive=function(t,e){var n=this,a=n.edges,o=n.linkDistance,s=n.alpha,l=n.edgeStrength,u=n.bias,h=n.depthAttractiveForceScale;a.forEach(function(c,v){if(!(!c.source||!c.target||c.source===c.target)){var g=n.nodeIdxMap[c.source],C=n.nodeIdxMap[c.target],F=n.nodeMap[c.source],G=n.nodeMap[c.target],V=Math.abs(F.depth-G.depth);F.comboId===G.comboId&&(V=V/2);var X=V?Math.pow(h,V):1;if(F.comboId!==G.comboId&&X===1?X=h/2:F.comboId===G.comboId&&(X=2),!(!(0,f.isNumber)(G.x)||!(0,f.isNumber)(F.x)||!(0,f.isNumber)(G.y)||!(0,f.isNumber)(F.y))){var at=e[c.target+"-"+c.source],st=at.vl,xt=at.vx,kt=at.vy,Gt=(st-o(c))/st*s*l(c)*X,Wt=xt*Gt,Yt=kt*Gt,ie=u[v];t[C].x-=Wt*ie,t[C].y-=Yt*ie,t[g].x+=Wt*(1-ie),t[g].y+=Yt*(1-ie)}}})},r}(Ia),Z4=U4,K4={circular:nN,concentric:aN,dagre:lN,force:ZN,g6force:JN,comboForce:Z4,fruchterman:e4,grid:n4,mds:D4,radial:H4,random:j4};(0,Cn.default)(K4,function(i,r){$x.registerLayout(r,{},i)});var qs=$x,Mc=self;function $4(i){var r=i.data.type;return r===vo.RUN}function Q4(i){var r=i.data.type;switch(r){case vo.RUN:{var t=i.data,e=t.nodes,n=t.edges,a=t.layoutCfg,o=a===void 0?{}:a,s=o.type,l=qs[s];if(!l){Mc.postMessage({type:vo.ERROR,message:"layout "+s+" not found"});break}var u=new l(o);u.init({nodes:e,edges:n}),u.execute(),Mc.postMessage({type:vo.END,nodes:e}),u.destroy();break}default:break}}Mc.onmessage=function(i){$4(i)&&Q4(i)};var J4=null;function Vu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vu=function(t){return typeof t}:Vu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(i)}var q4=function(r){return setTimeout(r,16)},t6=function(r){return clearTimeout(r)},Hu={requestAnimationFrame:function(r){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||q4;return t(r)},cancelAnimationFrame:function(r){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||t6;return t(r)}},e6=function(){function i(r){this.graph=r,this.layoutCfg=r.get("layout")||{},this.layoutType=this.layoutCfg.type,this.worker=null,this.workerData={},this.initLayout()}return i.prototype.initLayout=function(){},i.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=new J4,this.worker)},i.prototype.stopWorker=function(){var r=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,r.requestId&&(Hu.cancelAnimationFrame(r.requestId),r.requestId=null),r.requestId2&&(Hu.cancelAnimationFrame(r.requestId2),r.requestId2=null))},i.prototype.getLayoutType=function(){return this.layoutCfg.type},i.prototype.layout=function(r){var t=this.graph;this.data=this.setDataFromGraph();var e=this.data.nodes;if(!e)return!1;var n=t.get("width"),a=t.get("height"),o={};Object.assign(o,{width:n,height:a,center:[n/2,a/2]},this.layoutCfg),this.layoutCfg=o;var s=!!this.layoutType,l=this.layoutMethod;l&&l.destroy(),t.emit("beforelayout");var u=this.initPositions(o.center,e);if(this.stopWorker(),o.workerEnabled&&this.layoutWithWorker(this.data,r))return!0;if(this.layoutType==="force"||this.layoutType==="g6force"){var h=o.onTick,c=function(){h&&h(),t.refreshPositions()};o.tick=c;var v=o.onLayoutEnd;o.onLayoutEnd=function(){v&&v(),t.emit("afterlayout")}}else this.layoutType==="comboForce"&&(o.comboTrees=t.get("comboTrees"));var g=!1;if(this.layoutType!==void 0){try{l=new qs[this.layoutType](o)}catch(V){return console.warn("The layout method: "+this.layoutType+" does not exist! Please specify it first."),!1}if(g=l.enableTick,g){var C=o.onTick,F=o.onLayoutEnd,c=function(){C&&C(),t.refreshPositions()};l.tick=c;var G=function(){F&&F(),t.emit("afterlayout")};l.onLayoutEnd=G}l.init(this.data),s&&l.execute(),this.layoutMethod=l}return(s||!u)&&this.layoutType!=="force"&&!g&&(t.emit("afterlayout"),this.refreshLayout()),!1},i.prototype.layoutWithWorker=function(r,t){var e=this,n=r.nodes,a=r.edges,o=this,s=o.layoutCfg,l=o.graph,u=this.getWorker(),h=this.workerData;if(!u)return!1;h.requestId=null,h.requestId2=null,h.currentTick=null,h.currentTickData=null;var c=n6(s,function(v){return typeof v!="function"});return u.postMessage({type:vo.RUN,nodes:n,edges:a,layoutCfg:c}),u.onmessage=function(v){e.handleWorkerMessage(v,r,t)},!0},i.prototype.handleWorkerMessage=function(r,t,e){var n=this,a=n.graph,o=n.workerData,s=n.layoutCfg,l=r.data,u=l.type,h=function(){s.onTick&&s.onTick()},c=function(){s.onLayoutEnd&&s.onLayoutEnd(),a.emit("afterlayout")};switch(u){case vo.TICK:o.currentTick=l.currentTick,o.currentTickData=l,o.requestId||(o.requestId=Hu.requestAnimationFrame(function(){Ec(t,l),a.refreshPositions(),h(),l.currentTick===1&&e&&e(),l.currentTick===l.totalTicks?c():o.currentTick===l.totalTicks&&(o.requestId2=Hu.requestAnimationFrame(function(){Ec(t,o.currentTickData),a.refreshPositions(),o.requestId2=null,h(),c()})),o.requestId=null}));break;case vo.END:o.currentTick==null&&(Ec(t,l),this.refreshLayout(),e&&e(),a.emit("afterlayout"));break;case vo.ERROR:break;default:break}},i.prototype.refreshLayout=function(){var r=this.graph;r.get("animate")?r.positionsAnimate():r.refreshPositions()},i.prototype.updateLayoutCfg=function(r){var t=this,e=t.graph,n=t.layoutMethod;if(this.layoutType=r.type,!n){console.warn("You did not assign any layout type and the graph has no previous layout method!");return}this.data=this.setDataFromGraph(),this.stopWorker(),!(r.workerEnabled&&this.layoutWithWorker(this.data,null))&&(n.init(this.data),n.updateCfg(r),e.emit("beforelayout"),n.execute(),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout())},i.prototype.changeLayout=function(r){var t=this,e=t.graph,n=t.layoutMethod;this.layoutType=r,this.layoutCfg=e.get("layout")||{},this.layoutCfg.type=r,n&&n.destroy(),this.layout()},i.prototype.changeData=function(){var r=this.layoutMethod;r&&r.destroy(),this.layout()},i.prototype.destroyLayout=function(){var r=this,t=r.layoutMethod,e=r.graph;t&&t.destroy(),e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},i.prototype.setDataFromGraph=function(){var r=[],t=[],e=[],n=this.graph.getNodes(),a=this.graph.getEdges(),o=this.graph.getCombos();n.forEach(function(l){if(!!l.isVisible()){var u=l.getModel();r.push(u)}}),a.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var u=l.getModel();u.isComboEdge||t.push(u)}}),o.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var u=l.getModel();e.push(u)}});var s={nodes:r,edges:t,combos:e};return s},i.prototype.relayout=function(r){var t=this,e=t.graph,n=t.layoutMethod,a=t.layoutCfg;if(r){this.data=this.setDataFromGraph();var o=this.data.nodes;if(!o)return!1;this.initPositions(a.center,o),n.init(this.data)}this.layoutType==="force"&&(n.ticking=!1,n.forceSimulation.stop()),e.emit("beforelayout"),n.execute(r),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout()},i.prototype.layoutAnimate=function(){},i.prototype.moveToZero=function(){var r=this.graph,t=r.get("data"),e=t.nodes;if(!(e[0].x===void 0||e[0].x===null||fo(e[0].x))){var n=[0,0];e.forEach(function(a){n[0]+=a.x,n[1]+=a.y}),n[0]/=e.length,n[1]/=e.length,e.forEach(function(a){a.x-=n[0],a.y-=n[1]})}},i.prototype.initPositions=function(r,t){var e=this.graph;if(!t)return!1;var n=!0,a=e.get("width")*.85,o=e.get("height")*.85,s=t.length,l=Math.ceil(Math.sqrt(s)*(a/o)),u=Math.ceil(s/l),h=a/(l-1),c=o/(u-1);(!isFinite(h)||!h)&&(h=0),(!isFinite(c)||!h)&&(c=0);var v=r[0]-a/2,g=r[1]-o/2;return t.forEach(function(C,F){fo(C.x)&&(n=!1,C.x=F%l*h+v),fo(C.y)&&(n=!1,C.y=Math.floor(F/l)*c+g)}),n},i.prototype.destroy=function(){var r=this.layoutMethod;this.graph=null,r&&r.destroy();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0},i}(),r6=e6;function Ec(i,r){var t=i.nodes,e=r.nodes;t.forEach(function(n,a){n.x=e[a].x,n.y=e[a].y})}function n6(i,r){var t={};return i&&Vu(i)==="object"?(Object.keys(i).forEach(function(e){i.hasOwnProperty(e)&&r(i[e])&&(t[e]=i[e])}),t):i}var jo=null,i6=function(){function i(r){this.graph=r,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return i.checkCache=function(r,t,e){if(!!e[t]){var n=e[t].indexOf(r);n>=0&&e[t].splice(n,1)}},i.cacheState=function(r,t,e){e[t]||(e[t]=[]),e[t].push(r)},i.prototype.updateState=function(r,t,e){var n=this,a=i.checkCache,o=i.cacheState;if(!r.destroyed){var s=this.cachedStates,l=s.enabled,u=s.disabled;e?(a(r,t,u),o(r,t,l)):(a(r,t,l),o(r,t,u)),jo&&clearTimeout(jo),jo=setTimeout(function(){jo=null,n.updateGraphStates()},16)}},i.prototype.updateStates=function(r,t,e){var n=this;(0,mn.default)(t)?this.updateState(r,t,e):t.forEach(function(a){n.updateState(r,a,e)})},i.prototype.updateGraphStates=function(){var r=this.graph.get("states"),t=this.cachedStates;(0,Cn.default)(t.disabled,function(e,n){r[n]&&(r[n]=r[n].filter(function(a){return e.indexOf(a)<0&&!e.destroyed}))}),(0,Cn.default)(t.enabled,function(e,n){if(!r[n])r[n]=e;else{var a={};r[n].forEach(function(o){o.destroyed||(a[o.get("id")]=!0)}),e.forEach(function(o){if(!o.destroyed){var s=o.get("id");a[s]||(a[s]=!0,r[n].push(o))}})}}),this.graph.emit("graphstatechange",{states:r}),this.cachedStates={enabled:{},disabled:{}}},i.prototype.destroy=function(){this.graph=null,this.cachedStates=null,jo&&clearTimeout(jo),jo=null,this.destroyed=!0},i}(),a6=i6,Ac=null,o6=function(){function i(r){this.graph=r;var t=r.get("groupStyle");this.styles=(0,Yi.default)({},i.getDefaultCfg(),t),this.customGroup={},this.delegateInGroup={},this.nodePoint=[],this.destroyed=!1}return i.getDefaultCfg=function(){return{default:{lineWidth:1,stroke:"#A3B1BF",strokeOpacity:.9,fill:"#F3F9FF",fillOpacity:.8,opacity:.8,disCoefficient:.6,minDis:30,maxDis:30},hover:{stroke:"#faad14",fill:"#ffe58f",fillOpacity:.3,opacity:.3,lineWidth:3},collapse:{r:30,width:80,height:40,stroke:"#A3B1BF",lineWidth:3,fill:"#F3F9FF",offsetX:-15,offsetY:5},icon:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg",operatorBtn:{collapse:{img:"https://gw.alipayobjects.com/zos/rmsportal/uZVdwjJGqDooqKLKtvGA.svg",width:16,height:16},expand:{width:16,height:16,img:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg"}},visible:!1}},i.prototype.create=function(r,t,e,n,a,o){e===void 0&&(e="circle"),n===void 0&&(n=0),a===void 0&&(a=!1),o===void 0&&(o={});var s=this.graph,l=s.get("customGroup"),u=l.get("children").map(function(xr){return xr.get("id")});if(u.indexOf(r)>-1){console.warn("\u5DF2\u7ECF\u5B58\u5728ID\u4E3A "+r+" \u7684\u5206\u7EC4\uFF0C\u8BF7\u91CD\u65B0\u8BBE\u7F6E\u5206\u7EC4ID\uFF01");return}var h=l.addGroup({id:r,zIndex:n}),c=this.styles.default,v=this.calculationGroupPosition(t),g=v.x,C=v.y,F=v.width,G=v.height,V=v.maxX,X=this.getGroupPadding(r),at=s.get("groupBBoxs");at[r]={x:g,y:C,width:F,height:G,maxX:V};var st=null;if(a){var xt=s.get("groups");t.forEach(function(xr){var Je=s.findById(xr),gr=Je.getModel();gr.groupId||(gr.groupId=r)}),xt.find(function(xr){return xr.id===r})||(xt.push({id:r,title:o}),s.set({groups:xt}))}var kt=s.get("groups").filter(function(xr){return xr.id===r});kt&&kt.length>0&&(st=kt[0].title);var Gt=0,Wt=0,Yt=null;if(e==="circle"){var ie=F>G?F/2:G/2,de=(F+2*g)/2,he=(G+2*C)/2,Ee=ie+X;Yt=h.addShape("circle",{attrs:te(te({},c),{x:de,y:he,r:Ee}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"circle-group-shape"}),Gt=de,Wt=he-Ee,this.setDeletageGroupByStyle(r,h,{width:F,height:G,x:de,y:he,r:Ee})}else{var Ie=X*c.disCoefficient;Yt=h.addShape("rect",{attrs:te(te({},c),{x:g-Ie,y:C-Ie,width:F+Ie*2,height:G+Ie*2}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"rect-group-shape"}),Gt=g-Ie+15,Wt=C-Ie+15,this.setDeletageGroupByStyle(r,h,{x:g-Ie,y:C-Ie,width:F+Ie,height:G+Ie,btnOffset:V-3})}if(st){var Le=st.offsetX,He=Le===void 0?0:Le,je=st.offsetY,Ke=je===void 0?0:je,Xe=st.text,Ve=Xe===void 0?st:Xe,pr=Zi(st,["offsetX","offsetY","text"]),vr=h.addShape("text",{attrs:te({text:Ve,stroke:"#444",x:Gt+He,y:Wt+Ke},pr),className:"group-title",name:"group-title-shape"});vr.set("capture",!1)}h.set("keyShape",Yt),s.get("groupNodes")[r]=t},i.prototype.setGroupStyle=function(r,t){if(!(!r||r.get("destroyed"))){var e={},n=this.styles,a=n.hover,o=n.default;(0,mn.default)(t)?t==="default"?e=(0,Yi.default)({},o):t==="hover"&&(e=(0,Yi.default)({},a)):e=(0,Yi.default)({},o,t),Object.keys(e).forEach(function(s){r.attr(s,e[s])})}},i.prototype.calculationGroupPosition=function(r,t){if(t===void 0&&(t={x:100,y:100}),r.length===0)return{x:t.x,y:t.y,width:100,height:100};var e=this.graph,n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;r.forEach(function(v){var g=(0,mn.default)(v)?e.findById(v):v,C=g.getBBox(),F=C.minX,G=C.minY,V=C.maxX,X=C.maxY;F<n&&(n=F),G<o&&(o=G),V>a&&(a=V),X>s&&(s=X)});var l=Math.floor(n),u=Math.floor(o),h=Math.ceil(a)-l,c=Math.ceil(s)-u;return{x:l,y:u,width:h,height:c,maxX:Math.ceil(a)}},i.prototype.flatToTree=function(r,t,e){t===void 0&&(t="id"),e===void 0&&(e="parentId");var n="children",a=[],o=[];return r.forEach(function(s){a[s[t]]=s}),r.forEach(function(s){var l=a[s[e]];l?(l[n]=l[n]||[],l[n].push(s)):o.push(s)}),o},i.prototype.getGroupPadding=function(r){var t=this.graph,e=this.styles.default,n=t.get("groups"),a=n.filter(function(h){return h.parentId===r}),o=1;a.length>0&&(Ac||(Ac=this.flatToTree(n)),$i(Ac[0],function(h){if(h.parentId===r&&h.children)return o+=h.children.length,!0}));var s=n.filter(function(h){return h.id===r&&!h.parentId});s.length>0&&(o+=1);var l=n.filter(function(h){return h.parentId===r}).length>0,u=l?e.maxDis+(o>1?o/2:1)*30:e.minDis;return u},i.prototype.setDeletageGroupByStyle=function(r,t,e){var n=e.width,a=e.height,o=e.x,s=e.y,l=e.r,u=e.btnOffset,h=this.customGroup[r];if(!h)this.customGroup[r]={nodeGroup:t,groupStyle:{width:n,height:a,x:o,y:s,r:l,btnOffset:u}};else{var c=h.groupStyle,v=(0,Yi.default)({},c,e);this.customGroup[r]={nodeGroup:t,groupStyle:v}}},i.prototype.getDeletageGroupById=function(r){return this.customGroup[r]},i.prototype.collapseExpandGroup=function(r){var t=this.getDeletageGroupById(r),e=t.nodeGroup,n=e.get("hasHidden");n?(e.set("hasHidden",!1),this.expandGroup(r)):(e.set("hasHidden",!0),this.collapseGroup(r))},i.prototype.setGroupTmpNode=function(r,t){var e=this.graph,n=e.get("groupNodes"),a=e.get("groups");n[r].indexOf(t)<0&&n[r].push(t);var o=a.filter(function(l){return l.id===r}),s=null;o.length>0&&(s=o[0].parentId),s&&this.setGroupTmpNode(s,t)},i.prototype.collapseGroup=function(r){var t=this,e=this.getDeletageGroupById(r),n=e.nodeGroup,a=this.styles.collapse,o=this.graph,s=o.get("groupType"),l=o.get("groupNodes")[r],u=n.get("keyShape"),h=a.r,c=a.width,v=a.height,g=a.offsetX,C=a.offsetY,F=Zi(a,["r","width","height","offsetX","offsetY"]);Object.keys(F).forEach(function(Gt){u.attr(Gt,F[Gt])});var G={groupId:r,id:r+"-custom-node",x:u.attr("x"),y:u.attr("y"),style:{r:h},type:"circle"},V=n.find(function(Gt){return Gt.get("className")==="group-title"});s==="circle"?(u.animate({r:h},{duration:500,easing:"easeCubic"}),V&&V.attr({x:u.attr("x")+g,y:u.attr("y")+C})):s==="rect"&&(u.animate({width:c,height:v},{duration:500,easing:"easeCubic"}),V&&V.attr({x:u.attr("x")+10,y:u.attr("y")+v/2+5}),G={groupId:r,id:r+"-custom-node",x:u.attr("x")+c/2,y:u.attr("y")+v/2,size:[c,v],type:"rect"});var X=o.getEdges(),at=X.filter(function(Gt){var Wt=Gt.getModel();return!l.includes(Wt.source)&&l.includes(Wt.target)}),st=X.filter(function(Gt){var Wt=Gt.getModel();return l.includes(Wt.source)&&!l.includes(Wt.target)}),xt=X.filter(function(Gt){var Wt=Gt.getModel();return l.includes(Wt.source)&&l.includes(Wt.target)});if(l.forEach(function(Gt){var Wt=o.findById(Gt),Yt=Wt.getModel(),ie=Yt.groupId;if(ie&&ie!==r){var de=t.getDeletageGroupById(ie),he=de.nodeGroup;he.hide()}Wt.hide()}),xt.forEach(function(Gt){var Wt=Gt.getSource(),Yt=Gt.getTarget();Wt.isVisible()&&Yt.isVisible()?Gt.show():Gt.hide()}),at.length>0||st.length>0){var kt=o.add("node",G);kt.set("capture",!1),kt.hide(),this.delegateInGroup[r]={delegateNode:kt},this.setGroupTmpNode(r,r+"-custom-node"),this.updateEdgeInGroupLinks(r,at,st)}},i.prototype.updateEdgeInGroupLinks=function(r,t,e){var n=this.graph,a={};t.map(function(s){var l=s.getModel(),u=s.get("id"),h=l.target;return a[u]=h,n.updateItem(s,{target:r+"-custom-node"}),!0});var o={};e.map(function(s){var l=s.getModel(),u=s.get("id"),h=l.source;return o[u]=h,n.updateItem(s,{source:r+"-custom-node"}),!0}),this.delegateInGroup[r]=(0,Yi.default)({sourceOutTargetInEdges:t,sourceInTargetOutEdges:e,edgesOuts:a,edgesIn:o},this.delegateInGroup[r])},i.prototype.expandGroup=function(r){var t=this,e=this.graph,n=e.get("groupType"),a=e.get("groupNodes")[r],o=a.filter(function(je){return je.indexOf("custom-node")===-1}),s=this.calculationGroupPosition(o),l=s.width,u=s.height,h=this.getDeletageGroupById(r).nodeGroup,c=h.get("keyShape"),v=this.styles,g=v.default,C=v.collapse;Object.keys(g).forEach(function(je){c.attr(je,g[je])});var F=h.find(function(je){return je.get("className")==="group-title"}),G=this.getGroupPadding(r);if(n==="circle"){var V=l>u?l/2:u/2;c.animate({r:V+G},{duration:500,easing:"easeCubic"})}else if(n==="rect"){var X=C.width,at=C.height;c.animate({width:X+l+G*g.disCoefficient*2,height:at+u+G*g.disCoefficient*2},{duration:500,easing:"easeCubic"})}if(F){var st=null,xt=e.get("groups").filter(function(je){return je.id===r});xt&&xt.length>0&&(st=xt[0].title);var kt=st.offsetX,Gt=kt===void 0?0:kt,Wt=st.offsetY,Yt=Wt===void 0?0:Wt;n==="circle"?F.animate({x:c.attr("x")+Gt,y:c.attr("y")-c.attr("r")+Yt},{duration:600,easing:"easeCubic"}):n==="rect"&&F.animate({x:c.attr("x")+(15+Gt),y:c.attr("y")+(15+Yt)},{duration:600,easing:"easeCubic"})}setTimeout(function(){a.forEach(function(Xe){var Ve=e.findById(Xe),pr=Ve.getModel(),vr=pr.groupId;if(vr&&vr!==r){var xr=t.getDeletageGroupById(vr),Je=xr.nodeGroup;Je.show();var gr=Je.get("hasHidden");gr||Ve.show()}else Ve.show()});var je=e.getEdges(),Ke=je.filter(function(Xe){var Ve=Xe.getModel();return a.includes(Ve.source)||a.includes(Ve.target)});Ke.forEach(function(Xe){var Ve=Xe.getSource(),pr=Xe.getTarget();Ve.isVisible()&&pr.isVisible()&&Xe.show()})},300);var ie=this.delegateInGroup[r];if(ie){var de=ie.sourceOutTargetInEdges,he=ie.sourceInTargetOutEdges,Ee=ie.edgesOuts,Ie=ie.edgesIn,Le=ie.delegateNode;de.map(function(je){var Ke=je.get("id"),Xe=Ee[Ke];return e.updateItem(je,{target:Xe}),!0}),he.map(function(je){var Ke=je.get("id"),Xe=Ie[Ke];return e.updateItem(je,{source:Xe}),!0});var He=Le.getModel();this.deleteTmpNode(r,He.id),e.remove(Le),delete this.delegateInGroup[r]}},i.prototype.deleteTmpNode=function(r,t){var e=this.graph,n=e.get("groups"),a=e.get("groupNodes")[r],o=a.indexOf(t);a.splice(o,1);var s=n.filter(function(u){return u.id===r}),l=null;s.length>0&&(l=s[0].parentId),l&&this.deleteTmpNode(l,t)},i.prototype.remove=function(r){var t=this.graph,e=this.getDeletageGroupById(r);if(!!e){var n=e.nodeGroup,a=t.get("groupNodes"),o=a[r];o.forEach(function(g){var C=t.findById(g),F=C.getModel(),G=F.groupId;!G||r===G&&(delete F.groupId,t.updateItem(C,F))}),n.destroy(),delete this.customGroup[r];var s=t.get("groups");if(s.length>0){var l=s.filter(function(g){return g.id!==r});t.set("groups",l)}for(var u=null,h=null,c=0;c<s.length;c++){var v=s[c];if(r===v.id){u=v.parentId,h=v;break}}h&&delete h.parentId,delete a[r],u&&(a[u]=a[u].filter(function(g){return!o.includes(g)}))}},i.prototype.updateGroup=function(r,t,e){var n=this.graph,a=n.get("groupType");this.updateItemInGroup(r,t,e);for(var o=n.save().groups,s=null,l=null,u=0;u<o.length;u++){var h=o[u];if(r===h.id){s=h.parentId,l=h;break}}if(s){var c=this.getDeletageGroupById(s).nodeGroup,v=c.get("keyShape");this.setGroupStyle(v,"default");var g=v.getBBox(),C=g.minX,F=g.minY,G=g.maxX,V=g.maxY,X=this.getDeletageGroupById(r).nodeGroup,at=X.get("keyShape"),st=at.getBBox(),xt=st.x,kt=st.y;if(!(xt<G&&xt>C&&kt<V&&kt>F)){delete l.parentId;var Gt=n.get("groupNodes"),Wt=Gt[r],Yt=Gt[s];Gt[s]=Yt.filter(function(mr){return Wt.indexOf(mr)===-1});var ie=this.calculationGroupPosition(Gt[s]),de=ie.x,he=ie.y,Ee=ie.width,Ie=ie.height,Le=this.getGroupPadding(s),He=c.find(function(mr){return mr.get("className")==="group-title"}),je=0,Ke=0;if(a==="circle"){var Xe=Ee>Ie?Ee/2:Ie/2,Ve=de,pr=he;v.attr({r:Xe+Le,x:Ve,y:pr}),je=Ve,Ke=pr-v.attr("r")}else if(a==="rect"){var vr=this.styles.default,xr=Le*vr.disCoefficient;v.attr({x:de-xr,y:he-xr}),je=de-xr+15,Ke=he-xr+15}if(He){var Je=l.title,gr=0,Or=0;Je&&(gr=Je.offsetX,Or=Je.offsetY),He.attr({x:je+gr,y:Ke+Or})}}}},i.prototype.updateItemInGroup=function(r,t,e){var n=this,a=this.graph,o=a.get("groupType"),s=a.get("groupNodes"),l=s[r],u=this.getDeletageGroupById(r).nodeGroup,h=u.getBBox(),c=[];l.forEach(function(v,g){var C=a.findById(v),F=C.getModel(),G=F.groupId;G&&!c.includes(G)&&c.push(G),n.nodePoint[g]||(n.nodePoint[g]={x:F.x,y:F.y});var V=t.x-h.x+n.nodePoint[g].x,X=t.y-h.y+n.nodePoint[g].y;n.nodePoint[g]={x:V,y:X},a.updateItem(C,{x:V,y:X})}),c.includes(r)||c.push(r),c.forEach(function(v){var g=n.getDeletageGroupById(v).nodeGroup,C=g.get("keyShape"),F=s[v].filter(function(Ie){return Ie.indexOf("custom-node")===-1}),G=n.calculationGroupPosition(F,t),V=G.x,X=G.y,at=G.width,st=G.height,xt=0,kt=0;if(o==="circle"){var Gt=(at+2*V)/2,Wt=(st+2*X)/2;C.attr({x:Gt,y:Wt}),xt=Gt,kt=Wt-C.attr("r")}else if(o==="rect"){var Yt=g.get("hasHidden"),ie=n.getGroupPadding(v),de={},he=n.styles.default,Ee=ie*he.disCoefficient;xt=V-Ee+15,kt=X-Ee+15,Yt?(de={x:V-Ee,y:X-Ee},kt=kt+10):de={x:V-Ee,y:X-Ee,width:at+Ee*2,height:st+Ee*2},C.attr(de)}n.updateGroupTitle(g,v,xt,kt)})},i.prototype.updateGroupTitle=function(r,t,e,n){var a=this.graph,o=r.find(function(c){return c.get("className")==="group-title"});if(o){var s=null,l=a.get("groups").filter(function(c){return c.id===t});l&&l.length>0&&(s=l[0].title);var u=0,h=0;s&&(u=s.offsetX||0,h=s.offsetY||0),o.attr({x:e+u,y:n+h})}},i.prototype.dynamicChangeGroupSize=function(r,t,e){var n=r.item,a=n.getModel(),o=a.groupId,s=this.graph,l=s.get("groupType"),u=s.get("groupNodes"),h=u[o];if(h.length===0){delete u[o];var c=s.get("groups");s.set("groups",c.filter(function(Yt){return Yt.id!==o})),t.remove()}else{var v=this.calculationGroupPosition(h),g=v.x,C=v.y,F=v.width,G=v.height,V=this.getGroupPadding(o),X=0,at=0;if(l==="circle"){var st=F>G?F/2:G/2,xt=(F+2*g)/2,kt=(G+2*C)/2;e.attr({r:st+V,x:xt,y:kt}),X=xt,at=kt-e.attr("r")}else if(l==="rect"){var Gt=this.styles.default,Wt=V*Gt.disCoefficient;e.attr({x:g-Wt,y:C-Wt,width:F+Wt*2,height:G+Wt*2}),X=g-Wt+15,at=C-Wt+15}this.updateGroupTitle(t,o,X,at)}this.setGroupStyle(e,"default")},i.prototype.resetNodePoint=function(){this.nodePoint.length=0},i.prototype.destroy=function(){this.graph=null,this.styles={},this.customGroup={},this.delegateInGroup={},this.resetNodePoint(),this.destroyed=!0},i}(),s6=o6,l6=function(r){var t={};return r.getNodes().forEach(function(e){t[e.getID()]={degree:0,inDegree:0,outDegree:0}}),r.getEdges().forEach(function(e){t[e.getSource().getID()].degree++,t[e.getSource().getID()].outDegree++,t[e.getTarget().getID()].degree++,t[e.getTarget().getID()].inDegree++}),t},C1=l6,u6=function(){function i(r){this.compare=r||i.defaultCompareFunction}return i.defaultCompareFunction=function(r,t){return r===t?0:r<t?-1:1},i.prototype.equal=function(r,t){return this.compare(r,t)===0},i.prototype.lessThan=function(r,t){return this.compare(r,t)<0},i.prototype.greaterThan=function(r,t){return this.compare(r,t)>0},i.prototype.lessThanOrEqual=function(r,t){return this.lessThan(r,t)||this.equal(r,t)},i.prototype.greaterThanOrEqual=function(r,t){return this.greaterThan(r,t)||this.equal(r,t)},i.prototype.reverse=function(){var r=this.compare;this.compare=function(t,e){return r(e,t)}},i}(),f6=u6,M1=function(){function i(r,t){t===void 0&&(t=null),this.value=r,this.next=t}return i.prototype.toString=function(r){return r?r(this.value):""+this.value},i}(),h6=function(){function i(r){r===void 0&&(r=null),this.head=null,this.tail=null,this.compare=new f6(r)}return i.prototype.prepend=function(r){var t=new M1(r,this.head);return this.head=t,this.tail||(this.tail=t),this},i.prototype.append=function(r){var t=new M1(r);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},i.prototype.delete=function(r){if(!this.head)return null;for(var t=null;this.head&&this.compare.equal(this.head.value,r);)t=this.head,this.head=this.head.next;var e=this.head;if(e!==null)for(;e.next;)this.compare.equal(e.next.value,r)?(t=e.next,e.next=e.next.next):e=e.next;return this.compare.equal(this.tail.value,r)&&(this.tail=e),t},i.prototype.find=function(r){var t=r.value,e=t===void 0?void 0:t,n=r.callback,a=n===void 0?void 0:n;if(!this.head)return null;for(var o=this.head;o;){if(a&&a(o.value)||e!==void 0&&this.compare.equal(o.value,e))return o;o=o.next}return null},i.prototype.deleteTail=function(){var r=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,r;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,r},i.prototype.deleteHead=function(){if(!this.head)return null;var r=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),r},i.prototype.fromArray=function(r){var t=this;return r.forEach(function(e){return t.append(e)}),this},i.prototype.toArray=function(){for(var r=[],t=this.head;t;)r.push(t),t=t.next;return r},i.prototype.reverse=function(){for(var r=this.head,t=null,e=null;r;)e=r.next,r.next=t,t=r,r=e;this.tail=this.head,this.head=t},i.prototype.toString=function(r){return r===void 0&&(r=void 0),this.toArray().map(function(t){return t.toString(r)}).toString()},i}(),E1=h6,c6=function(){function i(r){r===void 0&&(r=10),this.linkedList=new E1,this.maxStep=r}return Object.defineProperty(i.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},i.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},i.prototype.push=function(r){this.linkedList.prepend(r),this.length>this.maxStep&&this.linkedList.deleteTail()},i.prototype.pop=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toArray=function(){return this.linkedList.toArray().map(function(r){return r.value})},i.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},i}(),A1=c6,v6=function(r,t){var e=r.getNodes(),n=r.getEdges(),a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.getID()]=l;var u=[];a.push(u)}),n&&n.forEach(function(s){var l=s.getModel(),u=l.source,h=l.target,c=o[u],v=o[h];a[c][v]=1,t||(a[v][c]=1)}),a},Wu=v6,d6=function(r,t){var e=r.get("adjMatrix");e||(e=Wu(r,t));for(var n=[],a=e.length,o=0;o<a;o+=1){n[o]=[];for(var s=0;s<a;s+=1)o===s?n[o][s]=0:e[o][s]===0||!e[o][s]?n[o][s]=Infinity:n[o][s]=e[o][s]}for(var l=0;l<a;l+=1)for(var o=0;o<a;o+=1)for(var s=0;s<a;s+=1)n[o][s]>n[o][l]+n[l][s]&&(n[o][s]=n[o][l]+n[l][s]);return n},T1=d6,P1=function(r,t,e){return(r.y-e.y)*(t.x-e.x)-(r.x-e.x)*(t.y-e.y)},_1=function(r){var t=r.map(function(s){return{x:s.getModel().x,y:s.getModel().y}});t.sort(function(s,l){return s.x===l.x?s.y-l.y:s.x-l.x});for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&P1(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}for(var a=[],n=t.length-1;n>=0;n--){for(;a.length>=2&&P1(a[a.length-2],a[a.length-1],t[n])<=0;)a.pop();a.push(t[n])}a.pop(),e.pop();var o=e.concat(a);return o},p6={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function g6(i,r,t){var e=!1,n=function(l,u){return r.cells[l+u*r.width]},a=function(l,u){var h=0;return n(l-1,u-1)>=t&&(h+=1),n(l,u-1)>t&&(h+=2),n(l-1,u)>t&&(h+=4),n(l,u)>t&&(h+=8),h},o=function(l,u){for(var h=l,c=u,v,g,C=0;C<r.width*r.height;C++){if(v=h,g=c,i.findIndex(function(G){return G.x===h&&G.y===c})>-1){if(!(i[0].x!==h||i[0].y!==c))return!0}else i.push({x:h,y:c});var F=a(h,c);switch(F){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:h++;break;case 12:case 14:case 4:h--;break;case 6:v===0&&(g===-1?h-=1:h+=1);break;case 1:case 13:case 5:c--;break;case 9:v===1&&(g===0?c-=1:c+=1);break;case 10:case 8:case 11:c++;break;default:return console.warn("Marching squares invalid state: "+F),!0}}};this.march=function(){for(var s=0;s<r.width&&!e;s+=1)for(var l=0;l<r.height&&!e;l+=1)n(s,l)>t&&a(s,l)!==15&&(e=o(s,l));return e}}var y6=function(r,t,e){var n=Math.ceil(r/e),a=Math.ceil(t/e),o=new Float32Array(Math.max(0,n*a)).fill(0);return{cells:o,width:n,height:a}},m6=function(r,t,e){var n=null,a=Number.POSITIVE_INFINITY;return t.forEach(function(o){var s={x:r.getModel().x,y:r.getModel().y},l={x:o.getModel().x,y:o.getModel().y},u=wu(s,l),h=new Vo(s.x,s.y,l.x,l.y),c=e.reduce(function(v,g){return oc(g,h)>0?v+1:v},0);u*Math.pow(c+1,2)<a&&(n=o,a=u*Math.pow(c+1,2))}),n},L1=function(r,t){var e=Number.POSITIVE_INFINITY,n=null;return r.forEach(function(a){var o=oc(a,t);o>=0&&o<e&&(n=a,e=o)}),n},x6=function(r,t,e,n){var a=[],o=[];o.push(r);for(var s=!0,l=0,u=function(g,C){var F=!1;return C.forEach(function(G){F||(sc(g,{x:G.x1,y:G.y1})||sc(g,{x:G.x2,y:G.y2}))&&(F=!0)}),F},h=function(g,C){for(var F=0,G=C;F<G.length;F++){var V=G[F],X=V.getBBox(),at=[[X.x,X.y],[X.x+X.width,X.y],[X.x,X.y+X.height],[X.x+X.width,X.y+X.height]];if(Ws(at,g.x,g.y))return!0}return!1};s&&l<e;){s=!1;for(var c=function(){var g=o.pop(),C=L1(t,g);if(C){var F=vx(C,g),G=F[0],V=F[1];if(V===2){var X=function(st){for(var xt=n,kt=I1(C,xt,G,st),Gt=u(kt,o)||u(kt,a),Wt=h(kt,t);!Gt&&Wt&&xt>=1;)xt/=1.5,kt=I1(C,xt,G,st),Gt=u(kt,o)||u(kt,a),Wt=h(kt,t);kt&&!Gt&&(!st||!Wt)&&(o.push(new Vo(g.x1,g.y1,kt.x,kt.y)),o.push(new Vo(kt.x,kt.y,g.x2,g.y2)),s=!0)};X(!0),s||X(!1)}}s||a.push(g),l+=1};!s&&o.length;)c()}for(;o.length;)a.push(o.pop());return a};function b6(i,r,t,e,n){var a=m6(i,t,r);if(a===null)return[];var o=function(c){for(var v=[];c.length>0;){var g=c.pop();if(c.length===0){v.push(g);break}var C=c.pop(),F=new Vo(g.x1,g.y1,C.x2,C.y2),G=L1(r,F);G?(v.push(g),c.push(C)):c.push(F)}return v},s=new Vo(i.getModel().x,i.getModel().y,a.getModel().x,a.getModel().y),l=x6(s,r,e,n),u=o(l);return u}var w6=function(r,t,e){var n=Object.assign(p6,e),a=dx(r.map(function(X){return{x:X.getModel().x,y:X.getModel().y}}));r=r.sort(function(X,at){return wu({x:X.getModel().x,y:X.getModel().y},a)-wu({x:at.getModel().x,y:at.getModel().y},a)});var o=[],s=[];r.forEach(function(X){var at=b6(X,t,o,n.maxRoutingIterations,n.morphBuffer);at.forEach(function(st){s.push(st)}),o.push(X)});for(var l=S6(r,s,n.nodeR0),u=y6(l.width,l.height,n.pixelGroupSize),h=[],c=[],v=0;v<n.maxMarchingIterations;v++)if(C6(r,t,s,l,u,n),h=[],c=[],!!new g6(h,u,n.threshold).march()){var g=h.map(function(X){return{x:Math.round(X.x*n.pixelGroupSize+l.minX),y:Math.round(X.y*n.pixelGroupSize+l.minY)}});if(g){var C=g.length;if(n.skip>1)for(C=Math.floor(g.length/n.skip);C<3&&n.skip>1;)n.skip-=1,C=Math.floor(g.length/n.skip);for(var F=0,G=0;G<C;G+=1,F+=n.skip)c.push({x:g[F].x,y:g[F].y})}var V=function(){for(var at=0,st=r;at<st.length;at++){var xt=st[at],kt=c.map(function(Gt){return[Gt.x,Gt.y]});if(!Ws(kt,xt.getBBox().centerX,xt.getBBox().centerY))return!1}return!0};if(c&&V())return c;if(n.threshold*=.9,v<=n.maxMarchingIterations*.5)n.memberInfluenceFactor*=1.2,n.edgeInfluenceFactor*=1.2;else if(n.nonMemberInfluenceFactor!==0&&t.length>0)n.nonMemberInfluenceFactor*=.8;else break}return c};function S6(i,r,t){var e={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},n=[];i.forEach(function(l){n.push(l.getBBox())}),r.forEach(function(l){n.push(l.getBBox())});for(var a=0,o=n;a<o.length;a++){var s=o[a];e.minX=(s.minX<e.minX?s.minX:e.minX)-t,e.minY=(s.minY<e.minY?s.minY:e.minY)-t,e.maxX=(s.maxX>e.maxX?s.maxX:e.maxX)+t,e.maxY=(s.maxY>e.maxY?s.maxY:e.maxY)+t}return e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.x=e.minX,e.y=e.minY,e}function C6(i,r,t,e,n,a){function o(g,C){var F=Math.floor((g-C)/a.pixelGroupSize);return F<0?0:F}function s(g,C){return g*a.pixelGroupSize+C}var l=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),u=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1),h=function(C,F){var G=Math.min(o(C.minX,F+e.minX),n.width),V=Math.min(o(C.minY,F+e.minY),n.height),X=Math.min(o(C.maxX,-F+e.minX),n.width),at=Math.min(o(C.maxY,-F+e.minY),n.height);return[G,V,X,at]},c=function(C,F){for(var G=C.getBBox(),V=h(G,a.nodeR1),X=V[0],at=V[1],st=V[2],xt=V[3],kt=at;kt<xt;kt+=1)for(var Gt=X;Gt<st;Gt+=1)if(!(F<0&&n[Gt+kt*n.width]<=0)){var Wt=s(Gt,e.minX),Yt=s(kt,e.minY),ie=gx({x:Wt,y:Yt},{x:G.minX,y:G.minY,width:G.width,height:G.height});if(ie<Math.pow(a.nodeR1,2)){var de=Math.sqrt(ie)-a.nodeR1;n.cells[Gt+kt*n.width]+=F*de*de}}},v=function(C,F){for(var G=C.getBBox(),V=h(G,a.edgeR1),X=V[0],at=V[1],st=V[2],xt=V[3],kt=at;kt<xt;kt+=1)for(var Gt=X;Gt<st;Gt+=1)if(!(F<0&&n.cells[Gt+kt*n.width]<=0)){var Wt=s(Gt,e.minX),Yt=s(kt,e.minY),ie=px({x:Wt,y:Yt},C);if(ie<Math.pow(a.edgeR1,2)){var de=Math.sqrt(ie)-a.edgeR1;n.cells[Gt+kt*n.width]+=F*de*de}}};a.nodeInfluenceFactor&&i.forEach(function(g){c(g,a.nodeInfluenceFactor/l)}),a.edgeInfluenceFactor&&t.forEach(function(g){v(g,a.edgeInfluenceFactor/u)}),a.negativeNodeInfluenceFactor&&r.forEach(function(g){c(g,a.negativeNodeInfluenceFactor/l)})}function I1(i,r,t,e){var n=i.getBBox(),a=t[0],o=t[1],s=t[2],l=t[3],u={topLeft:{x:n.minX-r,y:n.minY-r},topRight:{x:n.maxX+r,y:n.minY-r},bottomLeft:{x:n.minX-r,y:n.maxY+r},bottomRight:{x:n.maxX+r,y:n.maxY+r}},h=n.height*n.width;function c(C,F){return n.width*((C.y-n.minY+(F.y-n.minY))*.5)}if(o){if(a)return e?u.topLeft:u.bottomRight;if(s)return e?u.bottomLeft:u.topRight;var v=c(o,l);return v<h*.5?o.y>l.y?e?u.topLeft:u.bottomRight:e?u.topRight:u.bottomLeft:o.y<l.y?e?u.bottomLeft:u.topRight:e?u.bottomRight:u.topLeft}if(l){if(a)return e?u.topRight:u.bottomLeft;if(s)return e?u.bottomRight:u.topLeft}var g=c(a,s);return g<h*.5?a.x>s.x?e?u.topLeft:u.bottomRight:e?u.bottomLeft:u.topRight:a.x<s.x?e?u.topRight:u.bottomLeft:e?u.bottomRight:u.topLeft}var M6=function(){function i(r,t){this.cfg=(0,f.deepMix)(this.getDefaultCfg(),t),this.graph=r,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(e){return(0,f.isString)(e)?r.findById(e):e}),this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,f.isString)(e)?r.findById(e):e}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return i.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},i.prototype.setPadding=function(){var r=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+r:10+r,this.cfg.bubbleCfg={nodeR0:this.padding-r,nodeR1:this.padding-r,morphBuffer:this.padding-r}},i.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},i.prototype.calcPath=function(r,t){var e,n,a;switch(this.type){case"round-convex":e=_1(r),a=Sx(e.map(function(o){return[o.x,o.y]}),this.padding),n=(0,pl.parsePathString)(a);break;case"smooth-convex":e=_1(r),a=Cx(e.map(function(o){return[o.x,o.y]}),this.padding),n=e.length>=2&&lc(a);break;case"bubble":e=w6(r,t,this.cfg.bubbleCfg),n=e.length>=2&&lc(e);break;default:}return n},i.prototype.render=function(){this.group.addShape("path",{attrs:te({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},i.prototype.addMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r)),this.members.push(r);var t=this.nonMembers.indexOf(r);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.addNonMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r)),this.nonMembers.push(r);var t=this.members.indexOf(r);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.removeMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r));var t=this.members.indexOf(r);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.removeNonMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r));var t=this.nonMembers.indexOf(r);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.updateData=function(r,t){var e=this;this.group.findById(this.id).remove(),r&&(this.members=r.map(function(n){return(0,f.isString)(n)?e.graph.findById(n):n})),t&&(this.nonMembers=t.map(function(n){return(0,f.isString)(n)?e.graph.findById(n):n})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.updateStyle=function(r){var t=this.group.findById(this.id);t.attr(te({},r))},i.prototype.updateCfg=function(r){var t=this;this.cfg=(0,f.deepMix)(this.cfg,r),this.id=this.cfg.id,this.group=this.cfg.group,r.members&&(this.members=this.cfg.members.map(function(e){return(0,f.isString)(e)?t.graph.findById(e):e})),r.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,f.isString)(e)?t.graph.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.contain=function(r){var t=this,e;(0,f.isString)(r)?e=this.graph.findById(r):e=r;var n,a=e.getKeyShape();if(e.get("type")==="path")n=Cu(a.attr("path"));else{var o=a.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map(function(s){var l=t.graph.getPointByCanvas(s[0],s[1]);return[l.x,l.y]}),ic(n,Cu(this.path))},i.prototype.destroy=function(){this.group.remove(),this.cfg=null},i}(),E6=M6,A6="node",T6="svg",P6=function(i){Bn(r,i);function r(t){var e=i.call(this)||this;return e.cfg=(0,f.deepMix)(e.getDefaultCfg(),t),e.init(),e.animating=!1,e.destroyed=!1,e.cfg.enabledStack&&(e.undoStack=new A1(e.cfg.maxStep),e.redoStack=new A1(e.cfg.maxStep)),e}return r.prototype.init=function(){this.initCanvas();var t=new L3(this),e=new P3(this),n=new A3(this),a=new J3(this),o=new r6(this),s=new a6(this),l=new s6(this);this.set({eventController:t,viewController:e,modeController:n,itemController:a,layoutController:o,stateController:s,customGroupControll:l}),this.initPlugin()},r.prototype.initCanvas=function(){var t=this.get("container");if((0,f.isString)(t)&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e=this.get("width"),n=this.get("height"),a=this.get("renderer"),o;if(a===T6)o=new js.Z({container:t,width:e,height:n});else{var s={container:t,width:e,height:n},l=this.get("pixelRatio");l&&(s.pixelRatio=l),o=new Ho.Z(s)}this.set("canvas",o),this.initGroups()},r.prototype.initPlugin=function(){var t=this;(0,f.each)(t.get("plugins"),function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)})},r.prototype.initGroups=function(){var t=this.get("canvas"),e=this.get("canvas").get("el"),n=e.id,a=t.addGroup({id:n+"-root",className:ze.rootContainerClassName});if(this.get("groupByTypes")){var o=a.addGroup({id:n+"-edge",className:ze.edgeContainerClassName}),s=a.addGroup({id:n+"-node",className:ze.nodeContainerClassName}),l=a.addGroup({id:n+"-combo",className:ze.comboContainerClassName}),u=a.addGroup({id:n+"-group",className:ze.customGroupContainerClassName});u.toBack(),l.toBack(),this.set({nodeGroup:s,edgeGroup:o,customGroup:u,comboGroup:l})}var h=a.addGroup({id:n+"-delegate",className:ze.delegateContainerClassName});this.set({delegateGroup:h}),this.set("group",a)},r.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,groupType:"circle",groupBBoxs:{},groupNodes:{},groups:[],groupStyle:{},enabledStack:!1,maxStep:10,tooltips:[]}},r.prototype.set=function(t,e){return(0,f.isPlainObject)(t)?this.cfg=te(te({},this.cfg),t):this.cfg[t]=e,this},r.prototype.get=function(t){return this.cfg[t]},r.prototype.getGroup=function(){return this.get("group")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.getMinZoom=function(){return this.get("minZoom")},r.prototype.setMinZoom=function(t){return this.set("minZoom",t)},r.prototype.getMaxZoom=function(){return this.get("maxZoom")},r.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},r.prototype.getWidth=function(){return this.get("width")},r.prototype.getHeight=function(){return this.get("height")},r.prototype.clearItemStates=function(t,e){(0,f.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");e||(e=t.get("states")),n.clearItemStates(t,e);var a=this.get("stateController");a.updateStates(t,e,!1)},r.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},r.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},r.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},r.prototype.findById=function(t){return this.get("itemMap")[t]},r.prototype.find=function(t,e){var n,a=this.get(t+"s");return(0,f.each)(a,function(o,s){if(e(o,s))return n=o,n}),n},r.prototype.findAll=function(t,e){var n=[];return(0,f.each)(this.get(t+"s"),function(a,o){e(a,o)&&n.push(a)}),n},r.prototype.findAllByState=function(t,e){return this.findAll(t,function(n){return n.hasState(e)})},r.prototype.translate=function(t,e){var n=this.get("group"),a=(0,f.clone)(n.getMatrix());a||(a=[1,0,0,0,1,0,0,0,1]),Na.wO.translate(a,a,[t,e]),n.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:n.getMatrix()}),this.autoPaint()},r.prototype.moveTo=function(t,e){var n=this.get("group");hx(n,{x:t,y:e}),this.emit("viewportchange",{action:"move",matrix:n.getMatrix()})},r.prototype.fitView=function(t){t&&this.set("fitViewPadding",t);var e=this.get("viewController");e.fitView(),this.autoPaint()},r.prototype.fitCenter=function(){var t=this.get("viewController");t.fitCenter(),this.autoPaint()},r.prototype.addBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!0),this},r.prototype.removeBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!1),this},r.prototype.zoom=function(t,e){var n=this.get("group"),a=(0,f.clone)(n.getMatrix()),o=this.get("minZoom"),s=this.get("maxZoom");a||(a=[1,0,0,0,1,0,0,0,1]),e?(Na.wO.translate(a,a,[-e.x,-e.y]),Na.wO.scale(a,a,[t,t]),Na.wO.translate(a,a,[e.x,e.y])):Na.wO.scale(a,a,[t,t]),!(o&&a[0]<o||s&&a[0]>s)&&(n.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint())},r.prototype.zoomTo=function(t,e){var n=t/this.getZoom();this.zoom(n,e)},r.prototype.focusItem=function(t,e,n){var a=this.get("viewController"),o=!1;e?o=!0:e===void 0&&(o=this.get("animate"));var s={};n?s=n:n===void 0&&(s=this.get("animateCfg")),a.focus(t,o,s),this.autoPaint()},r.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},r.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},r.prototype.getPointByClient=function(t,e){var n=this.get("viewController");return n.getPointByClient(t,e)},r.prototype.getClientByPoint=function(t,e){var n=this.get("viewController");return n.getClientByPoint(t,e)},r.prototype.getPointByCanvas=function(t,e){var n=this.get("viewController");return n.getPointByCanvas(t,e)},r.prototype.getCanvasByPoint=function(t,e){var n=this.get("viewController");return n.getCanvasByPoint(t,e)},r.prototype.showItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!1}],u.nodes=[{id:o,visible:!0}];break;case"edge":l.nodes=[{id:o,visible:!1}],u.edges=[{id:o,visible:!0}];break;case"combo":l.nodes=[{id:o,visible:!1}],u.combos=[{id:o,visible:!0}];break;default:break}this.pushStack("visible",{before:l,after:u})}},r.prototype.hideItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!0}],u.nodes=[{id:o,visible:!1}];break;case"edge":l.nodes=[{id:o,visible:!0}],u.edges=[{id:o,visible:!1}];break;case"combo":l.nodes=[{id:o,visible:!0}],u.combos=[{id:o,visible:!1}];break;default:break}this.pushStack("visible",{before:l,after:u})}},r.prototype.refreshItem=function(t){var e=this.get("itemController");e.refreshItem(t)},r.prototype.setAutoPaint=function(t){var e=this;e.set("autoPaint",t);var n=e.get("canvas");n.set("autoDraw",t)},r.prototype.remove=function(t,e){e===void 0&&(e=!0),this.removeItem(t,e)},r.prototype.removeItem=function(t,e){e===void 0&&(e=!0);var n=t;if((0,f.isString)(t)&&(n=this.findById(t)),!n&&(0,f.isString)(t)){console.warn("The item to be removed does not exist!");var a=this.get("customGroupControll");a.remove(t)}else if(n){var o="";if(n.getType&&(o=n.getType()),e&&this.get("enabledStack")){var s=te(te({},n.getModel()),{itemType:o}),l={};switch(o){case"node":{l.nodes=[s],l.edges=[];for(var u=n.getEdges(),h=u.length-1;h>=0;h--)l.edges.push(te(te({},u[h].getModel()),{itemType:"edge"}));break}case"edge":l.edges=[s];break;case"combo":l.combos=[s];break;default:break}this.pushStack("delete",{before:l,after:{}})}var c=this.get("itemController");if(c.removeItem(t),o==="combo"){var v=cc(this.get("comboTrees"));this.set("comboTrees",v)}}},r.prototype.addItem=function(t,e,n,a){n===void 0&&(n=!0),a===void 0&&(a=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!a);var s=this.get("itemController");if(t==="group"){var l=e.groupId,u=e.nodes,h=e.type,c=e.zIndex,v=e.title,g=v;return(0,f.isString)(v)&&(g={text:v}),this.get("customGroupControll").create(l,u,h,c,!0,g)}if(e.id&&this.findById(e.id)){console.warn("This item exists already. Be sure the id %c"+e.id+"%c is unique.","font-size: 20px; color: red;","");return}var C,F=this.get("comboTrees");if(F||(F=[]),t==="combo"){var G=this.get("itemMap"),V=!1;if(F.forEach(function(ie){V||La(ie,function(de){if(e.parentId===de.id){V=!0;var he=te({id:e.id,depth:de.depth+2},e);de.children?de.children.push(he):de.children=[he],e.depth=he.depth,C=s.addItem(t,e)}var Ee=G[de.id];return V&&Ee&&Ee.getType&&Ee.getType()==="combo"&&s.updateCombo(Ee,de.children),!0})}),!V){var X=te({id:e.id,depth:0},e);e.depth=X.depth,F.push(X),C=s.addItem(t,e)}this.set("comboTrees",F)}else if(t==="node"&&(0,f.isString)(e.comboId)&&F){var at=this.findById(e.comboId);if(at&&at.getType&&at.getType()!=="combo"){console.warn("'"+e.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");return}C=s.addItem(t,e);var st=this.get("itemMap"),xt=!1,kt=!1;(F||[]).forEach(function(ie){kt||xt||La(ie,function(de){if(de.id===e.id)return kt=!0,!1;if(e.comboId===de.id&&!kt){xt=!0;var he=(0,f.clone)(e);he.itemType="node",de.children?de.children.push(he):de.children=[he],e.depth=de.depth+1}return xt&&st[de.id].getType&&st[de.id].getType()==="combo"&&s.updateCombo(st[de.id],de.children),!0})})}else C=s.addItem(t,e);if(t==="node"&&e.comboId||t==="combo"&&e.parentId){var at=this.findById(e.comboId||e.parentId);at&&at.addChild(C)}var Gt=this.get("combos");if(Gt&&Gt.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var Wt=te(te({},C.getModel()),{itemType:t}),Yt={};switch(t){case"node":Yt.nodes=[Wt];break;case"edge":Yt.edges=[Wt];break;case"combo":Yt.combos=[Wt];break;default:break}this.pushStack("add",{before:{},after:Yt})}return C},r.prototype.add=function(t,e,n,a){return n===void 0&&(n=!0),a===void 0&&(a=!0),this.addItem(t,e,n,a)},r.prototype.updateItem=function(t,e,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController"),s;(0,f.isString)(t)?s=this.findById(t):s=t;var l=(0,f.clone)(s.getModel()),u="";s.getType&&(u=s.getType());var h=zs(s.getStates());if(u==="combo"&&(0,f.each)(h,function(C){return a.setItemState(s,C,!1)}),o.updateItem(s,e),u==="combo"&&(0,f.each)(h,function(C){return a.setItemState(s,C,!0)}),n&&this.get("enabledStack")){var c={nodes:[],edges:[],combos:[]},v={nodes:[],edges:[],combos:[]},g=te({id:l.id},e);switch(u){case"node":c.nodes.push(l),v.nodes.push(g);break;case"edge":c.edges.push(l),v.edges.push(g);break;case"combo":c.combos.push(l),v.combos.push(g);break;default:break}u==="node"&&c.nodes.push(l),this.pushStack("update",{before:c,after:v})}},r.prototype.update=function(t,e,n){n===void 0&&(n=!0),this.updateItem(t,e,n)},r.prototype.setItemState=function(t,e,n){(0,f.isString)(t)&&(t=this.findById(t));var a=this.get("itemController");a.setItemState(t,e,n);var o=this.get("stateController");(0,f.isString)(n)?o.updateState(t,e+":"+n,!0):o.updateState(t,e,n)},r.prototype.priorityState=function(t,e){var n=this.get("itemController");n.priorityState(t,e)},r.prototype.data=function(t){this.set("data",t)},r.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o,l=e.combos,u=l===void 0?[]:l;if(this.clear(),this.emit("beforerender"),(0,f.each)(a,function(X){t.add("node",X,!1,!1)}),u&&u.length!==0){var h=hc(u,a);this.set("comboTrees",h),t.addCombos(u)}(0,f.each)(s,function(X){t.add("edge",X,!1,!1)});var c=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var v=t.get("layoutController");v.layout(g)||g();function g(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",c)}if(!this.get("groupByTypes"))if(u&&u.length!==0)this.sortCombos();else if(e.nodes&&e.edges&&e.nodes.length<e.edges.length){var C=this.getNodes();C.forEach(function(X){X.toFront()})}else{var F=this.getEdges();F.forEach(function(X){X.toBack()})}if(e.nodes){var G=e.nodes.filter(function(X){return X.groupId});if(G.length>0){var V=t.get("groupType");this.renderCustomGroup(e,V)}}this.get("enabledStack")&&this.pushStack("render")},r.prototype.read=function(t){this.data(t),this.render()},r.prototype.diffItems=function(t,e,n){var a=this,o,s=this.get("itemMap");(0,f.each)(n,function(l){if(o=s[l.id],o){if(a.get("animate")&&t===A6){var u=o.getContainer().getMatrix();u||(u=[1,0,0,0,1,0,0,0,1]),o.set("originAttrs",{x:u[6],y:u[7]})}a.updateItem(o,l,!1)}else o=a.addItem(t,l,!1);e[t+"s"].push(o)})},r.prototype.changeData=function(t,e){e===void 0&&(e=!0);var n=this;if(!t)return this;e&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:t}),this.set("comboSorted",!1),this.getNodes().map(function(F){return n.clearItemStates(F)}),this.getEdges().map(function(F){return n.clearItemStates(F)});var a=this.get("canvas"),o=a.get("localRefresh");a.set("localRefresh",!1),n.get("data")||(n.data(t),n.render());var s=this.get("itemMap"),l={nodes:[],edges:[]},u=t.combos;if(u){var h=hc(u,t.nodes);this.set("comboTrees",h)}this.diffItems("node",l,t.nodes),(0,f.each)(s,function(F,G){s[G].getModel().depth=0,!(F.getType&&F.getType()==="edge")&&(F.getType&&F.getType()==="combo"?(delete s[G],F.destroy()):l.nodes.indexOf(F)<0&&(delete s[G],n.remove(F,!1)))});for(var c=this.getCombos(),v=c.length,g=v-1;g>=0;g--)c[g].destroyed&&c.splice(g,1);u&&(n.addCombos(u),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",l,t.edges),(0,f.each)(s,function(F,G){F.getType&&(F.getType()==="node"||F.getType()==="combo")||l.edges.indexOf(F)<0&&(delete s[G],n.remove(F,!1))}),this.set({nodes:l.nodes,edges:l.edges});var C=this.get("layoutController");return C.changeData(),n.get("animate")&&!C.getLayoutType()?n.positionsAnimate():n.autoPaint(),setTimeout(function(){a.set("localRefresh",o)},16),this},r.prototype.addCombos=function(t){var e=this,n=e.get("comboTrees"),a=this.get("itemController");a.addCombos(n,t)},r.prototype.createCombo=function(t,e){var n=this;this.set("comboSorted",!1);var a="",o;if(!!t){if((0,f.isString)(t))a=t,o={id:t};else{if(a=t.id,!a){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}o=t}var s=e.map(function(u){var h=n.findById(u),c="";h.getType&&(c=h.getType());var v={id:h.getID(),itemType:c};return c==="combo"?v.parentId=a:c==="node"&&(v.comboId=a),v});o.children=s,this.addItem("combo",o,!1),this.set("comboSorted",!1);var l=this.get("comboTrees");(l||[]).forEach(function(u){La(u,function(h){return h.id===a?(h.itemType="combo",h.children=s,!1):!0})}),l&&this.sortCombos()}},r.prototype.uncombo=function(t){var e=this,n,a=this,o=t;if((0,f.isString)(t)&&(o=this.findById(t)),!o||o.getType&&o.getType()!=="combo"){console.warn("The item is not a combo!");return}var s=o.getModel().parentId,l=a.get("comboTrees");l||(l=[]);var u=this.get("itemMap"),h=o.get("id"),c,v=[],g=this.get("combos"),C=this.findById(s);if(l.forEach(function(G){c||La(G,function(V){var X;if(V.id===h){c=V;var at=o.getEdges();at.forEach(function(xt){e.removeItem(xt,!1)});var st=g.indexOf(t);g.splice(st,1),delete u[h],o.destroy()}if(s&&c&&V.id===s){C.removeCombo(o),v=V.children;var st=v.indexOf(c);return st!==-1&&v.splice(st,1),(X=c.children)===null||X===void 0||X.forEach(function(kt){var Gt=e.findById(kt.id),Wt=Gt.getModel();Gt.getType&&Gt.getType()==="combo"?(kt.parentId=s,delete kt.comboId,Wt.parentId=s,delete Wt.comboId):Gt.getType&&Gt.getType()==="node"&&(kt.comboId=s,Wt.comboId=s),C.addChild(Gt),v.push(kt)}),!1}return!0})}),!s&&c){var F=l.indexOf(c);l.splice(F,1),(n=c.children)===null||n===void 0||n.forEach(function(G){G.parentId=void 0;var V=e.findById(G.id).getModel();V.parentId=void 0,G.itemType!=="node"&&l.push(G)})}},r.prototype.updateCombos=function(){var t=this,e=this,n=this.get("comboTrees"),a=e.get("itemController"),o=e.get("itemMap");(n||[]).forEach(function(s){La(s,function(l){if(!l)return!0;var u=o[l.id];if(u&&u.getType&&u.getType()==="combo"){var h=zs(u.getStates());(0,f.each)(h,function(c){return t.setItemState(u,c,!1)}),a.updateCombo(u,l.children),(0,f.each)(h,function(c){return t.setItemState(u,c,!0)})}return!0})}),e.sortCombos()},r.prototype.updateCombo=function(t){var e=this,n=this,a=t,o;if((0,f.isString)(t)&&(a=this.findById(t)),!a||a.getType&&a.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}o=a.get("id");var s=this.get("comboTrees"),l=n.get("itemController"),u=n.get("itemMap");(s||[]).forEach(function(h){La(h,function(c){if(!c)return!0;var v=u[c.id];if(o===c.id&&v&&v.getType&&v.getType()==="combo"){var g=zs(v.getStates());(0,f.each)(g,function(C){v.getStateStyle(C)&&e.setItemState(v,C,!1)}),l.updateCombo(v,c.children),(0,f.each)(g,function(C){v.getStateStyle(C)&&e.setItemState(v,C,!0)}),o&&(o=c.parentId)}return!0})})},r.prototype.updateComboTree=function(t,e){var n=this;this.set("comboSorted",!1);var a;(0,f.isString)(t)?a=n.findById(t):a=t;var o=a.getModel(),s=o.comboId||o.parentId;if(e&&a.getType&&a.getType()==="combo"){var l=this.get("comboTrees"),u=!0,h;if((l||[]).forEach(function(F){h||$i(F,function(G){if(!h)return G.id===a.getID()&&(h=G),!0})}),$i(h,function(F){return F.id===e?(u=!1,!1):!0}),!u){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(o.parentId||o.comboId){var c=this.findById(o.parentId||o.comboId);c&&c.removeChild(a)}var v="";if(a.getType&&(v=a.getType()),v==="combo"?o.parentId=e:v==="node"&&(o.comboId=e),e){var g=this.findById(e);g&&g.addChild(a)}if(s){var g=this.findById(s);g&&g.removeChild(a)}var C=cc(this.get("comboTrees"),o.id,e);this.set("comboTrees",C),this.updateCombos()},r.prototype.renderCustomGroup=function(t,e){var n=this,a=t.groups,o=t.nodes,s=o===void 0?[]:o,l=10;if(a){this.set({groups:a});var v=M3(t);Object.keys(v).forEach(function(C){var F=v[C];n.get("customGroupControll").create(C,F,e,l),l--});var g=this.get("customGroup");g.sort()}else{var u=s.filter(function(C){return C.groupId}),h=[],c=(0,f.groupBy)(u,"groupId");Object.keys(c).forEach(function(C){var F=c[C].map(function(G){return G.id});n.get("customGroupControll").create(C,F,e,l),l--,h.find(function(G){return G.id===C})||h.push({id:C})}),this.set({groups:h})}},r.prototype.save=function(){var t=[],e=[],n=[];return(0,f.each)(this.get("nodes"),function(a){t.push(a.getModel())}),(0,f.each)(this.get("edges"),function(a){e.push(a.getModel())}),(0,f.each)(this.get("combos"),function(a){n.push(a.getModel())}),{nodes:t,edges:e,combos:n,groups:this.get("groups")}},r.prototype.changeSize=function(t,e){var n=this.get("viewController");return n.changeSize(t,e),this},r.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var e=t.get("nodes"),n=t.get("edges"),a=t.get("edges");(0,f.each)(e,function(o){o.refresh()}),(0,f.each)(n,function(o){o.refresh()}),(0,f.each)(a,function(o){o.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},r.prototype.getNodes=function(){return this.get("nodes")},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getCombos=function(){return this.get("combos")},r.prototype.getComboChildren=function(t){if((0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},r.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var e=t.get("animateCfg"),n=e.onFrame,a=t.getNodes(),o=a.map(function(l){var u=l.getModel();return{id:u.id,x:u.x,y:u.y}});t.isAnimating()&&t.stopAnimate();var s=t.get("canvas");s.animate(function(l){(0,f.each)(o,function(u){var h=t.findById(u.id);if(!(!h||h.destroyed)){var c=h.get("originAttrs"),v=h.get("model");if(!c){var g=h.getContainer().getMatrix();g||(g=[1,0,0,0,1,0,0,0,1]),c={x:g[6],y:g[7]},h.set("originAttrs",c)}if(n){var C=n(h,l,u,c);h.set("model",Object.assign(v,C))}else v.x=c.x+(u.x-c.x)*l,v.y=c.y+(u.y-c.y)*l}}),t.refreshPositions()},{duration:e.duration,easing:e.easing,callback:function(){(0,f.each)(a,function(u){u.set("originAttrs",null)}),e.callback&&e.callback(),t.emit("afteranimate"),t.animating=!1}})},r.prototype.refreshPositions=function(){var t=this;t.emit("beforegraphrefreshposition");var e=t.get("nodes"),n=t.get("edges"),a=t.get("vedges"),o=t.get("combos"),s,l={};(0,f.each)(e,function(u){s=u.getModel();var h=u.get("originAttrs");h&&s.x===h.x&&s.y===h.y||(u.updatePosition({x:s.x,y:s.y}),l[s.id]=!0,s.comboId&&(l[s.comboId]=!0))}),o&&o.length!==0&&t.updateCombos(),(0,f.each)(n,function(u){var h=u.getSource().getModel(),c=u.getTarget().getModel();(l[h.id]||l[c.id]||u.getModel().isComboEdge)&&u.refresh()}),(0,f.each)(a,function(u){u.refresh()}),t.emit("aftergraphrefreshposition"),t.autoPaint()},r.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},r.prototype.isAnimating=function(){return this.animating},r.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},r.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},r.prototype.setMode=function(t){var e=this.get("modeController");return e.setMode(t),this},r.prototype.clear=function(){var t=this.get("canvas");return t.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit("afterrender"),this},r.prototype.toDataURL=function(t,e){var n=this.get("canvas"),a=n.getRenderer(),o=n.get("el");t||(t="image/png");var s="";if(a==="svg"){var l=o.cloneNode(!0),u=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),h=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",u);h.replaceChild(l,h.documentElement);var c=new XMLSerializer().serializeToString(h);s="data:image/svg+xml;charset=utf8,"+encodeURIComponent(c)}else{var v=void 0,g=o.getContext("2d"),C=this.get("width"),F=this.get("height"),G=void 0;if(e){var V=window.devicePixelRatio;v=g.getImageData(0,0,C*V,F*V),G=g.globalCompositeOperation,g.globalCompositeOperation="destination-over",g.fillStyle=e,g.fillRect(0,0,C,F)}s=o.toDataURL(t),e&&(g.clearRect(0,0,C,F),g.putImageData(v,0,0),g.globalCompositeOperation=G)}return s},r.prototype.toFullDataURL=function(t,e,n){var a=this.get("group").getCanvasBBox(),o=a.height,s=a.width,l=this.get("renderer"),u=(0,vi.Z)('<id="virtual-image"></div>'),h=n?n.backgroundColor:void 0,c=n?n.padding:void 0;c?(0,f.isNumber)(c)&&(c=[c,c,c,c]):c=[0,0,0,0];var v=o+c[0]+c[2],g=s+c[1]+c[3],C={container:u,height:v,width:g,quickHit:!0},F=l==="svg"?new js.Z(C):new Ho.Z(C),G=this.get("group"),V=G.clone(),X=(0,f.clone)(V.getMatrix());X||(X=[1,0,0,0,1,0,0,0,1]);var at=(a.maxX+a.minX)/2,st=(a.maxY+a.minY)/2;Na.wO.translate(X,X,[-at,-st]),Na.wO.translate(X,X,[s/2+c[3],o/2+c[0]]),V.resetMatrix(),V.setMatrix(X),F.add(V);var xt=F.get("el"),kt="";e||(e="image/png"),setTimeout(function(){if(l==="svg"){var Gt=xt.cloneNode(!0),Wt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Yt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Wt);Yt.replaceChild(Gt,Yt.documentElement);var ie=new XMLSerializer().serializeToString(Yt);kt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(ie)}else{var de=void 0,he=xt.getContext("2d"),Ee=void 0;if(h){var Ie=window.devicePixelRatio;de=he.getImageData(0,0,g*Ie,v*Ie),Ee=he.globalCompositeOperation,he.globalCompositeOperation="destination-over",he.fillStyle=h,he.fillRect(0,0,g,v)}kt=xt.toDataURL(e),h&&(he.clearRect(0,0,g,v),he.putImageData(de,0,0),he.globalCompositeOperation=Ee)}t==null||t(kt)},16)},r.prototype.downloadFullImage=function(t,e,n){var a=this,o=this.get("group").getCanvasBBox(),s=o.height,l=o.width,u=this.get("renderer"),h=(0,vi.Z)('<id="virtual-image"></div>'),c=n?n.backgroundColor:void 0,v=n?n.padding:void 0;v?(0,f.isNumber)(v)&&(v=[v,v,v,v]):v=[0,0,0,0];var g=s+v[0]+v[2],C=l+v[1]+v[3],F={container:h,height:g,width:C},G=u==="svg"?new js.Z(F):new Ho.Z(F),V=this.get("group"),X=V.clone(),at=(0,f.clone)(X.getMatrix());at||(at=[1,0,0,0,1,0,0,0,1]);var st=(o.maxX+o.minX)/2,xt=(o.maxY+o.minY)/2;Na.wO.translate(at,at,[-st,-xt]),Na.wO.translate(at,at,[l/2+v[3],s/2+v[0]]),X.resetMatrix(),X.setMatrix(at),G.add(X);var kt=G.get("el");e||(e="image/png"),setTimeout(function(){var Gt="";if(u==="svg"){var Wt=kt.cloneNode(!0),Yt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),ie=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Yt);ie.replaceChild(Wt,ie.documentElement);var de=new XMLSerializer().serializeToString(ie);Gt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(de)}else{var he=void 0,Ee=kt.getContext("2d"),Ie=void 0;if(c){var Le=window.devicePixelRatio;he=Ee.getImageData(0,0,C*Le,g*Le),Ie=Ee.globalCompositeOperation,Ee.globalCompositeOperation="destination-over",Ee.fillStyle=c,Ee.fillRect(0,0,C,g)}Gt=kt.toDataURL(e),c&&(Ee.clearRect(0,0,C,g),Ee.putImageData(he,0,0),Ee.globalCompositeOperation=Ie)}var He=document.createElement("a"),je=(t||"graph")+(u==="svg"?".svg":"."+e.split("/")[1]);a.dataURLToImage(Gt,u,He,je);var Ke=document.createEvent("MouseEvents");Ke.initEvent("click",!1,!1),He.dispatchEvent(Ke)},16)},r.prototype.downloadImage=function(t,e,n){var a=this,o=this;o.isAnimating()&&o.stopAnimate();var s=o.get("canvas"),l=s.getRenderer();e||(e="image/png");var u=(t||"graph")+(l==="svg"?".svg":e.split("/")[1]),h=document.createElement("a");setTimeout(function(){var c=o.toDataURL(e,n);a.dataURLToImage(c,l,h,u);var v=document.createEvent("MouseEvents");v.initEvent("click",!1,!1),h.dispatchEvent(v)},16)},r.prototype.dataURLToImage=function(t,e,n,a){if(typeof window!="undefined")if(window.Blob&&window.URL&&e!=="svg"){var o=t.split(","),s="";if(o&&o.length>0){var l=o[0].match(/:(.*?);/);l&&l.length>=2&&(s=l[1])}for(var u=atob(o[1]),h=u.length,c=new Uint8Array(h);h--;)c[h]=u.charCodeAt(h);var v=new Blob([c],{type:s});window.navigator.msSaveBlob?window.navigator.msSaveBlob(v,a):n.addEventListener("click",function(){n.download=a,n.href=window.URL.createObjectURL(v)})}else n.addEventListener("click",function(){n.download=a,n.href=t})},r.prototype.updateLayout=function(t){var e=this.get("layoutController"),n;(0,f.isString)(t)?(n=t,t={type:n}):n=t.type;var a=this.get("layout"),o=a?a.type:void 0;if(!n||o===n){var s={};Object.assign(s,a,t),s.type=o||"random",this.set("layout",s),e.updateLayoutCfg(s)}else this.set("layout",t),e.changeLayout(n)},r.prototype.destroyLayout=function(){var t=this.get("layoutController");t.destroyLayout()},r.prototype.layout=function(){var t=this.get("layoutController"),e=this.get("layout");if(!!e){if(e.workerEnabled){t.layout();return}t.layoutMethod?t.relayout(!0):t.layout()}},r.prototype.collapseCombo=function(t){var e=this;if((0,f.isString)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.collapseCombo(t),n.collapsed=!0;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],u=this.get("comboTrees"),h=!1,c={};(u||[]).forEach(function(C){c[C.id]=C}),(u||[]).forEach(function(C){h||$i(C,function(F){if(h&&c[F.id])return!1;if(n.parentId===F.id?(c={},F.children.forEach(function(V){c[V.id]=V})):n.id===F.id&&(h=!0),h){var G=e.findById(F.id);G&&G.getType&&G.getType()==="combo"&&(s=s.concat(G.getNodes()),l=l.concat(G.getCombos()))}return!0})});var v={},g=[];o.forEach(function(C){if(!(C.isVisible()&&!C.getModel().isVEdge)){var F=C.getSource(),G=C.getTarget();if((s.includes(F)||l.includes(F))&&!s.includes(G)&&!l.includes(G)||F.getModel().id===n.id){var V=C.getModel();if(V.isVEdge){e.removeItem(C,!1);return}for(var X=G.getModel();!G.isVisible();){if(G=e.findById(X.parentId||X.comboId),!G||!X.parentId&&!X.comboId)return;X=G.getModel()}var at=X.id;if(v[n.id+"-"+at]){v[n.id+"-"+at]+=V.size||1;return}var st=e.addItem("vedge",{source:n.id,target:at,isVEdge:!0},!1);v[n.id+"-"+at]=V.size||1,g.push(st)}else if(!s.includes(F)&&!l.includes(F)&&(s.includes(G)||l.includes(G))||G.getModel().id===n.id){var V=C.getModel();if(V.isVEdge){e.removeItem(C,!1);return}for(var xt=F.getModel();!F.isVisible();){if(F=e.findById(xt.parentId||xt.comboId),!F||!xt.parentId&&!xt.comboId)return;xt=F.getModel()}var kt=xt.id;if(v[kt+"-"+n.id]){v[kt+"-"+n.id]+=V.size||1;return}var st=e.addItem("vedge",{target:n.id,source:kt,isVEdge:!0},!1);v[kt+"-"+n.id]=V.size||1,g.push(st)}}}),g.forEach(function(C){var F=C.getModel();e.updateItem(C,{size:v[F.source+"-"+F.target]},!1)})},r.prototype.expandCombo=function(t){var e=this;if((0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.expandCombo(t),n.collapsed=!1;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],u=this.get("comboTrees"),h=!1,c={};(u||[]).forEach(function(C){c[C.id]=C}),(u||[]).forEach(function(C){h||$i(C,function(F){if(h&&c[F.id])return!1;if(n.parentId===F.id?(c={},F.children.forEach(function(V){c[V.id]=V})):n.id===F.id&&(h=!0),h){var G=e.findById(F.id);G&&G.getType&&G.getType()==="combo"&&(s=s.concat(G.getNodes()),l=l.concat(G.getCombos()))}return!0})});var v={},g={};o.forEach(function(C){if(!(C.isVisible()&&!C.getModel().isVEdge)){var F=C.getSource(),G=C.getTarget(),V=F.get("id"),X=G.get("id");if((s.includes(F)||l.includes(F))&&!s.includes(G)&&!l.includes(G)||V===n.id){if(C.getModel().isVEdge){e.removeItem(C,!1);return}for(var at=G.getModel();!G.isVisible();){if(G=e.findById(at.comboId||at.parentId),!G||!at.parentId&&!at.comboId)return;at=G.getModel()}X=at.id;for(var st=F.getModel();!F.isVisible();){if(F=e.findById(st.comboId||st.parentId),!F||!st.parentId&&!st.comboId)return;if(st.comboId===n.id||st.parentId===n.id)break;st=F.getModel()}if(V=st.id,X){var xt=V+"-"+X;if(v[xt]){v[xt]+=C.getModel().size||1,e.updateItem(g[xt],{size:v[xt]},!1);return}var kt=e.addItem("vedge",{source:V,target:X,isVEdge:!0},!1);v[xt]=C.getModel().size||1,g[xt]=kt}}else if(!s.includes(F)&&!l.includes(F)&&(s.includes(G)||l.includes(G))||X===n.id){if(C.getModel().isVEdge){e.removeItem(C,!1);return}for(var st=F.getModel();!F.isVisible();){if(F=e.findById(st.comboId||st.parentId),!F||!st.parentId&&!st.comboId)return;st=F.getModel()}V=st.id;for(var at=G.getModel();!G.isVisible();){if(G=e.findById(at.comboId||at.parentId),!G||!at.parentId&&!at.comboId)return;if(at.comboId===n.id||at.parentId===n.id)break;at=G.getModel()}if(X=at.id,V){var xt=V+"-"+X;if(v[xt]){v[xt]+=C.getModel().size||1,e.updateItem(g[xt],{size:v[xt]},!1);return}var kt=e.addItem("vedge",{target:X,source:V,isVEdge:!0},!1);v[xt]=C.getModel().size||1,g[xt]=kt}}else(s.includes(F)||l.includes(F))&&(s.includes(G)||l.includes(G))&&F.isVisible()&&G.isVisible()&&C.show()}})},r.prototype.collapseExpandCombo=function(t){if((0,f.isString)(t)&&(t=this.findById(t)),!(t.getType&&t.getType()!=="combo")){for(var e=t.getModel(),n=this.findById(e.parentId);n;){var a=n.getModel();if(a.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),n=void 0;return}n=this.findById(a.parentId)}var o=e.collapsed;o?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},r.prototype.collapseGroup=function(t){var e=this.get("customGroupControll");e.collapseGroup(t)},r.prototype.expandGroup=function(t){var e=this.get("customGroupControll");e.expandGroup(t)},r.prototype.addPlugin=function(t){var e=this;t.destroyed||(e.get("plugins").push(t),t.initPlugin(e))},r.prototype.removePlugin=function(t){var e=this.get("plugins"),n=e.indexOf(t);n>=0&&(t.destroyPlugin(),e.splice(n,1))},r.prototype.sortCombos=function(){var t=this,e=this.get("comboSorted");if(!e){this.set("comboSorted",!0);var n=[],a={},o=this.get("comboTrees");(o||[]).forEach(function(l){$i(l,function(u){return n[u.depth]?n[u.depth].push(u.id):n[u.depth]=[u.id],a[u.id]=u.depth,!0})});var s=this.getEdges().concat(this.get("vedges"));(s||[]).forEach(function(l){var u=l.getModel(),h=a[u.source]||0,c=a[u.target]||0,v=Math.max(h,c);n[v]?n[v].push(u.id):n[v]=[u.id]}),n.forEach(function(l){if(!(!l||!l.length))for(var u=l.length-1;u>=0;u--){var h=t.findById(l[u]);h==null||h.toFront()}})}},r.prototype.getNeighbors=function(t,e){var n=t;return(0,f.isString)(t)&&(n=this.findById(t)),n.getNeighbors(e)},r.prototype.getNodeDegree=function(t,e){e===void 0&&(e=void 0);var n=t;(0,f.isString)(t)&&(n=this.findById(t));var a=this.get("degrees");a||(a=C1(this)),this.set("degees",a);var o=a[n.getID()],s;switch(e){case"in":s=o.inDegree;break;case"out":s=o.outDegree;break;case"all":s=o;break;default:s=o.degree;break}return s},r.prototype.getUndoStack=function(){return this.undoStack},r.prototype.getRedoStack=function(){return this.redoStack},r.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},r.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},r.prototype.pushStack=function(t,e,n){if(t===void 0&&(t="update"),n===void 0&&(n="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var a=e?(0,f.clone)(e):{before:{},after:(0,f.clone)(this.save())};n==="redo"?this.redoStack.push({action:t,data:a}):this.undoStack.push({action:t,data:a}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})},r.prototype.getAdjMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix");return(!n||!t)&&(n=Wu(this,e),this.set("adjMatrix",n)),n},r.prototype.getShortestPathMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix"),a=this.get("shortestPathMatrix");return(!n||!t)&&(n=Wu(this,e),this.set("adjMatrix",n)),(!a||!t)&&(a=T1(this,e),this.set("shortestPathMatrix",a)),a},r.prototype.destroy=function(){this.clear(),this.clearStack(),(0,f.each)(this.get("plugins"),function(o){o.destroyPlugin()});var t=this.get("tooltips");if(t)for(var e=0;e<t.length;e++){var n=t[e];if(!!n){var a=n.parentElement;!a||a.removeChild(n)}}this.get("eventController").destroy(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("layoutController").destroy(),this.get("customGroupControll").destroy(),this.get("canvas").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},r.prototype.createHull=function(t){var e=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),e||(e=this.get("group").addGroup({id:"hullGroup"}),e.toBack(),this.set("hullGroup",e)),n[t.id])return console.warn("Existed hull id."),n[t.id];var a=e.addGroup({id:t.id+"-container"}),o=new E6(this,te(te({},t),{group:a})),s=o.id;return n[s]=o,o},r.prototype.getHulls=function(){return this.get("hullMap")},r.prototype.getHullById=function(t){return this.get("hullMap")[t]},r.prototype.removeHull=function(t){var e;(0,f.isString)(t)?e=this.getHullById(t):e=t;var n=this.get("hullMap");delete n[e.id],e.destroy()},r.prototype.setImageWaterMarker=function(t,e){t===void 0&&(t=ze.waterMarkerImage);var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},ze.imageWaterMarkerConfig,e),s=o.width,l=o.height,u=o.compatible,h=o.image;if(!a){var c={container:n,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(c.pixelRatio=v),a=new Ho.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var g=a.get("context"),C=h.rotate,F=h.x,G=h.y;g.rotate(-C*Math.PI/180);var V=new Image;V.crossOrigin="anonymous",V.src=t,V.onload=function(){if(g.drawImage(V,F,G,h.width,h.height),g.rotate(C*Math.PI/180),u)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var X=document.querySelector(".g6-graph-watermarker");X||(X=document.createElement("div"),X.className="g6-graph-watermarker"),X.className="g6-graph-watermarker",a.destroyed||(X.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",n.appendChild(X))}}},r.prototype.setTextWaterMarker=function(t,e){var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},ze.textWaterMarkerConfig,e),s=o.width,l=o.height,u=o.compatible,h=o.text;if(!a){var c={container:n,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(c.pixelRatio=v),a=new Ho.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var g=a.get("context"),C=h.rotate,F=h.fill,G=h.fontFamily,V=h.fontSize,X=h.baseline,at=h.x,st=h.y,xt=h.lineHeight;g.rotate(-C*Math.PI/180),g.font=V+"px "+G,g.fillStyle=F,g.textBaseline=X;for(var kt=t.length-1;kt>=0;kt--)g.fillText(t[kt],at,st+kt*xt);if(g.rotate(C*Math.PI/180),u)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var Gt=document.querySelector(".g6-graph-watermarker");Gt||(Gt=document.createElement("div"),Gt.className="g6-graph-watermarker"),Gt.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",n.appendChild(Gt)}},r}(Fe.default),O1=P6,_6=d(77201),k1=d.n(_6),L6=function(i){Bn(r,i);function r(t){var e=i.call(this,t)||this;return e.layoutAnimating=!1,e.set("removeList",[]),e.set("layoutMethod",e.getLayout()),e}return r.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(e){var n=k1()[t.type](e,t);return Dx(n),n}:function(e){return k1()[t.type](e,t)}):null},r.indexOfChild=function(t,e){var n=-1;return(0,jn.S6)(t,function(a,o){if(e===a.id)return n=o,!1}),n},r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.animate=!0,t},r.prototype.innerAddChild=function(t,e,n){var a=this,o=t.data;o&&(o.x=t.x,o.y=t.y,o.depth=t.depth);var s=a.addItem("node",o,!1);if(e){if(s.set("parent",e),n){var l=e.get("originAttrs");if(l)s.set("originAttrs",l);else{var u=e.getModel();s.set("originAttrs",{x:u.x,y:u.y})}}var h=e.get("children");h?h.push(s):e.set("children",[s]),a.addItem("edge",{source:e,target:s,id:e.get("id")+":"+s.get("id")},!1)}return(0,jn.S6)(t.children||[],function(c){a.innerAddChild(c,s,n)}),a.emit("afteraddchild",{item:s,parent:e}),s},r.prototype.innerUpdateChild=function(t,e,n){var a=this,o=a.findById(t.id);if(!o){a.innerAddChild(t,e,n);return}(0,jn.S6)(t.children||[],function(C){a.innerUpdateChild(C,o,n)});var s=o.get("children");if(s){var l=s.length;if(l>0)for(var u=s.length-1;u>=0;u--){var h=s[u].getModel();r.indexOfChild(t.children||[],h.id)===-1&&(a.innerRemoveChild(h.id,{x:t.x,y:t.y},n),s.splice(u,1))}}var c,v;o.get("originAttrs")&&(c=o.get("originAttrs").x,v=o.get("originAttrs").y);var g=o.getModel();n&&o.set("originAttrs",{x:g.x,y:g.y}),o.set("model",t.data),(c!==t.x||v!==t.y)&&o.updatePosition({x:t.x,y:t.y})},r.prototype.innerRemoveChild=function(t,e,n){var a=this,o=a.findById(t);if(!!o)if((0,jn.S6)(o.get("children"),function(l){a.innerRemoveChild(l.getModel().id,e,n)}),n){var s=o.getModel();o.set("to",e),o.set("originAttrs",{x:s.x,y:s.y}),a.get("removeList").push(o)}else a.removeItem(o)},r.prototype.changeData=function(t){var e=this;this.getNodes().map(function(n){return e.clearItemStates(n)}),this.getEdges().map(function(n){return e.clearItemStates(n)}),t?(e.data(t),e.render()):e.layout(this.get("fitView"))},r.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var e=this;e.updateLayout(t)},r.prototype.updateLayout=function(t){var e=this;if(!t){console.warn("layout cannot be null");return}e.set("layout",t),e.set("layoutMethod",e.getLayout()),e.layout()},r.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var e=this;e.layout(t)},r.prototype.layout=function(t){var e=this,n=e.get("data"),a=e.get("layoutMethod"),o=a(n,e.get("layout")),s=e.get("animate");if(e.emit("beforerefreshlayout",{data:n,layoutData:o}),e.emit("beforelayout"),e.innerUpdateChild(o,void 0,s),t){var l=e.get("viewController");l.fitView()}s?e.layoutAnimate(o):(e.refresh(),e.paint()),e.emit("afterrefreshlayout",{data:n,layoutData:o}),e.emit("afterlayout")},r.prototype.addChild=function(t,e){var n=this;n.emit("beforeaddchild",{model:t,parent:e}),(0,jn.HD)(e)||(e=e.get("id"));var a=n.findDataById(e);a&&(a.children||(a.children=[]),a.children.push(t),n.changeData())},r.prototype.updateChild=function(t,e){var n=this;if(!e||!n.findById(e)){n.changeData(t);return}var a=n.findById(e).getModel(),o=n.findById(t.id);if(a.children||(a.children=[]),!o)a.children.push(t);else{var s=r.indexOfChild(a.children,t.id);a.children[s]=t}n.changeData()},r.prototype.removeChild=function(t){var e=this,n=e.findById(t);if(!!n){var a=n.get("parent");if(a&&!a.destroyed){var o=e.findDataById(a.get("id")),s=o&&o.children||[],l=n.getModel(),u=r.indexOfChild(s,l.id);s.splice(u,1)}e.changeData()}},r.prototype.findDataById=function(t,e){var n=this;if(e||(e=n.get("data")),t===e.id)return e;var a=null;return(0,jn.S6)(e.children||[],function(o){if(o.id===t)return a=o,!1;if(a=n.findDataById(t,o),a)return!1}),a},r.prototype.layoutAnimate=function(t,e){var n=this,a=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach(function(o){var s=o.get("model");s.sourceAnchor||(s.sourceAnchor=o.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){$i(t,function(s){var l=n.findById(s.id);if(l){var u=l.get("originAttrs"),h=l.get("model");if(u||(u={x:h.x,y:h.y},l.set("originAttrs",u)),e){var c=e(l,o,u,t);l.set("model",Object.assign(h,c))}else h.x=u.x+(s.x-u.x)*o,h.y=u.y+(s.y-u.y)*o}return!0}),(0,jn.S6)(n.get("removeList"),function(s){var l=s.getModel(),u=s.get("originAttrs"),h=s.get("to");l.x=u.x+(h.x-u.x)*o,l.y=u.y+(h.y-u.y)*o}),n.refreshPositions()},{duration:a.duration,easing:a.ease,callback:function(){(0,jn.S6)(n.getNodes(),function(s){s.set("originAttrs",null)}),(0,jn.S6)(n.get("removeList"),function(s){n.removeItem(s)}),n.set("removeList",[]),a.callback&&a.callback(),n.emit("afteranimate",{data:t})},delay:a.delay})},r.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},r.prototype.isLayoutAnimating=function(){return this.layoutAnimating},r.prototype.render=function(){var t=this,e=t.get("data");if(!e)throw new Error("data must be defined first");t.clear(),t.emit("beforerender"),t.layout(this.get("fitView")),t.emit("afterrender")},r.prototype.save=function(){return this.get("data")},r}(O1),I6=L6,O6="-shape",B1="-label",ju=["startArrow","endArrow"],Tc="-label-bg",Pc={options:{},itemType:"",type:"",getCustomConfig:function(r){return{}},getOptions:function(r){return(0,f.deepMix)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(r)||{},r)},draw:function(r,t){var e=this.drawShape(r,t);if(e.set("className",this.itemType+O6),r.label){var n=this.drawLabel(r,t);n.set("className",this.itemType+B1)}return e},afterDraw:function(r,t,e){},drawShape:function(r,t){return null},drawLabel:function(r,t){var e=this.getOptions(r).labelCfg,n=e||{},a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,draggable:!0,className:"text-shape",name:"text-shape"});if(o){var l=s.getBBox(),u=s.getMatrix();if(u||(u=[1,0,0,0,1,0,0,0,1]),a.rotateCenter)switch(a.rotateCenter){case"center":u=Za(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break;case"lefttop":u=Za(u,[["t",-a.x,-a.y],["r",o],["t",a.x,a.y]]);break;case"leftcenter":u=Za(u,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);break;default:u=Za(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break}else u=Za(u,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);s.setMatrix(u)}if(a.background){var h=this.drawLabelBg(r,t,s),c=this.itemType+Tc;h.set("classname",c),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,f.mix)({},n,r.labelCfg),o=this.getLabelBgStyleByPosition(e,r,a,t),s=t.addShape("rect",{name:"text-bg-shape",attrs:o});return s},getLabelStyleByPosition:function(r,t,e){return{text:r.label}},getLabelBgStyleByPosition:function(r,t,e,n){return{}},getLabelStyle:function(r,t,e){var n=this.getLabelStyleByPosition(r,t,e),a=this.itemType+"Label",o=ze[a]?ze[a].style:null,s=te(te(te({},o),n),t.style);return s},getShapeStyle:function(r){return r.style},update:function(r,t){this.updateShapeStyle(r,t),this.updateLabel(r,t)},updateShapeStyle:function(r,t){var e=t.getContainer(),n=t.getKeyShape(),a=(0,f.mix)({},n.attr(),r.style),o=function(u){var h,c=a[u];if((0,f.isPlainObject)(c)){var v=e.find(function(g){return g.get("name")===u});v&&v.attr(c)}else n.attr((h={},h[u]=c,h))};for(var s in a)o(s)},updateLabel:function(r,t){var e=t.getContainer(),n=this.getOptions({}).labelCfg,a=this.itemType+B1,o=e.find(function(st){return st.get("className")===a}),s=this.itemType+Tc,l=e.find(function(st){return st.get("classname")===s});if(r.label||r.label==="")if(o){var h={};t.getModel&&(h=t.getModel().labelCfg);var c=(0,f.deepMix)({},n,h,r.labelCfg),v=this.getLabelStyleByPosition(r,c,e),g=r.labelCfg?r.labelCfg.style:void 0,C=c.style&&c.style.background,F=te(te(te({},o.attr()),v),g),G=F.rotate;if(delete F.rotate,G){var V=[1,0,0,0,1,0,0,0,1];V=Za(V,[["t",-F.x,-F.y],["r",G],["t",F.x,F.y]]),o.resetMatrix(),o.attr(te(te({},F),{matrix:V}))}else o.resetMatrix(),o.attr(F);if(!l)F.background&&(l=this.drawLabelBg(r,e,o),l.set("classname",s),o.toFront());else if(F.background){var X=this.getLabelBgStyleByPosition(o,r,c,e),at=te(te({},X),C);l.resetMatrix(),G&&l.rotateAtStart(G),l.attr(at)}else e.removeChild(l)}else{var u=this.drawLabel(r,e);u.set("className",a)}},afterUpdate:function(r,t){},setState:function(r,t,e){var n,a,o=e.get("keyShape");if(!!o){var s=e.getType(),l=(0,f.isBoolean)(t)?r:r+":"+t,u=this.getStateStyle(l,e),h=e.getStateStyle(l);if(!(!h&&!u)){var c=(0,f.mix)({},h||u),v=e.getContainer();if(t){var g=function(he){var Ee,Ie=c[he];if((0,f.isPlainObject)(Ie)&&!ju.includes(he)){var Le=v.find(function(He){return He.get("name")===he});Le&&Le.attr(Ie)}else o.attr((Ee={},Ee[he]=Ie,Ee))};for(var C in c)g(C)}else{var F=(0,f.clone)(e.getCurrentStatesStyle()),G=e.getModel(),V=(0,f.mix)({},G.style,(0,f.clone)(e.getOriginStyle())),X=o.get("name"),at=o.attr(),st={},xt=function(he){var Ee=c[he];if((0,f.isPlainObject)(Ee)&&!ju.includes(he)){var Ie=v.find(function(je){return je.get("name")===he});if(Ie){var Le=Ie.attr();(0,f.each)(Ee,function(je,Ke){(Le[Ke]||Le[Ke]===0)&&delete Le[Ke]}),st[he]=Le}}else{var He={x:1,y:1,cx:1,cy:1};at[he]&&!He[he]&&delete at[he]}};for(var kt in c)xt(kt);X?st[X]=at:(0,f.mix)(st,at);for(var C in F){var Gt=F[C];(!(0,f.isPlainObject)(Gt)||ju.includes(C))&&(X?((0,f.mix)(V[X],(a={},a[C]=Gt,a)),delete V[C]):(0,f.mix)(V,(n={},n[C]=Gt,n)),delete F[C])}var Wt={};(0,f.deepMix)(Wt,V,st,F);var Yt=function(he){var Ee,Ie,Le=Wt[he];if((0,f.isPlainObject)(Le)&&!ju.includes(he)){var He=v.find(function(je){return je.get("name")===he});He&&He.attr(Le)}else s==="combo"?X||o.attr((Ee={},Ee[he]=Le,Ee)):o.attr((Ie={},Ie[he]=Le,Ie))};for(var ie in Wt)Yt(ie)}}}},getStateStyle:function(r,t){var e=t.getModel(),n=t.getType(),a=this.getOptions(e),o=a.stateStyles,s=a.style,l=s===void 0?{}:s,u=e.stateStyles?e.stateStyles[r]:o&&o[r];return n==="combo"?(0,f.clone)(u):(0,f.mix)({},l,u)},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.getOptions(r).anchorPoints;return t}},k6={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:ze.nodeLabel.offset,getSize:function(r){var t=r.size||this.getOptions({}).size||ze.defaultNode.size;return(0,f.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,f.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition;if(e==="center")return{x:0,y:0,text:r.label};var n=t.offset;(0,f.isNil)(n)&&(n=this.offset);var a=this.getSize(r),o=a[0],s=a[1],l;switch(e){case"top":l={x:0,y:0-s/2-n,textBaseline:"bottom"};break;case"bottom":l={x:0,y:s/2+n,textBaseline:"top"};break;case"left":l={x:0-o/2-n,y:0,textAlign:"right"};break;default:l={x:o/2+n,y:0,textAlign:"left"};break}return l.text=r.label,l},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=Qh(o.padding),l=a.width+s[1]+s[3],u=a.height+s[0]+s[2],h=e.offset;(0,f.isNil)(h)&&(h=this.offset);var c;return c={x:a.minX-s[3],y:a.minY-s[0]},c=te(te(te({},c),o),{width:l,height:u}),c},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"node-shape"});return a},updateLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=t.find(function(Gt){return Gt.get("className")==="link-point-left"}),a=t.find(function(Gt){return Gt.get("className")==="link-point-right"}),o=t.find(function(Gt){return Gt.get("className")==="link-point-top"}),s=t.find(function(Gt){return Gt.get("className")==="link-point-bottom"}),l;n&&(l=n.attr()),a&&!l&&(l=a.attr()),o&&!l&&(l=o.attr()),s&&!l&&(l=s.attr()),l||(l=e);var u=(0,f.mix)({},l,r.linkPoints),h=u.fill,c=u.stroke,v=u.lineWidth,g=u.size/2;g||(g=u.r);var C=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},F=C.left,G=C.right,V=C.top,X=C.bottom,at=this.getSize(r),st=at[0],xt=at[1],kt={r:g,fill:h,stroke:c,lineWidth:v};n?!F&&F!==void 0?n.remove():n.attr(te(te({},kt),{x:-st/2,y:0})):F&&t.addShape("circle",{attrs:te(te({},kt),{x:-st/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),a?(!G&&G!==void 0&&a.remove(),a.attr(te(te({},kt),{x:st/2,y:0}))):G&&t.addShape("circle",{attrs:te(te({},kt),{x:st/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o?(!V&&V!==void 0&&o.remove(),o.attr(te(te({},kt),{x:0,y:-xt/2}))):V&&t.addShape("circle",{attrs:te(te({},kt),{x:0,y:-xt/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),s?!X&&X!==void 0?s.remove():s.attr(te(te({},kt),{x:0,y:xt/2})):X&&t.addShape("circle",{attrs:te(te({},kt),{x:0,y:xt/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(r,t,e,n){var a=t.get("keyShape");a.attr(te({},e)),this.updateLabel(r,t),n&&this.updateIcon(r,t)},updateIcon:function(r,t){var e=this,n=t.getContainer(),a=this.getOptions(r).icon,o=(r.icon?r.icon:{show:void 0}).show,s=n.find(function(v){return v.get("className")===e.type+"-icon"});if(s)if(o||o===void 0){var l=(0,f.mix)({},s.attr(),a),u=l.width,h=l.height;s.attr(te(te({},l),{x:-u/2,y:-h/2}))}else s.remove();else if(o){var u=a.width,h=a.height;n.addShape("image",{attrs:te(te({},a),{x:-u/2,y:-h/2}),className:this.type+"-icon",name:this.type+"-icon"});var c=n.find(function(C){return C.get("className")==="node-label"});c&&c.toFront()}}},B6=te(te({},Pc),k6);ti.registerNode("single-node",B6);var Uu="edge-shape";function D6(i){var r=i;return i==="start"?r="end":i==="end"&&(r="start"),r}var F6={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:ze.defaultEdge.size,style:{x:0,y:0,stroke:ze.defaultEdge.style.stroke,lineAppendWidth:ze.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:ze.edgeLabel.style.fill,fontSize:ze.edgeLabel.style.fontSize}},stateStyles:te({},ze.edgeStateStyles)},getPath:function(r){var t=[];return(0,f.each)(r,function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,f.mix)({},t,e,r.style),a=r.size||ze.defaultEdge.size;r=this.getPathPoints(r);var o=r.startPoint,s=r.endPoint,l=this.getControlPoints(r),u=[o];l&&(u=u.concat(l)),u.push(s);var h=this.getPath(u),c=(0,f.mix)({},ze.defaultEdge.style,{stroke:ze.defaultEdge.color,lineWidth:a,path:h},n);return c},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(V){return V.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,u=this.getControlPoints(r),h=[s];u&&(h=h.concat(u)),h.push(l);var c=(0,f.mix)({},n,a.attr(),r.style),v=r.sourceNode,g=r.targetNode,C={radius:c.radius};u||(C={source:v,target:g,offset:c.offset,radius:c.radius});var F=this.getPath(h,C),G=(0,f.mix)(n,a.attr(),{lineWidth:o,path:F},r.style);a&&a.attr(G)},getLabelStyleByPosition:function(r,t,e){var n=t.position||this.labelPosition,a={},o=e&&e.find(function(v){return v.get("className")===Uu}),s;n==="start"?s=0:n==="end"?s=1:s=.5;var l=t.refX||this.refX,u=t.refY||this.refY;if(r.startPoint.x===r.endPoint.x&&r.startPoint.y===r.endPoint.y)return a.x=r.startPoint.x+l,a.y=r.startPoint.y+u,a.text=r.label,a;var h=(0,f.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate,c=Au(o,s,l,u,h);return a.x=c.x,a.y=c.y,a.rotate=c.rotate,a.textAlign=this._getTextAlign(n,c.angle),a.text=r.label,a},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=o.padding,l=a.width+s[1]+s[3],u=a.height+s[0]+s[2],h=e.position||this.labelPosition,c=te(te({},o),{width:l,height:u,x:a.minX-s[2],y:a.minY-s[0],rotate:0}),v=(0,f.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate,g=n&&n.find(function(at){return at.get("className")===Uu}),C;h==="start"?C=0:h==="end"?C=1:C=.5;var F=e.refX||this.refX,G=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return c.x=t.startPoint.x+F,c.y=t.startPoint.y+G,c;var V=Au(g,C,F-l/2,G+u/2,v),X=V.angle;return X>1/2*Math.PI&&X<3*1/2*Math.PI&&(V=Au(g,C,F+l/2,G+u/2,v)),v&&(c.x=V.x,c.y=V.y),c.rotate=V.rotate,c},_getTextAlign:function(r,t){var e="center";return t?(t=t%(Math.PI*2),r!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?e=r:e=D6(r)),e):r},getControlPoints:function(r){return r.controlPoints},getPathPoints:function(r){return r},drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("path",{className:Uu,name:Uu,attrs:e});return n},drawLabel:function(r,t){var e=this.options.labelCfg,n=(0,f.deepMix)({fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},e,r.labelCfg),a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,name:"text-shape"});if(o&&s.rotateAtStart(o),a.background){var l=this.drawLabelBg(r,t,s),u=this.itemType+Tc;l.set("classname",u),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,f.deepMix)({},n,r.labelCfg),o=this.getLabelStyle(r,a,t),s=o.rotate,l=this.getLabelBgStyleByPosition(e,r,a,t);delete l.rotate;var u=t.addShape("rect",{name:"text-bg-shape",attrs:l});return s&&u.rotateAtStart(s),u}},R6=te(te({},Pc),F6);ti.registerEdge("single-edge",R6),ti.registerEdge("line",{getControlPoints:function(){}},"single-edge"),ti.registerEdge("spline",{getPath:function(r){var t=yx(r);return t}},"single-edge"),ti.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(r){var t=r.startPoint,e=r.endPoint,n={x:(t.x+e.x)/2,y:(t.y+e.y)/2},a,o;if(r.controlPoints!==void 0){if(o=r.controlPoints[0],a=ec(t,o,e),t.x<=e.x&&t.y>e.y?this.clockwise=a.x>o.x?0:1:t.x<=e.x&&t.y<e.y?this.clockwise=a.x>o.x?1:0:t.x>e.x&&t.y<=e.y?this.clockwise=a.y<o.y?0:1:this.clockwise=a.y<o.y?1:0,(o.x-t.x)/(o.y-t.y)==(e.x-t.x)/(e.y-t.y))return[]}else{r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),(0,Oi.default)(r.curveOffset)&&(r.curveOffset=r.curveOffset[0]),r.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:e.x-t.x,y:e.y-t.y},l=Math.atan2(s.y,s.x);o={x:r.curveOffset*Math.cos(-Math.PI/2+l)+n.x,y:r.curveOffset*Math.sin(-Math.PI/2+l)+n.y},a=ec(t,o,e)}var u=Hs(t,a),h=[{x:u,y:u}];return h},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),r.length===2?t.push(["L",r[1].x,r[1].y]):t.push(["A",r[1].x,r[1].y,0,0,this.clockwise,r[2].x,r[2].y]),t}},"single-edge"),ti.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(r){var t=r.controlPoints;if(!t||!t.length){var e=r.startPoint,n=r.endPoint;r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,Oi.default)(this.curveOffset)&&(r.curveOffset=r.curveOffset[0]),(0,Oi.default)(this.curvePosition)&&(r.curvePosition=r.curveOffset[0]);var a=Su(e,n,r.curvePosition,r.curveOffset);t=[a]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["Q",r[1].x,r[1].y,r[2].x,r[2].y]),t}},"single-edge"),ti.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(r){var t=r.controlPoints;if(r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,Ra.default)(r.curveOffset)&&(r.curveOffset=[r.curveOffset,-r.curveOffset]),(0,Ra.default)(r.curvePosition)&&(r.curvePosition=[r.curvePosition,1-r.curvePosition]),!t||!t.length||t.length<2){var e=r.startPoint,n=r.endPoint,a=Su(e,n,r.curvePosition[0],r.curveOffset[0]),o=Su(e,n,r.curvePosition[1],r.curveOffset[1]);t=[a,o]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["C",r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y]),t}},"single-edge"),ti.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,Ra.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:t.x,y:(e.y-t.y)*this.curvePosition[0]+t.y},a={x:e.x,y:(e.y-t.y)*this.curvePosition[1]+t.y},o=[n,a];return o}},"cubic"),ti.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,Ra.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:(e.x-t.x)*this.curvePosition[0]+t.x,y:t.y},a={x:(e.x-t.x)*this.curvePosition[1]+t.x,y:e.y},o=[n,a];return o}},"cubic"),ti.registerEdge("loop",{getPathPoints:function(r){return kx(r)},getControlPoints:function(r){return r.controlPoints},afterDraw:function(r){r.controlPoints=void 0},afterUpdate:function(r){r.controlPoints=void 0}},"cubic");var N6={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:ze.comboLabel.refX,refY:ze.comboLabel.refY,options:{style:{stroke:ze.defaultCombo.style.stroke,fill:ze.defaultCombo.style.fill,lineWidth:ze.defaultCombo.style.lineWidth},labelCfg:{style:{fill:ze.comboLabel.style.fill,fontSize:ze.comboLabel.style.fontSize}},stateStyles:te({},ze.comboStateStyles)},getSize:function(r){var t=(0,f.clone)(r.size||this.options.size||ze.defaultCombo.size);return(0,f.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,f.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,f.isArray)(a)&&(a=a[0]);var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var l=this.getSize(r),u=Math.max(n.r,l[0]/2)||l[0]/2,h=u+a,c;switch(e){case"top":c={x:0,y:-h-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":c={x:0,y:h+s,textBaseline:"bottom",textAlign:"center"};break;case"left":c={x:-h+o,y:0,textAlign:"left"};break;case"center":c={x:0,y:0,text:r.label,textAlign:"center"};break;default:c={x:h+o,y:0,textAlign:"right"};break}return c.text=r.label,c},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"combo-shape"});return a},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr(te({},e)),this.updateLabel(r,t)}},Y6=te(te({},Pc),N6);ti.registerCombo("single-combo",Y6),ti.registerCombo("circle",{options:{size:[ze.defaultCombo.size[0],ze.defaultCombo.size[0]],padding:ze.defaultCombo.padding[0],animate:!0,style:{stroke:ze.defaultCombo.style.stroke,fill:ze.defaultCombo.style.fill,lineWidth:ze.defaultCombo.style.lineWidth},labelCfg:{style:{fill:ze.comboLabel.style.fill,fontSize:ze.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:te({},ze.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r);delete e.height,delete e.width;var n=t.addShape("circle",{attrs:e,className:"circle-combo",name:"circle-combo",draggable:!0});return n},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,f.isArray)(e)&&(e=e[0]);var n={stroke:r.color},a=(0,f.mix)({},t,n,r.style),o=this.getSize(r),s;!(0,f.isNumber)(a.r)||isNaN(a.r)?s=o[0]/2||ze.defaultCombo.style.r:s=Math.max(a.r,o[0]/2)||o[0]/2,a.r=s+e;var l=te({x:0,y:0},a);return r.style?r.style.r=s:r.style={r:s},l},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,f.isArray)(n)&&(n=n[0]);var a=(0,f.clone)(r.style),o=Math.max(a.r,e[0]/2)||e[0]/2;a.r=o+n;var s=t.get("sizeCache");s&&(s.r=a.r);var l={stroke:r.color},u=t.get("keyShape"),h=(0,f.mix)({},u.attr(),l,a);r.style?r.style.r=o:r.style={r:o},this.updateShape(r,t,h,!0)}},"single-combo"),ti.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:ze.defaultCombo.style.stroke,fill:ze.defaultCombo.style.fill,lineWidth:ze.defaultCombo.style.lineWidth},labelCfg:{style:{fill:ze.comboLabel.style.fill,fontSize:ze.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:te({},ze.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:"rect-combo",name:"rect-combo",draggable:!0});return n},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,f.isNumber)(a)&&(a=[a,a,a,a]);var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var l=n.width/2+a[3],u=n.height/2+a[0],h;switch(e){case"top":h={x:0-l+o,y:0-u+s,textBaseline:"top",textAlign:"left"};break;case"bottom":h={x:0,y:u+s,textBaseline:"bottom",textAlign:"center"};break;case"left":h={x:0-l+s,y:0,textAlign:"left"};break;case"center":h={x:0,y:0,text:r.label,textAlign:"center"};break;default:h={x:l+o,y:0,textAlign:"right"};break}return h.text=r.label,h},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,f.isNumber)(e)&&(e=[e,e,e,e]);var n={stroke:r.color},a=(0,f.mix)({},t,n,r.style),o=this.getSize(r),s,l;!(0,f.isNumber)(a.width)||isNaN(a.width)?s=o[0]||ze.defaultCombo.style.width:s=Math.max(a.width,o[0])||o[0],!(0,f.isNumber)(a.height)||isNaN(a.height)?l=o[1]||ze.defaultCombo.style.height:l=Math.max(a.height,o[1])||o[1];var u=-s/2-e[3],h=-l/2-e[0];a.width=s+e[1]+e[3],a.height=l+e[0]+e[2];var c=te({x:u,y:h},a);return r.style?(r.style.width=s,r.style.height=l):r.style={width:s,height:l},c},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,f.isNumber)(n)&&(n=[n,n,n,n]);var a=(0,f.clone)(r.style),o=Math.max(a.width,e[0])||e[0],s=Math.max(a.height,e[1])||e[1];a.width=o+n[1]+n[3],a.height=s+n[0]+n[2];var l=t.get("sizeCache");l&&(l.width=a.width,l.height=a.height),a.x=-o/2-n[3],a.y=-s/2-n[0];var u={stroke:r.color},h=t.get("keyShape"),c=(0,f.mix)({},h.attr(),u,a);r.style?(r.style.width=o,r.style.height=s):r.style={width:o,height:s},this.updateShape(r,t,c,!1)},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr(te({},e)),this.updateLabel(r,t)}},"single-combo"),ti.registerNode("circle",{options:{size:ze.defaultNode.size,style:{x:0,y:0,stroke:ze.defaultNode.style.stroke,fill:ze.defaultNode.style.fill,lineWidth:ze.defaultNode.style.lineWidth},labelCfg:{style:{fill:ze.nodeLabel.style.fill,fontSize:ze.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:ze.defaultNode.linkPoints.size,lineWidth:ze.defaultNode.linkPoints.lineWidth,fill:ze.defaultNode.linkPoints.fill,stroke:ze.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:te({},ze.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=(0,Yi.default)({},n,r.icon),s=t.addShape("circle",{attrs:a,className:this.type+"-keyShape",draggable:!0}),l=o.width,u=o.height,h=o.show;return h&&t.addShape("image",{attrs:te({x:-l/2,y:-u/2},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(r,t),s},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=Zi(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0]/2;o&&t.addShape("circle",{attrs:te(te({},c),{x:-g,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:te(te({},c),{x:g,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:te(te({},c),{x:0,y:-g,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:te(te({},c),{x:0,y:g,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,Yi.default)({},t,e),a=this.getSize(r),o=a[0]/2,s=te({x:0,y:0,r:o},n);return s},update:function(r,t){var e=t.getContainer(),n=this.getSize(r),a={stroke:r.color,r:n[0]/2},o=t.get("keyShape"),s=(0,Yi.default)({},o.attr(),a,r.style);this.updateShape(r,t,s,!0),this.updateLinkPoints(r,e)}},"single-node"),ti.registerNode("rect",{options:{size:[100,30],style:{radius:0,stroke:ze.defaultNode.style.stroke,fill:ze.defaultNode.style.fill,lineWidth:ze.defaultNode.style.lineWidth},labelCfg:{style:{fill:ze.nodeLabel.style.fill,fontSize:ze.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:ze.defaultNode.linkPoints.size,lineWidth:ze.defaultNode.linkPoints.lineWidth,fill:ze.defaultNode.linkPoints.fill,stroke:ze.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:te({},ze.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(r,t),n},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=Zi(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0],C=v[1];o&&t.addShape("circle",{attrs:te(te({},c),{x:-g/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:te(te({},c),{x:g/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:te(te({},c),{x:0,y:-C/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:te(te({},c),{x:0,y:C/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=te({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o=t.get("keyShape");r.size||(a[0]=o.attr("width")||n.width,a[1]=o.attr("height")||n.height);var s={stroke:r.color,x:-a[0]/2,y:-a[1]/2,width:a[0],height:a[1]},l=(0,f.mix)({},n,o.attr(),s);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!1),this.updateLinkPoints(r,e)}},"single-node"),ti.registerNode("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:ze.defaultNode.style.stroke,fill:ze.defaultNode.style.fill,lineWidth:ze.defaultNode.style.lineWidth},labelCfg:{style:{fill:ze.nodeLabel.style.fill,fontSize:ze.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:ze.defaultNode.linkPoints.size,lineWidth:ze.defaultNode.linkPoints.lineWidth,fill:ze.defaultNode.linkPoints.fill,stroke:ze.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:te({},ze.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("ellipse",{attrs:a,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:te({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=Zi(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0]/2,C=v[1]/2;o&&t.addShape("circle",{attrs:te(te({},c),{x:-g,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:te(te({},c),{x:g,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:te(te({},c),{x:0,y:-C,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:te(te({},c),{x:0,y:C,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=a[0]/2,s=a[1]/2,l=te({x:0,y:0,rx:o,ry:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o={stroke:r.color,rx:a[0]/2,ry:a[1]/2},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),ti.registerNode("diamond",{options:{size:[80,80],style:{stroke:ze.defaultNode.style.stroke,fill:ze.defaultNode.style.fill,lineWidth:ze.defaultNode.style.lineWidth},labelCfg:{style:{fill:ze.nodeLabel.style.fill,fontSize:ze.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:ze.defaultNode.linkPoints.size,lineWidth:ze.defaultNode.linkPoints.lineWidth,fill:ze.defaultNode.linkPoints.fill,stroke:ze.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:te({},ze.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:te({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=Zi(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0],C=v[1];o&&t.addShape("circle",{attrs:te(te({},c),{x:-g/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:te(te({},c),{x:g/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:te(te({},c),{x:0,y:-C/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:te(te({},c),{x:0,y:C/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(r){var t=this.getSize(r),e=t[0],n=t[1],a=[["M",0,-n/2],["L",e/2,0],["L",0,n/2],["L",-e/2,0],["Z"]];return a},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=te({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),ti.registerNode("triangle",{options:{size:40,direction:"up",style:{stroke:ze.defaultNode.style.stroke,fill:ze.defaultNode.style.fill,lineWidth:ze.defaultNode.style.lineWidth},labelCfg:{style:{fill:ze.nodeLabel.style.fill,fontSize:ze.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:ze.defaultNode.linkPoints.size,lineWidth:ze.defaultNode.linkPoints.lineWidth,fill:ze.defaultNode.linkPoints.fill,stroke:ze.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:te({},ze.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(r,t){var e=this.getOptions(r),n=e.icon,a=n===void 0?{}:n,o=e.direction,s=this.getShapeStyle(r),l=r.direction||o,u=t.addShape("path",{attrs:s,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=a.width,c=a.height,v=a.show,g=a.offset;if(v){var C=-h/2,F=-c/2;(l==="up"||l==="down")&&(F+=g),(l==="left"||l==="right")&&(C+=g),t.addShape("image",{attrs:te({x:C,y:F},a),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(r,t),u},drawLinkPoints:function(r,t){var e=this.getOptions(r),n=e.linkPoints,a=n===void 0?{}:n,o=e.direction,s=r.direction||o,l=a.top,u=a.left,h=a.right,c=a.bottom,v=a.size,g=a.r,C=Zi(a,["top","left","right","bottom","size","r"]),F=this.getSize(r),G=F[0];if(u){var V=null,X=G*Math.sin(1/3*Math.PI),at=G*Math.sin(1/3*Math.PI);s==="up"?V=[-at,X]:s==="down"?V=[-at,-X]:s==="left"&&(V=[-at,at-X]),V&&t.addShape("circle",{attrs:te(te({},C),{x:V[0],y:V[1],r:v/2||g||5}),className:"link-point-left",name:"link-point-left"})}if(h){var st=null,X=G*Math.sin(1/3*Math.PI),at=G*Math.sin(1/3*Math.PI);s==="up"?st=[at,X]:s==="down"?st=[at,-X]:s==="right"&&(st=[at,at-X]),st&&t.addShape("circle",{attrs:te(te({},C),{x:st[0],y:st[1],r:v/2||g||5}),className:"link-point-right",name:"link-point-right"})}if(l){var xt=null,X=G*Math.sin(1/3*Math.PI),at=G*Math.sin(1/3*Math.PI);s==="up"?xt=[at-X,-X]:s==="left"?xt=[at,-X]:s==="right"&&(xt=[-at,-X]),xt&&t.addShape("circle",{attrs:te(te({},C),{x:xt[0],y:xt[1],r:v/2||g||5}),className:"link-point-top",name:"link-point-top"})}if(c){var kt=null,X=G*Math.sin(1/3*Math.PI),at=G*Math.sin(1/3*Math.PI);s==="down"?kt=[-at+X,X]:s==="left"?kt=[at,X]:s==="right"&&(kt=[-at,X]),kt&&t.addShape("circle",{attrs:te(te({},C),{x:kt[0],y:kt[1],r:v/2||g||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(r){var t=this.getOptions(r).direction,e=r.direction||t,n=this.getSize(r),a=n[0],o=a*Math.sin(1/3*Math.PI),s=a*Math.sin(1/3*Math.PI),l=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return e==="down"?l=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:e==="left"?l=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:e==="right"&&(l=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),l},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=te({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}),n=e.linkPoints,a=e.direction,o=r.direction||a,s=t.find(function(He){return He.get("className")==="link-point-left"}),l=t.find(function(He){return He.get("className")==="link-point-right"}),u=t.find(function(He){return He.get("className")==="link-point-top"}),h=t.find(function(He){return He.get("className")==="link-point-bottom"}),c=n,v=s||l||u||h;v&&(c=v.attr());var g=(0,f.mix)({},c,r.linkPoints),C=g.fill,F=g.stroke,G=g.lineWidth,V=g.size/2;V||(V=g.r);var X=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},at=X.left,st=X.right,xt=X.top,kt=X.bottom,Gt=this.getSize(r),Wt=Gt[0],Yt={r:V,fill:C,stroke:F,lineWidth:G},ie=null,de=Wt*Math.sin(1/3*Math.PI),he=Wt*Math.sin(1/3*Math.PI);o==="up"?ie=[-he,de]:o==="down"?ie=[-he,-de]:o==="left"&&(ie=[-he,he-de]),ie&&(s?!at&&at!==void 0?s.remove():s.attr(te(te({},Yt),{x:ie[0],y:ie[1]})):at&&t.addShape("circle",{attrs:te(te({},Yt),{x:ie[0],y:ie[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var Ee=null;o==="up"?Ee=[he,de]:o==="down"?Ee=[he,-de]:o==="right"&&(Ee=[he,he-de]),Ee&&(l?!st&&st!==void 0?l.remove():l.attr(te(te({},Yt),{x:Ee[0],y:Ee[1]})):st&&t.addShape("circle",{attrs:te(te({},Yt),{x:Ee[0],y:Ee[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var Ie=null;o==="up"?Ie=[he-de,-de]:o==="left"?Ie=[he,-de]:o==="right"&&(Ie=[-he,-de]),Ie&&(u?!xt&&xt!==void 0?u.remove():u.attr(te(te({},Yt),{x:Ie[0],y:Ie[1]})):xt&&t.addShape("circle",{attrs:te(te({},Yt),{x:Ie[0],y:Ie[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var Le=null;o==="down"?Le=[-he+de,de]:o==="left"?Le=[he,de]:o==="right"&&(Le=[-he,de]),Le&&(h?!kt&&kt!==void 0?h.remove():h.attr(te(te({},Yt),{x:Le[0],y:Le[1]})):kt&&t.addShape("circle",{attrs:te(te({},Yt),{x:Le[0],y:Le[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),ti.registerNode("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:ze.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(r,t){var e=this.getOptions(r).preRect,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=this.getSize(r),s=o[0],l=o[1],u=t.addShape("rect",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=n.show,c=Zi(n,["show"]);return h&&t.addShape("rect",{attrs:te({x:-s/2,y:-l/2,height:l},c),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(r,t),this.drawStateIcon(r,t),this.drawLinkPoints(r,t),u},drawLogoIcon:function(r,t){var e=this.getOptions(r).logoIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,u=n.x,h=n.y,c=n.offset,v=Zi(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:te(te({},v),{x:u||-o/2+s+c,y:h||-l/2,width:s,height:l}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(r,t){var e=this.getOptions(r).stateIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,u=n.x,h=n.y,c=n.offset,v=Zi(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:te(te({},v),{x:u||o/2-s+c,y:h||-l/2,width:s,height:l}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=Zi(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0],C=v[1];o&&t.addShape("circle",{attrs:te(te({},c),{x:-g/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:te(te({},c),{x:g/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:te(te({},c),{x:0,y:-C/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:te(te({},c),{x:0,y:C/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(r,t){var e=this.getOptions(r),n=e.labelCfg,a=n===void 0?{}:n,o=e.logoIcon,s=o===void 0?{}:o,l=e.descriptionCfg,u=l===void 0?{}:l,h=this.getSize(r),c=h[0],v=null,g=s.show,C=s.width,F=-c/2+a.offset;g&&(F=-c/2+C+a.offset);var G=a.style,V=u.style,X=u.paddingTop;return(0,f.isString)(r.description)?(v=t.addShape("text",{attrs:te(te({},G),{x:F,y:-5,text:r.label}),className:"text-shape",name:"text-shape",draggable:!0}),t.addShape("text",{attrs:te(te({},V),{x:F,y:17+(X||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0})):v=t.addShape("text",{attrs:te(te({},G),{x:F,y:7,text:r.label}),draggable:!0}),v},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=te({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=this.getOptions(r),n=e.style,a=n===void 0?{}:n,o=e.labelCfg,s=o===void 0?{}:o,l=e.descriptionCfg,u=l===void 0?{}:l,h=this.getSize(r),c=h[0],v=h[1],g=t.get("keyShape");g.attr(te(te({},a),{x:-c/2,y:-v/2,width:c,height:v}));var C=t.getContainer(),F=C.find(function(Or){return Or.get("className")==="rect-logo-icon"}),G=F?F.attr():{},V=(0,f.mix)({},G,r.logoIcon),X=V.width;X===void 0&&(X=this.options.logoIcon.width);var at=r.logoIcon?r.logoIcon.show:void 0,st=s.offset,xt=-c/2+X+st;!at&&at!==void 0&&(xt=-c/2+st);var kt=C.find(function(Or){return Or.get("className")==="node-label"}),Gt=C.find(function(Or){return Or.get("className")==="rect-description"});if(r.label)if(!kt)C.addShape("text",{attrs:te(te({},s.style),{x:xt,y:r.description?-5:7,text:r.label}),className:"node-label",name:"node-label",draggable:!0});else{var Wt=r.labelCfg?r.labelCfg.style:{},Yt=(0,f.mix)({},kt.attr(),Wt);r.label&&(Yt.text=r.label),Yt.x=xt,(0,f.isString)(r.description)&&(Yt.y=-5),Gt&&(Gt.resetMatrix(),Gt.attr({x:xt})),kt.resetMatrix(),kt.attr(Yt)}if((0,f.isString)(r.description)){var ie=u.paddingTop;if(!Gt)C.addShape("text",{attrs:te(te({},u.style),{x:xt,y:17+(ie||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0});else{var Wt=r.descriptionCfg?r.descriptionCfg.style:{},de=(0,f.mix)({},Gt.attr(),Wt);(0,f.isString)(r.description)&&(de.text=r.description),de.x=xt,Gt.resetMatrix(),Gt.attr(te(te({},de),{y:17+(ie||0)}))}}var he=C.find(function(Or){return Or.get("className")==="pre-rect"});if(he){var Ee=(0,f.mix)({},he.attr(),r.preRect);he.attr(te(te({},Ee),{x:-c/2,y:-v/2,height:v}))}if(F)if(!at&&at!==void 0)F.remove();else{var Ie=V.width,Le=V.height,He=V.x,je=V.y,Ke=V.offset,Xe=Zi(V,["width","height","x","y","offset"]);F.attr(te(te({},Xe),{x:He||-c/2+Ie+Ke,y:je||-Le/2,width:Ie,height:Le}))}else at&&this.drawLogoIcon(r,C);var Ve=C.find(function(Or){return Or.get("className")==="rect-state-icon"}),pr=Ve?Ve.attr():{},vr=(0,f.mix)({},pr,r.stateIcon);if(Ve){!vr.show&&vr.show!==void 0&&Ve.remove();var xr=vr.width,Le=vr.height,He=vr.x,je=vr.y,Je=vr.offset,gr=Zi(vr,["width","height","x","y","offset"]);Ve.attr(te(te({},gr),{x:He||c/2-xr+Je,y:je||-Le/2,width:xr,height:Le}))}else vr.show&&this.drawStateIcon(r,C);this.updateLinkPoints(r,C)}},"single-node"),ti.registerNode("star",{options:{size:60,style:{stroke:ze.defaultNode.style.stroke,fill:ze.defaultNode.style.fill,lineWidth:ze.defaultNode.style.lineWidth},labelCfg:{style:{fill:ze.nodeLabel.style.fill,fontSize:ze.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:ze.defaultNode.linkPoints.size,lineWidth:ze.defaultNode.linkPoints.lineWidth,fill:ze.defaultNode.linkPoints.fill,stroke:ze.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:te({},ze.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:te({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.leftBottom,u=n.rightBottom,h=n.size,c=n.r,v=Zi(n,["top","left","right","leftBottom","rightBottom","size","r"]),g=this.getSize(r),C=g[0];if(s){var F=Math.cos((18+72*0)/180*Math.PI)*C,G=Math.sin((18+72*0)/180*Math.PI)*C;t.addShape("circle",{attrs:te(te({},v),{x:F,y:-G,r:h/2||c||5}),className:"link-point-right",name:"link-point-right"})}if(a){var F=Math.cos((18+72*1)/180*Math.PI)*C,G=Math.sin((18+72*1)/180*Math.PI)*C;t.addShape("circle",{attrs:te(te({},v),{x:F,y:-G,r:h/2||c||5}),className:"link-point-top",name:"link-point-top"})}if(o){var F=Math.cos((18+72*2)/180*Math.PI)*C,G=Math.sin((18+72*2)/180*Math.PI)*C;t.addShape("circle",{attrs:te(te({},v),{x:F,y:-G,r:h/2||c||5}),className:"link-point-left",name:"link-point-left"})}if(l){var F=Math.cos((18+72*3)/180*Math.PI)*C,G=Math.sin((18+72*3)/180*Math.PI)*C;t.addShape("circle",{attrs:te(te({},v),{x:F,y:-G,r:h/2||c||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(u){var F=Math.cos((18+72*4)/180*Math.PI)*C,G=Math.sin((18+72*4)/180*Math.PI)*C;t.addShape("circle",{attrs:te(te({},v),{x:F,y:-G,r:h/2||c||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(r){for(var t=this.getSize(r),e=t[0],n=e*3/8,a=r.innerR||n,o=[],s=0;s<5;s++){var l=Math.cos((18+72*s)/180*Math.PI)*e,u=Math.sin((18+72*s)/180*Math.PI)*e,h=Math.cos((54+72*s)/180*Math.PI)*a,c=Math.sin((54+72*s)/180*Math.PI)*a;s===0?o.push(["M",l,-u]):o.push(["L",l,-u]),o.push(["L",h,-c])}return o.push(["Z"]),o},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=te({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}).linkPoints,n=t.find(function(de){return de.get("className")==="link-point-left"}),a=t.find(function(de){return de.get("className")==="link-point-right"}),o=t.find(function(de){return de.get("className")==="link-point-top"}),s=t.find(function(de){return de.get("className")==="link-point-left-bottom"}),l=t.find(function(de){return de.get("className")==="link-point-right-bottom"}),u=e,h=n||a||o||s||l;h&&(u=h.attr());var c=(0,f.mix)({},u,r.linkPoints),v=c.fill,g=c.stroke,C=c.lineWidth,F=c.size/2;F||(F=c.r);var G=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},V=G.left,X=G.right,at=G.top,st=G.leftBottom,xt=G.rightBottom,kt=this.getSize(r),Gt=kt[0],Wt={r:F,fill:v,stroke:g,lineWidth:C},Yt=Math.cos((18+72*0)/180*Math.PI)*Gt,ie=Math.sin((18+72*0)/180*Math.PI)*Gt;a?!X&&X!==void 0?a.remove():a.attr(te(te({},Wt),{x:Yt,y:-ie})):X&&t.addShape("circle",{attrs:te(te({},Wt),{x:Yt,y:-ie}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),Yt=Math.cos((18+72*1)/180*Math.PI)*Gt,ie=Math.sin((18+72*1)/180*Math.PI)*Gt,o?!at&&at!==void 0?o.remove():o.attr(te(te({},Wt),{x:Yt,y:-ie})):at&&t.addShape("circle",{attrs:te(te({},Wt),{x:Yt,y:-ie}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),Yt=Math.cos((18+72*2)/180*Math.PI)*Gt,ie=Math.sin((18+72*2)/180*Math.PI)*Gt,n?!V&&V!==void 0?n.remove():n.attr(te(te({},Wt),{x:Yt,y:-ie})):V&&t.addShape("circle",{attrs:te(te({},Wt),{x:Yt,y:-ie}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),Yt=Math.cos((18+72*3)/180*Math.PI)*Gt,ie=Math.sin((18+72*3)/180*Math.PI)*Gt,s?!st&&st!==void 0?s.remove():s.attr(te(te({},Wt),{x:Yt,y:-ie})):st&&t.addShape("circle",{attrs:te(te({},Wt),{x:Yt,y:-ie}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),Yt=Math.cos((18+72*4)/180*Math.PI)*Gt,ie=Math.sin((18+72*4)/180*Math.PI)*Gt,l?!xt&&xt!==void 0?s.remove():l.attr(te(te({},Wt),{x:Yt,y:-ie})):xt&&t.addShape("circle",{attrs:te(te({},Wt),{x:Yt,y:-ie}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node"),ti.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r);delete n.fill;var a=t.addShape(e,{attrs:n,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(r,a),a},drawClip:function(r,t){var e=this.getOptions(r).clipCfg;if(!!e.show){var n=e.type,a=e.x,o=e.y,s=e.style;if(n==="circle"){var l=e.r;t.setClip({type:"circle",attrs:te({r:l,x:a,y:o},s)})}else if(n==="rect"){var u=e.width,h=e.height,c=a-u/2,v=o-h/2;t.setClip({type:"rect",attrs:te({x:c,y:v,width:u,height:h},s)})}else if(n==="ellipse"){var g=e.rx,C=e.ry;t.setClip({type:"ellipse",attrs:te({x:a,y:o,rx:g,ry:C},s)})}else if(n==="polygon"){var F=e.points;t.setClip({type:"polygon",attrs:te({points:F},s)})}else if(n==="path"){var G=e.path;t.setClip({type:"path",attrs:te({path:G},s)})}}},getShapeStyle:function(r){var t=this.getOptions(r).style,e=this.getSize(r),n=this.getOptions(r).img,a=e[0],o=e[1];t&&(a=t.width||e[0],o=t.height||e[1]);var s=te({x:-a/2,y:-o/2,width:a,height:o,img:n},t);return s},updateShapeStyle:function(r,t){var e=t.getContainer(),n=this.itemType+"-shape",a=e.find(function(s){return s.get("className")===n})||t.getKeyShape(),o=this.getShapeStyle(r);a&&a.attr(o)}},"single-node");function Zu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zu=function(t){return typeof t}:Zu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(i)}var Ku=function(r){var t=r.x,e=r.y;return{x:t,y:e,centerX:t,centerY:e,minX:t,minY:e,maxX:t,maxY:e,height:0,width:0}},G6=function(r){r===void 0&&(r=[]);var t=[],e=[];r.forEach(function(l){t.push(l.x),e.push(l.y)});var n=Math.min.apply(Math,t),a=Math.max.apply(Math,t),o=Math.min.apply(Math,e),s=Math.max.apply(Math,e);return{centerX:(n+a)/2,centerY:(o+s)/2,maxX:a,maxY:s,minX:n,minY:o,height:s-o,width:a-n}},D1=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},_c=function(r){var t=[],e={};return r.forEach(function(n){var a=n.x+"-"+n.y;n.id=a,e[a]=n}),(0,f.each)(e,function(n){t.push(n)}),t},$u=function(r){return r=_c(r),r},F1=function(r,t){return[r,{x:r.x,y:t.y},t]},Qu=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},z6=function(r,t){var e=Math.abs(r.x-t.centerX),n=Math.abs(r.y-t.centerY);return e/t.width>n/t.height},Lc=function(r,t){var e=z6(t,r);return e?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},Ic=function(r,t){var e=Math.min(r.minX,t.minX),n=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),o=Math.max(r.maxY,t.maxY);return{centerX:(e+a)/2,centerY:(n+o)/2,minX:e,minY:n,maxX:a,maxY:o,height:o-n,width:a-e}},Oc=function(r){var t=r.minX,e=r.minY,n=r.maxX,a=r.maxY;return[{x:t,y:e},{x:n,y:e},{x:n,y:a},{x:t,y:a}]},Ju=function(r,t){var e=r.x,n=r.y;return e<t.minX||e>t.maxX||n<t.minY||n>t.maxY},X6=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},V6=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},H6=function(r,t){return X6(r,t.x).concat(V6(r,t.y))},tl=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},W6=function(r,t){var e=-2,n=0;return t.forEach(function(a){a&&(r.x===a.x&&(n+=e),r.y===a.y&&(n+=e))}),n},R1=function(r,t,e,n,a){return tl(r,t)+tl(r,e)+W6(r,[t,e,n,a])},j6=function i(r,t,e,n,a){a===void 0&&(a=0),r.unshift(t[n]),e[n]&&e[n]!==n&&a<=100&&i(r,t,e,e[n],a+1)},U6=function(r,t){var e=r.indexOf(t);e>-1&&r.splice(e,1)},qu=function(r,t,e,n){var a=t.x-r.x,o=t.y-r.y,s=n.x-e.x,l=n.y-e.y,u=(-o*(r.x-e.x)+a*(r.y-e.y))/(-s*o+a*l),h=(s*(r.y-e.y)-l*(r.x-e.x))/(-s*o+a*l);return u>=0&&u<=1&&h>=0&&h<=1},kc=function(r,t,e){if(e.width===0&&e.height===0)return!1;var n=Oc(e),a=n[0],o=n[1],s=n[2],l=n[3];return qu(r,t,a,o)||qu(r,t,a,l)||qu(r,t,o,s)||qu(r,t,s,l)},Z6=function(r,t,e,n){var a=[];return r.forEach(function(o){o!==t&&(o.x===t.x||o.y===t.y)&&!kc(o,t,e)&&!kc(o,t,n)&&a.push(o)}),_c(a)},K6=function(r,t,e,n,a,o,s){var l=[],u=[t],h={},c={},v={};c[t.id]=0,v[t.id]=R1(t,e,t);var g={};r.forEach(function(G){g[G.id]=G});for(var C=function(){var V,X=Infinity;if(u.forEach(function(st){v[st.id]<X&&(X=v[st.id],V=st)}),V===e){var at=[];return j6(at,g,h,e.id),{value:at}}U6(u,V),l.push(V),Z6(r,V,n,a).forEach(function(st){if(l.indexOf(st)===-1){u.indexOf(st)===-1&&u.push(st);var xt=v[V.id]+tl(V,st);c[st.id]&&xt>=c[st.id]||(h[st.id]=V.id,c[st.id]=xt,v[st.id]=c[st.id]+R1(st,e,t,o,s))}})};u.length;){var F=C();if(Zu(F)==="object")return F.value}return[t,e]},$6=function(r,t,e){return!(r.x===t.x&&t.x===e.x||r.y===t.y&&t.y===e.y)},Q6=function(r,t,e,n){var a=tl(r,t),o=tl(e,t);a<n&&(n=a),o<n&&(n=o);var s={x:t.x-n/a*(t.x-r.x),y:t.y-n/a*(t.y-r.y)},l={x:t.x-n/o*(t.x-e.x),y:t.y-n/o*(t.y-e.y)};return[s,l]},N1=function(r,t){var e=[],n=r[0];return e.push("M"+n.x+" "+n.y),r.forEach(function(a,o){var s=r[o+1],l=r[o+2];if(s&&l)if($6(a,s,l)){var u=Q6(a,s,l,t),h=u[0],c=u[1];e.push("L"+h.x+" "+h.y),e.push("Q"+s.x+" "+s.y+" "+c.x+" "+c.y),e.push("L"+c.x+" "+c.y)}else e.push("L"+s.x+" "+s.y);else s&&e.push("L"+s.x+" "+s.y)}),e.join("")},J6=function(r,t,e,n,a){var o,s;if(!e||!e.getType())o=Ku(r);else if(e.getType()==="combo"){var l=e.getKeyShape();o=l.getCanvasBBox()||Ku(r),o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=e.getBBox();if(!n||!n.getType())s=Ku(t);else if(n.getType()==="combo"){var u=n.getKeyShape();s=u.getCanvasBBox()||Ku(t),s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=n&&n.getBBox();if(D1(o,s))return $u(F1(r,t));var h=Qu(o,a),c=Qu(s,a);if(D1(h,c))return $u(F1(r,t));var v=Lc(h,r),g=Lc(c,t),C=G6([v,g]),F=Ic(h,c),G=Ic(h,C),V=Ic(c,C),X=[];X=X.concat(Oc(G)),X=X.concat(Oc(V));var at={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[C,G,V].forEach(function(xt){X=X.concat(H6(xt,at).filter(function(kt){return Ju(kt,h)&&Ju(kt,c)}))}),[{x:v.x,y:g.y},{x:g.x,y:v.y}].forEach(function(xt){Ju(xt,h)&&Ju(xt,c)&&X.push(xt)}),X.unshift(v),X.push(g),X=_c(X);var st=K6(X,v,g,o,s,r,t);return st.unshift(r),st.push(t),$u(st)};function tf(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tf=function(t){return typeof t}:tf=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(i)}var q6=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},t8=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},e8=function(r,t){return[r,t]},r8=function(r,t,e,n,a){return $u(J6(r,t,e,n,a.offset))},n8={offset:20,maxAllowedDirectionChange:90,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:q6,fallbackRoute:r8},Lz={maxAllowedDirectionChange:45,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:t8,fallbackRoute:e8},xa=function(r,t){var e=Math.floor(r/t);return e<0?0:e},i8=function(r,t,e){var n={};return r.forEach(function(a){if(a)for(var o=Qu(a.getBBox(),e),s=xa(o.minX,t);s<=xa(o.maxX,t);s+=1)for(var l=xa(o.minY,t);l<=xa(o.maxY,t);l+=1){var u=s+"-"+l;n[u]=!0}}),n},Bc=function(r,t){var e=t.x-r.x,n=t.y-r.y;if(!e&&!n)return 0;var a=(360+Math.atan2(n,e)*180/Math.PI)%360;return a},Y1=function(r,t){var e=Math.abs(r-t);return e>180?360-e:e},G1=function(r,t,e){for(var n=Infinity,a=0,o=t.length;a<o;a++){var s=e(r,t[a]);s<n&&(n=s)}return n},z1=function(r,t,e){var n=[];if(!t)return n;var a=e.directions,o=e.offset,s=t.getBBox(),l=Qu(t.getBBox(),o);for(var u in l)l[u]=xa(l[u],e.gridSize);var h=r.x>xa(s.minX,e.gridSize)&&r.x<xa(s.maxX,e.gridSize)&&r.y>xa(s.minY,e.gridSize)&&r.y<xa(s.maxY,e.gridSize);if(h)for(var c=0,v=a;c<v.length;c++)for(var g=v[c],C=[[{x:l.minX,y:l.minY},{x:l.maxX,y:l.minY}],[{x:l.minX,y:l.minY},{x:l.minX,y:l.maxY}],[{x:l.maxX,y:l.minY},{x:l.maxX,y:l.maxY}],[{x:l.minX,y:l.maxY},{x:l.maxX,y:l.maxY}]],u=0;u<4;u++){var F=C[u],G=Xs(r,{x:r.x+g.stepX*l.width,y:r.y+g.stepY*l.height},F[0],F[1]);G&&!kc(r,G,t.getBBox())&&(G.id=G.x+"-"+G.y,n.push(G))}else{var G=Lc(l,r);G.id=G.x+"-"+G.y,n.push(G)}return n},X1=function(r,t,e,n,a){var o=(0,Yi.default)(n8,a);o.obstacles=o.obstacles||[];var s=i8(o.obstacles.concat([e,n]),o.gridSize,o.offset),l={x:xa(r.x,o.gridSize),y:xa(r.y,o.gridSize)},u={x:xa(t.x,o.gridSize),y:xa(t.y,o.gridSize)};r.id=l.x+"-"+l.y,t.id=u.x+"-"+u.y;var h=z1(l,e,o),c=z1(u,n,o);h.forEach(function(Wt){delete s[Wt.id]}),c.forEach(function(Wt){delete s[Wt.id]});for(var v={},g={},C={},F={},G={},V=0;V<h.length;V++){var X=h[V];v[X.id]=X,F[X.id]=0,G[X.id]=G1(X,c,o.distFunc)}for(var at=function(Yt,ie){var de=Bc(Yt,ie),he;if(C[Yt.id]){var Ie=Bc({x:parseFloat(C[Yt.id].split("-")[0]),y:parseFloat(C[Yt.id].split("-")[1])},Yt);he=Y1(Ie,de)}else{var Ee=Bc(l,Yt);he=Y1(Ee,de)}return he},st=function(Yt){var ie=[t],de={x:parseFloat(Yt.split("-")[0]),y:parseFloat(Yt.split("-")[1]),id:Yt};for(at(de,u)&&ie.unshift({x:de.x===u.x?t.x:de.x*o.gridSize,y:de.y===u.y?t.y:de.y*o.gridSize});C[Yt]&&C[Yt]!==Yt;){var he={x:parseFloat(Yt.split("-")[0]),y:parseFloat(Yt.split("-")[1]),id:Yt},Ee=C[Yt],Ie={x:parseFloat(Ee.split("-")[0]),y:parseFloat(Ee.split("-")[1]),id:Ee},Le=at(Ie,he);Le&&ie.unshift({x:Ie.x===he.x?ie[0].x:Ie.x*o.gridSize,y:Ie.y===he.y?ie[0].y:Ie.y*o.gridSize}),Yt=Ee}var He={x:parseFloat(Yt.split("-")[0]),y:parseFloat(Yt.split("-")[1]),id:Yt};return ie[0].x=He.x===l.x?r.x:ie[0].x,ie[0].y=He.y===l.y?r.y:ie[0].y,ie.unshift(r),ie},xt=o.maximumLoops,kt=function(){var Yt,ie=Infinity;for(var de in v)G[de]<=ie&&(ie=G[de],Yt=v[de]);if(!Yt)return"break";if(c.findIndex(function(Xe){return Xe.x===Yt.x&&Xe.y===Yt.y})>-1){var he=st(Yt.id);return{value:he}}delete v[Yt.id],g[Yt.id]=!0;for(var Ee=0;Ee<o.directions.length;Ee++){var Ie=o.directions[Ee],Le={x:Yt.x+Ie.stepX,y:Yt.y+Ie.stepY,id:Yt.x+Ie.stepX+"-"+(Yt.y+Ie.stepY)};if(!g[Le.id]){var He=at(Yt,Le);if(!(He>o.maxAllowedDirectionChange)&&!s[Le.id]){v[Le.id]||(v[Le.id]=Le);var je=o.distFunc(Yt,Le)+(isNaN(o.penalties[He])?o.gridSize:o.penalties[He]),Ke=F[Yt.id]+je;F[Le.id]&&Ke>=F[Le.id]||(C[Le.id]=Yt.id,F[Le.id]=Ke,G[Le.id]=Ke+G1(Le,c,o.distFunc))}}}xt-=1};Object.keys(v).length>0&&xt>0;){var Gt=kt();if(tf(Gt)==="object")return Gt.value;if(Gt==="break")break}return o.fallbackRoute(r,t,e,n,o)};ti.registerEdge("polyline",{options:{color:ze.defaultEdge.color,size:ze.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:ze.defaultEdge.style.stroke,lineAppendWidth:ze.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:ze.edgeLabel.style.fill,fontSize:ze.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:90,maximumLoops:1e3,gridSize:10},stateStyles:te({},ze.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r);e.radius===0&&delete e.radius;var n=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:e});return n},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,f.mix)({},t,e,r.style);r=this.getPathPoints(r),this.radius=n.radius,this.offset=n.offset;var a=r.startPoint,o=r.endPoint,s=this.getControlPoints(r),l=[a];s&&(l=l.concat(s)),l.push(o);var u=r.sourceNode,h=r.targetNode,c=n.radius,v=this.options.routeCfg;v.offset=n.offset;var g=this.getPath(l,u,h,c,v);((0,f.isArray)(g)&&g.length<=1||(0,f.isString)(g)&&g.indexOf("L")===-1)&&(g="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(o.x)||isNaN(o.y))&&(g="M0 0, L0 0");var C=(0,f.mix)({},ze.defaultEdge.style,n,{lineWidth:r.size,path:g});return C},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(X){return X.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,u=this.getControlPoints(r),h=[s];u&&(h=h.concat(u)),h.push(l);var c=(0,f.mix)({},n,a.attr(),r.style),v=r.sourceNode,g=r.targetNode,C=c.radius,F=this.options.routeCfg;F.offset=c.offset;var G=this.getPath(h,v,g,C,F);((0,f.isArray)(G)&&G.length<=1||(0,f.isString)(G)&&G.indexOf("L")===-1)&&(G="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(l.x)||isNaN(l.y))&&(G="M0 0, L0 0");var V=(0,f.mix)(n,a.attr(),{lineWidth:o,path:G},r.style);a&&a.attr(V)},getPath:function(r,t,e,n,a){var o=a.offset;if(!o||r.length>2){if(n)return N1(r,n);var s=[];return(0,f.each)(r,function(c,v){v===0?s.push(["M",c.x,c.y]):s.push(["L",c.x,c.y])}),s}var l;if(n){l=X1(r[0],r[r.length-1],t,e,a);var u=N1(l,n);return u}l=X1(r[0],r[r.length-1],t,e,a);var h=mx(l);return h}},"single-edge");var a8={triangle:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+" L "+(n+t)+","+r/2+" Z";return a},vee:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=20),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+`
        L `+(n+2*t/3)+",0 L "+(n+t)+","+r/2+" Z";return a},circle:function(r,t){r===void 0&&(r=5),t===void 0&&(t=0);var e=t*2,n="M "+e+`, 0
            a `+r+","+r+" 0 1,0 "+r*2+`,0
            a `+r+","+r+" 0 1,0 "+-r*2+",0";return n},rect:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=10),e===void 0&&(e=0);var n=e*2,a="M "+n+","+-r/2+` 
        L `+(n+t)+","+-r/2+` 
        L `+(n+t)+","+r/2+` 
        L `+n+","+r/2+" Z";return a},diamond:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+`,0 
        L `+(n+t/2)+","+-r/2+` 
        L `+(n+t)+`,0 
        L `+(n+t/2)+","+r/2+" Z";return a},triangleRect:function(r,t,e,n,a,o){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=15),n===void 0&&(n=3),a===void 0&&(a=5),o===void 0&&(o=0);var s=o*2,l=s+t+a,u="M "+s+",0 L "+(s+t)+",-"+r/2+" L "+(s+t)+","+r/2+` Z
            M `+l+", -"+e/2+`
            L `+(l+n)+" -"+e/2+`
            L `+(l+n)+" "+e/2+`
            L `+l+" "+e/2+`
            Z`;return u}},o8={collapse:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r+e-4,t]]},expand:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r-e+2*e-4,t],["M",r-e+e,t-e+4],["L",r,t+e-4]]},upTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t+a],["L",r+n,t+a],["L",r,t-e],["Z"]]},downTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t-a],["L",r+n,t-a],["L",r,t+e],["Z"]]}},gs=ti,s8={mat3:Na.wO,mix:Zs.default,deepMix:Yi.default,transform:Na.vs},l8=te(te(te(te(te(te({},s8),Mt),lt),q),tt),J),u8=l8,f8=function(){function i(r){this._cfgs=(0,Yi.default)(this.getDefaultCfgs(),r),this._events={},this.destroyed=!1}return i.prototype.getDefaultCfgs=function(){return{}},i.prototype.initPlugin=function(r){var t=this;t.set("graph",r);var e=t.getEvents(),n={};(0,Cn.default)(e,function(a,o){var s=(0,Mu.default)(t,a);n[o]=s,r.on(o,s)}),this._events=n,this.init()},i.prototype.init=function(){},i.prototype.getEvents=function(){return{}},i.prototype.get=function(r){return this._cfgs[r]},i.prototype.set=function(r,t){this._cfgs[r]=t},i.prototype.destroy=function(){},i.prototype.destroyPlugin=function(){this.destroy();var r=this.get("graph"),t=this._events;(0,Cn.default)(t,function(e,n){r.off(n,e)}),this._events=null,this._cfgs=null,this.destroyed=!0},i}(),$a=f8,V1="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",h8=function(i){Bn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{img:V1}},r.prototype.init=function(){var t=this.get("graph"),e=t.get("minZoom"),n=t.get("container"),a=t.get("canvas").get("el"),o=t.get("width"),s=t.get("height"),l=this.get("img")||V1,u=(0,vi.Z)(`<div class='g6-grid-container' style="position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;"></div>`),h=(0,vi.Z)(`<div 
        class='g6-grid' 
        style='position:absolute;
        transform-origin: 0% 0% 0px;
        background-image: `+l+`;
        user-select: none
        '></div>`);u.appendChild(h),(0,Tn.Z)(u,{width:o+"px",height:s+"px",left:n.offsetLeft+"px",top:n.offsetTop+"px"}),(0,Tn.Z)(h,{width:o/e+"px",height:s/e+"px",left:"0px",top:"0px"}),n.insertBefore(u,a),this.set("container",u),this.set("gridContainer",h)},r.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},r.prototype.updateGrid=function(t){var e=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var a="matrix("+n[0]+", "+n[1]+", "+n[3]+", "+n[4]+", 0, 0)";(0,Tn.Z)(e,{transform:a})},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){var t=this.get("graph"),e=t.get("container"),n=this.get("container");e.removeChild(n)},r}($a),c8=h8,v8=d(38186),Dc=d.n(v8);Dc()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var d8=function(i){Bn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},r.prototype.init=function(){var t=this.get("className"),e=(0,vi.Z)("<div class="+(t||"g6-component-contextmenu")+"></div>");(0,Tn.Z)(e,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),n.appendChild(e),this.set("menu",e)},r.prototype.onMenuShow=function(t){var e=this;if(t.preventDefault(),t.stopPropagation(),!!t.item){var n=this.get("shouldBegin");if(!!n(t)){var a=this.get("itemTypes");if(t.item&&t.item.getType&&a.indexOf(t.item.getType())===-1){e.onMenuHide();return}if(!!t.item){var o=this.get("menu"),s=this.get("getContent"),l=this.get("graph"),u=s(t,l);(0,mn.default)(u)?o.innerHTML=u:o.innerHTML=u.outerHTML,this.removeMenuEventListener();var h=this.get("handleMenuClick");if(h){var c=function(Gt){h(Gt.target,t.item,l)};this.set("handleMenuClickWrapper",c),o.addEventListener("click",c)}var v=l.get("width"),g=l.get("height"),C=o.getBoundingClientRect(),F=this.get("offsetX")||0,G=this.get("offsetY")||0,V=l.getContainer().offsetTop,X=l.getContainer().offsetLeft,at=t.canvasX+X+F,st=t.canvasY+V+G;at+C.width>v&&(at=t.canvasX-C.width-F+X),st+C.height>g&&(st=t.canvasY-C.height-G+V),(0,Tn.Z)(o,{top:st+"px",left:at+"px",visibility:"visible"});var xt=function(Gt){e.onMenuHide()};document.body.addEventListener("click",xt),this.set("handler",xt)}}}},r.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");if(t){var n=this.get("menu");n.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}e&&document.body.removeEventListener("click",e)},r.prototype.onMenuHide=function(){var t=this.get("menu");t&&(0,Tn.Z)(t,{visibility:"hidden"}),this.removeMenuEventListener()},r.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}($a),p8=d8,H1=Math.max,g8="default",y8="keyShape",m8="delegate",W1="svg",x8=function(i){Bn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.handleUpdateCanvas=(0,f.debounce)(function(e){var n=t;n.destroyed||n.updateCanvas()},100,!1),t}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.size,a=e.graph;if(!this.destroyed){var o=this.get("canvas"),s=o.get("container"),l=(0,vi.Z)(`
      <div
        class=`+e.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          border: 2px solid #1980ff'
        draggable=true>
      </div>`),u=0,h=0,c=!1,v=0,g=0,C=0,F=0,G=0,V=0;l.addEventListener("dragstart",function(X){if(X.dataTransfer){var at=new Image;at.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",X.dataTransfer.setDragImage(at,0,0),X.dataTransfer.setData("text","view-port-minimap")}if(e.refresh=!1,X.target===l){var st=l.style;v=parseInt(st.left,10),g=parseInt(st.top,10),C=parseInt(st.width,10),F=parseInt(st.height,10),!(C>n[0]||F>n[1])&&(V=a.getZoom(),G=t.get("ratio"),c=!0,u=X.clientX,h=X.clientY)}},!1),l.addEventListener("drag",function(X){if(!(!c||(0,Ii.default)(X.clientX)||(0,Ii.default)(X.clientY))){var at=u-X.clientX,st=h-X.clientY;(v-at<0||v-at+C>=n[0])&&(at=0),(g-st<0||g-st+F>=n[1])&&(st=0),v-=at,g-=st,(0,Tn.Z)(l,{left:v+"px",top:g+"px"}),a.translate(at*V/G,st*V/G),u=X.clientX,h=X.clientY}},!1),l.addEventListener("dragend",function(){c=!1,e.refresh=!0},!1),this.set("viewport",l),s.appendChild(l)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("dx"),n=this.get("dy"),a=this.get("totaldx"),o=this.get("totaldy"),s=this.get("graph"),l=this.get("size"),u=s.get("width"),h=s.get("height"),c=s.getPointByCanvas(0,0),v=s.getPointByCanvas(u,h),g=this.get("viewport");g||this.initViewport();var C=s.getZoom(),F=(v.x-c.x)*t,G=(v.y-c.y)*t,V=c.x*t+a,X=c.y*t+o,at=V+F,st=X+G;V<0&&(F+=V,V=0),at>l[0]&&(F=F-(at-l[0])),X<0&&(G+=X,X=0),st>l[1]&&(G=G-(st-l[1])),this.set("ratio",t);var xt=V+"px",kt=X+"px";(0,Tn.Z)(g,{left:xt,top:kt,width:F+"px",height:G+"px"})}},r.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,e=this.get("canvas"),n=t.get("group");if(!n.destroyed){var a=n.clone();a.resetMatrix(),e.clear(),e.add(a);var o=t.get("renderer");o===W1&&this.updateVisible(a)}},r.prototype.updateVisible=function(t){var e=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var n=t.get("children");if(!n||!n.length)return;n.forEach(function(a){a.get("visible")||a.hide(),e.updateVisible(a)})}},r.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph;(0,Cn.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,Cn.default)(e.getNodes(),function(n){t.updateOneNodeKeyShape(n)}),this.clearDestroyedShapes()},r.prototype.updateOneNodeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")],s=t.getBBox(),l=t.get("keyShape").clone(),u=l.attr(),h={x:s.centerX,y:s.centerY};o?h=Object.assign(u,h):(o=l,n.add(o));var c=o.get("type");(c==="rect"||c==="image")&&(h.x=s.minX,h.y=s.minY),o.attr(h),t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph;(0,Cn.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,Cn.default)(e.getNodes(),function(n){t.updateOneNodeDelegateShape(n)}),this.clearDestroyedShapes()},r.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(!(!e||e.length===0))for(var n=e.length-1;n>=0;n--){var a=t[e[n]],o=a.exist;a.exist=!1,o||(a.remove(),delete t[e[n]])}},r.prototype.updateOneEdgeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")];if(o){var s=t.get("keyShape").attr("path");o.attr("path",s)}else o=t.get("keyShape").clone(),n.add(o),o.toBack();t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateOneNodeDelegateShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("delegateStyle"),o=this.get("itemMap")||{},s=o[t.get("id")],l=t.getBBox();if(s){var u={x:l.minX,y:l.minY,width:l.width,height:l.height};s.attr(u)}else s=n.addShape("rect",{attrs:te({x:l.minX,y:l.minY,width:l.width,height:l.height},a),name:"minimap-node-shape"});t.isVisible()||s.hide(),s.exist=!0,o[t.get("id")]=s,this.set("itemMap",o)},r.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=t.get("size"),a=t.get("className"),o=t.get("container"),s=(0,vi.Z)("<div class='"+a+"' style='width: "+n[0]+"px; height: "+n[1]+"px; overflow: hidden'></div>");(0,mn.default)(o)&&(o=document.getElementById(o)),o?o.appendChild(s):e.get("container").appendChild(s),t.set("container",s);var l=(0,vi.Z)('<div class="g6-minimap-container" style="position: relative;"></div>');s.appendChild(l);var u,h=e.get("renderer");h===W1?u=new js.Z({container:l,width:n[0],height:n[1]}):u=new Ho.Z({container:l,width:n[0],height:n[1]}),t.set("canvas",u),t.updateCanvas()},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("size"),a=this.get("canvas"),o=this.get("type"),s=this.get("padding");if(!a.destroyed){switch(o){case g8:this.updateGraphShapes();break;case y8:this.updateKeyShapes();break;case m8:this.updateDelegateShapes();break;default:break}var l=a.get("children")[0];if(!!l){l.resetMatrix();var u=l.getCanvasBBox(),h=e.get("canvas").getBBox(),c=h.width,v=h.height;Number.isFinite(u.width)&&(c=H1(u.width,c),v=H1(u.height,v)),c+=2*s,v+=2*s;var g=Math.min(n[0]/c,n[1]/v),C=[1,0,0,0,1,0,0,0,1],F=0,G=0;Number.isFinite(u.minX)&&(F=-u.minX),Number.isFinite(u.minY)&&(G=-u.minY);var V=(n[0]-(c-2*s)*g)/2,X=(n[1]-(v-2*s)*g)/2;C=Za(C,[["t",F,G],["s",g,g],["t",V,X]]),l.setMatrix(C),this.set("ratio",g),this.set("totaldx",V+F*g),this.set("totaldy",X+G*g),this.set("dx",V),this.set("dy",X),this.updateViewport()}}}}},r.prototype.getCanvas=function(){return this.get("canvas")},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},r}($a),b8=x8;function Qa(i,r,t){var e=i.x-r.x,n=i.y-r.y;return!t||Math.abs(e)>t||Math.abs(n)>t?Math.sqrt(e*e+n*n):t}function w8(i,r){return i.x*r.x+i.y*r.y}function j1(i,r){var t=(r.source.y-r.target.y)/(r.source.x-r.target.x),e=(t*t*r.source.x+t*(i.y-r.source.y)+i.x)/(t*t+1),n=t*(e-r.source.x)+r.source.y;return{x:e,y:n}}var S8=function(i){Bn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},r.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick"),n=function(){e&&e(),t.refreshPositions()};this.set("tick",n)},r.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var n=t.edges||[],a=t.nodes||[],o={},s=!1;if(a.forEach(function(st){(st.x===null||!st.y===null||st.x===void 0||!st.y===void 0)&&(s=!0),o[st.id]=st}),s)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",o);var l=e.get("divisions"),u=e.get("divRate"),h=e.divideEdges(l);e.set("edgePoints",h);var c=e.getEdgeBundles();e.set("edgeBundles",c);for(var v=e.get("cycles"),g=e.get("iterations"),C=e.get("iterRate"),F=e.get("lambda"),G=0;G<v;G++){for(var V=function(xt){var kt=[];n.forEach(function(Gt,Wt){if(Gt.source!==Gt.target){var Yt=o[Gt.source],ie=o[Gt.target];kt[Wt]=e.getEdgeForces({source:Yt,target:ie},Wt,l,F);for(var de=0;de<l+1;de++)h[Wt][de].x+=kt[Wt][de].x,h[Wt][de].y+=kt[Wt][de].y}})},X=0;X<g;X++)V(X);F=F/2,l*=u,g*=C,h=e.divideEdges(l),e.set("edgePoints",h)}n.forEach(function(st,xt){st.source!==st.target&&(st.shape="polyline",st.type="polyline",st.controlPoints=h[xt].slice(1,h[xt].length-1))});var at=e.get("graph");at.refresh()}},r.prototype.updateBundling=function(t){var e=this,n=t.data;if(n&&e.set("data",n),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach(function(o){e.set(o,t[o])}),t.onTick){var a=this.get("graph");e.set("tick",function(){t.onTick(),a.refresh()})}e.bundling(n)},r.prototype.divideEdges=function(t){var e=this,n=e.get("data").edges,a=e.get("nodeIdMap"),o=e.get("edgePoints");return(!o||o===void 0)&&(o=[]),n.forEach(function(s,l){(!o[l]||o[l]===void 0)&&(o[l]=[]);var u=a[s.source],h=a[s.target];if(t===1)o[l].push({x:u.x,y:u.y}),o[l].push({x:.5*(u.x+h.x),y:.5*(u.y+h.y)}),o[l].push({x:h.x,y:h.y});else{var c=0;!o[l]||o[l]===[]?c=Qa({x:u.x,y:u.y},{x:h.x,y:h.y}):c=e.getEdgeLength(o[l]);var v=c/(t+1),g=v,C=[{x:u.x,y:u.y}];o[l].forEach(function(F,G){if(G!==0){for(var V=Qa(F,o[l][G-1]);V>g;){var X=g/V,at={x:o[l][G-1].x,y:o[l][G-1].y};at.x+=X*(F.x-o[l][G-1].x),at.y+=X*(F.y-o[l][G-1].y),C.push(at),V-=g,g=v}g-=V}}),C.push({x:h.x,y:h.y}),o[l]=C}}),o},r.prototype.getEdgeLength=function(t){var e=0;return t.forEach(function(n,a){a!==0&&(e+=Qa(n,t[a-1]))}),e},r.prototype.getEdgeBundles=function(){var t=this,e=t.get("data"),n=e.edges||[],a=t.get("bundleThreshold"),o=t.get("nodeIdMap"),s=t.get("edgeBundles");return s||(s=[]),n.forEach(function(l,u){(!s[u]||s[u]===void 0)&&(s[u]=[])}),n.forEach(function(l,u){var h=o[l.source],c=o[l.target];n.forEach(function(v,g){if(!(g<=u)){var C=o[v.source],F=o[v.target],G=t.getBundleScore({source:h,target:c},{source:C,target:F});G>=a&&(s[u].push(g),s[g].push(u))}})}),s},r.prototype.getBundleScore=function(t,e){var n=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=Qa({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=Qa({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y});var a=n.getAngleScore(t,e),o=n.getScaleScore(t,e),s=n.getPositionScore(t,e),l=n.getVisibilityScore(t,e);return a*o*s*l},r.prototype.getAngleScore=function(t,e){var n=w8({x:t.vx,y:t.vy},{x:e.vx,y:e.vy});return n/(t.length*e.length)},r.prototype.getScaleScore=function(t,e){var n=(t.length+e.length)/2,a=2/(n/Math.min(t.length,e.length)+Math.max(t.length,e.length)/n);return a},r.prototype.getPositionScore=function(t,e){var n=(t.length+e.length)/2,a={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},o={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},s=Qa(a,o);return n/(n+s)},r.prototype.getVisibilityScore=function(t,e){var n=this.getEdgeVisibility(t,e),a=this.getEdgeVisibility(e,t);return n<a?n:a},r.prototype.getEdgeVisibility=function(t,e){var n=j1(e.source,t),a=j1(e.target,t),o={x:(n.x+a.x)/2,y:(n.y+a.y)/2},s={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*Qa(o,s)/Qa(n,a))},r.prototype.getEdgeForces=function(t,e,n,a){for(var o=this,s=o.get("edgePoints"),l=o.get("K"),u=l/(Qa(t.source,t.target)*(n+1)),h=[{x:0,y:0}],c=1;c<n;c++){var v={x:0,y:0},g=o.getSpringForce({pre:s[e][c-1],cur:s[e][c],next:s[e][c+1]},u),C=o.getElectrostaticForce(c,e);v.x=a*(g.x+C.x),v.y=a*(g.y+C.y),h.push(v)}return h.push({x:0,y:0}),h},r.prototype.getSpringForce=function(t,e){var n=t.pre.x+t.next.x-2*t.cur.x,a=t.pre.y+t.next.y-2*t.cur.y;return n*=e,a*=e,{x:n,y:a}},r.prototype.getElectrostaticForce=function(t,e){var n=this,a=n.get("eps"),o=n.get("edgeBundles"),s=n.get("edgePoints"),l=o[e],u={x:0,y:0};return l.forEach(function(h){var c={x:s[h][t].x-s[e][t].x,y:s[h][t].y-s[e][t].y};if(Math.abs(c.x)>a||Math.abs(c.y)>a){var v=Qa(s[h][t],s[e][t]),g=1/v;u.x+=c.x*g,u.y+=c.y*g}}),u},r.prototype.isTicking=function(){return this.get("ticking")},r.prototype.getSimulation=function(){return this.get("forceSimulation")},r.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),i.prototype.destroy.call(this)},r}($a),C8=S8,ef=.05,U1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},M8=function(i){Bn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,jn.d9)(U1),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},r.prototype.init=function(){var t=this,e=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",e*e);var n=t.get("d");t.set("molecularParam",(n+1)*e)},r.prototype.createDelegate=function(t){var e=this,n=this,a=n.get("delegate");(!a||a.destroyed)&&(n.magnify(t),a=n.get("delegate"),a.on("dragstart",function(o){n.set("delegateCenterDiff",{x:a.attr("x")-o.x,y:a.attr("y")-o.y})}),a.on("drag",function(o){n.magnify(o)}),this.get("scaleDBy")==="wheel"&&a.on("mousewheel",function(o){e.scaleDByWheel(o)}),this.get("scaleRBy")==="wheel"&&a.on("mousewheel",function(o){n.scaleRByWheel(o)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-ef:a=1/(1-ef);var u=e.get("maxR"),h=e.get("minR"),c=e.get("r");(c>(u||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,e.set("r",c),e.set("r2",c*c);var v=e.get("d");e.set("molecularParam",(v+1)*c),e.set("delegateCenterDiff",void 0),e.magnify(t,l)}},r.prototype.scaleRByDrag=function(t){var e=this;if(!!t){var n=e.get("dragPrePos"),a=e.get("graph"),o,s=a.getPointByClient(t.clientX,t.clientY);t.x-n.x<0?o=1-ef:o=1/(1-ef);var l=e.get("maxR"),u=e.get("minR"),h=e.get("r");(h>(l||a.get("height"))&&o>1||h<(u||a.get("height")*.05)&&o<1)&&(o=1),h*=o,e.set("r",h),e.set("r2",h*h);var c=e.get("d");e.set("molecularParam",(c+1)*h),e.magnify(t,s),e.set("dragPrePos",{x:t.x,y:t.y})}},r.prototype.scaleDByWheel=function(t){var e=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=0;t.originalEvent.wheelDelta<0?n=-.1:n=.1;var a=e.get("d"),o=a+n,s=e.get("maxD"),l=e.get("minD");if(o<s&&o>l){e.set("d",o);var u=e.get("r");e.set("molecularParam",(o+1)*u);var h=e.get("delegate"),c=h?{x:h.attr("x"),y:h.attr("y")}:void 0;e.set("delegateCenterDiff",void 0),e.magnify(t,c)}}},r.prototype.scaleDByDrag=function(t){var e=this,n=e.get("dragPrePos"),a=t.x-n.x>0?.1:-.1,o=e.get("d"),s=o+a,l=e.get("maxD"),u=e.get("minD");if(s<l&&s>u){e.set("d",s);var h=e.get("r");e.set("molecularParam",(s+1)*h),e.magnify(t)}e.set("dragPrePos",{x:t.x,y:t.y})},r.prototype.magnify=function(t,e){var n=this;n.restoreCache();var a=n.get("graph"),o=n.get("cachedMagnifiedModels"),s=n.get("cachedOriginPositions"),l=n.get("showLabel"),u=n.get("r"),h=n.get("r2"),c=n.get("d"),v=n.get("molecularParam"),g=a.getNodes(),C=g.length,F=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};n.get("dragging")&&(n.get("trigger")==="mousemove"||n.get("trigger")==="click")&&(F=n.get("cacheCenter"));var G=n.get("delegateCenterDiff");G&&(F.x+=G.x,F.y+=G.y),n.updateDelegate(F,u);for(var V=0;V<C;V++){var X=g[V].getModel(),at=X.x,st=X.y;if(!(isNaN(at)||isNaN(st))){var xt=(at-F.x)*(at-F.x)+(st-F.y)*(st-F.y);if(!isNaN(xt)&&xt<h&&xt!==0){var kt=Math.sqrt(xt),Gt=v*kt/(c*kt+u),Wt=(at-F.x)/kt,Yt=(st-F.y)/kt;if(X.x=Wt*Gt+F.x,X.y=Yt*Gt+F.y,s[X.id]||(s[X.id]={x:at,y:st,texts:[]}),o.push(X),l&&2*kt<u)for(var ie=g[V],de=ie.getContainer(),he=de.getChildren(),Ee=he.length,Ie=0;Ie<Ee;Ie++){var Le=he[Ie];Le.get("type")==="text"&&(s[X.id].texts.push({visible:Le.get("visible"),shape:Le}),Le.set("visible",!0))}}}}a.refreshPositions()},r.prototype.restoreCache=function(){for(var t=this,e=t.get("cachedMagnifiedModels"),n=t.get("cachedOriginPositions"),a=e.length,o=0;o<a;o++){var s=e[o],l=s.id,u=n[l];s.x=u.x,s.y=u.y;for(var h=u.texts.length,c=0;c<h;c++){var v=u.texts[c];v.shape.set("visible",v.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.d,o=t.trigger,s=t.minD,l=t.maxD,u=t.minR,h=t.maxR,c=t.scaleDBy,v=t.scaleRBy;isNaN(t.r)||(e.set("r",n),e.set("r2",n*n)),isNaN(a)||e.set("d",a),isNaN(l)||e.set("maxD",l),isNaN(s)||e.set("minD",s),isNaN(h)||e.set("maxR",h),isNaN(u)||e.set("minR",u);var g=e.get("d"),C=e.get("r");if(e.set("molecularParam",(g+1)*C),(o==="mousemove"||o==="click"||o==="drag")&&e.set("trigger",o),c==="drag"||c==="wheel"||c==="unset"){e.set("scaleDBy",c),e.get("delegate").remove(),e.get("delegate").destroy();var F=e.get("dPercentText");F&&(F.remove(),F.destroy())}if(v==="drag"||v==="wheel"||v==="unset"){e.set("scaleRBy",v),e.get("delegate").remove(),e.get("delegate").destroy();var F=e.get("dPercentText");F&&(F.remove(),F.destroy())}},r.prototype.updateDelegate=function(t,e){var n=this,a=this,o=a.get("graph"),s=a.get("delegate");if(!s||s.destroyed){var l=o.get("group"),u=a.get("delegateStyle")||U1;s=l.addShape("circle",{attrs:te({r:e/1.5,x:t.x,y:t.y},u),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?s.on("mousewheel",function(C){a.scaleRByWheel(C)}):this.get("scaleRBy")==="drag"&&(s.on("dragstart",function(C){a.set("dragging",!0),a.set("cacheCenter",{x:C.x,y:C.y}),a.set("dragPrePos",{x:C.x,y:C.y})}),s.on("drag",function(C){a.scaleRByDrag(C)}),s.on("dragend",function(C){a.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?s.on("mousewheel",function(C){n.scaleDByWheel(C)}):this.get("scaleDBy")==="drag"&&(s.on("dragstart",function(C){a.set("dragging",!0),a.set("cacheCenter",{x:C.x,y:C.y}),a.set("dragPrePos",{x:C.x,y:C.y})}),s.on("drag",function(C){n.scaleDByDrag(C)}),s.on("dragend",function(C){a.set("dragging",!1)})))}else s.attr({x:t.x,y:t.y,r:e/1.5});if(a.get("showDPercent")){var h=Math.round((a.get("d")-a.get("minD"))/(a.get("maxD")-a.get("minD"))*100),c=a.get("dPercentText"),v=t.y+e/1.5+16;if(!c||c.destroyed){var g=o.get("group");c=g.addShape("text",{attrs:{text:h+"%",x:t.x,y:v,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),a.set("dPercentText",c)}else c.attr({text:h+"%",x:t.x,y:v})}a.set("delegate",s)},r.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}($a),E8=M8;Dc()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var A8=function(i){Bn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `}}},r.prototype.init=function(){var t=this,e=this.get("graph"),n=this.get("getContent"),a=n(e),o=a;(0,jn.HD)(a)&&(o=(0,vi.Z)(a));var s=this.get("className");o.setAttribute("class",s||"g6-component-toolbar");var l=this.get("container");l||(l=this.get("graph").get("container")),l.appendChild(o),this.set("toolBar",o);var u=this.get("handleClick");o.addEventListener("click",function(c){var v=c.path.filter(function(C){return C.nodeName==="LI"});if(v.length!==0){var g=v[0].getAttribute("code");!g||(u?u(g,e):t.handleDefaultOperator(g,e))}});var h=this.get("position");h&&(0,Tn.Z)(o,{top:h.y+"px",left:h.x+"px"}),this.bindUndoRedo()},r.prototype.bindUndoRedo=function(){var t=this.get("graph"),e=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),a=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!e||!n||!a||!o||t.on("stackchange",function(s){var l=s.undoStack,u=s.redoStack,h=l.length,c=u.length;h===1?(e.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(e.removeAttribute("style"),n.removeAttribute("style")),c===0?(a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(a.removeAttribute("style"),o.removeAttribute("style"))})},r.prototype.undo=function(){var t=this.get("graph"),e=t.getUndoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action;t.pushStack(a,(0,jn.d9)(n.data),"redo");var o=n.data.before;if(a==="add"&&(o=n.data.after),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=t.findById(u.id);u.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.updateItem(u.id,u,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=u.itemType;delete u.itemType,t.addItem(h,u,!1)})});break}case"add":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.removeItem(u.id,!1)})});break;default:}}}},r.prototype.redo=function(){var t=this.get("graph"),e=t.getRedoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action,o=n.data.after;if(t.pushStack(a,(0,jn.d9)(n.data)),a==="delete"&&(o=n.data.before),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=t.findById(u.id);u.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.updateItem(u.id,u,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach(function(s){t.removeItem(s.id,!1)}),o.nodes&&o.nodes.forEach(function(s){t.removeItem(s.id,!1)}),o.combos&&o.combos.forEach(function(s){t.removeItem(s.id,!1)});break;case"add":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=u.itemType;delete u.itemType,t.addItem(h,u,!1)})});break}default:}}}},r.prototype.handleDefaultOperator=function(t,e){var n=e.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":{var a=1+.05*5;if(a*n>5)return;e.zoomTo(n*1.1);break}case"zoomIn":{var o=1-.05*5;if(o*n<.3)return;e.zoomTo(n*.9);break}case"realZoom":e.zoomTo(1);break;case"autoZoom":e.fitView([20,20]);break;default:}},r.prototype.destroy=function(){var t=this.get("toolBar");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},r}($a),T8=A8;Dc()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var P8=function(i){Bn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+e.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+e.item.getID()+`</span>
        `},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},r.prototype.init=function(){var t=this.get("className")||"g6-component-tooltip",e=(0,vi.Z)("<div class="+t+"></div>"),n=this.get("container");n||(n=this.get("graph").get("container")),(0,Tn.Z)(e,{position:"absolute",visibility:"hidden"}),n.appendChild(e),this.set("tooltip",e)},r.prototype.onMouseEnter=function(t){var e=this.get("itemTypes");if(!(t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"})}},r.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},r.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},r.prototype.showTooltip=function(t){if(!!t.item){var e=this.get("itemTypes");if(!(t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=this.get("tooltip"),a=this.get("getContent"),o=a(t);(0,mn.default)(o)?n.innerHTML=o:n.innerHTML=o.outerHTML,this.updatePosition(t)}}},r.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&(0,Tn.Z)(t,{visibility:"hidden"})},r.prototype.updatePosition=function(t){var e=this.get("shouldBegin"),n=this.get("tooltip");if(!e(t)){(0,Tn.Z)(n,{visibility:"hidden"});return}var a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=this.get("offsetX")||0,u=this.get("offsetY")||0,h=a.getPointByClient(t.clientX,t.clientY),c=a.getCanvasByPoint(h.x,h.y),v=c.x,g=c.y;v+=l,g+=u;var C=n.getBoundingClientRect();v+C.width>o&&(v=v-C.width-l),g+C.height>s&&(g=g-C.height-u),(0,Tn.Z)(n,{left:v+"px",top:g+"px",visibility:"visible"})},r.prototype.hide=function(){this.onMouseLeave()},r.prototype.destroy=function(){var t=this.get("tooltip");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}($a),_8=P8,Z1=d(89539);function L8(i){return(0,f.map)(i,function(r,t){var e=t===0?"M":"L",n=r[0],a=r[1];return[e,n,a]})}function K1(i){return L8(i)}function I8(i){if(i.length<=2)return K1(i);var r=[];(0,f.each)(i,function(o){(0,f.isEqual)(o,r.slice(r.length-2))||r.push(o[0],o[1])});var t=pl.catmullRom2Bezier(r,!1),e=(0,f.head)(i),n=e[0],a=e[1];return t.unshift(["M",n,a]),t}function O8(i,r,t,e){e===void 0&&(e=!0);var n=new Yr.Linear({values:i}),a=new Yr.Category({values:(0,f.map)(i,function(s,l){return l})}),o=(0,f.map)(i,function(s,l){return[a.scale(l)*r,t-n.scale(s)*t]});return e?I8(o):K1(o)}function k8(i,r,t){for(var e=new Yr.Linear({values:i}),n=new Yr.Category({values:(0,f.map)(i,function(c,v){return v})}),a=(0,f.map)(i,function(c,v){return[n.scale(v)*r,t-e.scale(c)*t]}),o=[],s=0;s<a.length;s++){var l=a[s],u={x:l[0],y:l[1],y0:t,size:5},h=F8(u);o.push.apply(o,h)}return R8(o)}function B8(i,r){var t=new Yr.Linear({values:i}),e=Math.max(0,t.min);return r-t.scale(e)*r}function D8(i,r,t,e){var n=zs(i),a=B8(e,t);return n.push(["L",r,a]),n.push(["L",0,a]),n.push(["Z"]),n}function F8(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,Z1.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s,l;(0,Z1.isArray)(r)?(s=r[0],l=r[1]):(s=r-n/2,l=r+n/2);var u=[{x:s,y:a},{x:s,y:o}];return u.push({x:l,y:o},{x:l,y:a}),u}function R8(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}var Iz={opacity:.5},N8={stroke:"#C5C5C5",strokeOpacity:.85},Y8={fill:"#CACED4",opacity:.85},G8=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.width,s=o===void 0?200:o,l=r.height,u=l===void 0?26:l,h=r.smooth,c=h===void 0?!0:h,v=r.isArea,g=v===void 0?!1:v,C=r.data,F=C===void 0?[]:C,G=r.lineStyle,V=r.areaStyle,X=r.group,at=r.interval,st=at===void 0?null:at;this.group=X,this.x=e,this.y=a,this.width=s,this.height=u,this.data=F,this.smooth=c,this.isArea=g,this.lineStyle=Object.assign({},N8,G),this.areaStyle=Object.assign({},Y8,V),this.intervalConfig=st,this.renderLine()}return i.prototype.renderLine=function(){var r=this,t=r.x,e=r.y,n=r.width,a=r.height,o=r.data,s=r.smooth,l=r.isArea,u=r.backgroundStyle,h=r.lineStyle,c=r.areaStyle,v=this.group.addGroup({name:"trend-group"});if(o){var g=O8(o,n,a,s);if(v.addShape("path",{attrs:te({path:g},h)}),l){var C=D8(g,n,a,o);v.addShape("path",{attrs:te({path:C},c)})}}this.intervalConfig&&v.addShape("path",{attrs:te({path:k8(this.intervalConfig.data,n,a)},this.intervalConfig.style)}),v.move(t,e)},i.prototype.destory=function(){this.group.destroy()},i}(),z8=G8,X8={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},V8={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},H8=function(){function i(r){var t=r.group,e=r.name,n=r.type,a=r.x,o=a===void 0?0:a,s=r.y,l=s===void 0?0:s,u=r.width,h=u===void 0?2:u,c=r.height,v=c===void 0?24:c,g=r.style,C=g===void 0?{}:g;this.group=t,this.name=e,this.handleType=n,this.x=o,this.y=l,this.width=h,this.height=v,n==="trend"?this.style=te(te({},X8),C):n==="simple"&&(this.style=te(te({},V8),C)),this.renderHandle()}return i.prototype.setX=function(r){this.setXY(r,void 0)},i.prototype.setY=function(r){this.setXY(void 0,r)},i.prototype.setXY=function(r,t){(0,f.isNumber)(r)&&(this.x=r),(0,f.isNumber)(t)&&(this.y=t),this.updateXY()},i.prototype.renderHandle=function(){var r=this,t=r.width,e=r.height,n=r.style,a=r.name,o=n.fill,s=n.stroke,l=n.radius,u=n.opacity,h=n.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.background=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:e,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"})):this.handleType==="simple"&&(this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"})),this.updateXY(),this.handleType==="trend"&&this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var e=r.style.highLightFill;r.background.attr("fill",e)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var e=r.style.fill;r.background.attr("fill",e)})},i.prototype.show=function(){this.handleGroup.show()},i.prototype.hide=function(){this.handleGroup.hide()},i.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},i}(),$1=H8,W8=function(){function i(r){this.config=(0,f.deepMix)({},r),this.init()}return i.prototype.update=function(r){this.config=(0,f.deepMix)({},this.config,r),this.updateElement(),this.renderMarker()},i.prototype.init=function(){this.initElement(),this.renderMarker()},i.prototype.initElement=function(){var r=this.config,t=r.group,e=r.style;this.circle=t.addShape("circle",{attrs:te({x:this.config.x,y:this.config.y,r:this.config.r},e)}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ccc"},name:"playPauseBtn"}),this.pauseGroupMarker=t.addGroup();var n=1/4*this.config.r,a=.5*this.config.r*Math.sqrt(3);this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n*2.5,height:a,fill:"#fff"},name:"playPauseBtn"}),this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"})},i.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var r=1/4*this.config.r,t=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-t/2),this.pauseLeftMarker.attr("width",r),this.pauseLeftMarker.attr("height",t),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-t/2),this.pauseRightMarker.attr("width",r),this.pauseRightMarker.attr("height",t)},i.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},i.prototype.getStartMarkerPath=function(){var r=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-r/Math.sqrt(3)/2,this.config.y-r/2],["L",this.config.x+r/Math.sqrt(3),this.config.y],["L",this.config.x-r/Math.sqrt(3)/2,this.config.y+r/2]]},i}(),j8=W8,U8="#ccc",Z8="green",K8={fill:"#607889",stroke:"#607889"},$8={fill:"#fff"},Q8={fill:"green"},J8={speed:2,loop:!1,fill:"#fff",stroke:"#fff",hiddleToggle:!1,preBtnStyle:{fill:"#ccc",stroke:"#ccc"},nextBtnStyle:{fill:"#ccc",stroke:"#ccc"},playBtnStyle:{fill:"#fff",stroke:"#ccc"}},el=110,Ja=50,q8=function(){function i(r){this.controllerCfg=(0,f.deepMix)({},J8,r),this.group=r.group,this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.init()}return i.prototype.init=function(){this.renderPlayButton()},i.prototype.getNextMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r+e,t],["L",r,t+e]]},i.prototype.getPreMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r-e,t],["L",r,t+e]]},i.prototype.renderPlayButton=function(){var r=this.controllerCfg,t=r.width,e=r.height,n=r.x,a=r.y,o=r.hiddleToggle,s=r.fill,l=s===void 0?U8:s,u=r.stroke,h=u===void 0?Z8:u,c=r.playBtnStyle,v=c===void 0?K8:c,g=r.preBtnStyle,C=g===void 0?$8:g,F=r.nextBtnStyle,G=F===void 0?Q8:F,V=e/2-5,X=a+10,at=this.group.addShape("rect",{attrs:{x:n,y:X,width:t,height:e,stroke:h,fill:l},name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:X,r:V}):this.playButton=new j8({group:this.group,x:t/2,y:X+V+5,r:V,isPlay:this.isPlay,style:v}),this.group.addShape("path",{attrs:te({path:this.getPreMarkerPath(t/2-5*V,X+V+5,V*.5)},C),name:"preStepBtn"}),this.group.addShape("path",{attrs:te({path:this.getPreMarkerPath(t/2-4.5*V,X+V+5,V*.5)},C),name:"preStepBtn"}),this.group.addShape("path",{attrs:te({path:this.getNextMarkerPath(t/2+5*V,X+V+5,V*.5)},G),name:"nextStepBtn"}),this.group.addShape("path",{attrs:te({path:this.getNextMarkerPath(t/2+4.5*V,X+V+5,V*.5)},G),name:"nextStepBtn"}),at.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent()},i.prototype.renderSpeedBtn=function(){var r=this.controllerCfg,t=r.y,e=r.width,n=r.hiddleToggle,a=this.group.addGroup({name:"speed-group"});this.speedGroup=a;for(var o=1,s=[],l=9,u=0;u<5;u++){var h=t+15+u*(u+1)+o;a.addShape("rect",{attrs:{x:e-(n?Ja:el),y:h,width:15,height:2,fill:"#ccc"},speed:l,name:"speed-rect"}),this.speedAxisY.push(h),s.push(l),l=l-2,o++}for(var u=0;u<4;u++)a.addShape("rect",{attrs:{x:e-(n?Ja:el),y:this.speedAxisY[u]+2,width:15,height:2*u+1,fill:"#fff",opacity:.3},speed:s[u]-1,name:"speed-rect"});this.speedText=a.addShape("text",{attrs:{x:e-(n?Ja:el)+20,y:this.speedAxisY[1]+15,text:"1.0X",fill:"#ccc"}}),this.speedPoint=a.addShape("path",{attrs:{path:this.getPath(e-(n?Ja:el),this.speedAxisY[4]),fill:"#ccc"}})},i.prototype.getPath=function(r,t){return[["M",r,t],["L",r-12,t-6],["L",r-12,t+6],["Z"]]},i.prototype.renderToggleTime=function(){var r=this.controllerCfg.width;this.toggleGroup=this.group.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:{width:14,height:14,x:r-Ja,y:this.speedAxisY[1],fill:"#fff",stroke:"#ccc",lineWidth:2,radius:3},isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:{path:[["M",r-Ja+3,this.speedAxisY[1]+6],["L",r-Ja+7,this.speedAxisY[1]+10],["L",r-Ja+12,this.speedAxisY[1]+4]],stroke:"green",lineWidth:3},capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:{text:"\u5355\u4E00\u65F6\u95F4",x:r-Ja+20,y:this.speedAxisY[1]+15,fill:"#ccc"}})},i.prototype.bindEvent=function(){var r=this,t=this.controllerCfg,e=t.width,n=t.hiddleToggle;this.speedGroup.on("speed-rect:click",function(a){r.speedPoint.attr("path",r.getPath(e-(n?Ja:el),a.y)),r.currentSpeed=a.target.get("speed"),r.speedText.attr("text",r.currentSpeed+".0X"),r.group.emit("timebarConfigChanged",{speed:r.currentSpeed,type:r.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(a){var o=a.target.get("isChecked");o?(r.checkedIcon.hide(),r.checkedText.attr("text","\u5355\u4E00\u65F6\u95F4"),r.currentType="range"):(r.checkedIcon.show(),r.checkedText.attr("text","\u65F6\u95F4\u8303\u56F4"),r.currentType="single"),a.target.set("isChecked",!o),r.group.emit("timebarConfigChanged",{type:r.currentType,speed:r.currentSpeed})})},i.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},i}(),Q1=q8,J1="timelinestart",q1="timelineend",qa="valueChange",rf="timebarConfigChanged",nf="playPauseBtn",af="nextStepBtn",of="preStepBtn",t9={fill:"#416180",opacity:.05},e9={fill:"#416180",opacity:.15,radius:5},r9={fill:"#5B8FF9",opacity:.3,cursor:"move"},Fc=2,n9={width:Fc,height:24},i9={textBaseline:"middle",fill:"#000",opacity:.45},a9=function(){function i(r){var t=this;this.prevX=0,this.onMouseDown=function(Ve){return function(pr){t.currentHandler=Ve;var vr=pr.originalEvent;vr.stopPropagation(),vr.preventDefault(),t.prevX=(0,f.get)(vr,"touches.0.pageX",vr.pageX);var xr=t.canvas.get("container");xr.addEventListener("mousemove",t.onMouseMove),xr.addEventListener("mouseup",t.onMouseUp),xr.addEventListener("mouseleave",t.onMouseUp),xr.addEventListener("touchmove",t.onMouseMove),xr.addEventListener("touchend",t.onMouseUp),xr.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(Ve){Ve.stopPropagation(),Ve.preventDefault();var pr=(0,f.get)(Ve,"touches.0.pageX",Ve.pageX),vr=pr-t.prevX,xr=t.adjustOffsetRange(vr/t.width);t.updateStartEnd(xr),t.updateUI(),t.prevX=pr},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var Ve=t.canvas.get("container");Ve&&(Ve.removeEventListener("mousemove",t.onMouseMove),Ve.removeEventListener("mouseup",t.onMouseUp),Ve.removeEventListener("mouseleave",t.onMouseUp),Ve.removeEventListener("touchmove",t.onMouseMove),Ve.removeEventListener("touchend",t.onMouseUp),Ve.removeEventListener("touchcancel",t.onMouseUp))};var e=r.x,n=e===void 0?0:e,a=r.y,o=a===void 0?0:a,s=r.width,l=s===void 0?100:s,u=r.height,h=r.padding,c=h===void 0?10:h,v=r.trendCfg,g=r.controllerCfg,C=g===void 0?{speed:1}:g,F=r.backgroundStyle,G=F===void 0?{}:F,V=r.foregroundStyle,X=V===void 0?{}:V,at=r.handlerStyle,st=at===void 0?{}:at,xt=r.textStyle,kt=xt===void 0?{}:xt,Gt=r.start,Wt=Gt===void 0?0:Gt,Yt=r.end,ie=Yt===void 0?1:Yt,de=r.minText,he=de===void 0?"":de,Ee=r.maxText,Ie=Ee===void 0?"":Ee,Le=r.group,He=r.graph,je=r.canvas,Ke=r.ticks,Xe=r.type;this.graph=He,this.canvas=je,this.group=Le,this.timeBarType=Xe,this.x=n,this.y=o,this.width=l,this.height=u,this.padding=c,this.ticks=Ke,this.trendCfg=v,this.controllerCfg=C,this.currentSpeed=C.speed,Xe==="trend"?this.backgroundStyle=te(te({},t9),G):Xe==="simple"&&(this.backgroundStyle=te(te({},e9),G)),this.foregroundStyle=te(te({},r9),X),this.handlerStyle=te(te({},n9),st),this.textStyle=te(te({},i9),kt),this.currentMode="range",this.start=Wt,this.end=ie,this.minText=he,this.maxText=Ie,this.renderSlider()}return i.prototype.update=function(r){var t=r.x,e=r.y,n=r.width,a=r.height,o=r.minText,s=r.maxText,l=r.start,u=r.end;this.start=Math.min(1,Math.max(l,0)),this.end=Math.min(1,Math.max(u,0)),(0,f.assign)(this,{x:t,y:e,width:n,height:a,minText:o,maxText:s}),this.updateUI()},i.prototype.setText=function(r,t){this.minTextShape.attr("text",r),this.maxTextShape.attr("text",t)},i.prototype.renderSlider=function(){var r=this,t=this,e=t.width,n=t.height,a=t.timeBarType;if(a==="trend"&&(0,f.size)((0,f.get)(this.trendCfg,"data"))){var o=new z8(te(te({x:this.x,y:this.y,width:e,height:n},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:te({x:0,y:0,width:e,height:n},this.backgroundStyle)});var l=this.group.addGroup();a==="trend"?(this.minTextShape=l.addShape("text",{attrs:te({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:te({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1},this.textStyle),capture:!1})):(this.minTextShape=l.addShape("text",{attrs:te({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:te({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:te({x:0,y:this.y,height:n},this.foregroundStyle)});var u=(0,f.get)(this.handlerStyle,"width",2),h=(0,f.get)(this.handlerStyle,"height",24),c=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new $1(te({name:"minHandlerShape",group:c,type:a,x:this.x,y:this.y,width:u,height:h,cursor:"ew-resize"},this.handlerStyle));var v=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new $1(te({name:"maxHandlerShape",group:v,type:a,x:this.x,y:this.y,width:u,height:h,cursor:"ew-resize"},this.handlerStyle));var g=this.ticks,C=e/(g.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(G){G.destroy()});var F=-Infinity;this.textList=g.map(function(G,V){r.tickPosList.push(r.x+V*C);var X=r.group.addShape("text",{attrs:{x:r.x+V*C,y:r.y+n+5,text:G,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),at=r.group.addShape("line",{attrs:{x1:r.x+V*C,y1:r.y+n+2,x2:r.x+V*C,y2:r.y+n+6,lineWidth:1,stroke:"#ccc"}}),st=X.getBBox();return st.minX>F?(X.show(),at.show(),F=st.minX+st.width+10):(X.hide(),at.hide()),X}),this.controllerBtnGroup=new Q1({group:this.group,x:this.x,y:this.y+n+25,width:e,height:40}),this.updateUI(),s.move(this.x,this.y),this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.group.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var e=this.group.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),e.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on(nf+":click",function(){r.isPlay=!r.isPlay,r.currentHandler=r.maxHandlerShape,r.changePlayStatus()}),this.group.on(af+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(.01),r.updateUI()}),this.group.on(of+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(-.01),r.updateUI()}),this.group.on(rf,function(n){var a=n.type,o=n.speed;r.currentSpeed=o,r.currentMode=a,a==="single"?(r.minHandlerShape.hide(),r.foregroundShape.hide(),r.minTextShape.hide()):a==="range"&&(r.minHandlerShape.show(),r.foregroundShape.show(),r.minTextShape.show())})},i.prototype.adjustTickIndex=function(r){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=r&&r<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-r)<Math.abs(r-this.tickPosList[t+1])?t:t+1},i.prototype.adjustOffsetRange=function(r){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,e=1-this.start;return Math.min(e,Math.max(t,r))}case this.maxHandlerShape:{var t=0-this.end,e=1-this.end;return Math.min(e,Math.max(t,r))}case this.foregroundShape:{var t=0-this.start,e=1-this.end;return Math.min(e,Math.max(t,r))}default:return 0}},i.prototype.updateStartEnd=function(r){switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)];break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=r,this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;case this.foregroundShape:this.start+=r,this.end+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)],this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;default:break}},i.prototype.updateUI=function(){var r=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.start*this.width,e=this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",e-t);var n=(0,f.get)(this.handlerStyle,"width",Fc);this.setText(this.minText,this.maxText);var a=this.dodgeText([t,e]),o=a[0],s=a[1];this.minHandlerShape.setX(t-n/2),(0,f.each)(o,function(l,u){return r.minTextShape.attr(u,l)}),this.maxHandlerShape.setX(e-n/2),(0,f.each)(s,function(l,u){return r.maxTextShape.attr(u,l)}),this.currentMode==="range"?this.graph.emit(qa,{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit(qa,{value:[this.end,this.end]})},i.prototype.dodgeText=function(r){var t,e,n=2,a=(0,f.get)(this.handlerStyle,"width",Fc),o=this.minTextShape,s=this.maxTextShape,l=r[0],u=r[1],h=!1;l>u&&(t=[u,l],l=t[0],u=t[1],e=[s,o],o=e[0],s=e[1],h=!0);var c=o.getBBox(),v=s.getBBox(),g=null,C=null;return this.timeBarType==="trend"?(g=c.width>l-n?{x:l+a/2+n,textAlign:"left"}:{x:l-a/2-n,textAlign:"right"},C=v.width>this.width-u-n?{x:u-a/2-n,textAlign:"right"}:{x:u+a/2+n,textAlign:"left"}):this.timeBarType==="simple"&&(g=c.width>l-n?{x:l+a/2+n,textAlign:"center"}:{x:l-a/2-n,textAlign:"center"},C=v.width>this.width-u-n?{x:u-a/2-n,textAlign:"center"}:{x:u+a/2+n,textAlign:"center"}),h?[C,g]:[g,C]},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r,e=t.ticks,n=t.width,a=r.currentSpeed,o=n/e.length,s=o/((10-a)*1e3/60),l=r.adjustOffsetRange(s/r.width);r.updateStartEnd(l),r.updateUI(),r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(J1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(q1,null))},i.prototype.destory=function(){this.graph.off(qa);var r=this.group,t=r.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var e=r.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.off("maxHandlerShape-handler:mousedown"),e.off("maxHandlerShape-handler:touchstart"),e.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),r.off(nf+":click"),r.off(af+":click"),r.off(of+":click"),r.off(rf),r.destroy(),this.trendComponent&&this.trendComponent.destory()},i}(),o9=a9,Oz={opacity:.5,fill:"#000"},kz={opacity:.5,fill:"#000",r:5},Bz={fill:"#fff",fontSize:12},s9=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.container,s=r.text,l=r.padding,u=l===void 0?[4,4,4,4]:l,h=r.className,c=h===void 0?"g6-component-timebar-tooltip":h,v=r.backgroundColor,g=v===void 0?"#000":v,C=r.textColor,F=C===void 0?"#fff":C,G=r.opacity,V=G===void 0?.8:G,X=r.fontSize,at=X===void 0?12:X;this.container=o,this.className=c,this.backgroundColor=g,this.textColor=F,this.x=e,this.y=a,this.text=s,this.padding=u,this.opacity=V,this.fontSize=at,this.render()}return i.prototype.render=function(){var r=this,t=r.className,e=r.x,n=r.y,a=r.backgroundColor,o=r.textColor,s=r.text,l=r.padding,u=r.opacity,h=r.fontSize,c=r.container,v=(0,vi.Z)("<div class='"+t+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+u+'"></div>');(0,f.isString)(c)&&(c=document.getElementById(c)),c.appendChild(v),r.parentHeight=c.offsetHeight,r.parentWidth=c.offsetWidth,(0,Tn.Z)(v,{visibility:"hidden",top:0,left:0});var g=(0,vi.Z)(`
      <div style='position: absolute; white-space:nowrap; background-color: `+a+"; font-size: "+h+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+o+"; padding: "+l[0]+"px "+l[1]+"px "+l[2]+"px "+l[3]+"px'></div>");g.innerHTML=s,v.appendChild(g),r.backgroundDOM=g;var C=(0,vi.Z)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+a+"'></div>");v.appendChild(C),r.arrowDOM=C,r.container=v},i.prototype.show=function(r){var t=this,e=r.text,n=r.x,a=r.y,o=r.clientX,s=r.clientY;t.backgroundDOM.innerHTML=e;var l=t.backgroundDOM.offsetWidth,u=t.backgroundDOM.offsetHeight,h=t.arrowDOM.offsetWidth,c=t.arrowDOM.offsetHeight;(0,Tn.Z)(t.container,{top:-u-c+"px",left:n+"px",visibility:"visible"}),(0,Tn.Z)(t.backgroundDOM,{marginLeft:-l/2+"px"}),(0,Tn.Z)(t.arrowDOM,{marginLeft:-h/2+"px",top:u+"px"});var v=n-l/2,g=n+l/2;v<0?(0,Tn.Z)(t.backgroundDOM,{marginLeft:-l/2-v+"px"}):g>t.parentWidth&&(0,Tn.Z)(t.backgroundDOM,{marginLeft:-l/2-g+t.parentWidth+12+"px"})},i.prototype.hide=function(){(0,Tn.Z)(this.container,{top:0,left:0,visibility:"hidden"})},i}(),l9=s9,u9={fill:"#5B8FF9"},f9={fill:"#e6e8e9"},h9=function(){function i(r){this.frameCount=0;var t=r.graph,e=r.canvas,n=r.group,a=r.width,o=r.height,s=r.padding,l=r.data,u=r.start,h=r.end,c=r.x,v=c===void 0?0:c,g=r.y,C=g===void 0?0:g,F=r.tickLabelFormatter,G=r.selectedTickStyle,V=G===void 0?u9:G,X=r.unselectedTickStyle,at=X===void 0?f9:X,st=r.tooltipBackgroundColor,xt=r.tooltipFomatter;this.graph=t,this.group=n,this.sliceGroup=n.addGroup({name:"slice-group"}),this.canvas=e,this.width=a,this.height=o,this.padding=s,this.data=l,this.start=u,this.end=h,this.tickLabelFormatter=F,this.selectedTickStyle=V,this.unselectedTickStyle=at,this.x=v,this.y=C,this.tooltipBackgroundColor=st,this.tooltipFomatter=xt,this.renderSlices(),this.initEvent()}return i.prototype.renderSlices=function(){var r=this,t=r.width,e=r.height,n=r.padding,a=r.data,o=r.start,s=r.end,l=r.tickLabelFormatter,u=r.selectedTickStyle,h=r.unselectedTickStyle,c=t-2*n,v=10,g=4,C=3*n+g+v,F=e-C-2*n,G=2,V=a.length,X=(c-G*(V-1))/V;this.tickWidth=X;var at=this.sliceGroup,st=[],xt=[],kt=Math.round(V*o),Gt=Math.round(V*s);this.startTickRectId=kt,this.endTickRectId=Gt,a.forEach(function(Yt,ie){var de=ie>=kt&&ie<=Gt,he=de?u:h,Ee=at.addShape("rect",{attrs:te({x:n+ie*(X+G),y:n,width:X,height:F},he),draggable:!0,name:"tick-rect-"+ie}),Ie=at.addShape("rect",{attrs:{x:n+ie*X+G*(2*ie-1)/2,y:n,width:ie===0||ie===V-1?X+G/2:X+G,height:F,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+ie});Ie.toFront();var Le=Ee.getBBox(),He=(Le.minX+Le.maxX)/2;st.push({rect:Ee,pickRect:Ie,value:Yt.date,x:He,y:Le.minY});var je;if(l?(je=l(Yt),!(0,f.isString)(je)&&je&&(je=Yt.date)):ie%Math.round(V/10)==0&&(je=Yt.date),je){xt.push(je);var Ke=Le.maxY+n*2;at.addShape("line",{attrs:{stroke:"#BFBFBF",x1:He,y1:Ke,x2:He,y2:Ke+g}});var Xe=Ke+g+n,Ve=at.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:He,y:Xe,textAlign:"center",text:je,textBaseline:"top",fontSize:10},capture:!1}),pr=Ve.getBBox();pr.maxX>t?Ve.attr("textAlign","right"):pr.minX<0&&Ve.attr("textAlign","left")}}),this.tickRects=st;var Wt=this.group;this.currentSpeed=1,this.controllerBtnGroup=new Q1({group:Wt,x:this.x,y:this.y+e+5,width:t,height:40,hiddleToggle:!0,speed:this.currentSpeed})},i.prototype.initEvent=function(){var r=this,t=this.sliceGroup;t.on("click",function(h){var c=h.target;if(!(c.get("type")!=="rect"||!c.get("name"))){var v=parseInt(c.get("name").split("-")[2],10);if(!isNaN(v)){var g=r.tickRects,C=r.unselectedTickStyle;g.forEach(function(X){X.rect.attr(C)});var F=r.selectedTickStyle;g[v].rect.attr(F),r.startTickRectId=v,r.endTickRectId=v;var G=g.length,V=v/G;r.graph.emit(qa,{value:[V,V]})}}}),t.on("dragstart",function(h){var c=r.tickRects,v=r.unselectedTickStyle;c.forEach(function(X){X.rect.attr(v)});var g=h.target,C=parseInt(g.get("name").split("-")[2],10),F=r.selectedTickStyle;c[C].rect.attr(F),r.startTickRectId=C;var G=c.length,V=C/G;r.graph.emit(qa,{value:[V,V]}),r.dragging=!0}),t.on("dragover",function(h){if(!!r.dragging&&h.target.get("type")==="rect"){for(var c=parseInt(h.target.get("name").split("-")[2],10),v=r.startTickRectId,g=r.tickRects,C=r.selectedTickStyle,F=r.unselectedTickStyle,G=0;G<g.length;G++){var V=G>=v&&G<=c?C:F;g[G].rect.attr(V)}var X=g.length;r.endTickRectId=c;var at=v/X,st=c/X;r.graph.emit(qa,{value:[at,st]})}}),t.on("drop",function(h){if(!!r.dragging&&(r.dragging=!1,h.target.get("type")==="rect")){var c=r.startTickRectId,v=parseInt(h.target.get("name").split("-")[2],10);if(!(v<c)){var g=r.selectedTickStyle,C=r.tickRects;C[v].rect.attr(g),r.endTickRectId=v;var F=C.length,G=c/F,V=v/F;r.graph.emit(qa,{value:[G,V]})}}});var e=this,n=e.tooltipBackgroundColor,a=e.tooltipFomatter,o=e.canvas,s=new l9({container:o.get("container"),backgroundColor:n}),l=this.tickRects;l.forEach(function(h){var c=h.pickRect;c.on("mouseenter",function(v){var g=v.target;if(g.get("type")==="rect"){var C=parseInt(g.get("name").split("-")[2],10),F=o.getClientByPoint(l[C].x,l[C].y);s.show({x:l[C].x,y:l[C].y,clientX:F.x,clientY:F.y,text:a?a(l[C].value):l[C].value})}}),c.on("mouseleave",function(v){s.hide()})});var u=this.group;u.on(nf+":click",function(){r.isPlay=!r.isPlay,r.changePlayStatus()}),u.on(af+":click",function(){r.updateStartEnd(1)}),u.on(of+":click",function(){r.updateStartEnd(-1)}),u.on(rf,function(h){var c=h.type,v=h.speed;r.currentSpeed=v})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(J1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(q1,null))},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r.currentSpeed;r.frameCount%(60/t)==0&&(r.frameCount=0,r.updateStartEnd(1)),r.frameCount++,r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.updateStartEnd=function(r){var t=this,e=this.tickRects,n=e.length,a=this.unselectedTickStyle,o=this.selectedTickStyle,s=t.endTickRectId;if(r>0?t.endTickRectId++:(e[t.endTickRectId].rect.attr(a),t.endTickRectId--),s!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var l=t.startTickRectId;l<=t.endTickRectId-1;l++)e[l].rect.attr(a);t.startTickRectId=t.endTickRectId}if(e[t.endTickRectId]){e[t.endTickRectId].rect.attr(o);var u=t.startTickRectId/n,h=t.endTickRectId/n;this.graph.emit(qa,{value:[u,h]})}},i.prototype.destory=function(){this.graph.off(qa);var r=this.sliceGroup;r.off("click"),r.off("dragstart"),r.off("dragover"),r.off("drop"),this.tickRects.forEach(function(t){var e=t.pickRect;e.off("mouseenter"),e.off("mouseleave")}),this.tickRects.length=0,r.off(nf+":click"),r.off(af+":click"),r.off(of+":click"),r.off(rf),this.sliceGroup.destroy()},i}(),c9=h9,v9=8,d9=26,p9=function(i){Bn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:2,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]}}},r.prototype.initContainer=function(){var t=this.get("graph"),e=this._cfgs,n=e.width,a=e.height,o=this.get("className")||"g6-component-timebar",s=this.get("container"),l=this.get("graph").get("container"),u;s?u=s:(u=(0,vi.Z)("<div class='"+o+"'></div>"),(0,Tn.Z)(u,{position:"relative"})),l.appendChild(u),this.set("timeBarContainer",u);var h,c=t.get("renderer");c==="SVG"?h=new js.Z({container:u,width:n,height:a}):h=new Ho.Z({container:u,width:n,height:a}),this.set("canvas",h)},r.prototype.init=function(){this.initContainer();var t=this.get("canvas"),e=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent()},r.prototype.renderTrend=function(){var t=this._cfgs,e=t.width,n=t.x,a=t.y,o=t.padding,s=t.type,l=t.trend,u=t.slider,h=t.controllerCfg,c=l.data,v=Zi(l,["data"]),g=e-2*o,C=s==="trend"?d9:v9,F=this.get("graph"),G=this.get("timeBarGroup"),V=this.get("canvas"),X=null;if(s==="trend"||s==="simple")X=new o9(te(te({graph:F,canvas:V,group:G,type:s,x:n+o,y:s==="trend"?a+o:a+o+15,width:g,height:C,padding:o,trendCfg:te(te({},v),{data:c.map(function(st){return st.value})})},u),{ticks:c.map(function(st){return st.date}),handlerStyle:te(te({},u.handlerStyle),{height:u.height||C}),controllerCfg:h}));else if(s==="tick"){var at=this._cfgs.tick;X=new c9(te({graph:F,canvas:V,group:G,x:n+o,y:a+o},at))}this.set("timebar",X)},r.prototype.filterData=function(t){var e=t.value,n=null,a=this._cfgs.type;if(a==="trend"||a==="simple"?n=this._cfgs.trend.data:a==="tick"&&(n=this._cfgs.tick.data),!n||n.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var o=this.get("rangeChange"),s=this.get("graph"),l=Math.round(n.length*e[0]),u=Math.round(n.length*e[1]);u=u>=n.length?n.length-1:u;var h=n[l].date,c=n[u].date;if(a!=="tick"){var v=this.get("timebar");v.setText(h,c)}if(o)o(s,h,c);else{var g=s.save();(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=g);var C=this.cacheGraphData.nodes.filter(function(V){return V.date>=h&&V.date<=c}),F=C.map(function(V){return V.id}),G=this.cacheGraphData.edges.filter(function(V){return F.includes(V.source)&&F.includes(V.target)});s.changeData({nodes:C,edges:G})}},r.prototype.initEvent=function(){var t=this,e=0,n=0,a=this._cfgs.type;!a||a==="trend"||a==="simple"?(e=this._cfgs.slider.start,n=this._cfgs.slider.end):a==="tick"&&(e=this._cfgs.tick.start,n=this._cfgs.tick.end);var o=this.get("graph");o.on("afterrender",function(){t.filterData({value:[e,n]})}),o.on(qa,function(s){t.filterData(s)})},r.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),i.prototype.destroy.call(this);var e=this.get("timeBarContainer");if(e){var n=this.get("container");n||(n=this.get("graph").get("container")),n.removeChild(e)}},r}($a),g9=p9;function y9(i,r){var t,e;if(i.naturalWidth)t=i.naturalWidth,e=i.naturalHeight;else{var n=new Image;n.src=i.src,n.onload=function(){r==null||r(n.width,n.height)}}return[t,e]}var m9=function(i){Bn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.graph;if(!this.destroyed){var a=this.get("container"),o=(0,vi.Z)("<div class="+e.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),s=0,l=0,u=!1,h=0,c=0,v=0,g=0,C=0,F=0;a.addEventListener("mousedown",function(G){if(e.refresh=!1,G.target===o){var V=o.style;v=parseInt(V.width,10),g=parseInt(V.height,10);var X=t.get("width"),at=t.get("height");v>X||g>at||(F=n.getZoom(),C=t.get("ratio"),u=!0,s=G.clientX,l=G.clientY)}},!1),a.addEventListener("mousemove",function(G){if(!(!u||(0,Ii.default)(G.clientX)||(0,Ii.default)(G.clientY))){var V=t.get("width"),X=t.get("height"),at=o.style;h=parseInt(at.left,10),c=parseInt(at.top,10),v=parseInt(at.width,10),g=parseInt(at.height,10);var st=s-G.clientX,xt=l-G.clientY;h-st<0?st=h:h-st+v>=V&&(st=0),c-xt<0?xt=c:c-xt+g>=X&&(xt=0),h-=st,c-=xt,(0,Tn.Z)(o,{left:h+"px",top:c+"px"}),n.translate(st*F/C,xt*F/C),s=G.clientX,l=G.clientY}},!1),a.addEventListener("mouseleave",function(){u=!1,e.refresh=!0},!1),a.addEventListener("mouseup",function(){u=!1,e.refresh=!0},!1),this.set("viewport",o),a.appendChild(o)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),n=this.get("height"),a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=o/s,u=a.getGroup(),h=u.getCanvasBBox(),c=[(h.minX+h.maxX)/2,(h.minY+h.maxY)/2],v=[h.maxX-h.minX,h.maxY-h.minY],g={centerX:c[0],centerY:c[1],width:0,height:0,minX:0,minY:0};h[0]/h[1]>l?(g.width=v[0],g.height=g.width/l):(g.height=v[1],g.width=g.height*l),g.minX=c[0]-g.width/2,g.minY=c[1]-g.height/2;var C=u.getMatrix();C||(C=[1,0,0,0,1,0,0,0,1]);var F=ho.invert([],C),G=Vs({x:g.minX,y:g.minY},F),V=a.getCanvasByPoint(G.x,G.y),X=this.get("viewport");X||this.initViewport();var at=o/g.width,st=at*e,xt=at*n,kt=e*-V.x/g.width,Gt=n*-V.y/g.height,Wt=kt+st,Yt=Gt+xt;kt<0&&(st+=kt,kt=0),Wt>e&&(st=st-(Wt-e)),Gt<0&&(xt+=Gt,Gt=0),Yt>n&&(xt=xt-(Yt-n)),this.set("ratio",t);var ie=kt+"px",de=Gt+"px";(0,Tn.Z)(X,{left:ie,top:de,width:st+"px",height:xt+"px"})}},r.prototype.init=function(){this.initContainer()},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=e.get("width"),a=e.get("height"),o=a/n,s=t.get("className"),l=t.get("container"),u=t.get("width"),h=t.get("height");!u&&!h&&(u=200),u?(h=o*u,t.set("height",h)):(u=1/o*h,t.set("width",u));var c=(0,vi.Z)("<div class='"+s+"' style='width: "+u+"px; height: "+h+"px; overflow: hidden; position: relative;'></div>");(0,mn.default)(l)&&(l=document.getElementById(l)),l?l.appendChild(c):e.get("container").appendChild(c),t.set("container",c);var v=(0,vi.Z)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');c.appendChild(v);var g=(0,vi.Z)('<span style="display: table-cell; vertical-align: middle; "></span>');v.appendChild(g),t.set("containerDOM",v),t.set("containerSpan",g);var C=(0,vi.Z)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');t.set("imgDOM",C),t.updateImgSize(),g.appendChild(C),t.updateCanvas()},r.prototype.updateImgSize=function(){var t=this,e=t.get("imgDOM"),n=t.get("width"),a=t.get("height");e.onload=function(){var o=y9(e);o[0]>o[1]?e.width=n:e.height=a}},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("width"),a=e.get("canvas").getCanvasBBox(),o=a.width,s=n/o;this.set("ratio",s),this.updateViewport()}}},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.updateGraphImg=function(t){var e=this,n=e.get("imgDOM");n.remove(),e.set("graphImg",t);var a=(0,vi.Z)('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');e.set("imgDOM",a),a.src=t,e.updateImgSize();var o=e.get("containerSpan");o.appendChild(a),e.updateCanvas()},r.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},r}($a),x9=m9,tb=.05,eb={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},b9=function(i){Bn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,jn.d9)(eb),showLabel:"edge",scaleRBy:"wheel"}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},r.prototype.init=function(){var t=this,e=t.get("showLabel"),n=e==="node"||e==="both",a=e==="edge"||e==="both";t.set("showNodeLabel",n),t.set("showEdgeLabel",a);var o=t.get("shouldShow");o||t.set("shouldShow",function(){return!0})},r.prototype.createDelegate=function(t){var e=this,n=e.get("delegate");(!n||n.destroyed)&&(e.filter(t),n=e.get("delegate"),n.on("dragstart",function(a){}),n.on("drag",function(a){e.filter(a)}),this.get("scaleRBy")==="wheel"&&n.on("mousewheel",function(a){e.scaleRByWheel(a)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-tb:a=1/(1-tb);var u=e.get("maxR"),h=e.get("minR"),c=e.get("r");(c>(u||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,e.set("r",c),e.filter(t)}},r.prototype.filter=function(t){var e=this,n=e.get("graph"),a=n.getNodes(),o={},s=e.get("r"),l=e.get("type"),u={x:t.x,y:t.y};e.updateDelegate(u,s);var h=e.get("shouldShow"),c=e.get("vShapes");c&&c.forEach(function(V){V.remove(),V.destroy()}),c=[],a.forEach(function(V){var X=V.getModel(),at=X.x,st=X.y;Hs({x:at,y:st},u)<s&&(o[X.id]=V)});var v=n.getEdges(),g=[];v.forEach(function(V){var X=V.getModel(),at=X.source,st=X.target;h(X)&&(l==="only-source"||l==="one"?o[at]&&!o[st]&&g.push(V):l==="only-target"||l==="one"?o[st]&&!o[at]&&g.push(V):l==="both"&&o[at]&&o[st]&&g.push(V))});var C=e.get("showNodeLabel"),F=e.get("showEdgelabel"),G=n.get("group");g.forEach(function(V){var X=V.get("group").get("children");X.forEach(function(at){var st=at.get("type"),xt=G.addShape(st,{attrs:at.attr()});c.push(xt),C&&st==="text"&&xt.set("visible",!0)})}),Object.keys(o).forEach(function(V){var X=o[V],at=X.get("group").clone();if(G.add(at),c.push(at),F)for(var st=at.get("children"),xt=0;xt<st.length;xt++){var kt=st[xt];kt.get("type")==="text"&&kt.set("visible",!0)}}),e.set("vShapes",c)},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.trigger,o=t.minR,s=t.maxR,l=t.scaleRBy,u=t.showLabel,h=t.shouldShow;if(isNaN(t.r)||e.set("r",n),isNaN(s)||e.set("maxR",s),isNaN(o)||e.set("minR",o),(a==="mousemove"||a==="click")&&e.set("trigger",a),l==="wheel"||l==="unset"){e.set("scaleRBy",l),e.get("delegate").remove(),e.get("delegate").destroy();var c=e.get("dPercentText");c&&(c.remove(),c.destroy())}(u==="node"||u==="both")&&e.set("showNodeLabel",!0),(u==="edge"||u==="both")&&e.set("showEdgeLabel",!0),h&&e.set("shouldShow",h)},r.prototype.updateDelegate=function(t,e){var n=this,a=n.get("graph"),o=n.get("delegate");if(!o||o.destroyed){var s=a.get("group"),l=n.get("delegateStyle")||eb;o=s.addShape("circle",{attrs:te({r:e,x:t.x,y:t.y},l),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(u){n.scaleRByWheel(u)})}else o.attr({x:t.x,y:t.y,r:e});n.set("delegate",o)},r.prototype.clear=function(){var t=this,e=t.get("vShapes");e&&e.forEach(function(a){a.remove(),a.destroy()}),e=[],t.set("vShapes",e);var n=t.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}($a),w9=b9,Qi={Menu:p8,Grid:c8,Minimap:b8,Bundling:C8,ToolBar:T8,Tooltip:_8,Fisheye:E8,TimeBar:g9,ImageMinimap:x9,EdgeFilterLens:w9};function S9(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next;return n[o.get("id")]?!1:(n[o.get("id")]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}function rb(i,r,t,e){e.enter({current:r,previous:t}),i.getNeighbors(r,"target").forEach(function(n){e.allowTraversal({previous:t,current:r,next:n})&&rb(i,n,r,e)}),e.leave({current:r,previous:t})}function nb(i,r,t){var e=null,n=i.findById(r);rb(i,n,e,S9(t))}var C9=function(){function i(){this.linkedList=new E1}return i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},i.prototype.enqueue=function(r){this.linkedList.append(r)},i.prototype.dequeue=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toString=function(r){return this.linkedList.toString(r)},i}(),M9=C9;function E9(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next,s=o.get("id");return n[s]?!1:(n[s]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}var A9=function(r,t,e){var n=E9(e),a=new M9,o=r.findById(t);a.enqueue(o);for(var s=null,l=function(){var h=a.dequeue();n.enter({current:h,previous:s}),r.getNeighbors(h,"target").forEach(function(c){n.allowTraversal({previous:s,current:h,next:c})&&a.enqueue(c)}),n.leave({current:h,previous:s}),s=h};!a.isEmpty();)l()},T9=A9;function P9(i){for(var r=[],t={},e=[],n=function l(u){e.push(u),t[u.get("id")]=!0;for(var h=u.getNeighbors(),c=0;c<h.length;++c){var v=h[c];t[v.get("id")]||l(v)}},a=0;a<i.length;a++){var o=i[a];if(!t[o.get("id")]){n(o);for(var s=[];e.length>0;)s.push(e.pop());r.push(s)}}return r}function ib(i){for(var r=[],t={},e={},n={},a=[],o=0,s=function c(v){e[v.get("id")]=o,n[v.get("id")]=o,o+=1,r.push(v),t[v.get("id")]=!0;for(var g=v.getNeighbors("target").filter(function(X){return i.indexOf(X)>-1}),C=0;C<g.length;C++){var F=g[C];!e[F.get("id")]&&e[F.get("id")]!==0?(c(F),n[v.get("id")]=Math.min(n[v.get("id")],n[F.get("id")])):t[F.get("id")]&&(n[v.get("id")]=Math.min(n[v.get("id")],e[F.get("id")]))}if(n[v.get("id")]===e[v.get("id")]){for(var G=[];r.length>0;){var V=r.pop();if(t[V.get("id")]=!1,G.push(V),V===v)break}G.length>0&&a.push(G)}},l=0,u=i;l<u.length;l++){var h=u[l];!e[h.get("id")]&&e[h.get("id")]!==0&&s(h)}return a}function ab(i,r){var t=r===void 0?i.get("directed"):r,e=i.getNodes();return t?ib(e):P9(e)}var _9=function(r){var t=null,e={},n={},a={},o={};r.getNodes().forEach(function(u){n[u.getID()]=u});for(var s={enter:function(h){var c=h.current,v=h.previous;if(a[c.getID()]){t={};for(var g=c,C=v;C.getID()!==c.getID();)t[g.getID()]=C,g=C,C=e[C.getID()];t[g.getID()]=C}else a[c.getID()]=c,delete n[c.getID()],e[c.getID()]=v},leave:function(h){var c=h.current;o[c.getID()]=c,delete a[c.getID()]},allowTraversal:function(h){var c=h.next;return t?!1:!o[c.getID()]}};Object.keys(n).length;){var l=Object.keys(n)[0];nb(r,l,s)}return t},ob=function(r,t,e){var n,a,o;e===void 0&&(e=!0);for(var s=[],l=ab(r,!1),u=0,h=l;u<h.length;u++){var c=h[u];if(!!c.length)for(var v=c[0],g=v.get("id"),C=[v],F=(n={},n[g]=v,n),G=(a={},a[g]=new Set,a);C.length>0;)for(var V=C.pop(),X=V.get("id"),at=V.getNeighbors(),st=0;st<at.length;st+=1){var xt=at[st],kt=xt.get("id");if(kt===X)s.push((o={},o[xt.getID()]=V,o));else if(!(kt in G))F[kt]=V,C.push(xt),G[kt]=new Set([V]);else if(!G[X].has(xt)){for(var Gt=!0,Wt=[xt,V],Yt=F[X];G[kt].size&&!G[kt].has(Yt)&&(Wt.push(Yt),Yt!==F[Yt.getID()]);)Yt=F[Yt.getID()];if(Wt.push(Yt),t&&e?(Gt=!1,Wt.findIndex(function(he){return t.indexOf(he.get("id"))>-1})>-1&&(Gt=!0)):t&&!e&&Wt.findIndex(function(he){return t.indexOf(he.get("id"))>-1})>-1&&(Gt=!1),Gt){for(var ie={},de=1;de<Wt.length;de+=1)ie[Wt[de-1].getID()]=Wt[de];Wt.length&&(ie[Wt[Wt.length-1].getID()]=Wt[0]),s.push(ie)}G[kt].add(V)}}}return s},sb=function(r,t,e){e===void 0&&(e=!0);for(var n=[],a=new Set,o=[],s=[],l={},u={},h=function(ie){for(var de=[ie];de.length>0;){var he=de.pop();a.has(he)&&(a.delete(he),o[he.get("id")].forEach(function(Ee){de.push(Ee)}),o[he.get("id")].clear())}},c=function Yt(ie,de,he){var Ee=!1;if(t&&e===!1&&t.indexOf(ie.get("id"))>-1)return Ee;n.push(ie),a.add(ie);for(var Ie=he[ie.getID()],Le=0;Le<Ie.length;Le+=1){var He=l[Ie[Le]];if(He===de){for(var je={},Ke=1;Ke<n.length;Ke+=1)je[n[Ke-1].getID()]=n[Ke];n.length&&(je[n[n.length-1].getID()]=n[0]),s.push(je),Ee=!0}else a.has(He)||Yt(He,de,he)&&(Ee=!0)}if(Ee)h(ie);else for(var Le=0;Le<Ie.length;Le+=1){var He=l[Ie[Le]];o[He.get("id")].has(ie)||o[He.get("id")].add(ie)}return n.pop(),Ee},v=r.getNodes(),g=0;g<v.length;g+=1){var C=v[g],F=C.getID();u[F]=g,l[g]=C}if(t&&e)for(var g=0;g<t.length;g++){var F=t[g];u[v[g].getID()]=u[F],u[F]=0,l[0]=r.findById(F),l[u[v[g].getID()]]=v[g]}for(var G=function(ie){for(var de,he,Ee=Infinity,Ie=0;Ie<ie.length;Ie+=1)for(var Le=ie[Ie],He=0;He<Le.length;He++){var je=u[Le[He].getID()];je<Ee&&(Ee=je,he=Ie)}for(var Ke=ie[he],Xe=[],Ie=0;Ie<Ke.length;Ie+=1){var Ve=Ke[Ie];Xe[Ve.getID()]=[];for(var pr=0,vr=Ve.getNeighbors("target").filter(function(gr){return Ke.indexOf(gr)>-1});pr<vr.length;pr++){var xr=vr[pr];xr===Ve&&!(e===!1&&t.indexOf(Ve.getId())>-1)?s.push((de={},de[Ve.getID()]=Ve,de)):Xe[Ve.getID()].push(u[xr.getID()])}}return{component:Ke,adjList:Xe,minIdx:Ee}},V=0;V<v.length;){var X=v.filter(function(Yt){return u[Yt.getID()]>=V}),at=ib(X).filter(function(Yt){return Yt.length>1});if(at.length===0)break;var st=G(at),xt=st.minIdx,kt=st.adjList,Gt=st.component;if(Gt.length>1){Gt.forEach(function(Yt){o[Yt.get("id")]=new Set});var Wt=l[xt];if(t&&e&&t.indexOf(Wt.get("id"))===-1)return s;c(Wt,Wt,kt),V=xt+1}else break}return s},L9=function(r,t,e,n){return n===void 0&&(n=!0),t===void 0&&(t=r.get("directed")),t?sb(r,e,n):ob(r,e,n)},I9=_9,O9=function(r,t,e,n){var a=r.getNodes(),o=[],s={},l={},u={};a.forEach(function(G,V){var X=G.getID();o.push(X),l[X]=Infinity,X===t&&(l[X]=0)});for(var h=a.length,c=function(V){var X=k9(l,a,s),at=X.get("id");if(s[at]=!0,l[at]===Infinity)return"continue";var st=[];e?st=X.getOutEdges():st=X.getEdges(),st.forEach(function(xt){var kt=xt.getTarget().getID(),Gt=xt.getSource().getID(),Wt=kt===at?Gt:kt,Yt=n&&xt.getModel()[n]?xt.getModel()[n]:1;l[Wt]>l[X.get("id")]+Yt&&(l[Wt]=l[X.get("id")]+Yt,u[Wt]=X.get("id"))})},v=0;v<h;v++)c(v);var g={};for(var C in l){g[C]=[C];for(var F=u[C];F!==void 0;)g[C].unshift(F),F=u[F]}return{length:l,path:g}};function k9(i,r,t){for(var e=Infinity,n,a=0;a<r.length;a++){var o=r[a].get("id");!t[o]&&i[o]<=e&&(e=i[o],n=r[a])}return n}var B9=O9,D9=function(r,t,e,n,a){(0,f.isString)(t)&&(t=r.findById(t)),(0,f.isString)(e)&&(e=r.findById(e));var o=B9(r,t.get("id"),n,a),s=o.length,l=o.path;return{length:s[e.get("id")],path:l[e.get("id")]}},F9=function(r,t,e,n){var a;if((0,f.isString)(t)&&(t=r.findById(t)),(0,f.isString)(e)&&(e=r.findById(e)),n===void 0&&(n=r.get("directed")),t===e)return[[t.get("id")]];var o=[t],s=(a={},a[t.get("id")]=!0,a),l=[],u=[],h=n?t.getNeighbors("target"):t.getNeighbors();for(l.push(h);o.length>0&&l.length>0;){var c=l[l.length-1];if(c.length){var v=c.shift();v&&(o.push(v),s[v.get("id")]=!0,h=n?v.getNeighbors("target"):v.getNeighbors(),l.push(h.filter(function(F){return!s[F.get("id")]})))}else{var g=o.pop();s[g.get("id")]=!1,l.pop();continue}if(o[o.length-1]===e){var C=o.map(function(G){return G.get("id")});u.push(C);var g=o.pop();s[g.get("id")]=!1,l.pop()}}return u},R9=function(){function i(r){this.count=r.length,this.parent={};for(var t=0,e=r;t<e.length;t++){var n=e[t];this.parent[n]=n}}return i.prototype.find=function(r){for(;this.parent[r]!==r;)r=this.parent[r];return r},i.prototype.union=function(r,t){var e=this.find(r),n=this.find(t);e!==n&&(e<n?(this.parent[t]!==t&&this.union(this.parent[t],r),this.parent[t]=this.parent[r]):(this.parent[r]!==r&&this.union(this.parent[r],t),this.parent[r]=this.parent[t]))},i.prototype.connected=function(r,t){return this.find(r)===this.find(t)},i}(),N9=R9,Y9=function(r,t){return r-t},G9=function(){function i(r){r===void 0&&(r=Y9),this.compareFn=r,this.list=[]}return i.prototype.getLeft=function(r){return 2*r+1},i.prototype.getRight=function(r){return 2*r+2},i.prototype.getParent=function(r){return r===0?null:Math.floor((r-1)/2)},i.prototype.isEmpty=function(){return this.list.length<=0},i.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},i.prototype.delMin=function(){var r=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),r},i.prototype.insert=function(r){if(r!==null){this.list.push(r);var t=this.list.length-1;return this.moveUp(t),!0}return!1},i.prototype.moveUp=function(r){for(var t=this.getParent(r);r&&r>0&&this.compareFn(this.list[t],this.list[r])>0;){var e=this.list[t];this.list[t]=this.list[r],this.list[r]=e,r=t,t=this.getParent(r)}},i.prototype.moveDown=function(r){var t,e=r,n=this.getLeft(r),a=this.getRight(r),o=this.list.length;n!==null&&n<o&&this.compareFn(this.list[e],this.list[n])>0?e=n:a!==null&&a<o&&this.compareFn(this.list[e],this.list[a])>0&&(e=a),r!==e&&(t=[this.list[e],this.list[r]],this.list[r]=t[0],this.list[e]=t[1],this.moveDown(e))},i}(),z9=G9,X9=function(r,t){var e=[],n=r.getNodes();if(n.length===0)return e;var a=n[0],o=new Set;o.add(a);var s=function(g,C){return t?g.getModel()[t]-C.getModel()[t]:0},l=new z9(s);for(a.getEdges().forEach(function(v){l.insert(v)});!l.isEmpty();){var u=l.delMin(),h=u.getSource(),c=u.getTarget();o.has(h)&&o.has(c)||(e.push(u),o.has(h)||(o.add(h),h.getEdges().forEach(function(v){l.insert(v)})),o.has(c)||(o.add(c),c.getEdges().forEach(function(v){l.insert(v)})))}return e},lb=function(r,t){var e=[];if(r.getNodes().length===0)return e;var n=r.getEdges().map(function(u){return u});t&&n.sort(function(u,h){return u.getModel()[t]-h.getModel()[t]});for(var a=new N9(r.getNodes().map(function(u){return u.get("id")}));n.length>0;){var o=n.shift(),s=o.getSource().get("id"),l=o.getTarget().get("id");a.connected(s,l)||(e.push(o),a.union(s,l))}return e};function V9(i,r,t){var e={prim:X9,kruskal:lb};return t?e[t](i,r):lb(i,r)}var H9=function(r,t,e){typeof t!="number"&&(t=1e-6),typeof e!="number"&&(e=.85);for(var n=1,a=0,o=1e3,s=r.getNodes(),l=s.length,u,h={},c={},v=0;v<l;++v){var g=s[v],C=g.get("id");h[C]=1/l,c[C]=1/l}for(;o>0&&n>t;){a=0;for(var v=0;v<l;++v){var g=s[v],C=g.get("id");if(u=0,r.getNodeDegree(g,"in")===0)h[C]=0;else{for(var F=g.getNeighbors("source"),G=0;G<F.length;++G){var V=F[G],X=r.getNodeDegree(V,"out");X>0&&(u+=c[V.get("id")]/X)}h[C]=e*u,a+=h[C]}}a=(1-a)/l,n=0;for(var v=0;v<l;++v){var g=s[v],C=g.get("id");u=h[C]+a,n+=Math.abs(u-c[C]),c[C]=u}o-=1}return c},W9=H9,Dz=gs.registerNode,Fz=gs.registerEdge,Rz=gs.registerCombo,Nz=Px.registerBehavior,Yz=qs.registerLayout,Gz=Qi.Minimap,zz=Qi.Grid,Xz=Qi.Bundling,Vz=Qi.Menu,j9=Qi.Fisheye,Hz=Qi.ToolBar,Wz=Qi.Tooltip,U9=Qi.TimeBar,Z9=Qi.ImageMinimap,K9=Qi.EdgeFilterLens,Gi={version:CR.i8,Graph:O1,TreeGraph:I6,Util:u8,registerNode:gs.registerNode,registerEdge:gs.registerEdge,registerCombo:gs.registerCombo,registerBehavior:Px.registerBehavior,registerLayout:qs.registerLayout,Layout:qs,Global:ze,Minimap:Qi.Minimap,Grid:Qi.Grid,Bundling:Qi.Bundling,Menu:Qi.Menu,ToolBar:Qi.ToolBar,Tooltip:Qi.Tooltip,TimeBar:U9,Fisheye:j9,ImageMinimap:Z9,EdgeFilterLens:K9,Algorithm:gt,Arrow:a8,Marker:o8};function ub(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function to(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ub(Object(t),!0).forEach(function(e){$9(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):ub(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function $9(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}Gi.registerNode("card-node",{draw:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a=Object.assign({radius:2,fill:"#fff"},a),e=a.stroke||"#5B8FF9";var o=a.radius||0,s=t.addShape("rect",{attrs:to({x:-n[0]/2,y:-n[1]/2,width:n[0],height:n[1],stroke:e},a),name:"main-box",draggable:!0}),l=r.title||r.label,u,h=r&&r.labelCfg&&r.labelCfg.style?r.labelCfg.style:{};if(l){var c=Object.assign({fill:"#fff"},h);u=t.addShape("text",{attrs:to(to({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+2,text:l},c),{},{fill:"#fff"}),name:"title"})}var v=u?u.getBBox():{height:n[1]/2},g=t.addShape("rect",{attrs:{x:-n[0]/2,y:-n[1]/2,width:n[0],height:v.height+4,fill:e,radius:[o,o,0,0]},name:"title-rect",draggable:!0});u&&u.toFront();var C;r.children&&(C=t.addShape("marker",{attrs:{x:n[0]/2,y:0,r:6,cursor:"pointer",symbol:r.collapsed?Gi.Marker.expand:Gi.Marker.collapse,stroke:e,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var F=r&&r.description?r.description:void 0,G=g.getBBox(),V;if(F&&(V=t.addShape("text",{attrs:to({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+G.height+8,text:F},h),name:"description"})),V){var X,at=V.getBBox(),st=G.height+16+at.height,xt=n[0]>at.width+16?n[0]:at.width+16;s.attr({width:xt,height:st}),g==null||g.attr("width",xt),(X=C)===null||X===void 0||X.attr({x:xt-n[0]/2,y:st/2-n[1]/2})}return s},update:void 0},"single-node"),Gi.registerNode("round-rect",{drawShape:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a.stroke&&(e=a.stroke);var o=a&&a.fill?a.fill:"#fff";a=Object.assign({width:n[0],height:n[1],radius:n[1]/2,fill:o,lineWidth:1.2,stroke:e},a);var s=t.addShape("rect",{attrs:to({x:-n[0]/2,y:-n[1]/2},a),name:"rect-shape"});return t.addShape("circle",{attrs:{x:-n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape"}),t.addShape("circle",{attrs:{x:n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape2"}),s},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(r,t){var e=t.getContainer(),n=e.get("children"),a=n[0],o=n[1],s=n[2],l=r.style&&r.style.stroke?r.style.stroke:"#5B8FF9";l&&(a.attr("stroke",l),o.attr("fill",l),s.attr("fill",l))}},"single-node");var Q9=function(r){Gi.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(e,n){var a=this.getShapeStyle(e),o=e.labelCfg,s=o===void 0?{}:o,l=n.addShape("rect",{attrs:to(to({},a),{},{x:0,y:0})}),u={fill:"#e6fffb"},h="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return e.leftIcon&&(u=Object.assign({},u,e.leftIcon.style),h=e.leftIcon.img),n.addShape("rect",{attrs:to({x:1,y:1,width:38,height:a.height-2},u)}),n.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:h},name:"image-shape"}),r.enableEdit&&(n.addShape("marker",{attrs:{x:a.width/3,y:a.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:Gi.Marker.expand},name:"add-item"}),n.addShape("marker",{attrs:{x:a.width*2/3,y:a.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:Gi.Marker.collapse},name:"remove-item"})),e.label&&n.addShape("text",{attrs:to(to({},s.style),{},{text:e.label,x:a.width/2,y:a.height/1.5})}),l}},"rect")};Gi.registerEdge("fund-polyline",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=n.y-e.y,o=a!==0?500/Math.abs(a):0,s=16,l=a<0?s:-s,u={x:e.x+o,y:n.y+l},h={x:u.x+s,y:n.y},c={x:(u.x-e.x)*(n.y-e.y)/(u.y-e.y)+e.x,y:n.y},v=[["M",e.x,e.y],["L",u.x,u.y],["Q",c.x,c.y,h.x,h.y],["L",n.x,n.y]];a===0&&(v=[["M",e.x,e.y],["L",n.x,n.y]]);var g=r||{},C=g.style,F=t.addShape("path",{attrs:{path:v,stroke:C.stroke||r.colorMap&&r.colorMap[r.dataType]?r.colorMap[r.dataType]:"#5B8FF9",lineWidth:C.lineWidth||1.2,endArrow:!1},name:"path-shape"}),G=0,V=8,X;if(r.label&&(X=t.addShape("text",{attrs:{text:r.label,x:h.x+G,y:n.y-V-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),r.dataType){var at=X?X.getBBox():{height:0};t.addShape("text",{attrs:{text:r.dataType,x:h.x+G,y:n.y-V-at.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return r.subLabel&&t.addShape("text",{attrs:{text:r.subLabel,x:h.x+G,y:n.y+V+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),F},update:void 0},"single-edge"),Gi.registerEdge("flow-line",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=r.style,o=a===void 0?{}:a,s=t.addShape("path",{attrs:{stroke:o.stroke,endArrow:o.endArrow,path:[["M",e.x,e.y],["L",e.x,(e.y+n.y)/2],["L",n.x,(e.y+n.y)/2],["L",n.x,n.y]]}});return s}});function fb(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function J9(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?fb(Object(t),!0).forEach(function(e){q9(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):fb(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function q9(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}var tY={show:!1,size:[150,100],type:"keyShape"},rl=function(r,t,e){var n,a;return e&&e.current&&(n=e.current.offsetWidth,a=e.current.offsetHeight||500),console.log("graph size",n,a,t,r,e,e.current),!r&&!n||!t&&!a?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[r||n||500,t||a||500]},nl=function(r,t){if(!(!t||t.destroyed)&&r&&r.show){var e=Object.assign(tY,r),n=new Gi.Minimap(J9({},e));return t.addPlugin(n),n}};function sf(i,r,t){var e=(0,K.useRef)(),n=r.data,a=r.nodeStyle,o=r.nodeAnchorPoints,s=r.nodeType,l=r.edgeType,u=r.edgeStyle,h=r.width,c=r.height,v=r.layout,g=r.minimapCfg,C=r.behaviors,F=r.nodeLabelCfg,G=r.edgeLabelCfg,V;return(0,K.useEffect)(function(){i&&!i.destroyed&&(i.changeData(n),i.layout())},[n]),(0,K.useEffect)(function(){i&&!i.destroyed&&i.getNodes().forEach(function(X){i.updateItem(X,{type:s,style:a,anchorPoints:o,labelCfg:F})})},[a,o,s]),(0,K.useEffect)(function(){i&&!i.destroyed&&i.getEdges().forEach(function(X){i.updateItem(X,{type:l,style:u,labelCfg:G})})},[u,l]),(0,K.useEffect)(function(){if(i&&!i.destroyed){var X=rl(h,c,t);i.changeSize(X[0],X[1])}},[t,h,c]),(0,K.useEffect)(function(){i&&!i.destroyed&&i.updateLayout(v)},[v]),(0,K.useEffect)(function(){if(!(!g||!i||i.destroyed))if(g.show)V=nl(g,i),V&&V.updateCanvas();else{var X=i.get("plugins")[0];X&&i.removePlugin(X)}},[g]),(0,K.useEffect)(function(){if(i&&!i.destroyed){var X=i.get("modes"),at=X.default,st=[];at.forEach(function(xt){(0,f.isObject)(xt)?st.push(xt.type):(0,f.isString)(xt)&&st.push(xt)}),i.removeBehaviors(st,"default"),i.addBehaviors(C,"default")}},[C]),(0,K.useEffect)(function(){if(e.current=i,i&&!i.destroyed)return function(){i.destroy(),i=void 0}},[]),{graphHook:e}}var hb={hover:{stroke:"#1890ff",lineWidth:2}},eY={fill:"#91d5ff",stroke:"#40a9ff",radius:5},rY={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},nY={type:"compactBox",direction:"TB",getId:function(r){return r.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},cb={style:{fill:"#000",fontSize:12}},An,iY=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"rect":s,u=r.edgeType,h=u===void 0?"flow-line":u,c=r.collapseExpand,v=c===void 0?!1:c,g=r.nodeSize,C=g===void 0?[120,40]:g,F=r.nodeLabelCfg,G=F===void 0?cb:F,V=r.edgeLabelCfg,X=V===void 0?cb:V,at=r.layout,st=at===void 0?nY:at,xt=r.enableEdit,kt=xt===void 0?!1:xt,Gt=r.minimapCfg,Wt=r.nodeStyle,Yt=Wt===void 0?eY:Wt,ie=r.edgeStyle,de=ie===void 0?rY:ie,he=r.nodeStateStyles,Ee=he===void 0?hb:he,Ie=r.edgeStateStyles,Le=Ie===void 0?hb:Ie,He=r.handleNodeClick,je=r.handleEdgeClick,Ke=r.handleNodeHover,Xe=r.handleNodeUnHover,Ve=r.handleEdgeHover,pr=r.handleEdgeUnHover,vr=r.handleCanvasClick,xr=r.graphRef,Je={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,collapseExpand:v,nodeSize:C,nodeLabelCfg:G,edgeLabelCfg:X,layout:st,enableEdit:kt,minimapCfg:Gt,nodeStyle:Yt,edgeStyle:de,nodeStateStyles:Ee,edgeStateStyles:Le,handleNodeClick:He,handleEdgeClick:je,handleNodeHover:Ke,handleNodeUnHover:Xe,handleEdgeHover:Ve,handleEdgeUnHover:pr,handleCanvasClick:vr,graphRef:xr},gr=K.useRef(null);return sf(An,Je,gr),(0,K.useEffect)(function(){var Or=rl(a,o,gr);return(!An||An.destroyed)&&(l==="icon-node"&&Q9({enableEdit:kt}),An=new Gi.TreeGraph({container:gr.current,width:Or[0],height:Or[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:l,size:C,style:Yt,labelCfg:G},defaultEdge:{type:h,style:de,labelCfg:X},nodeStateStyles:Ee,edgeStateStyles:Le,layout:st}),xr&&(xr.current=An)),nl(Gt,An),An.data(t),An.render(),An.fitView(),v&&An.addBehaviors({type:"collapse-expand",onChange:function(yr,Dr){if(!yr)return!1;var Kr=yr.get("model").data;return Kr.collapsed=Dr,!0}},"default"),An.on("node:mouseenter",function(mr){var yr=mr.item;An.setItemState(yr,"hover",!0),Ke&&Ke(yr,An)}),An.on("node:mouseleave",function(mr){var yr=mr.item;An.setItemState(yr,"hover",!1),Xe&&Xe(yr,An)}),An.on("node:click",function(mr){var yr=mr.item,Dr=mr.target,Kr=Dr.get("type"),Er=Dr.get("name");if(Kr==="marker"){var De=yr.getModel();if(Er==="add-item"){De.children||(De.children=[]);var qe=Math.random().toString(36).slice(-8);De.children.push({id:qe,label:qe}),An.updateChild(De,De.id)}else Er==="remove-item"&&An.removeChild(De.id)}else He&&He(yr,An)}),An.on("edge:mouseenter",function(mr){var yr=mr.item;An.setItemState(yr,"hover",!0),Ve&&Ve(yr,An)}),An.on("edge:mouseleave",function(mr){var yr=mr.item;An.setItemState(yr,"hover",!1),pr&&pr(yr,An)}),An.on("edge:click",function(mr){var yr=mr.item;je&&je(yr,An)}),An.on("canvas:click",function(mr){vr&&vr(An)}),function(){return An.destroy()}},[]),K.createElement(qr,null,K.createElement("div",{className:e,style:n,ref:gr}))},aY=iY,vb={hover:{stroke:"#1890ff",lineWidth:2}},oY=[120,40],sY={stroke:"#40a9ff"},lY=[[.5,0],[.5,1]],uY={stroke:"#91d5ff",endArrow:{path:Gi.Arrow.vee(10,10),fill:"#91d5ff"}},fY={type:"dagre",rankdir:"TB",nodesepFunc:function(r){return 0},ranksepFunc:function(r){return 0},controlPoints:!0},db={style:{fill:"#000",fontSize:12}},Fn,hY=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"modelRect":s,u=r.edgeType,h=u===void 0?"polyline":u,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,g=r.nodeSize,C=g===void 0?oY:g,F=r.nodeLabelCfg,G=F===void 0?db:F,V=r.edgeLabelCfg,X=V===void 0?db:V,at=r.nodeAnchorPoints,st=at===void 0?lY:at,xt=r.layout,kt=xt===void 0?fY:xt,Gt=r.minimapCfg,Wt=r.nodeStyle,Yt=Wt===void 0?sY:Wt,ie=r.edgeStyle,de=ie===void 0?uY:ie,he=r.nodeStateStyles,Ee=he===void 0?vb:he,Ie=r.edgeStateStyles,Le=Ie===void 0?vb:Ie,He=r.handleEdgeClick,je=r.handleEdgeHover,Ke=r.handleEdgeUnHover,Xe=r.handleNodeClick,Ve=r.handleNodeHover,pr=r.handleNodeUnHover,vr=r.handleCanvasClick,xr=r.graphRef,Je={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:C,nodeLabelCfg:G,edgeLabelCfg:X,nodeAnchorPoints:st,layout:kt,minimapCfg:Gt,nodeStyle:Yt,edgeStyle:de,nodeStateStyles:Ee,edgeStateStyles:Le,handleEdgeClick:He,handleEdgeHover:je,handleEdgeUnHover:Ke,handleNodeClick:Xe,handleNodeHover:Ve,handleNodeUnHover:pr,handleCanvasClick:vr,graphRef:xr},gr=K.useRef(null);return sf(Fn,Je,gr),(0,K.useEffect)(function(){var Or=rl(a,o,gr);return(!Fn||Fn.destroyed)&&(Fn=new Gi.Graph({container:gr.current,width:Or[0],height:Or[1],modes:{default:v},defaultNode:{type:l,size:C,style:Yt,anchorPoints:st,labelCfg:G},defaultEdge:{type:h,style:de,labelCfg:X},nodeStateStyles:Ee,edgeStateStyles:Le,layout:kt}),xr&&(xr.current=Fn)),nl(Gt,Fn),Fn.data(t),Fn.render(),Fn.fitView(),Fn.on("edge:mouseenter",function(mr){var yr=mr.item;Fn.setItemState(yr,"hover",!0),je&&je(yr,Fn)}),Fn.on("node:mouseenter",function(mr){var yr=mr.item;Fn.setItemState(yr,"hover",!1),Ve&&Ve(yr,Fn)}),Fn.on("edge:mouseleave",function(mr){var yr=mr.item;Fn.setItemState(yr,"hover",!1),Ke&&Ke(yr,Fn)}),Fn.on("node:mouseleave",function(mr){var yr=mr.item;Fn.setItemState(yr,"hover",!1),pr&&pr(yr,Fn)}),Fn.on("edge:click",function(mr){var yr=mr.item;He&&He(yr,Fn)}),Fn.on("node:click",function(mr){var yr=mr.item;Xe&&Xe(yr,Fn)}),Fn.on("canvas:click",function(mr){vr&&vr(Fn)}),function(){return Fn.destroy()}},[]),K.createElement(qr,null,K.createElement("div",{className:e,style:n,ref:gr}))},cY=hY,pb={hover:{stroke:"#1890ff",lineWidth:2}},vY=[150,30],dY={stroke:"#72CC4A",fill:"#f00"},pY=[[.5,0],[.5,1]],gY={stroke:"#91d5ff",endArrow:{path:Gi.Arrow.vee(10,10),fill:"#91d5ff"}},yY={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},gb={style:{fill:"#000000A6",fontSize:10}},Ln,mY=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"round-rect":s,u=r.edgeType,h=u===void 0?"fund-polyline":u,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,g=r.nodeSize,C=g===void 0?vY:g,F=r.nodeLabelCfg,G=F===void 0?gb:F,V=r.edgeLabelCfg,X=V===void 0?gb:V,at=r.nodeAnchorPoints,st=at===void 0?pY:at,xt=r.layout,kt=xt===void 0?yY:xt,Gt=r.minimapCfg,Wt=r.nodeStyle,Yt=Wt===void 0?dY:Wt,ie=r.edgeStyle,de=ie===void 0?gY:ie,he=r.nodeStateStyles,Ee=he===void 0?pb:he,Ie=r.edgeStateStyles,Le=Ie===void 0?pb:Ie,He=r.colorMap,je=He===void 0?{}:He,Ke=r.handleEdgeClick,Xe=r.handleEdgeHover,Ve=r.handleEdgeUnHover,pr=r.handleNodeClick,vr=r.handleNodeHover,xr=r.handleNodeUnHover,Je=r.handleCanvasClick,gr=r.graphRef,Or=K.useRef(null),mr={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:C,nodeLabelCfg:G,edgeLabelCfg:X,nodeAnchorPoints:st,layout:kt,minimapCfg:Gt,nodeStyle:Yt,edgeStyle:de,nodeStateStyles:Ee,edgeStateStyles:Le,colorMap:je,handleEdgeClick:Ke,handleEdgeHover:Xe,handleEdgeUnHover:Ve,handleNodeClick:pr,handleNodeHover:vr,handleNodeUnHover:xr,handleCanvasClick:Je,graphRef:gr};return sf(Ln,mr,Or),(0,K.useEffect)(function(){var yr=rl(a,o,Or);(!Ln||Ln.destroyed)&&(Ln=new Gi.Graph({container:Or.current,width:yr[0],height:yr[1],modes:{default:v},defaultNode:{type:l,size:C,style:Yt,anchorPoints:st,labelCfg:G},defaultEdge:{type:h,style:de,colorMap:je,labelCfg:X},nodeStateStyles:Ee,edgeStateStyles:Le,layout:kt}),gr&&(gr.current=Ln)),nl(Gt,Ln),Ln.data(t),Ln.render();var Dr=Ln.getEdges();return Dr.forEach(function(Kr){var Er=Kr.getKeyShape(),De=Er.attr("stroke"),qe=Kr.getTarget();qe.update({style:{stroke:De}})}),Ln.fitView(),Ln.on("edge:mouseenter",function(Kr){var Er=Kr.item;Ln.setItemState(Er,"hover",!0),Xe&&Xe(Er,Ln)}),Ln.on("edge:mouseleave",function(Kr){var Er=Kr.item;Ln.setItemState(Er,"hover",!1),Ve&&Ve(Er,Ln)}),Ln.on("edge:click",function(Kr){var Er=Kr.item;Ke&&Ke(Er,Ln)}),Ln.on("node:mouseenter",function(Kr){var Er=Kr.item;Ln.setItemState(Er,"hover",!1),vr&&vr(Er,Ln)}),Ln.on("node:mouseleave",function(Kr){var Er=Kr.item;Ln.setItemState(Er,"hover",!1),xr&&xr(Er,Ln)}),Ln.on("node:click",function(Kr){var Er=Kr.item;pr&&pr(Er,Ln)}),Ln.on("canvas:click",function(Kr){Je&&Je(Ln)}),function(){return Ln.destroy()}},[]),K.createElement(qr,null,K.createElement("div",{className:e,style:n,ref:Or}))},xY=mY,yb={hover:{stroke:"#1890ff",lineWidth:2}},bY=[120,40],wY={stroke:"#40a9ff"},SY=[[0,.5],[1,.5]],CY={stroke:"#ccc",endArrow:{path:Gi.Arrow.vee(10,10),fill:"#ccc"}},MY={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(r){return 100}},EY={style:{fill:"#000",fontSize:12}},Pn,AY=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"card-node":s,u=r.edgeType,h=u===void 0?"cubic-horizontal":u,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,g=r.nodeSize,C=g===void 0?bY:g,F=r.nodeLabelCfg,G=F===void 0?EY:F,V=r.nodeAnchorPoints,X=V===void 0?SY:V,at=r.layout,st=at===void 0?MY:at,xt=r.minimapCfg,kt=r.nodeStyle,Gt=kt===void 0?wY:kt,Wt=r.edgeStyle,Yt=Wt===void 0?CY:Wt,ie=r.nodeStateStyles,de=ie===void 0?yb:ie,he=r.edgeStateStyles,Ee=he===void 0?yb:he,Ie=r.collapseExpand,Le=Ie===void 0?!0:Ie,He=r.handleEdgeClick,je=r.handleEdgeHover,Ke=r.handleEdgeUnHover,Xe=r.handleNodeClick,Ve=r.handleNodeHover,pr=r.handleNodeUnHover,vr=r.handleCanvasClick,xr=r.graphRef,Je=K.useRef(null),gr={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:C,nodeLabelCfg:G,nodeAnchorPoints:X,layout:st,minimapCfg:xt,nodeStyle:Gt,edgeStyle:Yt,nodeStateStyles:de,edgeStateStyles:Ee,collapseExpand:Le,handleEdgeClick:He,handleEdgeHover:je,handleEdgeUnHover:Ke,handleNodeClick:Xe,handleNodeHover:Ve,handleNodeUnHover:pr,handleCanvasClick:vr,graphRef:xr};return sf(Pn,gr,Je),(0,K.useEffect)(function(){var Or=rl(a,o,Je);return(!Pn||Pn.destroyed)&&(Pn=new Gi.TreeGraph({container:Je.current,width:Or[0],height:Or[1],modes:{default:v},defaultNode:{type:l,size:C,style:Gt,anchorPoints:X,labelCfg:G},defaultEdge:{type:h,style:Yt},nodeStateStyles:de,edgeStateStyles:Ee,layout:st}),xr&&(xr.current=Pn)),nl(xt,Pn),Pn.data(t),Pn.render(),Pn.fitView(),Le&&Pn.on("node:click",function(mr){var yr=mr.item;mr.target.get("name")==="collapse-icon"?(Pn.updateItem(yr,{collapsed:!yr.getModel().collapsed}),Pn.layout()):Xe&&Xe(yr,Pn)}),Pn.on("edge:mouseenter",function(mr){var yr=mr.item;Pn.setItemState(yr,"hover",!0),je&&je(yr,Pn)}),Pn.on("edge:mouseleave",function(mr){var yr=mr.item;Pn.setItemState(yr,"hover",!1),Ke&&Ke(yr,Pn)}),Pn.on("edge:click",function(mr){var yr=mr.item;He&&He(yr,Pn)}),Pn.on("node:mouseenter",function(mr){var yr=mr.item;Pn.setItemState(yr,"hover",!1),Ve&&Ve(yr,Pn)}),Pn.on("node:mouseleave",function(mr){var yr=mr.item;Pn.setItemState(yr,"hover",!1),pr&&pr(yr,Pn)}),Pn.on("canvas:click",function(mr){vr&&vr(Pn)}),function(){return Pn.destroy()}},[]),K.createElement(qr,null,K.createElement("div",{className:e,style:n,ref:Je}))},TY=AY,jz={Area:o5,Bar:u5,Bubble:c5,Bullet:p5,Calendar:x5,Column:X0,ColumnLine:M5,DensityHeatmap:T5,Donut:j0,DualLine:O5,FanGauge:D5,Funnel:Y5,Gauge:$0,GroupedBar:H5,GroupedColumn:U5,GroupedColumnLine:$5,GroupedRose:q5,Heatmap:rF,Histogram:aF,Line:im,Liquid:om,MeterGauge:cF,PercentStackedArea:pF,PercentStackedBar:mF,PercentStackedColumn:wF,Pie:MF,Progress:vm,Radar:pm,RangeBar:IF,RangeColumn:BF,RingProgress:xm,Rose:YF,Scatter:XF,StackedArea:WF,StackedBar:ZF,StackedColumn:QF,StackedColumnLine:tR,StackedRose:nR,StepLine:oR,TinyArea:_m,TinyColumn:Im,TinyLine:vR,Treemap:gR,Waterfall:xR,WordCloud:Dm,OrganizationTreeGraph:aY,DagreGraph:cY,IndentedTree:TY,DagreFundFlowGraph:xY,G2:L}},74306:function(dt,S,d){"use strict";d.r(S),d.d(S,{AbstractCanvas:function(){return cn},AbstractGroup:function(){return Qn},AbstractShape:function(){return wa},Base:function(){return fe},Event:function(){return Ft},PathUtil:function(){return b},assembleFont:function(){return Ha},getBBoxMethod:function(){return qi},getOffScreenContext:function(){return Ba},getTextHeight:function(){return Ma},invert:function(){return br},isAllowCapture:function(){return Jt},multiplyVec2:function(){return or},registerBBox:function(){return Yn},registerEasing:function(){return ht},version:function(){return z}});var b={};d.r(b),d.d(b,{catmullRomToBezier:function(){return A},fillPath:function(){return gt},fillPathByDiff:function(){return f},formatPath:function(){return Rt},intersection:function(){return J},parsePathArray:function(){return k},parsePathString:function(){return T},pathToAbsolute:function(){return p},pathToCurve:function(){return m},rectPath:function(){return $}});var P=d(49242),D=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,O=new RegExp("([a-z])["+D+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+D+"]*,?["+D+"]*)+)","ig"),L=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+D+"]*,?["+D+"]*","ig"),T=function(_){if(!_)return null;if((0,P.isArray)(_))return _;var I={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},B=[];return String(_).replace(O,function(Y,U,rt){var mt=[],Tt=U.toLowerCase();if(rt.replace(L,function(_t,$t){$t&&mt.push(+$t)}),Tt==="m"&&mt.length>2&&(B.push([U].concat(mt.splice(0,2))),Tt="l",U=U==="m"?"l":"L"),Tt==="o"&&mt.length===1&&B.push([U,mt[0]]),Tt==="r")B.push([U].concat(mt));else for(;mt.length>=I[Tt]&&(B.push([U].concat(mt.splice(0,I[Tt]))),!!I[Tt]););return _}),B},A=function(_,I){for(var B=[],Y=0,U=_.length;U-2*!I>Y;Y+=2){var rt=[{x:+_[Y-2],y:+_[Y-1]},{x:+_[Y],y:+_[Y+1]},{x:+_[Y+2],y:+_[Y+3]},{x:+_[Y+4],y:+_[Y+5]}];I?Y?U-4===Y?rt[3]={x:+_[0],y:+_[1]}:U-2===Y&&(rt[2]={x:+_[0],y:+_[1]},rt[3]={x:+_[2],y:+_[3]}):rt[0]={x:+_[U-2],y:+_[U-1]}:U-4===Y?rt[3]=rt[2]:Y||(rt[0]={x:+_[Y],y:+_[Y+1]}),B.push(["C",(-rt[0].x+6*rt[1].x+rt[2].x)/6,(-rt[0].y+6*rt[1].y+rt[2].y)/6,(rt[1].x+6*rt[2].x-rt[3].x)/6,(rt[1].y+6*rt[2].y-rt[3].y)/6,rt[2].x,rt[2].y])}return B},E=function(_,I,B,Y,U){var rt=[];if(U===null&&Y===null&&(Y=B),_=+_,I=+I,B=+B,Y=+Y,U!==null){var mt=Math.PI/180,Tt=_+B*Math.cos(-Y*mt),_t=_+B*Math.cos(-U*mt),$t=I+B*Math.sin(-Y*mt),ne=I+B*Math.sin(-U*mt);rt=[["M",Tt,$t],["A",B,B,0,+(U-Y>180),0,_t,ne]]}else rt=[["M",_,I],["m",0,-Y],["a",B,Y,0,1,1,0,2*Y],["a",B,Y,0,1,1,0,-2*Y],["z"]];return rt},p=function(_){if(_=T(_),!_||!_.length)return[["M",0,0]];var I=[],B=0,Y=0,U=0,rt=0,mt=0,Tt,_t;_[0][0]==="M"&&(B=+_[0][1],Y=+_[0][2],U=B,rt=Y,mt++,I[0]=["M",B,Y]);for(var $t=_.length===3&&_[0][0]==="M"&&_[1][0].toUpperCase()==="R"&&_[2][0].toUpperCase()==="Z",ne=void 0,pe=void 0,Ce=mt,Ae=_.length;Ce<Ae;Ce++){if(I.push(ne=[]),pe=_[Ce],Tt=pe[0],Tt!==Tt.toUpperCase())switch(ne[0]=Tt.toUpperCase(),ne[0]){case"A":ne[1]=pe[1],ne[2]=pe[2],ne[3]=pe[3],ne[4]=pe[4],ne[5]=pe[5],ne[6]=+pe[6]+B,ne[7]=+pe[7]+Y;break;case"V":ne[1]=+pe[1]+Y;break;case"H":ne[1]=+pe[1]+B;break;case"R":_t=[B,Y].concat(pe.slice(1));for(var Te=2,tr=_t.length;Te<tr;Te++)_t[Te]=+_t[Te]+B,_t[++Te]=+_t[Te]+Y;I.pop(),I=I.concat(A(_t,$t));break;case"O":I.pop(),_t=E(B,Y,pe[1],pe[2]),_t.push(_t[0]),I=I.concat(_t);break;case"U":I.pop(),I=I.concat(E(B,Y,pe[1],pe[2],pe[3])),ne=["U"].concat(I[I.length-1].slice(-2));break;case"M":U=+pe[1]+B,rt=+pe[2]+Y;break;default:for(var Te=1,tr=pe.length;Te<tr;Te++)ne[Te]=+pe[Te]+(Te%2?B:Y)}else if(Tt==="R")_t=[B,Y].concat(pe.slice(1)),I.pop(),I=I.concat(A(_t,$t)),ne=["R"].concat(pe.slice(-2));else if(Tt==="O")I.pop(),_t=E(B,Y,pe[1],pe[2]),_t.push(_t[0]),I=I.concat(_t);else if(Tt==="U")I.pop(),I=I.concat(E(B,Y,pe[1],pe[2],pe[3])),ne=["U"].concat(I[I.length-1].slice(-2));else for(var ir=0,At=pe.length;ir<At;ir++)ne[ir]=pe[ir];if(Tt=Tt.toUpperCase(),Tt!=="O")switch(ne[0]){case"Z":B=+U,Y=+rt;break;case"H":B=ne[1];break;case"V":Y=ne[1];break;case"M":U=ne[ne.length-2],rt=ne[ne.length-1];break;default:B=ne[ne.length-2],Y=ne[ne.length-1]}}return I},w=function(_,I,B,Y){return[_,I,B,Y,B,Y]},y=function(_,I,B,Y,U,rt){var mt=1/3,Tt=2/3;return[mt*_+Tt*B,mt*I+Tt*Y,mt*U+Tt*B,mt*rt+Tt*Y,U,rt]},x=function(_,I,B,Y,U,rt,mt,Tt,_t,$t){B===Y&&(B+=1);var ne=Math.PI*120/180,pe=Math.PI/180*(+U||0),Ce=[],Ae,Te,tr,ir,At,Ut=function(Cs,Io,Nt){var cf=Cs*Math.cos(Nt)-Io*Math.sin(Nt),vf=Cs*Math.sin(Nt)+Io*Math.cos(Nt);return{x:cf,y:vf}};if($t)Te=$t[0],tr=$t[1],ir=$t[2],At=$t[3];else{Ae=Ut(_,I,-pe),_=Ae.x,I=Ae.y,Ae=Ut(Tt,_t,-pe),Tt=Ae.x,_t=Ae.y,_===Tt&&I===_t&&(Tt+=1,_t+=1);var qt=(_-Tt)/2,ee=(I-_t)/2,we=qt*qt/(B*B)+ee*ee/(Y*Y);we>1&&(we=Math.sqrt(we),B=we*B,Y=we*Y);var Ze=B*B,Sr=Y*Y,an=(rt===mt?-1:1)*Math.sqrt(Math.abs((Ze*Sr-Ze*ee*ee-Sr*qt*qt)/(Ze*ee*ee+Sr*qt*qt)));ir=an*B*ee/Y+(_+Tt)/2,At=an*-Y*qt/B+(I+_t)/2,Te=Math.asin(((I-At)/Y).toFixed(9)),tr=Math.asin(((_t-At)/Y).toFixed(9)),Te=_<ir?Math.PI-Te:Te,tr=Tt<ir?Math.PI-tr:tr,Te<0&&(Te=Math.PI*2+Te),tr<0&&(tr=Math.PI*2+tr),mt&&Te>tr&&(Te=Te-Math.PI*2),!mt&&tr>Te&&(tr=tr-Math.PI*2)}var ni=tr-Te;if(Math.abs(ni)>ne){var Ui=tr,ta=Tt,Lo=_t;tr=Te+ne*(mt&&tr>Te?1:-1),Tt=ir+B*Math.cos(tr),_t=At+Y*Math.sin(tr),Ce=x(Tt,_t,B,Y,U,0,mt,ta,Lo,[tr,Ui,ir,At])}ni=tr-Te;var hf=Math.cos(Te),ll=Math.sin(Te),ga=Math.cos(tr),ws=Math.sin(tr),ul=Math.tan(ni/4),fl=4/3*B*ul,ro=4/3*Y*ul,Ss=[_,I],po=[_+fl*ll,I-ro*hf],hl=[Tt+fl*ws,_t-ro*ga],cl=[Tt,_t];if(po[0]=2*Ss[0]-po[0],po[1]=2*Ss[1]-po[1],$t)return[po,hl,cl].concat(Ce);Ce=[po,hl,cl].concat(Ce).join().split(",");for(var vl=[],ya=0,dl=Ce.length;ya<dl;ya++)vl[ya]=ya%2?Ut(Ce[ya-1],Ce[ya],pe).y:Ut(Ce[ya],Ce[ya+1],pe).x;return vl},m=function(_,I){var B=p(_),Y=I&&p(I),U={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},rt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},mt=[],Tt=[],_t="",$t="",ne,pe=function(qt,ee,we){var Ze,Sr;if(!qt)return["C",ee.x,ee.y,ee.x,ee.y,ee.x,ee.y];switch(!(qt[0]in{T:1,Q:1})&&(ee.qx=ee.qy=null),qt[0]){case"M":ee.X=qt[1],ee.Y=qt[2];break;case"A":qt=["C"].concat(x.apply(0,[ee.x,ee.y].concat(qt.slice(1))));break;case"S":we==="C"||we==="S"?(Ze=ee.x*2-ee.bx,Sr=ee.y*2-ee.by):(Ze=ee.x,Sr=ee.y),qt=["C",Ze,Sr].concat(qt.slice(1));break;case"T":we==="Q"||we==="T"?(ee.qx=ee.x*2-ee.qx,ee.qy=ee.y*2-ee.qy):(ee.qx=ee.x,ee.qy=ee.y),qt=["C"].concat(y(ee.x,ee.y,ee.qx,ee.qy,qt[1],qt[2]));break;case"Q":ee.qx=qt[1],ee.qy=qt[2],qt=["C"].concat(y(ee.x,ee.y,qt[1],qt[2],qt[3],qt[4]));break;case"L":qt=["C"].concat(w(ee.x,ee.y,qt[1],qt[2]));break;case"H":qt=["C"].concat(w(ee.x,ee.y,qt[1],ee.y));break;case"V":qt=["C"].concat(w(ee.x,ee.y,ee.x,qt[1]));break;case"Z":qt=["C"].concat(w(ee.x,ee.y,ee.X,ee.Y));break;default:break}return qt},Ce=function(qt,ee){if(qt[ee].length>7){qt[ee].shift();for(var we=qt[ee];we.length;)mt[ee]="A",Y&&(Tt[ee]="A"),qt.splice(ee++,0,["C"].concat(we.splice(0,6)));qt.splice(ee,1),ne=Math.max(B.length,Y&&Y.length||0)}},Ae=function(qt,ee,we,Ze,Sr){qt&&ee&&qt[Sr][0]==="M"&&ee[Sr][0]!=="M"&&(ee.splice(Sr,0,["M",Ze.x,Ze.y]),we.bx=0,we.by=0,we.x=qt[Sr][1],we.y=qt[Sr][2],ne=Math.max(B.length,Y&&Y.length||0))};ne=Math.max(B.length,Y&&Y.length||0);for(var Te=0;Te<ne;Te++){B[Te]&&(_t=B[Te][0]),_t!=="C"&&(mt[Te]=_t,Te&&($t=mt[Te-1])),B[Te]=pe(B[Te],U,$t),mt[Te]!=="A"&&_t==="C"&&(mt[Te]="C"),Ce(B,Te),Y&&(Y[Te]&&(_t=Y[Te][0]),_t!=="C"&&(Tt[Te]=_t,Te&&($t=Tt[Te-1])),Y[Te]=pe(Y[Te],rt,$t),Tt[Te]!=="A"&&_t==="C"&&(Tt[Te]="C"),Ce(Y,Te)),Ae(B,Y,U,rt,Te),Ae(Y,B,rt,U,Te);var tr=B[Te],ir=Y&&Y[Te],At=tr.length,Ut=Y&&ir.length;U.x=tr[At-2],U.y=tr[At-1],U.bx=parseFloat(tr[At-4])||U.x,U.by=parseFloat(tr[At-3])||U.y,rt.bx=Y&&(parseFloat(ir[Ut-4])||rt.x),rt.by=Y&&(parseFloat(ir[Ut-3])||rt.y),rt.x=Y&&ir[Ut-2],rt.y=Y&&ir[Ut-1]}return Y?[B,Y]:B},M=/,?([a-z]),?/gi,k=function(_){return _.join(",").replace(M,"$1")},R=function(_,I,B,Y,U){var rt=-3*I+9*B-9*Y+3*U,mt=_*rt+6*I-12*B+6*Y;return _*mt-3*I+3*B},N=function(_,I,B,Y,U,rt,mt,Tt,_t){_t===null&&(_t=1),_t=_t>1?1:_t<0?0:_t;for(var $t=_t/2,ne=12,pe=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Ce=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Ae=0,Te=0;Te<ne;Te++){var tr=$t*pe[Te]+$t,ir=R(tr,_,B,U,mt),At=R(tr,I,Y,rt,Tt),Ut=ir*ir+At*At;Ae+=Ce[Te]*Math.sqrt(Ut)}return $t*Ae},W=function(_,I,B,Y,U,rt,mt,Tt){for(var _t=[],$t=[[],[]],ne,pe,Ce,Ae,Te=0;Te<2;++Te){if(Te===0?(pe=6*_-12*B+6*U,ne=-3*_+9*B-9*U+3*mt,Ce=3*B-3*_):(pe=6*I-12*Y+6*rt,ne=-3*I+9*Y-9*rt+3*Tt,Ce=3*Y-3*I),Math.abs(ne)<1e-12){if(Math.abs(pe)<1e-12)continue;Ae=-Ce/pe,Ae>0&&Ae<1&&_t.push(Ae);continue}var tr=pe*pe-4*Ce*ne,ir=Math.sqrt(tr);if(!(tr<0)){var At=(-pe+ir)/(2*ne);At>0&&At<1&&_t.push(At);var Ut=(-pe-ir)/(2*ne);Ut>0&&Ut<1&&_t.push(Ut)}}for(var qt=_t.length,ee=qt,we;qt--;)Ae=_t[qt],we=1-Ae,$t[0][qt]=we*we*we*_+3*we*we*Ae*B+3*we*Ae*Ae*U+Ae*Ae*Ae*mt,$t[1][qt]=we*we*we*I+3*we*we*Ae*Y+3*we*Ae*Ae*rt+Ae*Ae*Ae*Tt;return $t[0][ee]=_,$t[1][ee]=I,$t[0][ee+1]=mt,$t[1][ee+1]=Tt,$t[0].length=$t[1].length=ee+2,{min:{x:Math.min.apply(0,$t[0]),y:Math.min.apply(0,$t[1])},max:{x:Math.max.apply(0,$t[0]),y:Math.max.apply(0,$t[1])}}},Q=function(_,I,B,Y,U,rt,mt,Tt){if(!(Math.max(_,B)<Math.min(U,mt)||Math.min(_,B)>Math.max(U,mt)||Math.max(I,Y)<Math.min(rt,Tt)||Math.min(I,Y)>Math.max(rt,Tt))){var _t=(_*Y-I*B)*(U-mt)-(_-B)*(U*Tt-rt*mt),$t=(_*Y-I*B)*(rt-Tt)-(I-Y)*(U*Tt-rt*mt),ne=(_-B)*(rt-Tt)-(I-Y)*(U-mt);if(!!ne){var pe=_t/ne,Ce=$t/ne,Ae=+pe.toFixed(2),Te=+Ce.toFixed(2);if(!(Ae<+Math.min(_,B).toFixed(2)||Ae>+Math.max(_,B).toFixed(2)||Ae<+Math.min(U,mt).toFixed(2)||Ae>+Math.max(U,mt).toFixed(2)||Te<+Math.min(I,Y).toFixed(2)||Te>+Math.max(I,Y).toFixed(2)||Te<+Math.min(rt,Tt).toFixed(2)||Te>+Math.max(rt,Tt).toFixed(2)))return{x:pe,y:Ce}}}},H=function(_,I,B){return I>=_.x&&I<=_.x+_.width&&B>=_.y&&B<=_.y+_.height},$=function(_,I,B,Y,U){if(U)return[["M",+_+ +U,I],["l",B-U*2,0],["a",U,U,0,0,1,U,U],["l",0,Y-U*2],["a",U,U,0,0,1,-U,U],["l",U*2-B,0],["a",U,U,0,0,1,-U,-U],["l",0,U*2-Y],["a",U,U,0,0,1,U,-U],["z"]];var rt=[["M",_,I],["l",B,0],["l",0,Y],["l",-B,0],["z"]];return rt.parsePathArray=k,rt},it=function(_,I,B,Y){return _===null&&(_=I=B=Y=0),I===null&&(I=_.y,B=_.width,Y=_.height,_=_.x),{x:_,y:I,width:B,w:B,height:Y,h:Y,x2:_+B,y2:I+Y,cx:_+B/2,cy:I+Y/2,r1:Math.min(B,Y)/2,r2:Math.max(B,Y)/2,r0:Math.sqrt(B*B+Y*Y)/2,path:$(_,I,B,Y),vb:[_,I,B,Y].join(" ")}},nt=function(_,I){return _=it(_),I=it(I),H(I,_.x,_.y)||H(I,_.x2,_.y)||H(I,_.x,_.y2)||H(I,_.x2,_.y2)||H(_,I.x,I.y)||H(_,I.x2,I.y)||H(_,I.x,I.y2)||H(_,I.x2,I.y2)||(_.x<I.x2&&_.x>I.x||I.x<_.x2&&I.x>_.x)&&(_.y<I.y2&&_.y>I.y||I.y<_.y2&&I.y>_.y)},wt=function(_,I,B,Y,U,rt,mt,Tt){(0,P.isArray)(_)||(_=[_,I,B,Y,U,rt,mt,Tt]);var _t=W.apply(null,_);return it(_t.min.x,_t.min.y,_t.max.x-_t.min.x,_t.max.y-_t.min.y)},yt=function(_,I,B,Y,U,rt,mt,Tt,_t){var $t=1-_t,ne=Math.pow($t,3),pe=Math.pow($t,2),Ce=_t*_t,Ae=Ce*_t,Te=ne*_+pe*3*_t*B+$t*3*_t*_t*U+Ae*mt,tr=ne*I+pe*3*_t*Y+$t*3*_t*_t*rt+Ae*Tt,ir=_+2*_t*(B-_)+Ce*(U-2*B+_),At=I+2*_t*(Y-I)+Ce*(rt-2*Y+I),Ut=B+2*_t*(U-B)+Ce*(mt-2*U+B),qt=Y+2*_t*(rt-Y)+Ce*(Tt-2*rt+Y),ee=$t*_+_t*B,we=$t*I+_t*Y,Ze=$t*U+_t*mt,Sr=$t*rt+_t*Tt,an=90-Math.atan2(ir-Ut,At-qt)*180/Math.PI;return{x:Te,y:tr,m:{x:ir,y:At},n:{x:Ut,y:qt},start:{x:ee,y:we},end:{x:Ze,y:Sr},alpha:an}},Lt=function(_,I,B){var Y=wt(_),U=wt(I);if(!nt(Y,U))return B?0:[];for(var rt=N.apply(0,_),mt=N.apply(0,I),Tt=~~(rt/8),_t=~~(mt/8),$t=[],ne=[],pe={},Ce=B?0:[],Ae=0;Ae<Tt+1;Ae++){var Te=yt.apply(0,_.concat(Ae/Tt));$t.push({x:Te.x,y:Te.y,t:Ae/Tt})}for(var Ae=0;Ae<_t+1;Ae++){var Te=yt.apply(0,I.concat(Ae/_t));ne.push({x:Te.x,y:Te.y,t:Ae/_t})}for(var Ae=0;Ae<Tt;Ae++)for(var tr=0;tr<_t;tr++){var ir=$t[Ae],At=$t[Ae+1],Ut=ne[tr],qt=ne[tr+1],ee=Math.abs(At.x-ir.x)<.001?"y":"x",we=Math.abs(qt.x-Ut.x)<.001?"y":"x",Ze=Q(ir.x,ir.y,At.x,At.y,Ut.x,Ut.y,qt.x,qt.y);if(Ze){if(pe[Ze.x.toFixed(4)]===Ze.y.toFixed(4))continue;pe[Ze.x.toFixed(4)]=Ze.y.toFixed(4);var Sr=ir.t+Math.abs((Ze[ee]-ir[ee])/(At[ee]-ir[ee]))*(At.t-ir.t),an=Ut.t+Math.abs((Ze[we]-Ut[we])/(qt[we]-Ut[we]))*(qt.t-Ut.t);Sr>=0&&Sr<=1&&an>=0&&an<=1&&(B?Ce+=1:Ce.push({x:Ze.x,y:Ze.y,t1:Sr,t2:an}))}}return Ce},Mt=function(_,I,B){_=m(_),I=m(I);for(var Y,U,rt,mt,Tt,_t,$t,ne,pe,Ce,Ae=B?0:[],Te=0,tr=_.length;Te<tr;Te++){var ir=_[Te];if(ir[0]==="M")Y=Tt=ir[1],U=_t=ir[2];else{ir[0]==="C"?(pe=[Y,U].concat(ir.slice(1)),Y=pe[6],U=pe[7]):(pe=[Y,U,Y,U,Tt,_t,Tt,_t],Y=Tt,U=_t);for(var At=0,Ut=I.length;At<Ut;At++){var qt=I[At];if(qt[0]==="M")rt=$t=qt[1],mt=ne=qt[2];else{qt[0]==="C"?(Ce=[rt,mt].concat(qt.slice(1)),rt=Ce[6],mt=Ce[7]):(Ce=[rt,mt,rt,mt,$t,ne,$t,ne],rt=$t,mt=ne);var ee=Lt(pe,Ce,B);if(B)Ae+=ee;else{for(var we=0,Ze=ee.length;we<Ze;we++)ee[we].segment1=Te,ee[we].segment2=At,ee[we].bez1=pe,ee[we].bez2=Ce;Ae=Ae.concat(ee)}}}}}return Ae},J=function(_,I){return Mt(_,I)};function tt(_,I){var B=[],Y=[];function U(rt,mt){if(rt.length===1)B.push(rt[0]),Y.push(rt[0]);else{for(var Tt=[],_t=0;_t<rt.length-1;_t++)_t===0&&B.push(rt[0]),_t===rt.length-2&&Y.push(rt[_t+1]),Tt[_t]=[(1-mt)*rt[_t][0]+mt*rt[_t+1][0],(1-mt)*rt[_t][1]+mt*rt[_t+1][1]];U(Tt,mt)}}return _.length&&U(_,I),{left:B,right:Y.reverse()}}function q(_,I,B){var Y=[[_[1],_[2]]];B=B||2;var U=[];I[0]==="A"?(Y.push(I[6]),Y.push(I[7])):I[0]==="C"?(Y.push([I[1],I[2]]),Y.push([I[3],I[4]]),Y.push([I[5],I[6]])):I[0]==="S"||I[0]==="Q"?(Y.push([I[1],I[2]]),Y.push([I[3],I[4]])):Y.push([I[1],I[2]]);for(var rt=Y,mt=1/B,Tt=0;Tt<B-1;Tt++){var _t=mt/(1-mt*Tt),$t=tt(rt,_t);U.push($t.left),rt=$t.right}U.push(rt);var ne=U.map(function(pe){var Ce=[];return pe.length===4&&(Ce.push("C"),Ce=Ce.concat(pe[2])),pe.length>=3&&(pe.length===3&&Ce.push("Q"),Ce=Ce.concat(pe[1])),pe.length===2&&Ce.push("L"),Ce=Ce.concat(pe[pe.length-1]),Ce});return ne}var lt=function(_,I,B){if(B===1)return[[].concat(_)];var Y=[];if(I[0]==="L"||I[0]==="C"||I[0]==="Q")Y=Y.concat(q(_,I,B));else{var U=[].concat(_);U[0]==="M"&&(U[0]="L");for(var rt=0;rt<=B-1;rt++)Y.push(U)}return Y},gt=function(_,I){if(_.length===1)return _;var B=_.length-1,Y=I.length-1,U=B/Y,rt=[];if(_.length===1&&_[0][0]==="M"){for(var mt=0;mt<Y-B;mt++)_.push(_[0]);return _}for(var mt=0;mt<Y;mt++){var Tt=Math.floor(U*mt);rt[Tt]=(rt[Tt]||0)+1}var _t=rt.reduce(function($t,ne,pe){return pe===B?$t.concat(_[B]):$t.concat(lt(_[pe],_[pe+1],ne))},[]);return _t.unshift(_[0]),(I[Y]==="Z"||I[Y]==="z")&&_t.push("Z"),_t},K=function(_,I){if(_.length!==I.length)return!1;var B=!0;return(0,P.each)(_,function(Y,U){if(Y!==I[U])return B=!1,!1}),B};function j(_,I,B){var Y=null,U=B;return I<U&&(U=I,Y="add"),_<U&&(U=_,Y="del"),{type:Y,min:U}}var Z=function(_,I){var B=_.length,Y=I.length,U,rt,mt=0;if(B===0||Y===0)return null;for(var Tt=[],_t=0;_t<=B;_t++)Tt[_t]=[],Tt[_t][0]={min:_t};for(var $t=0;$t<=Y;$t++)Tt[0][$t]={min:$t};for(var _t=1;_t<=B;_t++){U=_[_t-1];for(var $t=1;$t<=Y;$t++){rt=I[$t-1],K(U,rt)?mt=0:mt=1;var ne=Tt[_t-1][$t].min+1,pe=Tt[_t][$t-1].min+1,Ce=Tt[_t-1][$t-1].min+mt;Tt[_t][$t]=j(ne,pe,Ce)}}return Tt},f=function(_,I){var B=Z(_,I),Y=_.length,U=I.length,rt=[],mt=1,Tt=1;if(B[Y][U].min!==Y){for(var _t=1;_t<=Y;_t++){var $t=B[_t][_t].min;Tt=_t;for(var ne=mt;ne<=U;ne++)B[_t][ne].min<$t&&($t=B[_t][ne].min,Tt=ne);mt=Tt,B[_t][mt].type&&rt.push({index:_t-1,type:B[_t][mt].type})}for(var _t=rt.length-1;_t>=0;_t--)mt=rt[_t].index,rt[_t].type==="add"?_.splice(mt,0,[].concat(_[mt])):_.splice(mt,1)}Y=_.length;var pe=U-Y;if(Y<U)for(var _t=0;_t<pe;_t++)_[Y-1][0]==="z"||_[Y-1][0]==="Z"?_.splice(Y-2,0,_[Y-2]):_.push(_[Y-1]),Y+=1;return _};function ut(_,I,B){for(var Y=[].concat(_),U,rt=1/(B+1),mt=bt(I)[0],Tt=1;Tt<=B;Tt++)rt*=Tt,U=Math.floor(_.length*rt),U===0?Y.unshift([mt[0]*rt+_[U][0]*(1-rt),mt[1]*rt+_[U][1]*(1-rt)]):Y.splice(U,0,[mt[0]*rt+_[U][0]*(1-rt),mt[1]*rt+_[U][1]*(1-rt)]);return Y}function bt(_){var I=[];switch(_[0]){case"M":I.push([_[1],_[2]]);break;case"L":I.push([_[1],_[2]]);break;case"A":I.push([_[6],_[7]]);break;case"Q":I.push([_[3],_[4]]),I.push([_[1],_[2]]);break;case"T":I.push([_[1],_[2]]);break;case"C":I.push([_[5],_[6]]),I.push([_[1],_[2]]),I.push([_[3],_[4]]);break;case"S":I.push([_[3],_[4]]),I.push([_[1],_[2]]);break;case"H":I.push([_[1],_[1]]);break;case"V":I.push([_[1],_[1]]);break;default:}return I}var Rt=function(_,I){if(_.length<=1)return _;for(var B,Y=0;Y<I.length;Y++)if(_[Y][0]!==I[Y][0])switch(B=bt(_[Y]),I[Y][0]){case"M":_[Y]=["M"].concat(B[0]);break;case"L":_[Y]=["L"].concat(B[0]);break;case"A":_[Y]=[].concat(I[Y]),_[Y][6]=B[0][0],_[Y][7]=B[0][1];break;case"Q":if(B.length<2)if(Y>0)B=ut(B,_[Y-1],1);else{_[Y]=I[Y];break}_[Y]=["Q"].concat(B.reduce(function(U,rt){return U.concat(rt)},[]));break;case"T":_[Y]=["T"].concat(B[0]);break;case"C":if(B.length<3)if(Y>0)B=ut(B,_[Y-1],2);else{_[Y]=I[Y];break}_[Y]=["C"].concat(B.reduce(function(U,rt){return U.concat(rt)},[]));break;case"S":if(B.length<2)if(Y>0)B=ut(B,_[Y-1],1);else{_[Y]=I[Y];break}_[Y]=["S"].concat(B.reduce(function(U,rt){return U.concat(rt)},[]));break;default:_[Y]=I[Y]}return _},Vt=function(){function _(I,B){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=I,this.name=I,this.originalEvent=B,this.timeStamp=B.timeStamp}return _.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},_.prototype.stopPropagation=function(){this.propagationStopped=!0},_.prototype.toString=function(){var I=this.type;return"[Event (type="+I+")]"},_.prototype.save=function(){},_.prototype.restore=function(){},_}(),Ft=Vt,Qt=function(_,I){return Qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,Y){B.__proto__=Y}||function(B,Y){for(var U in Y)Object.prototype.hasOwnProperty.call(Y,U)&&(B[U]=Y[U])},Qt(_,I)};function ae(_,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");Qt(_,I);function B(){this.constructor=_}_.prototype=I===null?Object.create(I):(B.prototype=I.prototype,new B)}var ue=function(){return ue=Object.assign||function(I){for(var B,Y=1,U=arguments.length;Y<U;Y++){B=arguments[Y];for(var rt in B)Object.prototype.hasOwnProperty.call(B,rt)&&(I[rt]=B[rt])}return I},ue.apply(this,arguments)};function Kt(_,I){var B={};for(var Y in _)Object.prototype.hasOwnProperty.call(_,Y)&&I.indexOf(Y)<0&&(B[Y]=_[Y]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,Y=Object.getOwnPropertySymbols(_);U<Y.length;U++)I.indexOf(Y[U])<0&&Object.prototype.propertyIsEnumerable.call(_,Y[U])&&(B[Y[U]]=_[Y[U]]);return B}function Bt(_,I,B,Y){var U=arguments.length,rt=U<3?I:Y===null?Y=Object.getOwnPropertyDescriptor(I,B):Y,mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rt=Reflect.decorate(_,I,B,Y);else for(var Tt=_.length-1;Tt>=0;Tt--)(mt=_[Tt])&&(rt=(U<3?mt(rt):U>3?mt(I,B,rt):mt(I,B))||rt);return U>3&&rt&&Object.defineProperty(I,B,rt),rt}function Ct(_,I){return function(B,Y){I(B,Y,_)}}function pt(_,I){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(_,I)}function Pt(_,I,B,Y){function U(rt){return rt instanceof B?rt:new B(function(mt){mt(rt)})}return new(B||(B=Promise))(function(rt,mt){function Tt(ne){try{$t(Y.next(ne))}catch(pe){mt(pe)}}function _t(ne){try{$t(Y.throw(ne))}catch(pe){mt(pe)}}function $t(ne){ne.done?rt(ne.value):U(ne.value).then(Tt,_t)}$t((Y=Y.apply(_,I||[])).next())})}function ft(_,I){var B={label:0,sent:function(){if(rt[0]&1)throw rt[1];return rt[1]},trys:[],ops:[]},Y,U,rt,mt;return mt={next:Tt(0),throw:Tt(1),return:Tt(2)},typeof Symbol=="function"&&(mt[Symbol.iterator]=function(){return this}),mt;function Tt($t){return function(ne){return _t([$t,ne])}}function _t($t){if(Y)throw new TypeError("Generator is already executing.");for(;mt&&(mt=0,$t[0]&&(B=0)),B;)try{if(Y=1,U&&(rt=$t[0]&2?U.return:$t[0]?U.throw||((rt=U.return)&&rt.call(U),0):U.next)&&!(rt=rt.call(U,$t[1])).done)return rt;switch(U=0,rt&&($t=[$t[0]&2,rt.value]),$t[0]){case 0:case 1:rt=$t;break;case 4:return B.label++,{value:$t[1],done:!1};case 5:B.label++,U=$t[1],$t=[0];continue;case 7:$t=B.ops.pop(),B.trys.pop();continue;default:if(rt=B.trys,!(rt=rt.length>0&&rt[rt.length-1])&&($t[0]===6||$t[0]===2)){B=0;continue}if($t[0]===3&&(!rt||$t[1]>rt[0]&&$t[1]<rt[3])){B.label=$t[1];break}if($t[0]===6&&B.label<rt[1]){B.label=rt[1],rt=$t;break}if(rt&&B.label<rt[2]){B.label=rt[2],B.ops.push($t);break}rt[2]&&B.ops.pop(),B.trys.pop();continue}$t=I.call(_,B)}catch(ne){$t=[6,ne],U=0}finally{Y=rt=0}if($t[0]&5)throw $t[1];return{value:$t[0]?$t[1]:void 0,done:!0}}}var ot=Object.create?function(_,I,B,Y){Y===void 0&&(Y=B);var U=Object.getOwnPropertyDescriptor(I,B);(!U||("get"in U?!I.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return I[B]}}),Object.defineProperty(_,Y,U)}:function(_,I,B,Y){Y===void 0&&(Y=B),_[Y]=I[B]};function St(_,I){for(var B in _)B!=="default"&&!Object.prototype.hasOwnProperty.call(I,B)&&ot(I,_,B)}function Ot(_){var I=typeof Symbol=="function"&&Symbol.iterator,B=I&&_[I],Y=0;if(B)return B.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&Y>=_.length&&(_=void 0),{value:_&&_[Y++],done:!_}}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zt(_,I){var B=typeof Symbol=="function"&&_[Symbol.iterator];if(!B)return _;var Y=B.call(_),U,rt=[],mt;try{for(;(I===void 0||I-- >0)&&!(U=Y.next()).done;)rt.push(U.value)}catch(Tt){mt={error:Tt}}finally{try{U&&!U.done&&(B=Y.return)&&B.call(Y)}finally{if(mt)throw mt.error}}return rt}function le(){for(var _=[],I=0;I<arguments.length;I++)_=_.concat(Zt(arguments[I]));return _}function be(){for(var _=0,I=0,B=arguments.length;I<B;I++)_+=arguments[I].length;for(var Y=Array(_),U=0,I=0;I<B;I++)for(var rt=arguments[I],mt=0,Tt=rt.length;mt<Tt;mt++,U++)Y[U]=rt[mt];return Y}function Be(_,I,B){if(B||arguments.length===2)for(var Y=0,U=I.length,rt;Y<U;Y++)(rt||!(Y in I))&&(rt||(rt=Array.prototype.slice.call(I,0,Y)),rt[Y]=I[Y]);return _.concat(rt||Array.prototype.slice.call(I))}function Fe(_){return this instanceof Fe?(this.v=_,this):new Fe(_)}function lr(_,I,B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=B.apply(_,I||[]),U,rt=[];return U={},mt("next"),mt("throw"),mt("return"),U[Symbol.asyncIterator]=function(){return this},U;function mt(Ce){Y[Ce]&&(U[Ce]=function(Ae){return new Promise(function(Te,tr){rt.push([Ce,Ae,Te,tr])>1||Tt(Ce,Ae)})})}function Tt(Ce,Ae){try{_t(Y[Ce](Ae))}catch(Te){pe(rt[0][3],Te)}}function _t(Ce){Ce.value instanceof Fe?Promise.resolve(Ce.value.v).then($t,ne):pe(rt[0][2],Ce)}function $t(Ce){Tt("next",Ce)}function ne(Ce){Tt("throw",Ce)}function pe(Ce,Ae){Ce(Ae),rt.shift(),rt.length&&Tt(rt[0][0],rt[0][1])}}function dr(_){var I,B;return I={},Y("next"),Y("throw",function(U){throw U}),Y("return"),I[Symbol.iterator]=function(){return this},I;function Y(U,rt){I[U]=_[U]?function(mt){return(B=!B)?{value:Fe(_[U](mt)),done:U==="return"}:rt?rt(mt):mt}:rt}}function ur(_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I=_[Symbol.asyncIterator],B;return I?I.call(_):(_=typeof Ot=="function"?Ot(_):_[Symbol.iterator](),B={},Y("next"),Y("throw"),Y("return"),B[Symbol.asyncIterator]=function(){return this},B);function Y(rt){B[rt]=_[rt]&&function(mt){return new Promise(function(Tt,_t){mt=_[rt](mt),U(Tt,_t,mt.done,mt.value)})}}function U(rt,mt,Tt,_t){Promise.resolve(_t).then(function($t){rt({value:$t,done:Tt})},mt)}}function Tr(_,I){return Object.defineProperty?Object.defineProperty(_,"raw",{value:I}):_.raw=I,_}var sr=Object.create?function(_,I){Object.defineProperty(_,"default",{enumerable:!0,value:I})}:function(_,I){_.default=I};function zr(_){if(_&&_.__esModule)return _;var I={};if(_!=null)for(var B in _)B!=="default"&&Object.prototype.hasOwnProperty.call(_,B)&&ot(I,_,B);return sr(I,_),I}function fn(_){return _&&_.__esModule?_:{default:_}}function Yr(_,I,B,Y){if(B==="a"&&!Y)throw new TypeError("Private accessor was defined without a getter");if(typeof I=="function"?_!==I||!Y:!I.has(_))throw new TypeError("Cannot read private member from an object whose class did not declare it");return B==="m"?Y:B==="a"?Y.call(_):Y?Y.value:I.get(_)}function nn(_,I,B,Y,U){if(Y==="m")throw new TypeError("Private method is not writable");if(Y==="a"&&!U)throw new TypeError("Private accessor was defined without a setter");if(typeof I=="function"?_!==I||!U:!I.has(_))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Y==="a"?U.call(_,B):U?U.value=B:I.set(_,B),B}function pi(_,I){if(I===null||typeof I!="object"&&typeof I!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof _=="function"?I===_:_.has(I)}var gi=d(90494);function xi(_,I){var B=_.indexOf(I);B!==-1&&_.splice(B,1)}var bi=typeof window!="undefined"&&typeof window.document!="undefined";function Xt(_,I){if(_.isCanvas())return!0;for(var B=I.getParent(),Y=!1;B;){if(B===_){Y=!0;break}B=B.getParent()}return Y}function Jt(_){return _.cfg.visible&&_.cfg.capture}var oe=function(_){ae(I,_);function I(B){var Y=_.call(this)||this;Y.destroyed=!1;var U=Y.getDefaultCfg();return Y.cfg=(0,P.mix)(U,B),Y}return I.prototype.getDefaultCfg=function(){return{}},I.prototype.get=function(B){return this.cfg[B]},I.prototype.set=function(B,Y){this.cfg[B]=Y},I.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},I}(gi.default),fe=oe,xe=d(43631),Se=d(35600);function Me(_,I,B){var Y=[0,0,0,0,0,0,0,0,0];return Se.fromTranslation(Y,B),Se.multiply(_,Y,I)}function _e(_,I,B){var Y=[0,0,0,0,0,0,0,0,0];return Se.fromRotation(Y,B),Se.multiply(_,Y,I)}function me(_,I,B){var Y=[0,0,0,0,0,0,0,0,0];return Se.fromScaling(Y,B),Se.multiply(_,Y,I)}function Ue(_,I,B){return Se.multiply(_,B,I)}function Ne(_,I){for(var B=_?[].concat(_):[1,0,0,0,1,0,0,0,1],Y=0,U=I.length;Y<U;Y++){var rt=I[Y];switch(rt[0]){case"t":Me(B,B,[rt[1],rt[2]]);break;case"s":me(B,B,[rt[1],rt[2]]);break;case"r":_e(B,B,rt[1]);break;case"m":Ue(B,B,rt[1]);break;default:break}}return B}function er(_,I){return _[0]*I[1]-I[0]*_[1]}function hr(_,I,B){var Y=vec2.angle(_,I),U=er(_,I)>=0;return B?U?Math.PI*2-Y:Y:U?Y:Math.PI*2-Y}function nr(_,I,B){return B?(_[0]=I[1],_[1]=-1*I[0]):(_[0]=-1*I[1],_[1]=I[0]),_}function fr(_,I){var B=[],Y=_[0],U=_[1],rt=_[2],mt=_[3],Tt=_[4],_t=_[5],$t=_[6],ne=_[7],pe=_[8],Ce=I[0],Ae=I[1],Te=I[2],tr=I[3],ir=I[4],At=I[5],Ut=I[6],qt=I[7],ee=I[8];return B[0]=Ce*Y+Ae*mt+Te*$t,B[1]=Ce*U+Ae*Tt+Te*ne,B[2]=Ce*rt+Ae*_t+Te*pe,B[3]=tr*Y+ir*mt+At*$t,B[4]=tr*U+ir*Tt+At*ne,B[5]=tr*rt+ir*_t+At*pe,B[6]=Ut*Y+qt*mt+ee*$t,B[7]=Ut*U+qt*Tt+ee*ne,B[8]=Ut*rt+qt*_t+ee*pe,B}function or(_,I){var B=[],Y=I[0],U=I[1];return B[0]=_[0]*Y+_[3]*U+_[6],B[1]=_[1]*Y+_[4]*U+_[7],B}function br(_){var I=[],B=_[0],Y=_[1],U=_[2],rt=_[3],mt=_[4],Tt=_[5],_t=_[6],$t=_[7],ne=_[8],pe=ne*mt-Tt*$t,Ce=-ne*rt+Tt*_t,Ae=$t*rt-mt*_t,Te=B*pe+Y*Ce+U*Ae;return Te?(Te=1/Te,I[0]=pe*Te,I[1]=(-ne*Y+U*$t)*Te,I[2]=(Tt*Y-U*mt)*Te,I[3]=Ce*Te,I[4]=(ne*B-U*_t)*Te,I[5]=(-Tt*B+U*rt)*Te,I[6]=Ae*Te,I[7]=(-$t*B+Y*_t)*Te,I[8]=(mt*B-Y*rt)*Te,I):null}var We=Ne,Cr="matrix",Lr=["zIndex","capture","visible","type"],Pr=["repeat"],Br=":",Hr="*";function Wr(_){for(var I=[],B=0;B<_.length;B++)(0,P.isArray)(_[B])?I.push([].concat(_[B])):I.push(_[B]);return I}function Nn(_,I){var B={},Y=I.attrs;for(var U in _)B[U]=Y[U];return B}function tn(_,I){var B={},Y=I.attr();return(0,P.each)(_,function(U,rt){Pr.indexOf(rt)===-1&&!(0,P.isEqual)(Y[rt],U)&&(B[rt]=U)}),B}function Xn(_,I){if(I.onFrame)return _;var B=I.startTime,Y=I.delay,U=I.duration,rt=Object.prototype.hasOwnProperty;return(0,P.each)(_,function(mt){B+Y<mt.startTime+mt.delay+mt.duration&&U>mt.delay&&(0,P.each)(I.toAttrs,function(Tt,_t){rt.call(mt.toAttrs,_t)&&(delete mt.toAttrs[_t],delete mt.fromAttrs[_t])})}),_}var ui=function(_){ae(I,_);function I(B){var Y=_.call(this,B)||this;Y.attrs={};var U=Y.getDefaultAttrs();return(0,P.mix)(U,B.attrs),Y.attrs=U,Y.initAttrs(U),Y.initAnimate(),Y}return I.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},I.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},I.prototype.onCanvasChange=function(B){},I.prototype.initAttrs=function(B){},I.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},I.prototype.isGroup=function(){return!1},I.prototype.getParent=function(){return this.get("parent")},I.prototype.getCanvas=function(){return this.get("canvas")},I.prototype.attr=function(){for(var B,Y=[],U=0;U<arguments.length;U++)Y[U]=arguments[U];var rt=Y[0],mt=Y[1];if(!rt)return this.attrs;if((0,P.isObject)(rt)){for(var Tt in rt)this.setAttr(Tt,rt[Tt]);return this.afterAttrsChange(rt),this}return Y.length===2?(this.setAttr(rt,mt),this.afterAttrsChange((B={},B[rt]=mt,B)),this):this.attrs[rt]},I.prototype.isClipped=function(B,Y){var U=this.getClip();return U&&!U.isHit(B,Y)},I.prototype.setAttr=function(B,Y){var U=this.attrs[B];U!==Y&&(this.attrs[B]=Y,this.onAttrChange(B,Y,U))},I.prototype.onAttrChange=function(B,Y,U){B==="matrix"&&this.set("totalMatrix",null)},I.prototype.afterAttrsChange=function(B){if(this.cfg.isClipShape){var Y=this.cfg.applyTo;Y&&Y.onCanvasChange("clip")}else this.onCanvasChange("attr")},I.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},I.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},I.prototype.setZIndex=function(B){this.set("zIndex",B);var Y=this.getParent();return Y&&Y.sort(),this},I.prototype.toFront=function(){var B=this.getParent();if(!!B){var Y=B.getChildren(),U=this.get("el"),rt=Y.indexOf(this);Y.splice(rt,1),Y.push(this),this.onCanvasChange("zIndex")}},I.prototype.toBack=function(){var B=this.getParent();if(!!B){var Y=B.getChildren(),U=this.get("el"),rt=Y.indexOf(this);Y.splice(rt,1),Y.unshift(this),this.onCanvasChange("zIndex")}},I.prototype.remove=function(B){B===void 0&&(B=!0);var Y=this.getParent();Y?(xi(Y.getChildren(),this),Y.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),B&&this.destroy()},I.prototype.resetMatrix=function(){this.attr(Cr,this.getDefaultMatrix()),this.onCanvasChange("matrix")},I.prototype.getMatrix=function(){return this.attr(Cr)},I.prototype.setMatrix=function(B){this.attr(Cr,B),this.onCanvasChange("matrix")},I.prototype.getTotalMatrix=function(){var B=this.cfg.totalMatrix;if(!B){var Y=this.attr("matrix"),U=this.cfg.parentMatrix;U&&Y?B=fr(U,Y):B=Y||U,this.set("totalMatrix",B)}return B},I.prototype.applyMatrix=function(B){var Y=this.attr("matrix"),U=null;B&&Y?U=fr(B,Y):U=Y||B,this.set("totalMatrix",U),this.set("parentMatrix",B)},I.prototype.getDefaultMatrix=function(){return null},I.prototype.applyToMatrix=function(B){var Y=this.attr("matrix");return Y?or(Y,B):B},I.prototype.invertFromMatrix=function(B){var Y=this.attr("matrix");if(Y){var U=br(Y);if(U)return or(U,B)}return B},I.prototype.setClip=function(B){var Y=this.getCanvas(),U=null;if(B){var rt=this.getShapeBase(),mt=(0,P.upperFirst)(B.type),Tt=rt[mt];Tt&&(U=new Tt({type:B.type,isClipShape:!0,applyTo:this,attrs:B.attrs,canvas:Y}))}return this.set("clipShape",U),this.onCanvasChange("clip"),U},I.prototype.getClip=function(){var B=this.cfg.clipShape;return B||null},I.prototype.clone=function(){var B=this,Y=this.attrs,U={};(0,P.each)(Y,function(Tt,_t){(0,P.isArray)(Y[_t])?U[_t]=Wr(Y[_t]):U[_t]=Y[_t]});var rt=this.constructor,mt=new rt({attrs:U});return(0,P.each)(Lr,function(Tt){mt.set(Tt,B.get(Tt))}),mt},I.prototype.destroy=function(){var B=this.destroyed;B||(this.attrs={},_.prototype.destroy.call(this))},I.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},I.prototype.animate=function(){for(var B=[],Y=0;Y<arguments.length;Y++)B[Y]=arguments[Y];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var U=this.get("timeline");U||(U=this.get("canvas").get("timeline"),this.set("timeline",U));var rt=this.get("animations")||[];U.timer||U.initTimer();var mt=B[0],Tt=B[1],_t=B[2],$t=_t===void 0?"easeLinear":_t,ne=B[3],pe=ne===void 0?P.noop:ne,Ce=B[4],Ae=Ce===void 0?0:Ce,Te,tr,ir,At,Ut;(0,P.isFunction)(mt)?(Te=mt,mt={}):(0,P.isObject)(mt)&&mt.onFrame&&(Te=mt.onFrame,tr=mt.repeat),(0,P.isObject)(Tt)?(Ut=Tt,Tt=Ut.duration,$t=Ut.easing||"easeLinear",Ae=Ut.delay||0,tr=Ut.repeat||tr||!1,pe=Ut.callback||P.noop,ir=Ut.pauseCallback||P.noop,At=Ut.resumeCallback||P.noop):((0,P.isNumber)(pe)&&(Ae=pe,pe=null),(0,P.isFunction)($t)?(pe=$t,$t="easeLinear"):$t=$t||"easeLinear");var qt=tn(mt,this),ee={fromAttrs:Nn(qt,this),toAttrs:qt,duration:Tt,easing:$t,repeat:tr,callback:pe,pauseCallback:ir,resumeCallback:At,delay:Ae,startTime:U.getTime(),id:(0,P.uniqueId)(),onFrame:Te,pathFormatted:!1};rt.length>0?rt=Xn(rt,ee):U.addAnimator(this),rt.push(ee),this.set("animations",rt),this.set("_pause",{isPaused:!1})}},I.prototype.stopAnimate=function(B){var Y=this;B===void 0&&(B=!0);var U=this.get("animations");(0,P.each)(U,function(rt){B&&(rt.onFrame?Y.attr(rt.onFrame(1)):Y.attr(rt.toAttrs)),rt.callback&&rt.callback()}),this.set("animating",!1),this.set("animations",[])},I.prototype.pauseAnimate=function(){var B=this.get("timeline"),Y=this.get("animations"),U=B.getTime();return(0,P.each)(Y,function(rt){rt._paused=!0,rt._pauseTime=U,rt.pauseCallback&&rt.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:U}),this},I.prototype.resumeAnimate=function(){var B=this.get("timeline"),Y=B.getTime(),U=this.get("animations"),rt=this.get("_pause").pauseTime;return(0,P.each)(U,function(mt){mt.startTime=mt.startTime+(Y-rt),mt._paused=!1,mt._pauseTime=null,mt.resumeCallback&&mt.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",U),this},I.prototype.emitDelegation=function(B,Y){var U=this,rt=Y.propagationPath,mt=this.getEvents(),Tt;B==="mouseenter"?Tt=Y.fromShape:B==="mouseleave"&&(Tt=Y.toShape);for(var _t=function(Ce){var Ae=rt[Ce],Te=Ae.get("name");if(Te){if((Ae.isGroup()||Ae.isCanvas&&Ae.isCanvas())&&Tt&&Xt(Ae,Tt))return"break";(0,P.isArray)(Te)?(0,P.each)(Te,function(tr){U.emitDelegateEvent(Ae,tr,Y)}):$t.emitDelegateEvent(Ae,Te,Y)}},$t=this,ne=0;ne<rt.length;ne++){var pe=_t(ne);if(pe==="break")break}},I.prototype.emitDelegateEvent=function(B,Y,U){var rt=this.getEvents(),mt=Y+Br+U.type;(rt[mt]||rt[Hr])&&(U.name=mt,U.currentTarget=B,U.delegateTarget=this,U.delegateObject=B.get("delegateObject"),this.emit(mt,U))},I.prototype.translate=function(B,Y){B===void 0&&(B=0),Y===void 0&&(Y=0);var U=this.getMatrix(),rt=We(U,[["t",B,Y]]);return this.setMatrix(rt),this},I.prototype.move=function(B,Y){var U=this.attr("x")||0,rt=this.attr("y")||0;return this.translate(B-U,Y-rt),this},I.prototype.moveTo=function(B,Y){return this.move(B,Y)},I.prototype.scale=function(B,Y){var U=this.getMatrix(),rt=We(U,[["s",B,Y||B]]);return this.setMatrix(rt),this},I.prototype.rotate=function(B){var Y=this.getMatrix(),U=We(Y,[["r",B]]);return this.setMatrix(U),this},I.prototype.rotateAtStart=function(B){var Y=this.attr(),U=Y.x,rt=Y.y,mt=this.getMatrix(),Tt=We(mt,[["t",-U,-rt],["r",B],["t",U,rt]]);return this.setMatrix(Tt),this},I.prototype.rotateAtPoint=function(B,Y,U){var rt=this.getMatrix(),mt=We(rt,[["t",-B,-Y],["r",U],["t",B,Y]]);return this.setMatrix(mt),this},I}(fe),Zn=ui,wi={},Si="_INDEX";function Ir(_,I){if(_.set("canvas",I),_.isGroup()){var B=_.get("children");B.length&&B.forEach(function(Y){Ir(Y,I)})}}function fi(_,I){if(_.set("timeline",I),_.isGroup()){var B=_.get("children");B.length&&B.forEach(function(Y){fi(Y,I)})}}function Pi(_,I){var B=_.getChildren();return B.indexOf(I)>=0}function hi(_,I,B){B===void 0&&(B=!0),B?I.destroy():(I.set("parent",null),I.set("canvas",null)),xi(_.getChildren(),I)}function xn(_){return function(I,B){var Y=_(I,B);return Y===0?I[Si]-B[Si]:Y}}var ci=function(_){ae(I,_);function I(){return _!==null&&_.apply(this,arguments)||this}return I.prototype.isCanvas=function(){return!1},I.prototype.getBBox=function(){var B=Infinity,Y=-Infinity,U=Infinity,rt=-Infinity,mt=[],Tt=[],_t=this.getChildren().filter(function(ne){return ne.get("visible")&&(!ne.isGroup()||ne.isGroup()&&ne.getChildren().length>0)});_t.length>0?((0,P.each)(_t,function(ne){var pe=ne.getBBox();mt.push(pe.minX,pe.maxX),Tt.push(pe.minY,pe.maxY)}),B=(0,P.min)(mt),Y=(0,P.max)(mt),U=(0,P.min)(Tt),rt=(0,P.max)(Tt)):(B=0,Y=0,U=0,rt=0);var $t={x:B,y:U,minX:B,minY:U,maxX:Y,maxY:rt,width:Y-B,height:rt-U};return $t},I.prototype.getCanvasBBox=function(){var B=Infinity,Y=-Infinity,U=Infinity,rt=-Infinity,mt=[],Tt=[],_t=this.getChildren().filter(function(ne){return ne.get("visible")&&(!ne.isGroup()||ne.isGroup()&&ne.getChildren().length>0)});_t.length>0?((0,P.each)(_t,function(ne){var pe=ne.getCanvasBBox();mt.push(pe.minX,pe.maxX),Tt.push(pe.minY,pe.maxY)}),B=(0,P.min)(mt),Y=(0,P.max)(mt),U=(0,P.min)(Tt),rt=(0,P.max)(Tt)):(B=0,Y=0,U=0,rt=0);var $t={x:B,y:U,minX:B,minY:U,maxX:Y,maxY:rt,width:Y-B,height:rt-U};return $t},I.prototype.getDefaultCfg=function(){var B=_.prototype.getDefaultCfg.call(this);return B.children=[],B},I.prototype.onAttrChange=function(B,Y,U){if(_.prototype.onAttrChange.call(this,B,Y,U),B==="matrix"){var rt=this.getTotalMatrix();this._applyChildrenMarix(rt)}},I.prototype.applyMatrix=function(B){var Y=this.getTotalMatrix();_.prototype.applyMatrix.call(this,B);var U=this.getTotalMatrix();U!==Y&&this._applyChildrenMarix(U)},I.prototype._applyChildrenMarix=function(B){var Y=this.getChildren();(0,P.each)(Y,function(U){U.applyMatrix(B)})},I.prototype.addShape=function(){for(var B=[],Y=0;Y<arguments.length;Y++)B[Y]=arguments[Y];var U=B[0],rt=B[1];(0,P.isObject)(U)?rt=U:rt.type=U;var mt=wi[rt.type];mt||(mt=(0,P.upperFirst)(rt.type),wi[rt.type]=mt);var Tt=this.getShapeBase(),_t=new Tt[mt](rt);return this.add(_t),_t},I.prototype.addGroup=function(){for(var B=[],Y=0;Y<arguments.length;Y++)B[Y]=arguments[Y];var U=B[0],rt=B[1],mt;if((0,P.isFunction)(U))rt?mt=new U(rt):mt=new U({parent:this});else{var Tt=U||{},_t=this.getGroupBase();mt=new _t(Tt)}return this.add(mt),mt},I.prototype.getCanvas=function(){var B;return this.isCanvas()?B=this:B=this.get("canvas"),B},I.prototype.getShape=function(B,Y,U){if(!Jt(this))return null;var rt=this.getChildren(),mt;if(this.isCanvas())mt=this._findShape(rt,B,Y,U);else{var Tt=[B,Y,1];Tt=this.invertFromMatrix(Tt),this.isClipped(Tt[0],Tt[1])||(mt=this._findShape(rt,Tt[0],Tt[1],U))}return mt},I.prototype._findShape=function(B,Y,U,rt){for(var mt=null,Tt=B.length-1;Tt>=0;Tt--){var _t=B[Tt];if(Jt(_t)&&(_t.isGroup()?mt=_t.getShape(Y,U,rt):_t.isHit(Y,U)&&(mt=_t)),mt)break}return mt},I.prototype.add=function(B){var Y=this.getCanvas(),U=this.getChildren(),rt=this.get("timeline"),mt=B.getParent();mt&&hi(mt,B,!1),B.set("parent",this),Y&&Ir(B,Y),rt&&fi(B,rt),U.push(B),B.onCanvasChange("add"),this._applyElementMatrix(B)},I.prototype._applyElementMatrix=function(B){var Y=this.getTotalMatrix();Y&&B.applyMatrix(Y)},I.prototype.getChildren=function(){return this.get("children")},I.prototype.sort=function(){var B=this.getChildren();(0,P.each)(B,function(Y,U){return Y[Si]=U,Y}),B.sort(xn(function(Y,U){return Y.get("zIndex")-U.get("zIndex")})),this.onCanvasChange("sort")},I.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var B=this.getChildren(),Y=B.length-1;Y>=0;Y--)B[Y].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},I.prototype.destroy=function(){this.get("destroyed")||(this.clear(),_.prototype.destroy.call(this))},I.prototype.getFirst=function(){return this.getChildByIndex(0)},I.prototype.getLast=function(){var B=this.getChildren();return this.getChildByIndex(B.length-1)},I.prototype.getChildByIndex=function(B){var Y=this.getChildren();return Y[B]},I.prototype.getCount=function(){var B=this.getChildren();return B.length},I.prototype.contain=function(B){var Y=this.getChildren();return Y.indexOf(B)>-1},I.prototype.removeChild=function(B,Y){Y===void 0&&(Y=!0),this.contain(B)&&B.remove(Y)},I.prototype.findAll=function(B){var Y=[],U=this.getChildren();return(0,P.each)(U,function(rt){B(rt)&&Y.push(rt),rt.isGroup()&&(Y=Y.concat(rt.findAll(B)))}),Y},I.prototype.find=function(B){var Y=null,U=this.getChildren();return(0,P.each)(U,function(rt){if(B(rt)?Y=rt:rt.isGroup()&&(Y=rt.find(B)),Y)return!1}),Y},I.prototype.findById=function(B){return this.find(function(Y){return Y.get("id")===B})},I.prototype.findByClassName=function(B){return this.find(function(Y){return Y.get("className")===B})},I.prototype.findAllByName=function(B){return this.findAll(function(Y){return Y.get("name")===B})},I}(Zn),_i=ci,Kn=0,ai=0,_n=0,Vi=1e3,Hi,En,$n=0,Wn=0,Ri=0,ei=typeof performance=="object"&&performance.now?performance:Date,sa=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(_){setTimeout(_,17)};function oi(){return Wn||(sa(ba),Wn=ei.now()+Ri)}function ba(){Wn=0}function Wi(){this._call=this._time=this._next=null}Wi.prototype=Ji.prototype={constructor:Wi,restart:function(_,I,B){if(typeof _!="function")throw new TypeError("callback is not a function");B=(B==null?oi():+B)+(I==null?0:+I),!this._next&&En!==this&&(En?En._next=this:Hi=this,En=this),this._call=_,this._time=B,ye()},stop:function(){this._call&&(this._call=null,this._time=Infinity,ye())}};function Ji(_,I,B){var Y=new Wi;return Y.restart(_,I,B),Y}function Oa(){oi(),++Kn;for(var _=Hi,I;_;)(I=Wn-_._time)>=0&&_._call.call(null,I),_=_._next;--Kn}function Dt(){Wn=($n=ei.now())+Ri,Kn=ai=0;try{Oa()}finally{Kn=0,re(),Wn=0}}function jt(){var _=ei.now(),I=_-$n;I>Vi&&(Ri-=I,$n=_)}function re(){for(var _,I=Hi,B,Y=Infinity;I;)I._call?(Y>I._time&&(Y=I._time),_=I,I=I._next):(B=I._next,I._next=null,I=_?_._next=B:Hi=B);En=_,ye(Y)}function ye(_){if(!Kn){ai&&(ai=clearTimeout(ai));var I=_-Wn;I>24?(_<Infinity&&(ai=setTimeout(Dt,_-ei.now()-Ri)),_n&&(_n=clearInterval(_n))):(_n||($n=ei.now(),_n=setInterval(jt,Vi)),Kn=1,sa(Dt))}}var ge=d(21775),Pe=d(88122),$e=d(13681),Qe={};function Et(_){return Qe[_.toLowerCase()]||$e[_]}function ht(_,I){Qe[_.toLowerCase()]=I}var et=function(_){return["fill","stroke","fillStyle","strokeStyle"].includes(_)},ct=function(_){return/^[r,R,L,l]{1}[\s]*\(/.test(_)},It=[1,0,0,0,1,0,0,0,1];function Ht(_,I,B){var Y={},U=I.fromAttrs,rt=I.toAttrs;if(!_.destroyed){var mt;for(var Tt in rt)if(!(0,P.isEqual)(U[Tt],rt[Tt]))if(Tt==="path"){var _t=rt[Tt],$t=U[Tt];_t.length>$t.length?(_t=T(rt[Tt]),$t=T(U[Tt]),$t=f($t,_t),$t=Rt($t,_t),I.fromAttrs.path=$t,I.toAttrs.path=_t):I.pathFormatted||(_t=T(rt[Tt]),$t=T(U[Tt]),$t=Rt($t,_t),I.fromAttrs.path=$t,I.toAttrs.path=_t,I.pathFormatted=!0),Y[Tt]=[];for(var ne=0;ne<_t.length;ne++){for(var pe=_t[ne],Ce=$t[ne],Ae=[],Te=0;Te<pe.length;Te++)(0,P.isNumber)(pe[Te])&&Ce&&(0,P.isNumber)(Ce[Te])?(mt=(0,ge.Z)(Ce[Te],pe[Te]),Ae.push(mt(B))):Ae.push(pe[Te]);Y[Tt].push(Ae)}}else if(Tt==="matrix"){var tr=(0,Pe.Z)(U[Tt]||It,rt[Tt]||It),ir=tr(B);Y[Tt]=ir}else et(Tt)&&ct(rt[Tt])?Y[Tt]=rt[Tt]:(0,P.isFunction)(rt[Tt])||(mt=(0,ge.Z)(U[Tt],rt[Tt]),Y[Tt]=mt(B));_.attr(Y)}}function se(_,I,B){var Y=I.startTime,U=I.delay;if(B<Y+U||I._paused)return!1;var rt,mt=I.duration,Tt=I.easing,_t=Et(Tt);if(B=B-Y-I.delay,I.repeat)rt=B%mt/mt,rt=_t(rt);else if(rt=B/mt,rt<1)rt=_t(rt);else return I.onFrame?_.attr(I.onFrame(1)):_.attr(I.toAttrs),!0;if(I.onFrame){var $t=I.onFrame(rt);_.attr($t)}else Ht(_,I,rt);return!1}var ve=function(){function _(I){this.animators=[],this.current=0,this.timer=null,this.canvas=I}return _.prototype.initTimer=function(){var I=this,B=!1,Y,U,rt;this.timer=Ji(function(mt){if(I.current=mt,I.animators.length>0){for(var Tt=I.animators.length-1;Tt>=0;Tt--){if(Y=I.animators[Tt],Y.destroyed){I.removeAnimator(Tt);continue}if(!Y.isAnimatePaused()){U=Y.get("animations");for(var _t=U.length-1;_t>=0;_t--)rt=U[_t],B=se(Y,rt,mt),B&&(U.splice(_t,1),B=!1,rt.callback&&rt.callback())}U.length===0&&I.removeAnimator(Tt)}var $t=I.canvas.get("autoDraw");$t||I.canvas.draw()}})},_.prototype.addAnimator=function(I){this.animators.push(I)},_.prototype.removeAnimator=function(I){this.animators.splice(I,1)},_.prototype.isAnimating=function(){return!!this.animators.length},_.prototype.stop=function(){this.timer&&this.timer.stop()},_.prototype.stopAllAnimations=function(I){I===void 0&&(I=!0),this.animators.forEach(function(B){B.stopAnimate(I)}),this.animators=[],this.canvas.draw()},_.prototype.getTime=function(){return this.current},_}(),ce=ve,Oe=40,ke=0,Ye=":",ar=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Ge(_,I){for(var B in _)if(_.hasOwnProperty(B)&&B.indexOf(Ye+I)>=0)return!0;return!1}function Re(_,I,B){B.name=I,B.target=_,B.currentTarget=_,B.delegateTarget=_,_.emit(I,B)}function Mr(_,I,B){if(B.bubbles){var Y=void 0,U=!1;if(I==="mouseenter"?(Y=B.fromShape,U=!0):I==="mouseleave"&&(U=!0,Y=B.toShape),_.isCanvas()&&U)return;if(Y&&Xt(_,Y)){B.bubbles=!1;return}B.name=I,B.currentTarget=_,B.delegateTarget=_,_.emit(I,B)}}var wr=function(){function _(I){var B=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(Y){var U=Y.type;B._triggerEvent(U,Y)},this._onDocumentMove=function(Y){var U=B.canvas,rt=U.get("el");if(rt!==Y.target&&(B.dragging||B.currentShape)){var mt=B._getPointInfo(Y);B.dragging&&B._emitEvent("drag",Y,mt,B.draggingShape)}},this._onDocumentMouseUp=function(Y){var U=B.canvas,rt=U.get("el");if(rt!==Y.target&&B.dragging){var mt=B._getPointInfo(Y);B.draggingShape&&B._emitEvent("drop",Y,mt,null),B._emitEvent("dragend",Y,mt,B.draggingShape),B._afterDrag(B.draggingShape,mt,Y)}},this.canvas=I.canvas}return _.prototype.init=function(){this._bindEvents()},_.prototype._bindEvents=function(){var I=this,B=this.canvas.get("el");(0,P.each)(ar,function(Y){B.addEventListener(Y,I._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},_.prototype._clearEvents=function(){var I=this,B=this.canvas.get("el");(0,P.each)(ar,function(Y){B.removeEventListener(Y,I._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},_.prototype._getEventObj=function(I,B,Y,U,rt,mt){var Tt=new Ft(I,B);return Tt.fromShape=rt,Tt.toShape=mt,Tt.x=Y.x,Tt.y=Y.y,Tt.clientX=Y.clientX,Tt.clientY=Y.clientY,Tt.propagationPath.push(U),Tt},_.prototype._getShape=function(I,B){return this.canvas.getShape(I.x,I.y,B)},_.prototype._getPointInfo=function(I){var B=this.canvas,Y=B.getClientByEvent(I),U=B.getPointByEvent(I);return{x:U.x,y:U.y,clientX:Y.x,clientY:Y.y}},_.prototype._triggerEvent=function(I,B){var Y=this._getPointInfo(B),U=this._getShape(Y,B),rt=this["_on"+I],mt=!1;if(rt)rt.call(this,Y,U,B);else{var Tt=this.currentShape;I==="mouseenter"||I==="dragenter"||I==="mouseover"?(this._emitEvent(I,B,Y,null,null,U),U&&this._emitEvent(I,B,Y,U,null,U),I==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",B,Y,null)):I==="mouseleave"||I==="dragleave"||I==="mouseout"?(mt=!0,Tt&&this._emitEvent(I,B,Y,Tt,Tt,null),this._emitEvent(I,B,Y,null,Tt,null),I==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",B,Y,null)):this._emitEvent(I,B,Y,U,null,null)}if(mt||(this.currentShape=U),U&&!U.get("destroyed")){var _t=this.canvas,$t=_t.get("el");$t.style.cursor=U.attr("cursor")||_t.get("cursor")}},_.prototype._onmousedown=function(I,B,Y){Y.button===ke&&(this.mousedownShape=B,this.mousedownPoint=I,this.mousedownTimeStamp=Y.timeStamp),this._emitEvent("mousedown",Y,I,B,null,null)},_.prototype._emitMouseoverEvents=function(I,B,Y,U){var rt=this.canvas.get("el");Y!==U&&(Y&&(this._emitEvent("mouseout",I,B,Y,Y,U),this._emitEvent("mouseleave",I,B,Y,Y,U),(!U||U.get("destroyed"))&&(rt.style.cursor=this.canvas.get("cursor"))),U&&(this._emitEvent("mouseover",I,B,U,Y,U),this._emitEvent("mouseenter",I,B,U,Y,U)))},_.prototype._emitDragoverEvents=function(I,B,Y,U,rt){U?(U!==Y&&(Y&&this._emitEvent("dragleave",I,B,Y,Y,U),this._emitEvent("dragenter",I,B,U,Y,U)),rt||this._emitEvent("dragover",I,B,U)):Y&&this._emitEvent("dragleave",I,B,Y,Y,U),rt&&this._emitEvent("dragover",I,B,U)},_.prototype._afterDrag=function(I,B,Y){I&&(I.set("capture",!0),this.draggingShape=null),this.dragging=!1;var U=this._getShape(B,Y);U!==I&&this._emitMouseoverEvents(Y,B,I,U),this.currentShape=U},_.prototype._onmouseup=function(I,B,Y){if(Y.button===ke){var U=this.draggingShape;this.dragging?(U&&this._emitEvent("drop",Y,I,B),this._emitEvent("dragend",Y,I,U),this._afterDrag(U,I,Y)):(this._emitEvent("mouseup",Y,I,B),B===this.mousedownShape&&this._emitEvent("click",Y,I,B),this.mousedownShape=null,this.mousedownPoint=null)}},_.prototype._ondragover=function(I,B,Y){Y.preventDefault();var U=this.currentShape;this._emitDragoverEvents(Y,I,U,B,!0)},_.prototype._onmousemove=function(I,B,Y){var U=this.canvas,rt=this.currentShape,mt=this.draggingShape;if(this.dragging)mt&&this._emitDragoverEvents(Y,I,rt,B,!1),this._emitEvent("drag",Y,I,mt);else{var Tt=this.mousedownPoint;if(Tt){var _t=this.mousedownShape,$t=Y.timeStamp,ne=$t-this.mousedownTimeStamp,pe=Tt.clientX-I.clientX,Ce=Tt.clientY-I.clientY,Ae=pe*pe+Ce*Ce;ne>120||Ae>Oe?_t&&_t.get("draggable")?(mt=this.mousedownShape,mt.set("capture",!1),this.draggingShape=mt,this.dragging=!0,this._emitEvent("dragstart",Y,I,mt),this.mousedownShape=null,this.mousedownPoint=null):!_t&&U.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",Y,I,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(Y,I,rt,B),this._emitEvent("mousemove",Y,I,B)):(this._emitMouseoverEvents(Y,I,rt,B),this._emitEvent("mousemove",Y,I,B))}else this._emitMouseoverEvents(Y,I,rt,B),this._emitEvent("mousemove",Y,I,B)}},_.prototype._emitEvent=function(I,B,Y,U,rt,mt){var Tt=this._getEventObj(I,B,Y,U,rt,mt);if(U){Tt.shape=U,Re(U,I,Tt);for(var _t=U.getParent();_t;)_t.emitDelegation(I,Tt),Tt.propagationStopped||Mr(_t,I,Tt),Tt.propagationPath.push(_t),_t=_t.getParent()}else{var $t=this.canvas;Re($t,I,Tt)}},_.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},_}(),Nr=wr,Gr="px",cr=(0,xe.detect)(),rr=cr&&cr.name==="firefox",Xr=function(_){ae(I,_);function I(B){var Y=_.call(this,B)||this;return Y.initContainer(),Y.initDom(),Y.initEvents(),Y.initTimeline(),Y}return I.prototype.getDefaultCfg=function(){var B=_.prototype.getDefaultCfg.call(this);return B.cursor="default",B.supportCSSTransform=!1,B},I.prototype.initContainer=function(){var B=this.get("container");(0,P.isString)(B)&&(B=document.getElementById(B),this.set("container",B))},I.prototype.initDom=function(){var B=this.createDom();this.set("el",B);var Y=this.get("container");Y.appendChild(B),this.setDOMSize(this.get("width"),this.get("height"))},I.prototype.initEvents=function(){var B=new Nr({canvas:this});B.init(),this.set("eventController",B)},I.prototype.initTimeline=function(){var B=new ce(this);this.set("timeline",B)},I.prototype.setDOMSize=function(B,Y){var U=this.get("el");bi&&(U.style.width=B+Gr,U.style.height=Y+Gr)},I.prototype.changeSize=function(B,Y){this.setDOMSize(B,Y),this.set("width",B),this.set("height",Y),this.onCanvasChange("changeSize")},I.prototype.getRenderer=function(){return this.get("renderer")},I.prototype.getCursor=function(){return this.get("cursor")},I.prototype.setCursor=function(B){this.set("cursor",B);var Y=this.get("el");bi&&Y&&(Y.style.cursor=B)},I.prototype.getPointByEvent=function(B){var Y=this.get("supportCSSTransform");if(Y){if(rr&&!(0,P.isNil)(B.layerX)&&B.layerX!==B.offsetX)return{x:B.layerX,y:B.layerY};if(!(0,P.isNil)(B.offsetX))return{x:B.offsetX,y:B.offsetY}}var U=this.getClientByEvent(B),rt=U.x,mt=U.y;return this.getPointByClient(rt,mt)},I.prototype.getClientByEvent=function(B){var Y=B;return B.touches&&(B.type==="touchend"?Y=B.changedTouches[0]:Y=B.touches[0]),{x:Y.clientX,y:Y.clientY}},I.prototype.getPointByClient=function(B,Y){var U=this.get("el"),rt=U.getBoundingClientRect();return{x:B-rt.left,y:Y-rt.top}},I.prototype.getClientByPoint=function(B,Y){var U=this.get("el"),rt=U.getBoundingClientRect();return{x:B+rt.left,y:Y+rt.top}},I.prototype.draw=function(){},I.prototype.removeDom=function(){var B=this.get("el");B.parentNode.removeChild(B)},I.prototype.clearEvents=function(){var B=this.get("eventController");B.destroy()},I.prototype.isCanvas=function(){return!0},I.prototype.getParent=function(){return null},I.prototype.destroy=function(){var B=this.get("timeline");this.get("destroyed")||(this.clear(),B&&B.stop(),this.clearEvents(),this.removeDom(),_.prototype.destroy.call(this))},I}(_i),cn=Xr,Mn=function(_){ae(I,_);function I(){return _!==null&&_.apply(this,arguments)||this}return I.prototype.isGroup=function(){return!0},I.prototype.isEntityGroup=function(){return!1},I.prototype.clone=function(){for(var B=_.prototype.clone.call(this),Y=this.getChildren(),U=0;U<Y.length;U++){var rt=Y[U];B.add(rt.clone())}return B},I}(_i),Qn=Mn,Jn=function(_){ae(I,_);function I(B){return _.call(this,B)||this}return I.prototype._isInBBox=function(B,Y){var U=this.getBBox();return U.minX<=B&&U.maxX>=B&&U.minY<=Y&&U.maxY>=Y},I.prototype.afterAttrsChange=function(B){_.prototype.afterAttrsChange.call(this,B),this.clearCacheBBox()},I.prototype.getBBox=function(){var B=this.cfg.bbox;return B||(B=this.calculateBBox(),this.set("bbox",B)),B},I.prototype.getCanvasBBox=function(){var B=this.cfg.canvasBBox;return B||(B=this.calculateCanvasBBox(),this.set("canvasBBox",B)),B},I.prototype.applyMatrix=function(B){_.prototype.applyMatrix.call(this,B),this.set("canvasBBox",null)},I.prototype.calculateCanvasBBox=function(){var B=this.getBBox(),Y=this.getTotalMatrix(),U=B.minX,rt=B.minY,mt=B.maxX,Tt=B.maxY;if(Y){var _t=or(Y,[B.minX,B.minY]),$t=or(Y,[B.maxX,B.minY]),ne=or(Y,[B.minX,B.maxY]),pe=or(Y,[B.maxX,B.maxY]);U=Math.min(_t[0],$t[0],ne[0],pe[0]),mt=Math.max(_t[0],$t[0],ne[0],pe[0]),rt=Math.min(_t[1],$t[1],ne[1],pe[1]),Tt=Math.max(_t[1],$t[1],ne[1],pe[1])}var Ce=this.attrs;if(Ce.shadowColor){var Ae=Ce.shadowBlur,Te=Ae===void 0?0:Ae,tr=Ce.shadowOffsetX,ir=tr===void 0?0:tr,At=Ce.shadowOffsetY,Ut=At===void 0?0:At,qt=U-Te+ir,ee=mt+Te+ir,we=rt-Te+Ut,Ze=Tt+Te+Ut;U=Math.min(U,qt),mt=Math.max(mt,ee),rt=Math.min(rt,we),Tt=Math.max(Tt,Ze)}return{x:U,y:rt,minX:U,minY:rt,maxX:mt,maxY:Tt,width:mt-U,height:Tt-rt}},I.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},I.prototype.isClipShape=function(){return this.get("isClipShape")},I.prototype.isInShape=function(B,Y){return!1},I.prototype.isOnlyHitBox=function(){return!1},I.prototype.isHit=function(B,Y){var U=this.get("startArrowShape"),rt=this.get("endArrowShape"),mt=[B,Y,1];mt=this.invertFromMatrix(mt);var Tt=mt[0],_t=mt[1],$t=this._isInBBox(Tt,_t);return this.isOnlyHitBox()?$t:!!($t&&!this.isClipped(Tt,_t)&&(this.isInShape(Tt,_t)||U&&U.isHit(Tt,_t)||rt&&rt.isHit(Tt,_t)))},I}(Zn),wa=Jn,Li=new Map;function Yn(_,I){Li.set(_,I)}function qi(_){return Li.get(_)}function Sa(_){var I=_.attr(),B=I.x,Y=I.y,U=I.width,rt=I.height;return{x:B,y:Y,width:U,height:rt}}function ka(_){var I=_.attr(),B=I.x,Y=I.y,U=I.r;return{x:B-U,y:Y-U,width:U*2,height:U*2}}var Ca=d(89838);function ha(_,I){return!_||!I?_||I:{minX:Math.min(_.minX,I.minX),minY:Math.min(_.minY,I.minY),maxX:Math.max(_.maxX,I.maxX),maxY:Math.max(_.maxY,I.maxY)}}function ca(_,I){var B=_.get("startArrowShape"),Y=_.get("endArrowShape"),U=null,rt=null;return B&&(U=B.getCanvasBBox(),I=ha(I,U)),Y&&(rt=Y.getCanvasBBox(),I=ha(I,rt)),I}function va(_){for(var I=_.attr(),B=I.points,Y=[],U=[],rt=0;rt<B.length;rt++){var mt=B[rt];Y.push(mt[0]),U.push(mt[1])}var Tt=Ca.Util.getBBoxByArray(Y,U),_t=Tt.x,$t=Tt.y,ne=Tt.width,pe=Tt.height,Ce={minX:_t,minY:$t,maxX:_t+ne,maxY:$t+pe};return Ce=ca(_,Ce),{x:Ce.minX,y:Ce.minY,width:Ce.maxX-Ce.minX,height:Ce.maxY-Ce.minY}}function si(_){for(var I=_.attr(),B=I.points,Y=[],U=[],rt=0;rt<B.length;rt++){var mt=B[rt];Y.push(mt[0]),U.push(mt[1])}return Ca.Util.getBBoxByArray(Y,U)}var ji=null;function Ba(){if(!ji){var _=document.createElement("canvas");_.width=1,_.height=1,ji=_.getContext("2d")}return ji}function Ma(_,I,B){var Y=1;if((0,P.isString)(_)&&(Y=_.split(`
`).length),Y>1){var U=Ea(I,B);return I*Y+U*(Y-1)}return I}function Ea(_,I){return I?I-_:_*.14}function on(_,I){var B=Ba(),Y=0;if((0,P.isNil)(_)||_==="")return Y;if(B.save(),B.font=I,(0,P.isString)(_)&&_.includes(`
`)){var U=_.split(`
`);(0,P.each)(U,function(rt){var mt=B.measureText(rt).width;Y<mt&&(Y=mt)})}else Y=B.measureText(_).width;return B.restore(),Y}function Ha(_){var I=_.fontSize,B=_.fontFamily,Y=_.fontWeight,U=_.fontStyle,rt=_.fontVariant;return[U,rt,Y,I+"px",B].join(" ").trim()}function ri(_){var I=_.attr(),B=I.x,Y=I.y,U=I.text,rt=I.fontSize,mt=I.lineHeight,Tt=I.font;Tt||(Tt=Ha(I));var _t=on(U,Tt),$t;if(!_t)$t={x:B,y:Y,width:0,height:0};else{var ne=I.textAlign,pe=I.textBaseline,Ce=Ma(U,rt,mt),Ae={x:B,y:Y-Ce};ne&&(ne==="end"||ne==="right"?Ae.x-=_t:ne==="center"&&(Ae.x-=_t/2)),pe&&(pe==="top"?Ae.y+=Ce:pe==="middle"&&(Ae.y+=Ce/2)),$t={x:Ae.x,y:Ae.y,width:_t,height:Ce}}return $t}var dn=d(57350);function da(_,I){for(var B=[],Y=[],U=[],rt=0;rt<_.length;rt++){var mt=_[rt],Tt=mt.currentPoint,_t=mt.params,$t=mt.prePoint,ne=void 0;switch(mt.command){case"Q":ne=Ca.Quad.box($t[0],$t[1],_t[1],_t[2],_t[3],_t[4]);break;case"C":ne=Ca.Cubic.box($t[0],$t[1],_t[1],_t[2],_t[3],_t[4],_t[5],_t[6]);break;case"A":var pe=mt.arcParams;ne=Ca.Arc.box(pe.cx,pe.cy,pe.rx,pe.ry,pe.xRotation,pe.startAngle,pe.endAngle);break;default:B.push(Tt[0]),Y.push(Tt[1]);break}ne&&(mt.box=ne,B.push(ne.x,ne.x+ne.width),Y.push(ne.y,ne.y+ne.height)),I&&(mt.command==="L"||mt.command==="M")&&mt.prePoint&&mt.nextPoint&&U.push(mt)}B=B.filter(function(At){return!Number.isNaN(At)&&At!==Infinity&&At!==-Infinity}),Y=Y.filter(function(At){return!Number.isNaN(At)&&At!==Infinity&&At!==-Infinity});var Ce=(0,P.min)(B),Ae=(0,P.min)(Y),Te=(0,P.max)(B),tr=(0,P.max)(Y);if(U.length===0)return{x:Ce,y:Ae,width:Te-Ce,height:tr-Ae};for(var rt=0;rt<U.length;rt++){var mt=U[rt],Tt=mt.currentPoint,ir=void 0;Tt[0]===Ce?(ir=un(mt,I),Ce=Ce-ir.xExtra):Tt[0]===Te&&(ir=un(mt,I),Te=Te+ir.xExtra),Tt[1]===Ae?(ir=un(mt,I),Ae=Ae-ir.yExtra):Tt[1]===tr&&(ir=un(mt,I),tr=tr+ir.yExtra)}return{x:Ce,y:Ae,width:Te-Ce,height:tr-Ae}}function un(_,I){var B=_.prePoint,Y=_.currentPoint,U=_.nextPoint,rt=Math.pow(Y[0]-B[0],2)+Math.pow(Y[1]-B[1],2),mt=Math.pow(Y[0]-U[0],2)+Math.pow(Y[1]-U[1],2),Tt=Math.pow(B[0]-U[0],2)+Math.pow(B[1]-U[1],2),_t=Math.acos((rt+mt-Tt)/(2*Math.sqrt(rt)*Math.sqrt(mt)));if(!_t||Math.sin(_t)===0||(0,P.isNumberEqual)(_t,0))return{xExtra:0,yExtra:0};var $t=Math.abs(Math.atan2(U[1]-Y[1],U[0]-Y[0])),ne=Math.abs(Math.atan2(U[0]-Y[0],U[1]-Y[1]));$t=$t>Math.PI/2?Math.PI-$t:$t,ne=ne>Math.PI/2?Math.PI-ne:ne;var pe={xExtra:Math.cos(_t/2-$t)*(I/2*(1/Math.sin(_t/2)))-I/2||0,yExtra:Math.cos(ne-_t/2)*(I/2*(1/Math.sin(_t/2)))-I/2||0};return pe}function pa(_){var I=_.attr(),B=I.path,Y=I.stroke,U=Y?I.lineWidth:0,rt=_.get("segments")||(0,dn.path2Segments)(B),mt=da(rt,U),Tt=mt.x,_t=mt.y,$t=mt.width,ne=mt.height,pe={minX:Tt,minY:_t,maxX:Tt+$t,maxY:_t+ne};return pe=ca(_,pe),{x:pe.minX,y:pe.minY,width:pe.maxX-pe.minX,height:pe.maxY-pe.minY}}function zt(_){var I=_.attr(),B=I.x1,Y=I.y1,U=I.x2,rt=I.y2,mt=Math.min(B,U),Tt=Math.max(B,U),_t=Math.min(Y,rt),$t=Math.max(Y,rt),ne={minX:mt,maxX:Tt,minY:_t,maxY:$t};return ne=ca(_,ne),{x:ne.minX,y:ne.minY,width:ne.maxX-ne.minX,height:ne.maxY-ne.minY}}function vt(_){var I=_.attr(),B=I.x,Y=I.y,U=I.rx,rt=I.ry;return{x:B-U,y:Y-rt,width:U*2,height:rt*2}}Yn("rect",Sa),Yn("image",Sa),Yn("circle",ka),Yn("marker",ka),Yn("polyline",va),Yn("polygon",si),Yn("text",ri),Yn("path",pa),Yn("line",zt),Yn("ellipse",vt);var z="0.5.11"},30490:function(dt,S){"use strict";var d;d={value:!0};var b=function(){function P(D,O){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=D,this.name=D,this.originalEvent=O,this.timeStamp=O.timeStamp}return P.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},P.prototype.stopPropagation=function(){this.propagationStopped=!0},P.prototype.toString=function(){var D=this.type;return"[Event (type="+D+")]"},P.prototype.save=function(){},P.prototype.restore=function(){},P}();S.Z=b},14563:function(dt,S,d){"use strict";var b;b={value:!0};var P=d(55654),D=d(74306),O=d(77096),L=d(63528),T=d(64830),A=d(21927),E=d(70530),p=function(w){P.__extends(y,w);function y(){return w!==null&&w.apply(this,arguments)||this}return y.prototype.getDefaultCfg=function(){var x=w.prototype.getDefaultCfg.call(this);return x.renderer="canvas",x.autoDraw=!0,x.localRefresh=!0,x.refreshElements=[],x.clipView=!0,x.quickHit=!1,x},y.prototype.onCanvasChange=function(x){(x==="attr"||x==="sort"||x==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},y.prototype.getShapeBase=function(){return L},y.prototype.getGroupBase=function(){return T.default},y.prototype.getPixelRatio=function(){var x=this.get("pixelRatio")||A.getPixelRatio();return x>=1?Math.ceil(x):1},y.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},y.prototype.createDom=function(){var x=document.createElement("canvas"),m=x.getContext("2d");return this.set("context",m),x},y.prototype.setDOMSize=function(x,m){w.prototype.setDOMSize.call(this,x,m);var M=this.get("context"),k=this.get("el"),R=this.getPixelRatio();k.width=R*x,k.height=R*m,R>1&&M.scale(R,R)},y.prototype.clear=function(){w.prototype.clear.call(this),this._clearFrame();var x=this.get("context"),m=this.get("el");x.clearRect(0,0,m.width,m.height)},y.prototype.getShape=function(x,m){var M;return this.get("quickHit")?M=O.getShape(this,x,m):M=w.prototype.getShape.call(this,x,m,null),M},y.prototype._getRefreshRegion=function(){var x=this.get("refreshElements"),m=this.getViewRange(),M;if(x.length&&x[0]===this)M=m;else if(M=E.getMergedRegion(x),M){M.minX=Math.floor(M.minX),M.minY=Math.floor(M.minY),M.maxX=Math.ceil(M.maxX),M.maxY=Math.ceil(M.maxY),M.maxY+=1;var k=this.get("clipView");k&&(M=E.mergeView(M,m))}return M},y.prototype.refreshElement=function(x){var m=this.get("refreshElements");m.push(x)},y.prototype._clearFrame=function(){var x=this.get("drawFrame");x&&(A.clearAnimationFrame(x),this.set("drawFrame",null),this.set("refreshElements",[]))},y.prototype.draw=function(){var x=this.get("drawFrame");this.get("autoDraw")&&x||this._startDraw()},y.prototype._drawAll=function(){var x=this.get("context"),m=this.get("el"),M=this.getChildren();x.clearRect(0,0,m.width,m.height),E.applyAttrsToContext(x,this),E.drawChildren(x,M),this.set("refreshElements",[])},y.prototype._drawRegion=function(){var x=this.get("context"),m=this.get("refreshElements"),M=this.getChildren(),k=this._getRefreshRegion();k?(x.clearRect(k.minX,k.minY,k.maxX-k.minX,k.maxY-k.minY),x.save(),x.beginPath(),x.rect(k.minX,k.minY,k.maxX-k.minX,k.maxY-k.minY),x.clip(),E.applyAttrsToContext(x,this),E.checkRefresh(this,M,k),E.drawChildren(x,M,k),x.restore()):m.length&&E.clearChanged(m),A.each(m,function(R){R.get("hasChanged")&&R.set("hasChanged",!1)}),this.set("refreshElements",[])},y.prototype._startDraw=function(){var x=this,m=this.get("drawFrame");m||(m=A.requestAnimationFrame(function(){x.get("localRefresh")?x._drawRegion():x._drawAll(),x.set("drawFrame",null)}),this.set("drawFrame",m))},y.prototype.skipDraw=function(){},y.prototype.removeDom=function(){var x=this.get("el");x.width=0,x.height=0,x.parentNode.removeChild(x)},y}(D.AbstractCanvas);S.Z=p},64830:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(55654),P=d(74306),D=d(63528),O=d(70530),L=d(49242),T=d(21927),A=function(E){b.__extends(p,E);function p(){return E!==null&&E.apply(this,arguments)||this}return p.prototype.onCanvasChange=function(w){O.refreshElement(this,w)},p.prototype.getShapeBase=function(){return D},p.prototype.getGroupBase=function(){return p},p.prototype._applyClip=function(w,y){y&&(w.save(),O.applyAttrsToContext(w,y),y.createPath(w),w.restore(),w.clip(),y._afterDraw())},p.prototype.cacheCanvasBBox=function(){var w=this.cfg.children,y=[],x=[];L.each(w,function(H){var $=H.cfg.cacheCanvasBBox;$&&H.cfg.isInView&&(y.push($.minX,$.maxX),x.push($.minY,$.maxY))});var m=null;if(y.length){var M=L.min(y),k=L.max(y),R=L.min(x),N=L.max(x);m={minX:M,minY:R,x:M,y:R,maxX:k,maxY:N,width:k-M,height:N-R};var W=this.cfg.canvas;if(W){var Q=W.getViewRange();this.set("isInView",T.intersectRect(m,Q))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",m)},p.prototype.draw=function(w,y){var x=this.cfg.children,m=y?this.cfg.refresh:!0;x.length&&m&&(w.save(),O.applyAttrsToContext(w,this),this._applyClip(w,this.getClip()),O.drawChildren(w,x,y),w.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},p.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},p}(P.AbstractGroup);S.default=A},41310:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(55654),P=d(74306),D=d(21927),O=d(70530),L=d(74306),T=d(63528),A=d(64830),E=function(p){b.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var y=p.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},y),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},w.prototype.getShapeBase=function(){return T},w.prototype.getGroupBase=function(){return A.default},w.prototype.onCanvasChange=function(y){O.refreshElement(this,y)},w.prototype.calculateBBox=function(){var y=this.get("type"),x=this.getHitLineWidth(),m=L.getBBoxMethod(y),M=m(this),k=x/2,R=M.x-k,N=M.y-k,W=M.x+M.width+k,Q=M.y+M.height+k;return{x:R,minX:R,y:N,minY:N,width:M.width+x,height:M.height+x,maxX:W,maxY:Q}},w.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},w.prototype.isStroke=function(){return!!this.attrs.stroke},w.prototype._applyClip=function(y,x){x&&(y.save(),O.applyAttrsToContext(y,x),x.createPath(y),y.restore(),y.clip(),x._afterDraw())},w.prototype.draw=function(y,x){var m=this.cfg.clipShape;if(x){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var M=this.getCanvasBBox();if(!D.intersectRect(x,M)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}y.save(),O.applyAttrsToContext(y,this),this._applyClip(y,m),this.drawPath(y),y.restore(),this._afterDraw()},w.prototype.getCanvasViewBox=function(){var y=this.cfg.canvas;return y?y.getViewRange():null},w.prototype.cacheCanvasBBox=function(){var y=this.getCanvasViewBox();if(y){var x=this.getCanvasBBox(),m=D.intersectRect(x,y);this.set("isInView",m),m?this.set("cacheCanvasBBox",x):this.set("cacheCanvasBBox",null)}},w.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},w.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},w.prototype.drawPath=function(y){this.createPath(y),this.strokeAndFill(y),this.afterDrawPath(y)},w.prototype.fill=function(y){y.fill()},w.prototype.stroke=function(y){y.stroke()},w.prototype.strokeAndFill=function(y){var x=this.attrs,m=x.lineWidth,M=x.opacity,k=x.strokeOpacity,R=x.fillOpacity;this.isFill()&&(!D.isNil(R)&&R!==1?(y.globalAlpha=R,this.fill(y),y.globalAlpha=M):this.fill(y)),this.isStroke()&&m>0&&(!D.isNil(k)&&k!==1&&(y.globalAlpha=k),this.stroke(y)),this.afterDrawPath(y)},w.prototype.createPath=function(y){},w.prototype.afterDrawPath=function(y){},w.prototype.isInShape=function(y,x){var m=this.isStroke(),M=this.isFill(),k=this.getHitLineWidth();return this.isInStrokeOrPath(y,x,m,M,k)},w.prototype.isInStrokeOrPath=function(y,x,m,M,k){return!1},w.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var y=this.attrs;return y.lineWidth+y.lineAppendWidth},w}(P.AbstractShape);S.default=E},22925:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(55654),P=d(41310),D=d(21927),O=function(L){b.__extends(T,L);function T(){return L!==null&&L.apply(this,arguments)||this}return T.prototype.getDefaultAttrs=function(){var A=L.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},A),{x:0,y:0,r:0})},T.prototype.isInStrokeOrPath=function(A,E,p,w,y){var x=this.attr(),m=x.x,M=x.y,k=x.r,R=y/2,N=D.distance(m,M,A,E);return w&&p?N<=k+R:w?N<=k:p?N>=k-R&&N<=k+R:!1},T.prototype.createPath=function(A){var E=this.attr(),p=E.x,w=E.y,y=E.r;A.beginPath(),A.arc(p,w,y,0,Math.PI*2,!1),A.closePath()},T}(P.default);S.default=O},21287:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(55654),P=d(41310);function D(L,T,A,E){return L/(A*A)+T/(E*E)}var O=function(L){b.__extends(T,L);function T(){return L!==null&&L.apply(this,arguments)||this}return T.prototype.getDefaultAttrs=function(){var A=L.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},A),{x:0,y:0,rx:0,ry:0})},T.prototype.isInStrokeOrPath=function(A,E,p,w,y){var x=this.attr(),m=y/2,M=x.x,k=x.y,R=x.rx,N=x.ry,W=(A-M)*(A-M),Q=(E-k)*(E-k);return w&&p?D(W,Q,R+m,N+m)<=1:w?D(W,Q,R,N)<=1:p?D(W,Q,R-m,N-m)>=1&&D(W,Q,R+m,N+m)<=1:!1},T.prototype.createPath=function(A){var E=this.attr(),p=E.x,w=E.y,y=E.rx,x=E.ry;if(A.beginPath(),A.ellipse)A.ellipse(p,w,y,x,0,0,Math.PI*2,!1);else{var m=y>x?y:x,M=y>x?1:y/x,k=y>x?x/y:1;A.save(),A.translate(p,w),A.scale(M,k),A.arc(0,0,m,0,Math.PI*2),A.restore(),A.closePath()}},T}(P.default);S.default=O},55303:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(55654),P=d(41310),D=d(21927);function O(T){return T instanceof HTMLElement&&D.isString(T.nodeName)&&T.nodeName.toUpperCase()==="CANVAS"}var L=function(T){b.__extends(A,T);function A(){return T!==null&&T.apply(this,arguments)||this}return A.prototype.getDefaultAttrs=function(){var E=T.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},E),{x:0,y:0,width:0,height:0})},A.prototype.initAttrs=function(E){this._setImage(E.img)},A.prototype.isStroke=function(){return!1},A.prototype.isOnlyHitBox=function(){return!0},A.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var E=this.get("canvas");E?E.draw():this.createPath(this.get("context"))}},A.prototype._setImage=function(E){var p=this,w=this.attrs;if(D.isString(E)){var y=new Image;y.onload=function(){if(p.destroyed)return!1;p.attr("img",y),p.set("loading",!1),p._afterLoading();var x=p.get("callback");x&&x.call(p)},y.crossOrigin="Anonymous",y.src=E,this.set("loading",!0)}else E instanceof Image?(w.width||(w.width=E.width),w.height||(w.height=E.height)):O(E)&&(w.width||(w.width=Number(E.getAttribute("width"))),w.height||(w.height,Number(E.getAttribute("height"))))},A.prototype.onAttrChange=function(E,p,w){T.prototype.onAttrChange.call(this,E,p,w),E==="img"&&this._setImage(p)},A.prototype.createPath=function(E){if(this.get("loading")){this.set("toDraw",!0),this.set("context",E);return}var p=this.attr(),w=p.x,y=p.y,x=p.width,m=p.height,M=p.sx,k=p.sy,R=p.swidth,N=p.sheight,W=p.img;(W instanceof Image||O(W))&&(!D.isNil(M)&&!D.isNil(k)&&!D.isNil(R)&&!D.isNil(N)?E.drawImage(W,M,k,R,N,w,y,x,m):E.drawImage(W,w,y,x,m))},A}(P.default);S.default=L},63528:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Text=S.Rect=S.Polyline=S.Polygon=S.Path=S.Marker=S.Line=S.Image=S.Ellipse=S.Circle=S.Base=void 0;var b=d(41310);Object.defineProperty(S,"Base",{enumerable:!0,get:function(){return b.default}});var P=d(22925);Object.defineProperty(S,"Circle",{enumerable:!0,get:function(){return P.default}});var D=d(21287);Object.defineProperty(S,"Ellipse",{enumerable:!0,get:function(){return D.default}});var O=d(55303);Object.defineProperty(S,"Image",{enumerable:!0,get:function(){return O.default}});var L=d(65159);Object.defineProperty(S,"Line",{enumerable:!0,get:function(){return L.default}});var T=d(22034);Object.defineProperty(S,"Marker",{enumerable:!0,get:function(){return T.default}});var A=d(55263);Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return A.default}});var E=d(69324);Object.defineProperty(S,"Polygon",{enumerable:!0,get:function(){return E.default}});var p=d(49067);Object.defineProperty(S,"Polyline",{enumerable:!0,get:function(){return p.default}});var w=d(9558);Object.defineProperty(S,"Rect",{enumerable:!0,get:function(){return w.default}});var y=d(17310);Object.defineProperty(S,"Text",{enumerable:!0,get:function(){return y.default}})},65159:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(55654),P=d(89838),D=d(41310),O=d(63161),L=d(27836),T=function(A){b.__extends(E,A);function E(){return A!==null&&A.apply(this,arguments)||this}return E.prototype.getDefaultAttrs=function(){var p=A.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},E.prototype.initAttrs=function(p){this.setArrow()},E.prototype.onAttrChange=function(p,w,y){A.prototype.onAttrChange.call(this,p,w,y),this.setArrow()},E.prototype.setArrow=function(){var p=this.attr(),w=p.x1,y=p.y1,x=p.x2,m=p.y2,M=p.startArrow,k=p.endArrow;M&&L.addStartArrow(this,p,x,m,w,y),k&&L.addEndArrow(this,p,w,y,x,m)},E.prototype.isInStrokeOrPath=function(p,w,y,x,m){if(!y||!m)return!1;var M=this.attr(),k=M.x1,R=M.y1,N=M.x2,W=M.y2;return O.default(k,R,N,W,m,p,w)},E.prototype.createPath=function(p){var w=this.attr(),y=w.x1,x=w.y1,m=w.x2,M=w.y2,k=w.startArrow,R=w.endArrow,N={dx:0,dy:0},W={dx:0,dy:0};k&&k.d&&(N=L.getShortenOffset(y,x,m,M,w.startArrow.d)),R&&R.d&&(W=L.getShortenOffset(y,x,m,M,w.endArrow.d)),p.beginPath(),p.moveTo(y+N.dx,x+N.dy),p.lineTo(m-W.dx,M-W.dy)},E.prototype.afterDrawPath=function(p){var w=this.get("startArrowShape"),y=this.get("endArrowShape");w&&w.draw(p),y&&y.draw(p)},E.prototype.getTotalLength=function(){var p=this.attr(),w=p.x1,y=p.y1,x=p.x2,m=p.y2;return P.Line.length(w,y,x,m)},E.prototype.getPoint=function(p){var w=this.attr(),y=w.x1,x=w.y1,m=w.x2,M=w.y2;return P.Line.pointAt(y,x,m,M,p)},E}(D.default);S.default=T},22034:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(55654),P=d(49242),D=d(57350),O=d(41310),L=d(21927),T=d(70530),A={circle:function(p,w,y){return[["M",p-y,w],["A",y,y,0,1,0,p+y,w],["A",y,y,0,1,0,p-y,w]]},square:function(p,w,y){return[["M",p-y,w-y],["L",p+y,w-y],["L",p+y,w+y],["L",p-y,w+y],["Z"]]},diamond:function(p,w,y){return[["M",p-y,w],["L",p,w-y],["L",p+y,w],["L",p,w+y],["Z"]]},triangle:function(p,w,y){var x=y*Math.sin(1/3*Math.PI);return[["M",p-y,w+x],["L",p,w-x],["L",p+y,w+x],["Z"]]},"triangle-down":function(p,w,y){var x=y*Math.sin(1/3*Math.PI);return[["M",p-y,w-x],["L",p+y,w-x],["L",p,w+x],["Z"]]}},E=function(p){b.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.initAttrs=function(y){this._resetParamsCache()},w.prototype._resetParamsCache=function(){this.set("paramsCache",{})},w.prototype.onAttrChange=function(y,x,m){p.prototype.onAttrChange.call(this,y,x,m),["symbol","x","y","r","radius"].indexOf(y)!==-1&&this._resetParamsCache()},w.prototype.isOnlyHitBox=function(){return!0},w.prototype._getR=function(y){return P.isNil(y.r)?y.radius:y.r},w.prototype._getPath=function(){var y=this.attr(),x=y.x,m=y.y,M=y.symbol||"circle",k=this._getR(y),R,N;if(L.isFunction(M))R=M,N=R(x,m,k),N=D.path2Absolute(N);else{if(R=w.Symbols[M],!R)return console.warn(M+" marker is not supported."),null;N=R(x,m,k)}return N},w.prototype.createPath=function(y){var x=this._getPath(),m=this.get("paramsCache");T.drawPath(this,y,{path:x},m)},w.Symbols=A,w}(O.default);S.default=E},55263:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(55654),P=d(89838),D=d(49242),O=d(41310),L=d(57350),T=d(70530),A=d(31977),E=d(50970),p=d(55531),w=d(27836);function y(m,M,k){for(var R=!1,N=0;N<m.length;N++){var W=m[N];if(R=E.default(W,M,k),R)break}return R}var x=function(m){b.__extends(M,m);function M(){return m!==null&&m.apply(this,arguments)||this}return M.prototype.getDefaultAttrs=function(){var k=m.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},k),{startArrow:!1,endArrow:!1})},M.prototype.initAttrs=function(k){this._setPathArr(k.path),this.setArrow()},M.prototype.onAttrChange=function(k,R,N){m.prototype.onAttrChange.call(this,k,R,N),k==="path"&&this._setPathArr(R),this.setArrow()},M.prototype._setPathArr=function(k){this.attrs.path=L.path2Absolute(k);var R=p.default.hasArc(k);this.set("hasArc",R),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},M.prototype.getSegments=function(){var k=this.get("segements");return k||(k=L.path2Segments(this.attr("path")),this.set("segments",k)),k},M.prototype.setArrow=function(){var k=this.attr(),R=k.startArrow,N=k.endArrow;if(R){var W=this.getStartTangent();w.addStartArrow(this,k,W[0][0],W[0][1],W[1][0],W[1][1])}if(N){var W=this.getEndTangent();w.addEndArrow(this,k,W[0][0],W[0][1],W[1][0],W[1][1])}},M.prototype.isInStrokeOrPath=function(k,R,N,W,Q){var H=this.getSegments(),$=this.get("hasArc"),it=!1;if(N){var nt=this.getTotalLength();it=p.default.isPointInStroke(H,Q,k,R,nt)}if(!it&&W)if($)it=A.default(this,k,R);else{var wt=this.attr("path"),yt=p.default.extractPolygons(wt);it=y(yt.polygons,k,R)||y(yt.polylines,k,R)}return it},M.prototype.createPath=function(k){var R=this.attr(),N=this.get("paramsCache");T.drawPath(this,k,R,N)},M.prototype.afterDrawPath=function(k){var R=this.get("startArrowShape"),N=this.get("endArrowShape");R&&R.draw(k),N&&N.draw(k)},M.prototype.getTotalLength=function(){var k=this.get("totalLength");return D.isNil(k)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):k},M.prototype.getPoint=function(k){var R=this.get("tCache");R||(this._calculateCurve(),this._setTcache(),R=this.get("tCache"));var N,W,Q=this.get("curve");if(!R||R.length===0)return Q?{x:Q[0][1],y:Q[0][2]}:null;D.each(R,function(nt,wt){k>=nt[0]&&k<=nt[1]&&(N=(k-nt[0])/(nt[1]-nt[0]),W=wt)});var H=Q[W];if(D.isNil(H)||D.isNil(W))return null;var $=H.length,it=Q[W+1];return P.Cubic.pointAt(H[$-2],H[$-1],it[1],it[2],it[3],it[4],it[5],it[6],N)},M.prototype._calculateCurve=function(){var k=this.attr().path;this.set("curve",p.default.pathToCurve(k))},M.prototype._setTcache=function(){var k=0,R=0,N=[],W,Q,H,$,it=this.get("curve");if(!!it){if(D.each(it,function(nt,wt){H=it[wt+1],$=nt.length,H&&(k+=P.Cubic.length(nt[$-2],nt[$-1],H[1],H[2],H[3],H[4],H[5],H[6])||0)}),this.set("totalLength",k),k===0){this.set("tCache",[]);return}D.each(it,function(nt,wt){H=it[wt+1],$=nt.length,H&&(W=[],W[0]=R/k,Q=P.Cubic.length(nt[$-2],nt[$-1],H[1],H[2],H[3],H[4],H[5],H[6]),R+=Q||0,W[1]=R/k,N.push(W))}),this.set("tCache",N)}},M.prototype.getStartTangent=function(){var k=this.getSegments(),R;if(k.length>1){var N=k[0].currentPoint,W=k[1].currentPoint,Q=k[1].startTangent;R=[],Q?(R.push([N[0]-Q[0],N[1]-Q[1]]),R.push([N[0],N[1]])):(R.push([W[0],W[1]]),R.push([N[0],N[1]]))}return R},M.prototype.getEndTangent=function(){var k=this.getSegments(),R=k.length,N;if(R>1){var W=k[R-2].currentPoint,Q=k[R-1].currentPoint,H=k[R-1].endTangent;N=[],H?(N.push([Q[0]-H[0],Q[1]-H[1]]),N.push([Q[0],Q[1]])):(N.push([W[0],W[1]]),N.push([Q[0],Q[1]]))}return N},M}(O.default);S.default=x},69324:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(55654),P=d(41310),D=d(39761),O=d(50970),L=function(T){b.__extends(A,T);function A(){return T!==null&&T.apply(this,arguments)||this}return A.prototype.isInStrokeOrPath=function(E,p,w,y,x){var m=this.attr().points,M=!1;return w&&(M=D.default(m,x,E,p,!0)),!M&&y&&(M=O.default(m,E,p)),M},A.prototype.createPath=function(E){var p=this.attr(),w=p.points;if(!(w.length<2)){E.beginPath();for(var y=0;y<w.length;y++){var x=w[y];y===0?E.moveTo(x[0],x[1]):E.lineTo(x[0],x[1])}E.closePath()}},A}(P.default);S.default=L},49067:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(55654),P=d(89838),D=d(89838),O=d(49242),L=d(41310),T=d(39761),A=d(27836),E=function(p){b.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var y=p.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},y),{startArrow:!1,endArrow:!1})},w.prototype.initAttrs=function(y){this.setArrow()},w.prototype.onAttrChange=function(y,x,m){p.prototype.onAttrChange.call(this,y,x,m),this.setArrow(),["points"].indexOf(y)!==-1&&this._resetCache()},w.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},w.prototype.setArrow=function(){var y=this.attr(),x=this.attrs,m=x.points,M=x.startArrow,k=x.endArrow,R=m.length,N=m[0][0],W=m[0][1],Q=m[R-1][0],H=m[R-1][1];M&&A.addStartArrow(this,y,m[1][0],m[1][1],N,W),k&&A.addEndArrow(this,y,m[R-2][0],m[R-2][1],Q,H)},w.prototype.isFill=function(){return!1},w.prototype.isInStrokeOrPath=function(y,x,m,M,k){if(!m||!k)return!1;var R=this.attr().points;return T.default(R,k,y,x,!1)},w.prototype.isStroke=function(){return!0},w.prototype.createPath=function(y){var x=this.attr(),m=x.points,M=x.startArrow,k=x.endArrow,R=m.length;if(!(m.length<2)){var N=m[0][0],W=m[0][1],Q=m[R-1][0],H=m[R-1][1];if(M&&M.d){var $=A.getShortenOffset(N,W,m[1][0],m[1][1],M.d);N+=$.dx,W+=$.dy}if(k&&k.d){var $=A.getShortenOffset(m[R-2][0],m[R-2][1],Q,H,k.d);Q-=$.dx,H-=$.dy}y.beginPath(),y.moveTo(N,W);for(var it=0;it<R-1;it++){var nt=m[it];y.lineTo(nt[0],nt[1])}y.lineTo(Q,H)}},w.prototype.afterDrawPath=function(y){var x=this.get("startArrowShape"),m=this.get("endArrowShape");x&&x.draw(y),m&&m.draw(y)},w.prototype.getTotalLength=function(){var y=this.attr().points,x=this.get("totalLength");return O.isNil(x)?(this.set("totalLength",D.Polyline.length(y)),this.get("totalLength")):x},w.prototype.getPoint=function(y){var x=this.attr().points,m=this.get("tCache");m||(this._setTcache(),m=this.get("tCache"));var M,k;return O.each(m,function(R,N){y>=R[0]&&y<=R[1]&&(M=(y-R[0])/(R[1]-R[0]),k=N)}),P.Line.pointAt(x[k][0],x[k][1],x[k+1][0],x[k+1][1],M)},w.prototype._setTcache=function(){var y=this.attr().points;if(!(!y||y.length===0)){var x=this.getTotalLength();if(!(x<=0)){var m=0,M=[],k,R;O.each(y,function(N,W){y[W+1]&&(k=[],k[0]=m/x,R=P.Line.length(N[0],N[1],y[W+1][0],y[W+1][1]),m+=R,k[1]=m/x,M.push(k))}),this.set("tCache",M)}}},w.prototype.getStartTangent=function(){var y=this.attr().points,x=[];return x.push([y[1][0],y[1][1]]),x.push([y[0][0],y[0][1]]),x},w.prototype.getEndTangent=function(){var y=this.attr().points,x=y.length-1,m=[];return m.push([y[x-1][0],y[x-1][1]]),m.push([y[x][0],y[x][1]]),m},w}(L.default);S.default=E},9558:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(55654),P=d(41310),D=d(93377),O=d(21927),L=d(21897),T=d(46647),A=d(31977),E=function(p){b.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var y=p.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},y),{x:0,y:0,width:0,height:0,radius:0})},w.prototype.isInStrokeOrPath=function(y,x,m,M,k){var R=this.attr(),N=R.x,W=R.y,Q=R.width,H=R.height,$=R.radius;if($){var nt=!1;return m&&(nt=T.default(N,W,Q,H,$,k,y,x)),!nt&&M&&(nt=A.default(this,y,x)),nt}else{var it=k/2;if(M&&m)return O.inBox(N-it,W-it,Q+it,H+it,y,x);if(M)return O.inBox(N,W,Q,H,y,x);if(m)return L.default(N,W,Q,H,k,y,x)}},w.prototype.createPath=function(y){var x=this.attr(),m=x.x,M=x.y,k=x.width,R=x.height,N=x.radius;if(y.beginPath(),N===0)y.rect(m,M,k,R);else{var W=D.parseRadius(N),Q=W[0],H=W[1],$=W[2],it=W[3];y.moveTo(m+Q,M),y.lineTo(m+k-H,M),H!==0&&y.arc(m+k-H,M+H,H,-Math.PI/2,0),y.lineTo(m+k,M+R-$),$!==0&&y.arc(m+k-$,M+R-$,$,0,Math.PI/2),y.lineTo(m+it,M+R),it!==0&&y.arc(m+it,M+R-it,it,Math.PI/2,Math.PI),y.lineTo(m,M+Q),Q!==0&&y.arc(m+Q,M+Q,Q,Math.PI,Math.PI*1.5),y.closePath()}},w}(P.default);S.default=E},17310:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(55654),P=d(41310),D=d(21927),O=d(74306),L=function(T){b.__extends(A,T);function A(){return T!==null&&T.apply(this,arguments)||this}return A.prototype.getDefaultAttrs=function(){var E=T.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},E),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},A.prototype.isOnlyHitBox=function(){return!0},A.prototype.initAttrs=function(E){this._assembleFont(),E.text&&this._setText(E.text)},A.prototype._assembleFont=function(){var E=this.attrs;E.font=O.assembleFont(E)},A.prototype._setText=function(E){var p=null;D.isString(E)&&E.indexOf(`
`)!==-1&&(p=E.split(`
`)),this.set("textArr",p)},A.prototype.onAttrChange=function(E,p,w){T.prototype.onAttrChange.call(this,E,p,w),E.startsWith("font")&&this._assembleFont(),E==="text"&&this._setText(p)},A.prototype._getSpaceingY=function(){var E=this.attrs,p=E.lineHeight,w=E.fontSize*1;return p?p-w:w*.14},A.prototype._drawTextArr=function(E,p,w){var y=this.attrs,x=y.textBaseline,m=y.x,M=y.y,k=y.fontSize*1,R=this._getSpaceingY(),N=O.getTextHeight(y.text,y.fontSize,y.lineHeight),W;D.each(p,function(Q,H){W=M+H*(R+k)-N+k,x==="middle"&&(W+=N-k-(N-k)/2),x==="top"&&(W+=N-k),D.isNil(Q)||(w?E.fillText(Q,m,W):E.strokeText(Q,m,W))})},A.prototype._drawText=function(E,p){var w=this.attr(),y=w.x,x=w.y,m=this.get("textArr");if(m)this._drawTextArr(E,m,p);else{var M=w.text;D.isNil(M)||(p?E.fillText(M,y,x):E.strokeText(M,y,x))}},A.prototype.strokeAndFill=function(E){var p=this.attrs,w=p.lineWidth,y=p.opacity,x=p.strokeOpacity,m=p.fillOpacity;this.isStroke()&&w>0&&(!D.isNil(x)&&x!==1&&(E.globalAlpha=y),this.stroke(E)),this.isFill()&&(!D.isNil(m)&&m!==1?(E.globalAlpha=m,this.fill(E),E.globalAlpha=y):this.fill(E)),this.afterDrawPath(E)},A.prototype.fill=function(E){this._drawText(E,!0)},A.prototype.stroke=function(E){this._drawText(E,!1)},A}(P.default);S.default=L},44706:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(21927);function P(T){return Math.sqrt(T[0]*T[0]+T[1]*T[1])}function D(T,A){return P(T)*P(A)?(T[0]*A[0]+T[1]*A[1])/(P(T)*P(A)):1}function O(T,A){return(T[0]*A[1]<T[1]*A[0]?-1:1)*Math.acos(D(T,A))}function L(T,A){var E=A[1],p=A[2],w=b.mod(b.toRadian(A[3]),Math.PI*2),y=A[4],x=A[5],m=T[0],M=T[1],k=A[6],R=A[7],N=Math.cos(w)*(m-k)/2+Math.sin(w)*(M-R)/2,W=-1*Math.sin(w)*(m-k)/2+Math.cos(w)*(M-R)/2,Q=N*N/(E*E)+W*W/(p*p);Q>1&&(E*=Math.sqrt(Q),p*=Math.sqrt(Q));var H=E*E*(W*W)+p*p*(N*N),$=H?Math.sqrt((E*E*(p*p)-H)/H):1;y===x&&($*=-1),isNaN($)&&($=0);var it=p?$*E*W/p:0,nt=E?$*-p*N/E:0,wt=(m+k)/2+Math.cos(w)*it-Math.sin(w)*nt,yt=(M+R)/2+Math.sin(w)*it+Math.cos(w)*nt,Lt=[(N-it)/E,(W-nt)/p],Mt=[(-1*N-it)/E,(-1*W-nt)/p],J=O([1,0],Lt),tt=O(Lt,Mt);return D(Lt,Mt)<=-1&&(tt=Math.PI),D(Lt,Mt)>=1&&(tt=0),x===0&&tt>0&&(tt=tt-2*Math.PI),x===1&&tt<0&&(tt=tt+2*Math.PI),{cx:wt,cy:yt,rx:b.isSamePoint(T,[k,R])?0:E,ry:b.isSamePoint(T,[k,R])?0:p,startAngle:J,endAngle:J+tt,xRotation:w,arcFlag:y,sweepFlag:x}}S.default=L},27836:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.addEndArrow=S.addStartArrow=S.getShortenOffset=void 0;var b=d(55654),P=d(63528),D=Math.sin,O=Math.cos,L=Math.atan2,T=Math.PI;function A(x,m,M,k,R,N,W){var Q=m.stroke,H=m.lineWidth,$=M-R,it=k-N,nt=L(it,$),wt=new P.Path({type:"path",canvas:x.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*O(T/6)+","+10*D(T/6)+" L0,0 L"+10*O(T/6)+",-"+10*D(T/6),stroke:Q,lineWidth:H}});wt.translate(R,N),wt.rotateAtPoint(R,N,nt),x.set(W?"startArrowShape":"endArrowShape",wt)}function E(x,m,M,k,R,N,W){var Q=m.startArrow,H=m.endArrow,$=m.stroke,it=m.lineWidth,nt=W?Q:H,wt=nt.d,yt=nt.fill,Lt=nt.stroke,Mt=nt.lineWidth,J=b.__rest(nt,["d","fill","stroke","lineWidth"]),tt=M-R,q=k-N,lt=L(q,tt);wt&&(R=R-O(lt)*wt,N=N-D(lt)*wt);var gt=new P.Path({type:"path",canvas:x.get("canvas"),isArrowShape:!0,attrs:b.__assign(b.__assign({},J),{stroke:Lt||$,lineWidth:Mt||it,fill:yt})});gt.translate(R,N),gt.rotateAtPoint(R,N,lt),x.set(W?"startArrowShape":"endArrowShape",gt)}function p(x,m,M,k,R){var N=L(k-m,M-x);return{dx:O(N)*R,dy:D(N)*R}}S.getShortenOffset=p;function w(x,m,M,k,R,N){typeof m.startArrow=="object"?E(x,m,M,k,R,N,!0):m.startArrow?A(x,m,M,k,R,N,!0):x.set("startArrowShape",null)}S.addStartArrow=w;function y(x,m,M,k,R,N){typeof m.endArrow=="object"?E(x,m,M,k,R,N,!1):m.endArrow?A(x,m,M,k,R,N,!1):x.set("startArrowShape",null)}S.addEndArrow=y},70530:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.mergeView=S.getMergedRegion=S.getRefreshRegion=S.refreshElement=S.drawPath=S.clearChanged=S.checkChildrenRefresh=S.checkRefresh=S.drawChildren=S.applyAttrsToContext=void 0;var b=d(49242),P=d(93377),D=d(44706),O=d(21927),L=d(27836),T={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function A(Q,H){var $=H.attr();for(var it in $){var nt=$[it],wt=T[it]?T[it]:it;wt==="matrix"&&nt?Q.transform(nt[0],nt[1],nt[3],nt[4],nt[6],nt[7]):wt==="lineDash"&&Q.setLineDash?b.isArray(nt)&&Q.setLineDash(nt):(wt==="strokeStyle"||wt==="fillStyle"?nt=P.parseStyle(Q,H,nt):wt==="globalAlpha"&&(nt=nt*Q.globalAlpha),Q[wt]=nt)}}S.applyAttrsToContext=A;function E(Q,H,$){for(var it=0;it<H.length;it++){var nt=H[it];nt.cfg.visible?nt.draw(Q,$):nt.skipDraw()}}S.drawChildren=E;function p(Q,H,$){var it=Q.get("refreshElements");b.each(it,function(nt){if(nt!==Q)for(var wt=nt.cfg.parent;wt&&wt!==Q&&!wt.cfg.refresh;)wt.cfg.refresh=!0,wt=wt.cfg.parent}),it[0]===Q?x(H,$):w(H,$)}S.checkRefresh=p;function w(Q,H){for(var $=0;$<Q.length;$++){var it=Q[$];if(it.cfg.visible)if(it.cfg.hasChanged)it.cfg.refresh=!0,it.isGroup()&&x(it.cfg.children,H);else if(it.cfg.refresh)it.isGroup()&&w(it.cfg.children,H);else{var nt=m(it,H);it.cfg.refresh=nt,nt&&it.isGroup()&&w(it.cfg.children,H)}}}S.checkChildrenRefresh=w;function y(Q){for(var H=0;H<Q.length;H++){var $=Q[H];$.cfg.hasChanged=!1,$.isGroup()&&!$.destroyed&&y($.cfg.children)}}S.clearChanged=y;function x(Q,H){for(var $=0;$<Q.length;$++){var it=Q[$];it.cfg.refresh=!0,it.isGroup()&&x(it.get("children"),H)}}function m(Q,H){var $=Q.cfg.cacheCanvasBBox,it=Q.cfg.isInView&&$&&O.intersectRect($,H);return it}function M(Q,H,$,it){var nt=$.path,wt=$.startArrow,yt=$.endArrow;if(!!nt){var Lt=[0,0],Mt=[0,0],J={dx:0,dy:0};H.beginPath();for(var tt=0;tt<nt.length;tt++){var q=nt[tt],lt=q[0];if(tt===0&&wt&&wt.d){var gt=Q.getStartTangent();J=L.getShortenOffset(gt[0][0],gt[0][1],gt[1][0],gt[1][1],wt.d)}else if(tt===nt.length-2&&nt[tt+1][0]==="Z"&&yt&&yt.d){var K=nt[tt+1];if(K[0]==="Z"){var gt=Q.getEndTangent();J=L.getShortenOffset(gt[0][0],gt[0][1],gt[1][0],gt[1][1],yt.d)}}else if(tt===nt.length-1&&yt&&yt.d&&nt[0]!=="Z"){var gt=Q.getEndTangent();J=L.getShortenOffset(gt[0][0],gt[0][1],gt[1][0],gt[1][1],yt.d)}var j=J.dx,Z=J.dy;switch(lt){case"M":H.moveTo(q[1]-j,q[2]-Z),Mt=[q[1],q[2]];break;case"L":H.lineTo(q[1]-j,q[2]-Z);break;case"Q":H.quadraticCurveTo(q[1],q[2],q[3]-j,q[4]-Z);break;case"C":H.bezierCurveTo(q[1],q[2],q[3],q[4],q[5]-j,q[6]-Z);break;case"A":{var f=void 0;it?(f=it[tt],f||(f=D.default(Lt,q),it[tt]=f)):f=D.default(Lt,q);var ut=f.cx,bt=f.cy,Rt=f.rx,Vt=f.ry,Ft=f.startAngle,Qt=f.endAngle,ae=f.xRotation,ue=f.sweepFlag;if(H.ellipse)H.ellipse(ut,bt,Rt,Vt,ae,Ft,Qt,1-ue);else{var Kt=Rt>Vt?Rt:Vt,Bt=Rt>Vt?1:Rt/Vt,Ct=Rt>Vt?Vt/Rt:1;H.translate(ut,bt),H.rotate(ae),H.scale(Bt,Ct),H.arc(0,0,Kt,Ft,Qt,1-ue),H.scale(1/Bt,1/Ct),H.rotate(-ae),H.translate(-ut,-bt)}break}case"Z":H.closePath();break;default:break}if(lt==="Z")Lt=Mt;else{var pt=q.length;Lt=[q[pt-2],q[pt-1]]}}}}S.drawPath=M;function k(Q,H){var $=Q.get("canvas");$&&(H==="remove"&&(Q._cacheCanvasBBox=Q.get("cacheCanvasBBox")),Q.get("hasChanged")||(Q.set("hasChanged",!0),Q.cfg.parent&&Q.cfg.parent.get("hasChanged")||($.refreshElement(Q,H,$),$.get("autoDraw")&&$.draw())))}S.refreshElement=k;function R(Q){var H;if(Q.destroyed)H=Q._cacheCanvasBBox;else{var $=Q.get("cacheCanvasBBox"),it=$&&!!($.width&&$.height),nt=Q.getCanvasBBox(),wt=nt&&!!(nt.width&&nt.height);it&&wt?H=O.mergeRegion($,nt):it?H=$:wt&&(H=nt)}return H}S.getRefreshRegion=R;function N(Q){if(!Q.length)return null;var H=[],$=[],it=[],nt=[];return b.each(Q,function(wt){var yt=R(wt);yt&&(H.push(yt.minX),$.push(yt.minY),it.push(yt.maxX),nt.push(yt.maxY))}),{minX:b.min(H),minY:b.min($),maxX:b.max(it),maxY:b.max(nt)}}S.getMergedRegion=N;function W(Q,H){return!Q||!H||!O.intersectRect(Q,H)?null:{minX:Math.max(Q.minX,H.minX),minY:Math.max(Q.minY,H.minY),maxX:Math.min(Q.maxX,H.maxX),maxY:Math.min(Q.maxY,H.maxY)}}S.mergeView=W},77096:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getShape=void 0;var b=d(74306);function P(T,A){if(A){var E=b.invert(A);return b.multiplyVec2(E,T)}return T}function D(T,A,E){var p=T.getTotalMatrix();if(p){var w=P([A,E,1],p),y=w[0],x=w[1];return[y,x]}return[A,E]}function O(T,A,E){if(T.isCanvas&&T.isCanvas())return!0;if(!b.isAllowCapture(T)||T.cfg.isInView===!1)return!1;if(T.cfg.clipShape){var p=D(T,A,E),w=p[0],y=p[1];if(T.isClipped(w,y))return!1}var x=T.cfg.cacheCanvasBBox||T.getCanvasBBox();return A>=x.minX&&A<=x.maxX&&E>=x.minY&&E<=x.maxY}function L(T,A,E){if(!O(T,A,E))return null;for(var p=null,w=T.getChildren(),y=w.length,x=y-1;x>=0;x--){var m=w[x];if(m.isGroup())p=L(m,A,E);else if(O(m,A,E)){var M=m,k=D(m,A,E),R=k[0],N=k[1];M.isInShape(R,N)&&(p=m)}if(p)break}return p}S.getShape=L},31977:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(74306);function P(D,O,L){var T=b.getOffScreenContext();return D.createPath(T),T.isPointInPath(O,L)}S.default=P},50970:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-6;function b(O){return Math.abs(O)<d?0:O<0?-1:1}function P(O,L,T){return(T[0]-O[0])*(L[1]-O[1])==(L[0]-O[0])*(T[1]-O[1])&&Math.min(O[0],L[0])<=T[0]&&T[0]<=Math.max(O[0],L[0])&&Math.min(O[1],L[1])<=T[1]&&T[1]<=Math.max(O[1],L[1])}function D(O,L,T){var A=!1,E=O.length;if(E<=2)return!1;for(var p=0;p<E;p++){var w=O[p],y=O[(p+1)%E];if(P(w,y,[L,T]))return!0;b(w[1]-T)>0!=b(y[1]-T)>0&&b(L-(T-w[1])*(w[0]-y[0])/(w[1]-y[1])-w[0])<0&&(A=!A)}return A}S.default=D},70122:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(21927);function P(D,O,L,T,A,E,p,w){var y=(Math.atan2(w-O,p-D)+Math.PI*2)%(Math.PI*2);if(y<T||y>A)return!1;var x={x:D+L*Math.cos(y),y:O+L*Math.sin(y)};return b.distance(x.x,x.y,p,w)<=E/2}S.default=P},63161:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(89838);function P(D,O,L,T,A,E,p){var w=Math.min(D,L),y=Math.max(D,L),x=Math.min(O,T),m=Math.max(O,T),M=A/2;return E>=w-M&&E<=y+M&&p>=x-M&&p<=m+M?b.Line.pointToLine(D,O,L,T,E,p)<=A/2:!1}S.default=P},39761:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(63161);function P(D,O,L,T,A){var E=D.length;if(E<2)return!1;for(var p=0;p<E-1;p++){var w=D[p][0],y=D[p][1],x=D[p+1][0],m=D[p+1][1];if(b.default(w,y,x,m,O,L,T))return!0}if(A){var M=D[0],k=D[E-1];if(b.default(M[0],M[1],k[0],k[1],O,L,T))return!0}return!1}S.default=P},46647:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(63161),P=d(70122);function D(O,L,T,A,E,p,w,y){var x=p/2;return b.default(O+E,L,O+T-E,L,p,w,y)||b.default(O+T,L+E,O+T,L+A-E,p,w,y)||b.default(O+T-E,L+A,O+E,L+A,p,w,y)||b.default(O,L+A-E,O,L+E,p,w,y)||P.default(O+T-E,L+E,E,1.5*Math.PI,2*Math.PI,p,w,y)||P.default(O+T-E,L+A-E,E,0,.5*Math.PI,p,w,y)||P.default(O+E,L+A-E,E,.5*Math.PI,Math.PI,p,w,y)||P.default(O+E,L+E,E,Math.PI,1.5*Math.PI,p,w,y)}S.default=D},21897:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(21927);function P(D,O,L,T,A,E,p){var w=A/2;return b.inBox(D-w,O-w,L,A,E,p)||b.inBox(D+L-w,O-w,A,T,E,p)||b.inBox(D+w,O+T-w,L,A,E,p)||b.inBox(D-w,O+w,A,T,E,p)}S.default=P},93377:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parseRadius=S.parseStyle=S.parsePattern=S.parseRadialGradient=S.parseLineGradient=void 0;var b=d(21927),P=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,D=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,O=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,L=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function T(x,m){var M=x.match(L);b.each(M,function(k){var R=k.split(":");m.addColorStop(R[0],R[1])})}function A(x,m,M){var k=P.exec(M),R=parseFloat(k[1])%360*(Math.PI/180),N=k[2],W=m.getBBox(),Q,H;R>=0&&R<1/2*Math.PI?(Q={x:W.minX,y:W.minY},H={x:W.maxX,y:W.maxY}):1/2*Math.PI<=R&&R<Math.PI?(Q={x:W.maxX,y:W.minY},H={x:W.minX,y:W.maxY}):Math.PI<=R&&R<3/2*Math.PI?(Q={x:W.maxX,y:W.maxY},H={x:W.minX,y:W.minY}):(Q={x:W.minX,y:W.maxY},H={x:W.maxX,y:W.minY});var $=Math.tan(R),it=$*$,nt=(H.x-Q.x+$*(H.y-Q.y))/(it+1)+Q.x,wt=$*(H.x-Q.x+$*(H.y-Q.y))/(it+1)+Q.y,yt=x.createLinearGradient(Q.x,Q.y,nt,wt);return T(N,yt),yt}S.parseLineGradient=A;function E(x,m,M){var k=D.exec(M),R=parseFloat(k[1]),N=parseFloat(k[2]),W=parseFloat(k[3]),Q=k[4];if(W===0){var H=Q.match(L);return H[H.length-1].split(":")[1]}var $=m.getBBox(),it=$.maxX-$.minX,nt=$.maxY-$.minY,wt=Math.sqrt(it*it+nt*nt)/2,yt=x.createRadialGradient($.minX+it*R,$.minY+nt*N,0,$.minX+it/2,$.minY+nt/2,W*wt);return T(Q,yt),yt}S.parseRadialGradient=E;function p(x,m,M){if(m.get("patternSource")&&m.get("patternSource")===M)return m.get("pattern");var k,R,N=O.exec(M),W=N[1],Q=N[2];function H(){k=x.createPattern(R,W),m.set("pattern",k),m.set("patternSource",M)}switch(W){case"a":W="repeat";break;case"x":W="repeat-x";break;case"y":W="repeat-y";break;case"n":W="no-repeat";break;default:W="no-repeat"}return R=new Image,Q.match(/^data:/i)||(R.crossOrigin="Anonymous"),R.src=Q,R.complete?H():(R.onload=H,R.src=R.src),k}S.parsePattern=p;function w(x,m,M){var k=m.getBBox();if(isNaN(k.x)||isNaN(k.y)||isNaN(k.width)||isNaN(k.height))return M;if(b.isString(M)){if(M[1]==="("||M[2]==="("){if(M[0]==="l")return A(x,m,M);if(M[0]==="r")return E(x,m,M);if(M[0]==="p")return p(x,m,M)}return M}if(M instanceof CanvasPattern)return M}S.parseStyle=w;function y(x){var m=0,M=0,k=0,R=0;return b.isArray(x)?x.length===1?m=M=k=R=x[0]:x.length===2?(m=k=x[0],M=R=x[1]):x.length===3?(m=x[0],M=R=x[1],k=x[2]):(m=x[0],M=x[1],k=x[2],R=x[3]):m=M=k=R=x,[m,M,k,R]}S.parseRadius=y},55531:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(55654),P=d(74306),D=d(89838),O=d(89838),L=d(77788),T=d(77160),A=d(21927),E=d(63161),p=d(70122),w=L.ext.transform;function y(M){for(var k=!1,R=M.length,N=0;N<R;N++){var W=M[N],Q=W[0];if(Q==="C"||Q==="A"||Q==="Q"){k=!0;break}}return k}function x(M,k,R,N,W){for(var Q=!1,H=k/2,$=0;$<M.length;$++){var it=M[$],nt=it.currentPoint,wt=it.params,yt=it.prePoint,Lt=it.box;if(!(Lt&&!A.inBox(Lt.x-H,Lt.y-H,Lt.width+k,Lt.height+k,R,N))){switch(it.command){case"L":case"Z":Q=E.default(yt[0],yt[1],nt[0],nt[1],k,R,N);break;case"Q":var Mt=D.Quad.pointDistance(yt[0],yt[1],wt[1],wt[2],wt[3],wt[4],R,N);Q=Mt<=k/2;break;case"C":var J=O.Cubic.pointDistance(yt[0],yt[1],wt[1],wt[2],wt[3],wt[4],wt[5],wt[6],R,N,W);Q=J<=k/2;break;case"A":var tt=it.arcParams,q=tt.cx,lt=tt.cy,gt=tt.rx,K=tt.ry,j=tt.startAngle,Z=tt.endAngle,f=tt.xRotation,ut=[R,N,1],bt=gt>K?gt:K,Rt=gt>K?1:gt/K,Vt=gt>K?K/gt:1,Ft=w(null,[["t",-q,-lt],["r",-f],["s",1/Rt,1/Vt]]);T.transformMat3(ut,ut,Ft),Q=p.default(0,0,bt,j,Z,k,ut[0],ut[1]);break;default:break}if(Q)break}}return Q}function m(M){for(var k=M.length,R=[],N=[],W=[],Q=0;Q<k;Q++){var H=M[Q],$=H[0];$==="M"?(W.length&&(N.push(W),W=[]),W.push([H[1],H[2]])):$==="Z"?W.length&&(R.push(W),W=[]):W.push([H[1],H[2]])}return W.length>0&&N.push(W),{polygons:R,polylines:N}}S.default=b.__assign({hasArc:y,extractPolygons:m,isPointInStroke:x},P.PathUtil)},21927:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.clearAnimationFrame=S.requestAnimationFrame=S.isNumberEqual=S.mod=S.toRadian=S.each=S.isArray=S.isFunction=S.isString=S.isNil=S.isSamePoint=S.mergeRegion=S.intersectRect=S.inBox=S.distance=S.getPixelRatio=void 0;function b(){return window?window.devicePixelRatio:1}S.getPixelRatio=b;function P(E,p,w,y){var x=E-w,m=p-y;return Math.sqrt(x*x+m*m)}S.distance=P;function D(E,p,w,y,x,m){return x>=E&&x<=E+w&&m>=p&&m<=p+y}S.inBox=D;function O(E,p){return!(p.minX>E.maxX||p.maxX<E.minX||p.minY>E.maxY||p.maxY<E.minY)}S.intersectRect=O;function L(E,p){return!E||!p?E||p:{minX:Math.min(E.minX,p.minX),minY:Math.min(E.minY,p.minY),maxX:Math.max(E.maxX,p.maxX),maxY:Math.max(E.maxY,p.maxY)}}S.mergeRegion=L;function T(E,p){return E[0]===p[0]&&E[1]===p[1]}S.isSamePoint=T;var A=d(49242);Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return A.isNil}}),Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return A.isString}}),Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return A.isFunction}}),Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return A.isArray}}),Object.defineProperty(S,"each",{enumerable:!0,get:function(){return A.each}}),Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return A.toRadian}}),Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return A.mod}}),Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return A.isNumberEqual}}),Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return A.requestAnimationFrame}}),Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return A.clearAnimationFrame}})},77788:function(dt,S,d){"use strict";d.r(S),d.d(S,{ext:function(){return b},mat3:function(){return P},vec2:function(){return D},vec3:function(){return O}});var b={};d.r(b),d.d(b,{angleTo:function(){return y},direction:function(){return w},leftRotate:function(){return T},leftScale:function(){return A},leftTranslate:function(){return L},transform:function(){return p},vertical:function(){return x}});var P=d(35600),D=d(31437),O=d(77160);function L(m,M,k){var R=[0,0,0,0,0,0,0,0,0];return P.fromTranslation(R,k),P.multiply(m,R,M)}function T(m,M,k){var R=[0,0,0,0,0,0,0,0,0];return P.fromRotation(R,k),P.multiply(m,R,M)}function A(m,M,k){var R=[0,0,0,0,0,0,0,0,0];return P.fromScaling(R,k),P.multiply(m,R,M)}function E(m,M,k){return P.multiply(m,k,M)}function p(m,M){for(var k=m?[].concat(m):[1,0,0,0,1,0,0,0,1],R=0,N=M.length;R<N;R++){var W=M[R];switch(W[0]){case"t":L(k,k,[W[1],W[2]]);break;case"s":A(k,k,[W[1],W[2]]);break;case"r":T(k,k,W[1]);break;case"m":E(k,k,W[1]);break;default:break}}return k}function w(m,M){return m[0]*M[1]-M[0]*m[1]}function y(m,M,k){var R=D.angle(m,M),N=w(m,M)>=0;return k?N?Math.PI*2-R:R:N?R:Math.PI*2-R}function x(m,M,k){return k?(m[0]=M[1],m[1]=-1*M[0]):(m[0]=-1*M[1],m[1]=M[0]),m}},55654:function(dt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return P},__assign:function(){return D},__rest:function(){return O},__decorate:function(){return L},__param:function(){return T},__metadata:function(){return A},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return y},__values:function(){return x},__read:function(){return m},__spread:function(){return M},__spreadArrays:function(){return k},__spreadArray:function(){return R},__await:function(){return N},__asyncGenerator:function(){return W},__asyncDelegator:function(){return Q},__asyncValues:function(){return H},__makeTemplateObject:function(){return $},__importStar:function(){return nt},__importDefault:function(){return wt},__classPrivateFieldGet:function(){return yt},__classPrivateFieldSet:function(){return Lt},__classPrivateFieldIn:function(){return Mt}});var b=function(J,tt){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,lt){q.__proto__=lt}||function(q,lt){for(var gt in lt)Object.prototype.hasOwnProperty.call(lt,gt)&&(q[gt]=lt[gt])},b(J,tt)};function P(J,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Class extends value "+String(tt)+" is not a constructor or null");b(J,tt);function q(){this.constructor=J}J.prototype=tt===null?Object.create(tt):(q.prototype=tt.prototype,new q)}var D=function(){return D=Object.assign||function(tt){for(var q,lt=1,gt=arguments.length;lt<gt;lt++){q=arguments[lt];for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&(tt[K]=q[K])}return tt},D.apply(this,arguments)};function O(J,tt){var q={};for(var lt in J)Object.prototype.hasOwnProperty.call(J,lt)&&tt.indexOf(lt)<0&&(q[lt]=J[lt]);if(J!=null&&typeof Object.getOwnPropertySymbols=="function")for(var gt=0,lt=Object.getOwnPropertySymbols(J);gt<lt.length;gt++)tt.indexOf(lt[gt])<0&&Object.prototype.propertyIsEnumerable.call(J,lt[gt])&&(q[lt[gt]]=J[lt[gt]]);return q}function L(J,tt,q,lt){var gt=arguments.length,K=gt<3?tt:lt===null?lt=Object.getOwnPropertyDescriptor(tt,q):lt,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(J,tt,q,lt);else for(var Z=J.length-1;Z>=0;Z--)(j=J[Z])&&(K=(gt<3?j(K):gt>3?j(tt,q,K):j(tt,q))||K);return gt>3&&K&&Object.defineProperty(tt,q,K),K}function T(J,tt){return function(q,lt){tt(q,lt,J)}}function A(J,tt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(J,tt)}function E(J,tt,q,lt){function gt(K){return K instanceof q?K:new q(function(j){j(K)})}return new(q||(q=Promise))(function(K,j){function Z(bt){try{ut(lt.next(bt))}catch(Rt){j(Rt)}}function f(bt){try{ut(lt.throw(bt))}catch(Rt){j(Rt)}}function ut(bt){bt.done?K(bt.value):gt(bt.value).then(Z,f)}ut((lt=lt.apply(J,tt||[])).next())})}function p(J,tt){var q={label:0,sent:function(){if(K[0]&1)throw K[1];return K[1]},trys:[],ops:[]},lt,gt,K,j;return j={next:Z(0),throw:Z(1),return:Z(2)},typeof Symbol=="function"&&(j[Symbol.iterator]=function(){return this}),j;function Z(ut){return function(bt){return f([ut,bt])}}function f(ut){if(lt)throw new TypeError("Generator is already executing.");for(;j&&(j=0,ut[0]&&(q=0)),q;)try{if(lt=1,gt&&(K=ut[0]&2?gt.return:ut[0]?gt.throw||((K=gt.return)&&K.call(gt),0):gt.next)&&!(K=K.call(gt,ut[1])).done)return K;switch(gt=0,K&&(ut=[ut[0]&2,K.value]),ut[0]){case 0:case 1:K=ut;break;case 4:return q.label++,{value:ut[1],done:!1};case 5:q.label++,gt=ut[1],ut=[0];continue;case 7:ut=q.ops.pop(),q.trys.pop();continue;default:if(K=q.trys,!(K=K.length>0&&K[K.length-1])&&(ut[0]===6||ut[0]===2)){q=0;continue}if(ut[0]===3&&(!K||ut[1]>K[0]&&ut[1]<K[3])){q.label=ut[1];break}if(ut[0]===6&&q.label<K[1]){q.label=K[1],K=ut;break}if(K&&q.label<K[2]){q.label=K[2],q.ops.push(ut);break}K[2]&&q.ops.pop(),q.trys.pop();continue}ut=tt.call(J,q)}catch(bt){ut=[6,bt],gt=0}finally{lt=K=0}if(ut[0]&5)throw ut[1];return{value:ut[0]?ut[1]:void 0,done:!0}}}var w=Object.create?function(J,tt,q,lt){lt===void 0&&(lt=q);var gt=Object.getOwnPropertyDescriptor(tt,q);(!gt||("get"in gt?!tt.__esModule:gt.writable||gt.configurable))&&(gt={enumerable:!0,get:function(){return tt[q]}}),Object.defineProperty(J,lt,gt)}:function(J,tt,q,lt){lt===void 0&&(lt=q),J[lt]=tt[q]};function y(J,tt){for(var q in J)q!=="default"&&!Object.prototype.hasOwnProperty.call(tt,q)&&w(tt,J,q)}function x(J){var tt=typeof Symbol=="function"&&Symbol.iterator,q=tt&&J[tt],lt=0;if(q)return q.call(J);if(J&&typeof J.length=="number")return{next:function(){return J&&lt>=J.length&&(J=void 0),{value:J&&J[lt++],done:!J}}};throw new TypeError(tt?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(J,tt){var q=typeof Symbol=="function"&&J[Symbol.iterator];if(!q)return J;var lt=q.call(J),gt,K=[],j;try{for(;(tt===void 0||tt-- >0)&&!(gt=lt.next()).done;)K.push(gt.value)}catch(Z){j={error:Z}}finally{try{gt&&!gt.done&&(q=lt.return)&&q.call(lt)}finally{if(j)throw j.error}}return K}function M(){for(var J=[],tt=0;tt<arguments.length;tt++)J=J.concat(m(arguments[tt]));return J}function k(){for(var J=0,tt=0,q=arguments.length;tt<q;tt++)J+=arguments[tt].length;for(var lt=Array(J),gt=0,tt=0;tt<q;tt++)for(var K=arguments[tt],j=0,Z=K.length;j<Z;j++,gt++)lt[gt]=K[j];return lt}function R(J,tt,q){if(q||arguments.length===2)for(var lt=0,gt=tt.length,K;lt<gt;lt++)(K||!(lt in tt))&&(K||(K=Array.prototype.slice.call(tt,0,lt)),K[lt]=tt[lt]);return J.concat(K||Array.prototype.slice.call(tt))}function N(J){return this instanceof N?(this.v=J,this):new N(J)}function W(J,tt,q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var lt=q.apply(J,tt||[]),gt,K=[];return gt={},j("next"),j("throw"),j("return"),gt[Symbol.asyncIterator]=function(){return this},gt;function j(Vt){lt[Vt]&&(gt[Vt]=function(Ft){return new Promise(function(Qt,ae){K.push([Vt,Ft,Qt,ae])>1||Z(Vt,Ft)})})}function Z(Vt,Ft){try{f(lt[Vt](Ft))}catch(Qt){Rt(K[0][3],Qt)}}function f(Vt){Vt.value instanceof N?Promise.resolve(Vt.value.v).then(ut,bt):Rt(K[0][2],Vt)}function ut(Vt){Z("next",Vt)}function bt(Vt){Z("throw",Vt)}function Rt(Vt,Ft){Vt(Ft),K.shift(),K.length&&Z(K[0][0],K[0][1])}}function Q(J){var tt,q;return tt={},lt("next"),lt("throw",function(gt){throw gt}),lt("return"),tt[Symbol.iterator]=function(){return this},tt;function lt(gt,K){tt[gt]=J[gt]?function(j){return(q=!q)?{value:N(J[gt](j)),done:gt==="return"}:K?K(j):j}:K}}function H(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt=J[Symbol.asyncIterator],q;return tt?tt.call(J):(J=typeof x=="function"?x(J):J[Symbol.iterator](),q={},lt("next"),lt("throw"),lt("return"),q[Symbol.asyncIterator]=function(){return this},q);function lt(K){q[K]=J[K]&&function(j){return new Promise(function(Z,f){j=J[K](j),gt(Z,f,j.done,j.value)})}}function gt(K,j,Z,f){Promise.resolve(f).then(function(ut){K({value:ut,done:Z})},j)}}function $(J,tt){return Object.defineProperty?Object.defineProperty(J,"raw",{value:tt}):J.raw=tt,J}var it=Object.create?function(J,tt){Object.defineProperty(J,"default",{enumerable:!0,value:tt})}:function(J,tt){J.default=tt};function nt(J){if(J&&J.__esModule)return J;var tt={};if(J!=null)for(var q in J)q!=="default"&&Object.prototype.hasOwnProperty.call(J,q)&&w(tt,J,q);return it(tt,J),tt}function wt(J){return J&&J.__esModule?J:{default:J}}function yt(J,tt,q,lt){if(q==="a"&&!lt)throw new TypeError("Private accessor was defined without a getter");if(typeof tt=="function"?J!==tt||!lt:!tt.has(J))throw new TypeError("Cannot read private member from an object whose class did not declare it");return q==="m"?lt:q==="a"?lt.call(J):lt?lt.value:tt.get(J)}function Lt(J,tt,q,lt,gt){if(lt==="m")throw new TypeError("Private method is not writable");if(lt==="a"&&!gt)throw new TypeError("Private accessor was defined without a setter");if(typeof tt=="function"?J!==tt||!gt:!tt.has(J))throw new TypeError("Cannot write private member to an object whose class did not declare it");return lt==="a"?gt.call(J,q):gt?gt.value=q:tt.set(J,q),q}function Mt(J,tt){if(tt===null||typeof tt!="object"&&typeof tt!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof J=="function"?tt===J:J.has(tt)}},70673:function(dt,S,d){"use strict";var b;b={value:!0};var P=d(47862),D=d(74306),O=d(65712),L=d(98820),T=d(50063),A=d(87596),E=d(4206),p=d(11694),w=d(21318),y=function(x){P.__extends(m,x);function m(M){return x.call(this,P.__assign(P.__assign({},M),{autoDraw:!0,renderer:"svg"}))||this}return m.prototype.getShapeBase=function(){return E},m.prototype.getGroupBase=function(){return p.default},m.prototype.getShape=function(M,k,R){var N=R.target||R.srcElement;if(!O.SHAPE_TO_TAGS[N.tagName]){for(var W=N.parentNode;W&&!O.SHAPE_TO_TAGS[W.tagName];)W=W.parentNode;N=W}return this.find(function(Q){return Q.get("el")===N})},m.prototype.createDom=function(){var M=A.createSVGElement("svg"),k=new w.default(M);return M.setAttribute("width",""+this.get("width")),M.setAttribute("height",""+this.get("height")),this.set("context",k),M},m.prototype.onCanvasChange=function(M){var k=this.get("context"),R=this.get("el");if(M==="sort"){var N=this.get("children");N&&N.length&&A.sortDom(this,function(Q,H){return N.indexOf(Q)-N.indexOf(H)?1:0})}else if(M==="clear"){if(R){R.innerHTML="";var W=k.el;W.innerHTML="",R.appendChild(W)}}else M==="matrix"?T.setTransform(this):M==="clip"?T.setClip(this,k):M==="changeSize"&&(R.setAttribute("width",""+this.get("width")),R.setAttribute("height",""+this.get("height")))},m.prototype.draw=function(){var M=this.get("context"),k=this.getChildren();T.setClip(this,M),k.length&&L.drawChildren(M,k)},m}(D.AbstractCanvas);S.Z=y},65712:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.EVENTS=S.SVG_ATTR_MAP=S.SHAPE_TO_TAGS=void 0,S.SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},S.SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},S.EVENTS=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},9353:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),P=d(87596),D=function(){function O(L,T){this.cfg={};var A=P.createSVGElement("marker"),E=b.uniqueId("marker_");A.setAttribute("id",E);var p=P.createSVGElement("path");p.setAttribute("stroke",L.stroke||"none"),p.setAttribute("fill",L.fill||"none"),A.appendChild(p),A.setAttribute("overflow","visible"),A.setAttribute("orient","auto-start-reverse"),this.el=A,this.child=p,this.id=E;var w=L[T==="marker-start"?"startArrow":"endArrow"];return this.stroke=L.stroke||"#000",w===!0?this._setDefaultPath(T,p):(this.cfg=w,this._setMarker(L.lineWidth,p)),this}return O.prototype.match=function(){return!1},O.prototype._setDefaultPath=function(L,T){var A=this.el;T.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),A.setAttribute("refX",""+10*Math.cos(Math.PI/6)),A.setAttribute("refY",""+5)},O.prototype._setMarker=function(L,T){var A=this.el,E=this.cfg.path,p=this.cfg.d;b.isArray(E)&&(E=E.map(function(w){return w.join(" ")}).join("")),T.setAttribute("d",E),A.appendChild(T),p&&A.setAttribute("refX",""+p/L)},O.prototype.update=function(L){var T=this.child;T.attr?T.attr("fill",L):T.setAttribute("fill",L)},O}();S.default=D},67926:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),P=d(87596),D=function(){function O(L){this.type="clip",this.cfg={};var T=P.createSVGElement("clipPath");this.el=T,this.id=b.uniqueId("clip_"),T.id=this.id;var A=L.cfg.el;return T.appendChild(A),this.cfg=L,this}return O.prototype.match=function(){return!1},O.prototype.remove=function(){var L=this.el;L.parentNode.removeChild(L)},O}();S.default=D},10052:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),P=d(87596),D=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,O=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,L=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function T(w){var y=w.match(L);if(!y)return"";var x="";return y.sort(function(m,M){return m=m.split(":"),M=M.split(":"),Number(m[0])-Number(M[0])}),b.each(y,function(m){m=m.split(":"),x+='<stop offset="'+m[0]+'" stop-color="'+m[1]+'"></stop>'}),x}function A(w,y){var x=D.exec(w),m=b.mod(b.toRadian(parseFloat(x[1])),Math.PI*2),M=x[2],k,R;m>=0&&m<.5*Math.PI?(k={x:0,y:0},R={x:1,y:1}):.5*Math.PI<=m&&m<Math.PI?(k={x:1,y:0},R={x:0,y:1}):Math.PI<=m&&m<1.5*Math.PI?(k={x:1,y:1},R={x:0,y:0}):(k={x:0,y:1},R={x:1,y:0});var N=Math.tan(m),W=N*N,Q=(R.x-k.x+N*(R.y-k.y))/(W+1)+k.x,H=N*(R.x-k.x+N*(R.y-k.y))/(W+1)+k.y;y.setAttribute("x1",k.x),y.setAttribute("y1",k.y),y.setAttribute("x2",Q),y.setAttribute("y2",H),y.innerHTML=T(M)}function E(w,y){var x=O.exec(w),m=parseFloat(x[1]),M=parseFloat(x[2]),k=parseFloat(x[3]),R=x[4];y.setAttribute("cx",m),y.setAttribute("cy",M),y.setAttribute("r",k),y.innerHTML=T(R)}var p=function(){function w(y){this.cfg={};var x=null,m=b.uniqueId("gradient_");return y.toLowerCase()[0]==="l"?(x=P.createSVGElement("linearGradient"),A(y,x)):(x=P.createSVGElement("radialGradient"),E(y,x)),x.setAttribute("id",m),this.el=x,this.id=m,this.cfg=y,this}return w.prototype.match=function(y,x){return this.cfg===x},w}();S.default=p},21318:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),P=d(10052),D=d(96526),O=d(9353),L=d(67926),T=d(10011),A=d(87596),E=function(){function p(w){var y=A.createSVGElement("defs"),x=b.uniqueId("defs_");y.id=x,w.appendChild(y),this.children=[],this.defaultArrow={},this.el=y,this.canvas=w}return p.prototype.find=function(w,y){for(var x=this.children,m=null,M=0;M<x.length;M++)if(x[M].match(w,y)){m=x[M].id;break}return m},p.prototype.findById=function(w){for(var y=this.children,x=null,m=0;m<y.length;m++)if(y[m].id===w){x=y[m];break}return x},p.prototype.add=function(w){this.children.push(w),w.canvas=this.canvas,w.parent=this},p.prototype.getDefaultArrow=function(w,y){var x=w.stroke||w.strokeStyle;if(this.defaultArrow[x])return this.defaultArrow[x].id;var m=new O.default(w,y);return this.defaultArrow[x]=m,this.el.appendChild(m.el),this.add(m),m.id},p.prototype.addGradient=function(w){var y=new P.default(w);return this.el.appendChild(y.el),this.add(y),y.id},p.prototype.addArrow=function(w,y){var x=new O.default(w,y);return this.el.appendChild(x.el),this.add(x),x.id},p.prototype.addShadow=function(w){var y=new D.default(w);return this.el.appendChild(y.el),this.add(y),y.id},p.prototype.addPattern=function(w){var y=new T.default(w);return this.el.appendChild(y.el),this.add(y),y.id},p.prototype.addClip=function(w){var y=new L.default(w);return this.el.appendChild(y.el),this.add(y),y.id},p}();S.default=E},10011:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),P=d(87596),D=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,O=function(){function L(T){this.cfg={};var A=P.createSVGElement("pattern");A.setAttribute("patternUnits","userSpaceOnUse");var E=P.createSVGElement("image");A.appendChild(E);var p=b.uniqueId("pattern_");A.id=p,this.el=A,this.id=p,this.cfg=T;var w=D.exec(T),y=w[2];E.setAttribute("href",y);var x=new Image;y.match(/^data:/i)||(x.crossOrigin="Anonymous"),x.src=y;function m(){A.setAttribute("width",""+x.width),A.setAttribute("height",""+x.height)}return x.complete?m():(x.onload=m,x.src=x.src),this}return L.prototype.match=function(T,A){return this.cfg===A},L}();S.default=O},96526:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),P=d(87596),D={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},O={x:"-40%",y:"-40%",width:"200%",height:"200%"},L=function(){function T(A){this.type="filter",this.cfg={},this.type="filter";var E=P.createSVGElement("filter");return b.each(O,function(p,w){E.setAttribute(w,p)}),this.el=E,this.id=b.uniqueId("filter_"),this.el.id=this.id,this.cfg=A,this._parseShadow(A,E),this}return T.prototype.match=function(A,E){if(this.type!==A)return!1;var p=!0,w=this.cfg;return b.each(Object.keys(w),function(y){if(w[y]!==E[y])return p=!1,!1}),p},T.prototype.update=function(A,E){var p=this.cfg;return p[D[A]]=E,this._parseShadow(p,this.el),this},T.prototype._parseShadow=function(A,E){var p=`<feDropShadow
      dx="`+(A.dx||0)+`"
      dy="`+(A.dy||0)+`"
      stdDeviation="`+(A.blur?A.blur/10:0)+`"
      flood-color="`+(A.color?A.color:"#000")+`"
      flood-opacity="`+(A.opacity?A.opacity:1)+`"
      />`;E.innerHTML=p},T}();S.default=L},11694:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(47862),P=d(74306),D=d(49242),O=d(4206),L=d(98820),T=d(50063),A=d(65712),E=d(87596),p=function(w){b.__extends(y,w);function y(){return w!==null&&w.apply(this,arguments)||this}return y.prototype.isEntityGroup=function(){return!0},y.prototype.createDom=function(){var x=E.createSVGElement("g");this.set("el",x);var m=this.getParent();if(m){var M=m.get("el");M||(M=m.createDom(),m.set("el",M)),M.appendChild(x)}return x},y.prototype.afterAttrsChange=function(x){w.prototype.afterAttrsChange.call(this,x);var m=this.get("canvas");if(m&&m.get("autoDraw")){var M=m.get("context");this.createPath(M,x)}},y.prototype.onCanvasChange=function(x){L.refreshElement(this,x)},y.prototype.getShapeBase=function(){return O},y.prototype.getGroupBase=function(){return y},y.prototype.draw=function(x){var m=this.getChildren(),M=this.get("el");this.get("destroyed")?M&&M.parentNode.removeChild(M):(M||this.createDom(),T.setClip(this,x),this.createPath(x),m.length&&L.drawChildren(x,m))},y.prototype.createPath=function(x,m){var M=this.attr(),k=this.get("el");D.each(m||M,function(R,N){A.SVG_ATTR_MAP[N]&&k.setAttribute(A.SVG_ATTR_MAP[N],R)}),T.setTransform(this)},y}(P.AbstractGroup);S.default=p},4050:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(47862),P=d(74306),D=d(50063),O=d(87596),L=d(98820),T=d(65712),A=d(4206),E=d(11694),p=d(74306),w=function(y){b.__extends(x,y);function x(){var m=y!==null&&y.apply(this,arguments)||this;return m.type="svg",m.canFill=!1,m.canStroke=!1,m}return x.prototype.getDefaultAttrs=function(){var m=y.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},m),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},x.prototype.afterAttrsChange=function(m){y.prototype.afterAttrsChange.call(this,m);var M=this.get("canvas");if(M&&M.get("autoDraw")){var k=M.get("context");this.draw(k,m)}},x.prototype.getShapeBase=function(){return A},x.prototype.getGroupBase=function(){return E.default},x.prototype.onCanvasChange=function(m){L.refreshElement(this,m)},x.prototype.calculateBBox=function(){var m=this.get("el"),M=null;if(m)M=m.getBBox();else{var k=p.getBBoxMethod(this.get("type"));k&&(M=k(this))}if(M){var R=M.x,N=M.y,W=M.width,Q=M.height,H=this.getHitLineWidth(),$=H/2,it=R-$,nt=N-$,wt=R+W+$,yt=N+Q+$;return{x:it,y:nt,minX:it,minY:nt,maxX:wt,maxY:yt,width:W+H,height:Q+H}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},x.prototype.isFill=function(){var m=this.attr(),M=m.fill,k=m.fillStyle;return(M||k||this.isClipShape())&&this.canFill},x.prototype.isStroke=function(){var m=this.attr(),M=m.stroke,k=m.strokeStyle;return(M||k)&&this.canStroke},x.prototype.draw=function(m,M){var k=this.get("el");this.get("destroyed")?k&&k.parentNode.removeChild(k):(k||O.createDom(this),D.setClip(this,m),this.createPath(m,M),this.shadow(m,M),this.strokeAndFill(m,M),this.transform(M))},x.prototype.createPath=function(m,M){},x.prototype.strokeAndFill=function(m,M){var k=M||this.attr(),R=k.fill,N=k.fillStyle,W=k.stroke,Q=k.strokeStyle,H=k.fillOpacity,$=k.strokeOpacity,it=k.lineWidth,nt=this.get("el");this.canFill&&(M?"fill"in k?this._setColor(m,"fill",R):"fillStyle"in k&&this._setColor(m,"fill",N):this._setColor(m,"fill",R||N),H&&nt.setAttribute(T.SVG_ATTR_MAP.fillOpacity,H)),this.canStroke&&it>0&&(M?"stroke"in k?this._setColor(m,"stroke",W):"strokeStyle"in k&&this._setColor(m,"stroke",Q):this._setColor(m,"stroke",W||Q),$&&nt.setAttribute(T.SVG_ATTR_MAP.strokeOpacity,$),it&&nt.setAttribute(T.SVG_ATTR_MAP.lineWidth,it))},x.prototype._setColor=function(m,M,k){var R=this.get("el");if(!k){R.setAttribute(T.SVG_ATTR_MAP[M],"none");return}if(k=k.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(k)){var N=m.find("gradient",k);N||(N=m.addGradient(k)),R.setAttribute(T.SVG_ATTR_MAP[M],"url(#"+N+")")}else if(/^[p,P]{1}[\s]*\(/.test(k)){var N=m.find("pattern",k);N||(N=m.addPattern(k)),R.setAttribute(T.SVG_ATTR_MAP[M],"url(#"+N+")")}else R.setAttribute(T.SVG_ATTR_MAP[M],k)},x.prototype.shadow=function(m,M){var k=this.attr(),R=M||k,N=R.shadowOffsetX,W=R.shadowOffsetY,Q=R.shadowBlur,H=R.shadowColor;(N||W||Q||H)&&D.setShadow(this,m)},x.prototype.transform=function(m){var M=this.attr(),k=(m||M).matrix;k&&D.setTransform(this)},x.prototype.isInShape=function(m,M){return this.isPointInPath(m,M)},x.prototype.isPointInPath=function(m,M){var k=this.get("el"),R=this.get("canvas"),N=R.get("el").getBoundingClientRect(),W=m+N.left,Q=M+N.top,H=document.elementFromPoint(W,Q);return!!(H&&H.isEqualNode(k))},x.prototype.getHitLineWidth=function(){var m=this.attrs,M=m.lineWidth,k=m.lineAppendWidth;return this.isStroke()?M+k:0},x}(P.AbstractShape);S.default=w},14661:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(47862),P=d(49242),D=d(65712),O=d(4050),L=function(T){b.__extends(A,T);function A(){var E=T!==null&&T.apply(this,arguments)||this;return E.type="circle",E.canFill=!0,E.canStroke=!0,E}return A.prototype.getDefaultAttrs=function(){var E=T.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},E),{x:0,y:0,r:0})},A.prototype.createPath=function(E,p){var w=this.attr(),y=this.get("el");P.each(p||w,function(x,m){m==="x"||m==="y"?y.setAttribute("c"+m,x):D.SVG_ATTR_MAP[m]&&y.setAttribute(D.SVG_ATTR_MAP[m],x)})},A}(O.default);S.default=L},55504:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(47862),P=d(49242),D=d(65712),O=d(4050),L=function(T){b.__extends(A,T);function A(){var E=T!==null&&T.apply(this,arguments)||this;return E.type="dom",E.canFill=!1,E.canStroke=!1,E}return A.prototype.createPath=function(E,p){var w=this.attr(),y=this.get("el");if(P.each(p||w,function(k,R){D.SVG_ATTR_MAP[R]&&y.setAttribute(D.SVG_ATTR_MAP[R],k)}),typeof w.html=="function"){var x=w.html.call(this,w);if(x instanceof Element||x instanceof HTMLDocument){for(var m=y.childNodes,M=m.length-1;M>=0;M--)y.removeChild(m[M]);y.appendChild(x)}else y.innerHTML=x}else y.innerHTML=w.html},A}(O.default);S.default=L},92502:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(47862),P=d(49242),D=d(65712),O=d(4050),L=function(T){b.__extends(A,T);function A(){var E=T!==null&&T.apply(this,arguments)||this;return E.type="ellipse",E.canFill=!0,E.canStroke=!0,E}return A.prototype.getDefaultAttrs=function(){var E=T.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},E),{x:0,y:0,rx:0,ry:0})},A.prototype.createPath=function(E,p){var w=this.attr(),y=this.get("el");P.each(p||w,function(x,m){m==="x"||m==="y"?y.setAttribute("c"+m,x):D.SVG_ATTR_MAP[m]&&y.setAttribute(D.SVG_ATTR_MAP[m],x)})},A}(O.default);S.default=L},74729:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(47862),P=d(49242),D=d(65712),O=d(4050),L=function(T){b.__extends(A,T);function A(){var E=T!==null&&T.apply(this,arguments)||this;return E.type="image",E.canFill=!1,E.canStroke=!1,E}return A.prototype.getDefaultAttrs=function(){var E=T.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},E),{x:0,y:0,width:0,height:0})},A.prototype.createPath=function(E,p){var w=this,y=this.attr(),x=this.get("el");P.each(p||y,function(m,M){M==="img"?w._setImage(y.img):D.SVG_ATTR_MAP[M]&&x.setAttribute(D.SVG_ATTR_MAP[M],m)})},A.prototype.setAttr=function(E,p){this.attrs[E]=p,E==="img"&&this._setImage(p)},A.prototype._setImage=function(E){var p=this.attr(),w=this.get("el");if(P.isString(E))w.setAttribute("href",E);else if(E instanceof window.Image)p.width||(w.setAttribute("width",E.width),this.attr("width",E.width)),p.height||(w.setAttribute("height",E.height),this.attr("height",E.height)),w.setAttribute("href",E.src);else if(E instanceof HTMLElement&&P.isString(E.nodeName)&&E.nodeName.toUpperCase()==="CANVAS")w.setAttribute("href",E.toDataURL());else if(E instanceof ImageData){var y=document.createElement("canvas");y.setAttribute("width",""+E.width),y.setAttribute("height",""+E.height),y.getContext("2d").putImageData(E,0,0),p.width||(w.setAttribute("width",""+E.width),this.attr("width",E.width)),p.height||(w.setAttribute("height",""+E.height),this.attr("height",E.height)),w.setAttribute("href",y.toDataURL())}},A}(O.default);S.default=L},4206:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(4050);Object.defineProperty(S,"Base",{enumerable:!0,get:function(){return b.default}});var P=d(14661);Object.defineProperty(S,"Circle",{enumerable:!0,get:function(){return P.default}});var D=d(55504);Object.defineProperty(S,"Dom",{enumerable:!0,get:function(){return D.default}});var O=d(92502);Object.defineProperty(S,"Ellipse",{enumerable:!0,get:function(){return O.default}});var L=d(74729);Object.defineProperty(S,"Image",{enumerable:!0,get:function(){return L.default}});var T=d(34870);Object.defineProperty(S,"Line",{enumerable:!0,get:function(){return T.default}});var A=d(59408);Object.defineProperty(S,"Marker",{enumerable:!0,get:function(){return A.default}});var E=d(51076);Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return E.default}});var p=d(36361);Object.defineProperty(S,"Polygon",{enumerable:!0,get:function(){return p.default}});var w=d(46406);Object.defineProperty(S,"Polyline",{enumerable:!0,get:function(){return w.default}});var y=d(71320);Object.defineProperty(S,"Rect",{enumerable:!0,get:function(){return y.default}});var x=d(35726);Object.defineProperty(S,"Text",{enumerable:!0,get:function(){return x.default}})},34870:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(47862),P=d(89838),D=d(49242),O=d(65712),L=d(4050),T=function(A){b.__extends(E,A);function E(){var p=A!==null&&A.apply(this,arguments)||this;return p.type="line",p.canFill=!1,p.canStroke=!0,p}return E.prototype.getDefaultAttrs=function(){var p=A.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},E.prototype.createPath=function(p,w){var y=this.attr(),x=this.get("el");D.each(w||y,function(m,M){if(M==="startArrow"||M==="endArrow")if(m){var k=D.isObject(m)?p.addArrow(y,O.SVG_ATTR_MAP[M]):p.getDefaultArrow(y,O.SVG_ATTR_MAP[M]);x.setAttribute(O.SVG_ATTR_MAP[M],"url(#"+k+")")}else x.removeAttribute(O.SVG_ATTR_MAP[M]);else O.SVG_ATTR_MAP[M]&&x.setAttribute(O.SVG_ATTR_MAP[M],m)})},E.prototype.getTotalLength=function(){var p=this.attr(),w=p.x1,y=p.y1,x=p.x2,m=p.y2;return P.Line.length(w,y,x,m)},E.prototype.getPoint=function(p){var w=this.attr(),y=w.x1,x=w.y1,m=w.x2,M=w.y2;return P.Line.pointAt(y,x,m,M,p)},E}(L.default);S.default=T},59408:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(47862),P=d(49242),D=d(4050),O=d(22505),L=function(T){b.__extends(A,T);function A(){var E=T!==null&&T.apply(this,arguments)||this;return E.type="marker",E.canFill=!0,E.canStroke=!0,E}return A.prototype.createPath=function(E){var p=this.get("el");p.setAttribute("d",this._assembleMarker())},A.prototype._assembleMarker=function(){var E=this._getPath();return P.isArray(E)?E.map(function(p){return p.join(" ")}).join(""):E},A.prototype._getPath=function(){var E=this.attr(),p=E.x,w=E.y,y=E.r||E.radius,x=E.symbol||"circle",m;return P.isFunction(x)?m=x:m=O.default.get(x),m?m(p,w,y):(console.warn(m+" symbol is not exist."),null)},A.symbolsFactory=O.default,A}(D.default);S.default=L},22505:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={circle:function(b,P,D){return[["M",b,P],["m",-D,0],["a",D,D,0,1,0,D*2,0],["a",D,D,0,1,0,-D*2,0]]},square:function(b,P,D){return[["M",b-D,P-D],["L",b+D,P-D],["L",b+D,P+D],["L",b-D,P+D],["Z"]]},diamond:function(b,P,D){return[["M",b-D,P],["L",b,P-D],["L",b+D,P],["L",b,P+D],["Z"]]},triangle:function(b,P,D){var O=D*Math.sin(1/3*Math.PI);return[["M",b-D,P+O],["L",b,P-O],["L",b+D,P+O],["z"]]},triangleDown:function(b,P,D){var O=D*Math.sin(1/3*Math.PI);return[["M",b-D,P-O],["L",b+D,P-O],["L",b,P+O],["Z"]]}};S.default={get:function(b){return d[b]},register:function(b,P){d[b]=P},remove:function(b){delete d[b]},getAll:function(){return d}}},51076:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(47862),P=d(49242),D=d(65712),O=d(4050),L=function(T){b.__extends(A,T);function A(){var E=T!==null&&T.apply(this,arguments)||this;return E.type="path",E.canFill=!0,E.canStroke=!0,E}return A.prototype.getDefaultAttrs=function(){var E=T.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},E),{startArrow:!1,endArrow:!1})},A.prototype.createPath=function(E,p){var w=this,y=this.attr(),x=this.get("el");P.each(p||y,function(m,M){if(M==="path"&&P.isArray(m))x.setAttribute("d",w._formatPath(m));else if(M==="startArrow"||M==="endArrow")if(m){var k=P.isObject(m)?E.addArrow(y,D.SVG_ATTR_MAP[M]):E.getDefaultArrow(y,D.SVG_ATTR_MAP[M]);x.setAttribute(D.SVG_ATTR_MAP[M],"url(#"+k+")")}else x.removeAttribute(D.SVG_ATTR_MAP[M]);else D.SVG_ATTR_MAP[M]&&x.setAttribute(D.SVG_ATTR_MAP[M],m)})},A.prototype._formatPath=function(E){var p=E.map(function(w){return w.join(" ")}).join("");return~p.indexOf("NaN")?"":p},A.prototype.getTotalLength=function(){var E=this.get("el");return E?E.getTotalLength():null},A.prototype.getPoint=function(E){var p=this.get("el"),w=this.getTotalLength();if(w===0)return null;var y=p?p.getPointAtLength(E*w):null;return y?{x:y.x,y:y.y}:null},A}(O.default);S.default=L},36361:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(47862),P=d(49242),D=d(65712),O=d(4050),L=function(T){b.__extends(A,T);function A(){var E=T!==null&&T.apply(this,arguments)||this;return E.type="polygon",E.canFill=!0,E.canStroke=!0,E}return A.prototype.createPath=function(E,p){var w=this.attr(),y=this.get("el");P.each(p||w,function(x,m){m==="points"&&P.isArray(x)&&x.length>=2?y.setAttribute("points",x.map(function(M){return M[0]+","+M[1]}).join(" ")):D.SVG_ATTR_MAP[m]&&y.setAttribute(D.SVG_ATTR_MAP[m],x)})},A}(O.default);S.default=L},46406:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(47862),P=d(89838),D=d(89838),O=d(49242),L=d(65712),T=d(4050),A=function(E){b.__extends(p,E);function p(){var w=E!==null&&E.apply(this,arguments)||this;return w.type="polyline",w.canFill=!0,w.canStroke=!0,w}return p.prototype.getDefaultAttrs=function(){var w=E.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},w),{startArrow:!1,endArrow:!1})},p.prototype.onAttrChange=function(w,y,x){E.prototype.onAttrChange.call(this,w,y,x),["points"].indexOf(w)!==-1&&this._resetCache()},p.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},p.prototype.createPath=function(w,y){var x=this.attr(),m=this.get("el");O.each(y||x,function(M,k){k==="points"&&O.isArray(M)&&M.length>=2?m.setAttribute("points",M.map(function(R){return R[0]+","+R[1]}).join(" ")):L.SVG_ATTR_MAP[k]&&m.setAttribute(L.SVG_ATTR_MAP[k],M)})},p.prototype.getTotalLength=function(){var w=this.attr().points,y=this.get("totalLength");return O.isNil(y)?(this.set("totalLength",P.Polyline.length(w)),this.get("totalLength")):y},p.prototype.getPoint=function(w){var y=this.attr().points,x=this.get("tCache");x||(this._setTcache(),x=this.get("tCache"));var m,M;return O.each(x,function(k,R){w>=k[0]&&w<=k[1]&&(m=(w-k[0])/(k[1]-k[0]),M=R)}),D.Line.pointAt(y[M][0],y[M][1],y[M+1][0],y[M+1][1],m)},p.prototype._setTcache=function(){var w=this.attr().points;if(!(!w||w.length===0)){var y=this.getTotalLength();if(!(y<=0)){var x=0,m=[],M,k;O.each(w,function(R,N){w[N+1]&&(M=[],M[0]=x/y,k=D.Line.length(R[0],R[1],w[N+1][0],w[N+1][1]),x+=k,M[1]=x/y,m.push(M))}),this.set("tCache",m)}}},p.prototype.getStartTangent=function(){var w=this.attr().points,y=[];return y.push([w[1][0],w[1][1]]),y.push([w[0][0],w[0][1]]),y},p.prototype.getEndTangent=function(){var w=this.attr().points,y=w.length-1,x=[];return x.push([w[y-1][0],w[y-1][1]]),x.push([w[y][0],w[y][1]]),x},p}(T.default);S.default=A},71320:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(47862),P=d(49242),D=d(4050),O=d(65712),L=d(48490),T=function(A){b.__extends(E,A);function E(){var p=A!==null&&A.apply(this,arguments)||this;return p.type="rect",p.canFill=!0,p.canStroke=!0,p}return E.prototype.getDefaultAttrs=function(){var p=A.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},p),{x:0,y:0,width:0,height:0,radius:0})},E.prototype.createPath=function(p,w){var y=this,x=this.attr(),m=this.get("el"),M=!1,k=["x","y","width","height","radius"];P.each(w||x,function(R,N){k.indexOf(N)!==-1&&!M?(m.setAttribute("d",y._assembleRect(x)),M=!0):k.indexOf(N)===-1&&O.SVG_ATTR_MAP[N]&&m.setAttribute(O.SVG_ATTR_MAP[N],R)})},E.prototype._assembleRect=function(p){var w=p.x,y=p.y,x=p.width,m=p.height,M=p.radius;if(!M)return"M "+w+","+y+" l "+x+",0 l 0,"+m+" l"+-x+" 0 z";var k=L.parseRadius(M);P.isArray(M)?M.length===1?k.r1=k.r2=k.r3=k.r4=M[0]:M.length===2?(k.r1=k.r3=M[0],k.r2=k.r4=M[1]):M.length===3?(k.r1=M[0],k.r2=k.r4=M[1],k.r3=M[2]):(k.r1=M[0],k.r2=M[1],k.r3=M[2],k.r4=M[3]):k.r1=k.r2=k.r3=k.r4=M;var R=[["M "+(w+k.r1)+","+y],["l "+(x-k.r1-k.r2)+",0"],["a "+k.r2+","+k.r2+",0,0,1,"+k.r2+","+k.r2],["l 0,"+(m-k.r2-k.r3)],["a "+k.r3+","+k.r3+",0,0,1,"+-k.r3+","+k.r3],["l "+(k.r3+k.r4-x)+",0"],["a "+k.r4+","+k.r4+",0,0,1,"+-k.r4+","+-k.r4],["l 0,"+(k.r4+k.r1-m)],["a "+k.r1+","+k.r1+",0,0,1,"+k.r1+","+-k.r1],["z"]];return R.join(" ")},E}(D.default);S.default=T},35726:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(47862),P=d(49242),D=d(43631),O=d(50063),L=d(65712),T=d(4050),A=.3,E={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},p={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},w={left:"left",start:"left",center:"middle",right:"end",end:"end"},y=function(x){b.__extends(m,x);function m(){var M=x!==null&&x.apply(this,arguments)||this;return M.type="text",M.canFill=!0,M.canStroke=!0,M}return m.prototype.getDefaultAttrs=function(){var M=x.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},M),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},m.prototype.createPath=function(M,k){var R=this,N=this.attr(),W=this.get("el");this._setFont(),P.each(k||N,function(Q,H){H==="text"?R._setText(""+Q):H==="matrix"&&Q?O.setTransform(R):L.SVG_ATTR_MAP[H]&&W.setAttribute(L.SVG_ATTR_MAP[H],Q)}),W.setAttribute("paint-order","stroke"),W.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},m.prototype._setFont=function(){var M=this.get("el"),k=this.attr(),R=k.textBaseline,N=k.textAlign,W=D.detect();W&&W.name==="firefox"?M.setAttribute("dominant-baseline",p[R]||"alphabetic"):M.setAttribute("alignment-baseline",E[R]||"baseline"),M.setAttribute("text-anchor",w[N]||"left")},m.prototype._setText=function(M){var k=this.get("el"),R=this.attr(),N=R.x,W=R.textBaseline,Q=W===void 0?"bottom":W;if(!M)k.innerHTML="";else if(~M.indexOf(`
`)){var H=M.split(`
`),$=H.length-1,it="";P.each(H,function(nt,wt){wt===0?Q==="alphabetic"?it+='<tspan x="'+N+'" dy="'+-$+'em">'+nt+"</tspan>":Q==="top"?it+='<tspan x="'+N+'" dy="0.9em">'+nt+"</tspan>":Q==="middle"?it+='<tspan x="'+N+'" dy="'+-($-1)/2+'em">'+nt+"</tspan>":Q==="bottom"?it+='<tspan x="'+N+'" dy="-'+($+A)+'em">'+nt+"</tspan>":Q==="hanging"&&(it+='<tspan x="'+N+'" dy="'+(-($-1)-A)+'em">'+nt+"</tspan>"):it+='<tspan x="'+N+'" dy="1em">'+nt+"</tspan>"}),k.innerHTML=it}else k.innerHTML=M},m}(T.default);S.default=y},87596:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.moveTo=S.sortDom=S.createDom=S.createSVGElement=void 0;var b=d(49242),P=d(65712);function D(A){return document.createElementNS("http://www.w3.org/2000/svg",A)}S.createSVGElement=D;function O(A){var E=P.SHAPE_TO_TAGS[A.type],p=A.getParent();if(!E)throw new Error("the type "+A.type+" is not supported by svg");var w=D(E);if(A.get("id")&&(w.id=A.get("id")),A.set("el",w),A.set("attrs",{}),p){var y=p.get("el");y||(y=p.createDom(),p.set("el",y)),y.appendChild(w)}return w}S.createDom=O;function L(A,E){var p=A.get("el"),w=b.toArray(p.children).sort(E),y=document.createDocumentFragment();w.forEach(function(x){y.appendChild(x)}),p.appendChild(y)}S.sortDom=L;function T(A,E){var p=A.parentNode,w=Array.from(p.childNodes).filter(function(M){return M.nodeType===1&&M.nodeName.toLowerCase()!=="defs"}),y=w[E],x=w.indexOf(A);if(y){if(x>E)p.insertBefore(A,y);else if(x<E){var m=w[E+1];m?p.insertBefore(A,m):p.appendChild(A)}}else p.appendChild(A)}S.moveTo=T},98820:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.refreshElement=S.drawChildren=void 0;var b=d(50063),P=d(87596);function D(L,T){T.forEach(function(A){A.draw(L)})}S.drawChildren=D;function O(L,T){var A=L.get("canvas");if(A&&A.get("autoDraw")){var E=A.get("context"),p=L.getParent(),w=p?p.getChildren():[A],y=L.get("el");if(T==="remove"){var x=L.get("isClipShape");if(x){var m=y&&y.parentNode,M=m&&m.parentNode;m&&M&&M.removeChild(m)}else y&&y.parentNode&&y.parentNode.removeChild(y)}else if(T==="show")y.setAttribute("visibility","visible");else if(T==="hide")y.setAttribute("visibility","hidden");else if(T==="zIndex")P.moveTo(y,w.indexOf(L));else if(T==="sort"){var k=L.get("children");k&&k.length&&P.sortDom(L,function(R,N){return k.indexOf(R)-k.indexOf(N)?1:0})}else T==="clear"?y&&(y.innerHTML=""):T==="matrix"?b.setTransform(L):T==="clip"?b.setClip(L,E):T==="attr"||T==="add"&&L.draw(E)}}S.refreshElement=O},48490:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parsePath=S.parseRadius=void 0;var b=d(49242),P=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,D=/[^\s,]+/gi;function O(T){var A=0,E=0,p=0,w=0;return b.isArray(T)?T.length===1?A=E=p=w=T[0]:T.length===2?(A=p=T[0],E=w=T[1]):T.length===3?(A=T[0],E=w=T[1],p=T[2]):(A=T[0],E=T[1],p=T[2],w=T[3]):A=E=p=w=T,{r1:A,r2:E,r3:p,r4:w}}S.parseRadius=O;function L(T){if(T=T||[],b.isArray(T))return T;if(b.isString(T))return T=T.match(P),b.each(T,function(A,E){if(A=A.match(D),A[0].length>1){var p=A[0].charAt(0);A.splice(1,0,A[0].substr(1)),A[0]=p}b.each(A,function(w,y){isNaN(w)||(A[y]=+w)}),T[E]=A}),T}S.parsePath=L},50063:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setClip=S.setTransform=S.setShadow=void 0;var b=d(87596);function P(L,T){var A=L.cfg.el,E=L.attr(),p={dx:E.shadowOffsetX,dy:E.shadowOffsetY,blur:E.shadowBlur,color:E.shadowColor};if(!p.dx&&!p.dy&&!p.blur&&!p.color)A.removeAttribute("filter");else{var w=T.find("filter",p);w||(w=T.addShadow(p)),A.setAttribute("filter","url(#"+w+")")}}S.setShadow=P;function D(L){var T=L.attr().matrix;if(T){for(var A=L.cfg.el,E=[],p=0;p<9;p+=3)E.push(T[p]+","+T[p+1]);E=E.join(","),E.indexOf("NaN")===-1?A.setAttribute("transform","matrix("+E+")"):console.warn("invalid matrix:",T)}}S.setTransform=D;function O(L,T){var A=L.getClip(),E=L.get("el");if(!A)E.removeAttribute("clip-path");else if(A&&!E.hasAttribute("clip-path")){b.createDom(A),A.createPath(T);var p=T.addClip(A);E.setAttribute("clip-path","url(#"+p+")")}}S.setClip=O},47862:function(dt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return P},__assign:function(){return D},__rest:function(){return O},__decorate:function(){return L},__param:function(){return T},__metadata:function(){return A},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return y},__values:function(){return x},__read:function(){return m},__spread:function(){return M},__spreadArrays:function(){return k},__spreadArray:function(){return R},__await:function(){return N},__asyncGenerator:function(){return W},__asyncDelegator:function(){return Q},__asyncValues:function(){return H},__makeTemplateObject:function(){return $},__importStar:function(){return nt},__importDefault:function(){return wt},__classPrivateFieldGet:function(){return yt},__classPrivateFieldSet:function(){return Lt},__classPrivateFieldIn:function(){return Mt}});var b=function(J,tt){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,lt){q.__proto__=lt}||function(q,lt){for(var gt in lt)Object.prototype.hasOwnProperty.call(lt,gt)&&(q[gt]=lt[gt])},b(J,tt)};function P(J,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Class extends value "+String(tt)+" is not a constructor or null");b(J,tt);function q(){this.constructor=J}J.prototype=tt===null?Object.create(tt):(q.prototype=tt.prototype,new q)}var D=function(){return D=Object.assign||function(tt){for(var q,lt=1,gt=arguments.length;lt<gt;lt++){q=arguments[lt];for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&(tt[K]=q[K])}return tt},D.apply(this,arguments)};function O(J,tt){var q={};for(var lt in J)Object.prototype.hasOwnProperty.call(J,lt)&&tt.indexOf(lt)<0&&(q[lt]=J[lt]);if(J!=null&&typeof Object.getOwnPropertySymbols=="function")for(var gt=0,lt=Object.getOwnPropertySymbols(J);gt<lt.length;gt++)tt.indexOf(lt[gt])<0&&Object.prototype.propertyIsEnumerable.call(J,lt[gt])&&(q[lt[gt]]=J[lt[gt]]);return q}function L(J,tt,q,lt){var gt=arguments.length,K=gt<3?tt:lt===null?lt=Object.getOwnPropertyDescriptor(tt,q):lt,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(J,tt,q,lt);else for(var Z=J.length-1;Z>=0;Z--)(j=J[Z])&&(K=(gt<3?j(K):gt>3?j(tt,q,K):j(tt,q))||K);return gt>3&&K&&Object.defineProperty(tt,q,K),K}function T(J,tt){return function(q,lt){tt(q,lt,J)}}function A(J,tt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(J,tt)}function E(J,tt,q,lt){function gt(K){return K instanceof q?K:new q(function(j){j(K)})}return new(q||(q=Promise))(function(K,j){function Z(bt){try{ut(lt.next(bt))}catch(Rt){j(Rt)}}function f(bt){try{ut(lt.throw(bt))}catch(Rt){j(Rt)}}function ut(bt){bt.done?K(bt.value):gt(bt.value).then(Z,f)}ut((lt=lt.apply(J,tt||[])).next())})}function p(J,tt){var q={label:0,sent:function(){if(K[0]&1)throw K[1];return K[1]},trys:[],ops:[]},lt,gt,K,j;return j={next:Z(0),throw:Z(1),return:Z(2)},typeof Symbol=="function"&&(j[Symbol.iterator]=function(){return this}),j;function Z(ut){return function(bt){return f([ut,bt])}}function f(ut){if(lt)throw new TypeError("Generator is already executing.");for(;j&&(j=0,ut[0]&&(q=0)),q;)try{if(lt=1,gt&&(K=ut[0]&2?gt.return:ut[0]?gt.throw||((K=gt.return)&&K.call(gt),0):gt.next)&&!(K=K.call(gt,ut[1])).done)return K;switch(gt=0,K&&(ut=[ut[0]&2,K.value]),ut[0]){case 0:case 1:K=ut;break;case 4:return q.label++,{value:ut[1],done:!1};case 5:q.label++,gt=ut[1],ut=[0];continue;case 7:ut=q.ops.pop(),q.trys.pop();continue;default:if(K=q.trys,!(K=K.length>0&&K[K.length-1])&&(ut[0]===6||ut[0]===2)){q=0;continue}if(ut[0]===3&&(!K||ut[1]>K[0]&&ut[1]<K[3])){q.label=ut[1];break}if(ut[0]===6&&q.label<K[1]){q.label=K[1],K=ut;break}if(K&&q.label<K[2]){q.label=K[2],q.ops.push(ut);break}K[2]&&q.ops.pop(),q.trys.pop();continue}ut=tt.call(J,q)}catch(bt){ut=[6,bt],gt=0}finally{lt=K=0}if(ut[0]&5)throw ut[1];return{value:ut[0]?ut[1]:void 0,done:!0}}}var w=Object.create?function(J,tt,q,lt){lt===void 0&&(lt=q);var gt=Object.getOwnPropertyDescriptor(tt,q);(!gt||("get"in gt?!tt.__esModule:gt.writable||gt.configurable))&&(gt={enumerable:!0,get:function(){return tt[q]}}),Object.defineProperty(J,lt,gt)}:function(J,tt,q,lt){lt===void 0&&(lt=q),J[lt]=tt[q]};function y(J,tt){for(var q in J)q!=="default"&&!Object.prototype.hasOwnProperty.call(tt,q)&&w(tt,J,q)}function x(J){var tt=typeof Symbol=="function"&&Symbol.iterator,q=tt&&J[tt],lt=0;if(q)return q.call(J);if(J&&typeof J.length=="number")return{next:function(){return J&&lt>=J.length&&(J=void 0),{value:J&&J[lt++],done:!J}}};throw new TypeError(tt?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(J,tt){var q=typeof Symbol=="function"&&J[Symbol.iterator];if(!q)return J;var lt=q.call(J),gt,K=[],j;try{for(;(tt===void 0||tt-- >0)&&!(gt=lt.next()).done;)K.push(gt.value)}catch(Z){j={error:Z}}finally{try{gt&&!gt.done&&(q=lt.return)&&q.call(lt)}finally{if(j)throw j.error}}return K}function M(){for(var J=[],tt=0;tt<arguments.length;tt++)J=J.concat(m(arguments[tt]));return J}function k(){for(var J=0,tt=0,q=arguments.length;tt<q;tt++)J+=arguments[tt].length;for(var lt=Array(J),gt=0,tt=0;tt<q;tt++)for(var K=arguments[tt],j=0,Z=K.length;j<Z;j++,gt++)lt[gt]=K[j];return lt}function R(J,tt,q){if(q||arguments.length===2)for(var lt=0,gt=tt.length,K;lt<gt;lt++)(K||!(lt in tt))&&(K||(K=Array.prototype.slice.call(tt,0,lt)),K[lt]=tt[lt]);return J.concat(K||Array.prototype.slice.call(tt))}function N(J){return this instanceof N?(this.v=J,this):new N(J)}function W(J,tt,q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var lt=q.apply(J,tt||[]),gt,K=[];return gt={},j("next"),j("throw"),j("return"),gt[Symbol.asyncIterator]=function(){return this},gt;function j(Vt){lt[Vt]&&(gt[Vt]=function(Ft){return new Promise(function(Qt,ae){K.push([Vt,Ft,Qt,ae])>1||Z(Vt,Ft)})})}function Z(Vt,Ft){try{f(lt[Vt](Ft))}catch(Qt){Rt(K[0][3],Qt)}}function f(Vt){Vt.value instanceof N?Promise.resolve(Vt.value.v).then(ut,bt):Rt(K[0][2],Vt)}function ut(Vt){Z("next",Vt)}function bt(Vt){Z("throw",Vt)}function Rt(Vt,Ft){Vt(Ft),K.shift(),K.length&&Z(K[0][0],K[0][1])}}function Q(J){var tt,q;return tt={},lt("next"),lt("throw",function(gt){throw gt}),lt("return"),tt[Symbol.iterator]=function(){return this},tt;function lt(gt,K){tt[gt]=J[gt]?function(j){return(q=!q)?{value:N(J[gt](j)),done:gt==="return"}:K?K(j):j}:K}}function H(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt=J[Symbol.asyncIterator],q;return tt?tt.call(J):(J=typeof x=="function"?x(J):J[Symbol.iterator](),q={},lt("next"),lt("throw"),lt("return"),q[Symbol.asyncIterator]=function(){return this},q);function lt(K){q[K]=J[K]&&function(j){return new Promise(function(Z,f){j=J[K](j),gt(Z,f,j.done,j.value)})}}function gt(K,j,Z,f){Promise.resolve(f).then(function(ut){K({value:ut,done:Z})},j)}}function $(J,tt){return Object.defineProperty?Object.defineProperty(J,"raw",{value:tt}):J.raw=tt,J}var it=Object.create?function(J,tt){Object.defineProperty(J,"default",{enumerable:!0,value:tt})}:function(J,tt){J.default=tt};function nt(J){if(J&&J.__esModule)return J;var tt={};if(J!=null)for(var q in J)q!=="default"&&Object.prototype.hasOwnProperty.call(J,q)&&w(tt,J,q);return it(tt,J),tt}function wt(J){return J&&J.__esModule?J:{default:J}}function yt(J,tt,q,lt){if(q==="a"&&!lt)throw new TypeError("Private accessor was defined without a getter");if(typeof tt=="function"?J!==tt||!lt:!tt.has(J))throw new TypeError("Cannot read private member from an object whose class did not declare it");return q==="m"?lt:q==="a"?lt.call(J):lt?lt.value:tt.get(J)}function Lt(J,tt,q,lt,gt){if(lt==="m")throw new TypeError("Private method is not writable");if(lt==="a"&&!gt)throw new TypeError("Private accessor was defined without a setter");if(typeof tt=="function"?J!==tt||!gt:!tt.has(J))throw new TypeError("Cannot write private member to an object whose class did not declare it");return lt==="a"?gt.call(J,q):gt?gt.value=q:tt.set(J,q),q}function Mt(J,tt){if(tt===null||typeof tt!="object"&&typeof tt!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof J=="function"?tt===J:J.has(tt)}},83077:function(dt,S,d){"use strict";var b;b={value:!0};var P=d(16854);S.wO=P.default;var D=d(13841);b=D.default;var O=d(38269);b=O.default;var L=d(34302);S.vs=L.default},16854:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(31502);b.translate=function(P,D,O){var L=new Array(9);return b.fromTranslation(L,O),b.multiply(P,L,D)},b.rotate=function(P,D,O){var L=new Array(9);return b.fromRotation(L,O),b.multiply(P,L,D)},b.scale=function(P,D,O){var L=new Array(9);return b.fromScaling(L,O),b.multiply(P,L,D)},b.transform=function(P,D){for(var O=[].concat(P),L=0,T=D.length;L<T;L++){var A=D[L];switch(A[0]){case"t":b.translate(O,O,[A[1],A[2]]);break;case"s":b.scale(O,O,[A[1],A[2]]);break;case"r":b.rotate(O,O,A[1]);break;default:break}}return O},S.default=b},34302:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),P=d(16854);S.default=function(D,O){var L=D?b.clone(D):[1,0,0,0,1,0,0,0,1];return b.each(O,function(T){switch(T[0]){case"t":P.default.translate(L,L,[T[1],T[2]]);break;case"s":P.default.scale(L,L,[T[1],T[2]]);break;case"r":P.default.rotate(L,L,T[1]);break;case"m":P.default.multiply(L,L,T[1]);break;default:return!1}}),L}},13841:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(76172),P=d(49242);b.angle=function(D,O){var L=b.dot(D,O)/(b.length(D)*b.length(O));return Math.acos(P.clamp(L,-1,1))},b.direction=function(D,O){return D[0]*O[1]-O[0]*D[1]},b.angleTo=function(D,O,L){var T=b.angle(D,O),A=b.direction(D,O)>=0;return L?A?Math.PI*2-T:T:A?T:Math.PI*2-T},b.vertical=function(D,O,L){return L?(D[0]=O[1],D[1]=-1*O[0]):(D[0]=-1*O[1],D[1]=O[0]),D},S.default=b},38269:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(88395);S.default=b},55223:function(dt,S,d){"use strict";d.r(S);var b=d(49242),P=/rgba?\(([\s.,0-9]+)\)/,D=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,O=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,L=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,T=function(N){return/^[r,R,L,l]{1}[\s]*\(/.test(N)},A=function(){var N=document.createElement("i");return N.title="Web Colour Picker",N.style.display="none",document.body.appendChild(N),N},E=function(N,W,Q,H){return N[H]+(W[H]-N[H])*Q};function p(N){return"#"+y(N[0])+y(N[1])+y(N[2])}var w=function(N){return[parseInt(N.substr(1,2),16),parseInt(N.substr(3,2),16),parseInt(N.substr(5,2),16)]},y=function(N){var W=Math.round(N).toString(16);return W.length===1?"0"+W:W},x=function(N,W){var Q=isNaN(Number(W))||W<0?0:W>1?1:Number(W),H=N.length-1,$=Math.floor(H*Q),it=H*Q-$,nt=N[$],wt=$===H?nt:N[$+1];return p([E(nt,wt,it,0),E(nt,wt,it,1),E(nt,wt,it,2)])},m,M=function(N){if(N[0]==="#"&&N.length===7)return N;m||(m=A()),m.style.color=N;var W=document.defaultView.getComputedStyle(m,"").getPropertyValue("color"),Q=P.exec(W),H=Q[1].split(/\s*,\s*/).map(function($){return Number($)});return W=p(H),W},k=function(N){var W=(0,b.isString)(N)?N.split("-"):N,Q=(0,b.map)(W,function(H){return w(H.indexOf("#")===-1?M(H):H)});return function(H){return x(Q,H)}},R=function(N){if(T(N)){var W,Q=void 0;if(N[0]==="l"){var H=D.exec(N),$=+H[1]+90;Q=H[2],W="linear-gradient("+$+"deg, "}else if(N[0]==="r"){W="radial-gradient(";var H=O.exec(N);Q=H[4]}var it=Q.match(L);return(0,b.each)(it,function(nt,wt){var yt=nt.split(":");W+=yt[1]+" "+yt[0]*100+"%",wt!==it.length-1&&(W+=", ")}),W+=")",W}return N};S.default={rgb2arr:w,gradient:k,toRGB:(0,b.memoize)(M),toCSSGradient:R}},51441:function(dt,S,d){"use strict";d.r(S),d.d(S,{Annotation:function(){return b},Axis:function(){return T},Component:function(){return Bt},Crosshair:function(){return A},Grid:function(){return E},GroupComponent:function(){return ot},HtmlComponent:function(){return Hi},Legend:function(){return p},Scrollbar:function(){return pa},Slider:function(){return Ha},Tooltip:function(){return y}});var b={};d.r(b),d.d(b,{Arc:function(){return gi},DataMarker:function(){return fe},DataRegion:function(){return Se},Image:function(){return Jt},Line:function(){return fn},Region:function(){return bi},RegionFilter:function(){return _e},Text:function(){return nn}});var P={};d.r(P),d.d(P,{ellipsisHead:function(){return nr},ellipsisMiddle:function(){return or},ellipsisTail:function(){return fr},getDefault:function(){return hr}});var D={};d.r(D),d.d(D,{equidistance:function(){return Wr},getDefault:function(){return Lr},reserveBoth:function(){return Hr},reserveFirst:function(){return Pr},reserveLast:function(){return Br}});var O={};d.r(O),d.d(O,{fixedAngle:function(){return ui},getDefault:function(){return Xn},unfixedAngle:function(){return Zn}});var L={};d.r(L),d.d(L,{autoEllipsis:function(){return P},autoHide:function(){return D},autoRotate:function(){return O}});var T={};d.r(T),d.d(T,{Base:function(){return Ne},Circle:function(){return fi},Line:function(){return Si}});var A={};d.r(A),d.d(A,{Base:function(){return hi},Circle:function(){return Kn},Html:function(){return oi},Line:function(){return ci}});var E={};d.r(E),d.d(E,{Base:function(){return Wi},Circle:function(){return Dt},Line:function(){return re}});var p={};d.r(p),d.d(p,{Base:function(){return ge},Category:function(){return $e},Continuous:function(){return et}});var w={};d.r(w),d.d(w,{CONTAINER_CLASS:function(){return It},CROSSHAIR_X:function(){return Ye},CROSSHAIR_Y:function(){return ar},LIST_CLASS:function(){return se},LIST_ITEM_CLASS:function(){return ve},MARKER_CLASS:function(){return ce},NAME_CLASS:function(){return ke},TITLE_CLASS:function(){return Ht},VALUE_CLASS:function(){return Oe}});var y={};d.r(y),d.d(y,{Html:function(){return rr}});var x=d(62117),m=d(49242),M=d(66192);function k(zt,vt,z){var _=new M.default(vt,z);_.target=zt,_.propagationPath.push(zt),zt.emitDelegation(vt,_);for(var I=zt.getParent();I;)I.emitDelegation(vt,_),_.propagationPath.push(I),I=I.getParent()}var R=d(31506),N=d(31437),W=[1,0,0,0,1,0,0,0,1];function Q(zt,vt,z){if(z===void 0&&(z=W),!vt)return null;var _=R.transform(z,[["t",-zt.x,-zt.y],["r",vt],["t",zt.x,zt.y]]);return _}function H(zt,vt){return!zt.x&&!zt.y?null:R.transform(vt||W,[["t",zt.x,zt.y]])}function $(zt){var vt=[1,0,0],z=[0,0,0];return vec3.transformMat3(z,vt,zt),Math.atan2(z[1],z[0])}function it(zt,vt){var z=[0,0];return N.transformMat3(z,vt,zt),z}function nt(zt,vt){var z=it(zt,[vt.minX,vt.minY]),_=it(zt,[vt.maxX,vt.minY]),I=it(zt,[vt.minX,vt.maxY]),B=it(zt,[vt.maxX,vt.maxY]),Y=Math.min(z[0],_[0],I[0],B[0]),U=Math.max(z[0],_[0],I[0],B[0]),rt=Math.min(z[1],_[1],I[1],B[1]),mt=Math.max(z[1],_[1],I[1],B[1]);return{x:Y,y:rt,minX:Y,minY:rt,maxX:U,maxY:mt,width:U-Y,height:mt-rt}}function wt(zt,vt,z,_){if(vt){var I=Q({x:z,y:_},vt,zt.getMatrix());zt.setMatrix(I)}}function yt(zt,vt,z){var _=H({x:vt,y:z});zt.attr("matrix",_)}function Lt(zt){var vt=0,z=0,_=0,I=0;return(0,m.isNumber)(zt)?vt=z=_=I=zt:(0,m.isArray)(zt)&&(vt=zt[0],_=(0,m.isNil)(zt[1])?zt[0]:zt[1],I=(0,m.isNil)(zt[2])?zt[0]:zt[2],z=(0,m.isNil)(zt[3])?_:zt[3]),[vt,_,I,z]}function Mt(zt){for(var vt=zt.childNodes,z=vt.length,_=z-1;_>=0;_--)zt.removeChild(vt[_])}function J(zt,vt){return!!zt.className.match(new RegExp("(\\s|^)"+vt+"(\\s|$)"))}function tt(zt){var vt=zt.start,z=zt.end,_=Math.min(vt.x,z.x),I=Math.min(vt.y,z.y),B=Math.max(vt.x,z.x),Y=Math.max(vt.y,z.y);return{x:_,y:I,minX:_,minY:I,maxX:B,maxY:Y,width:B-_,height:Y-I}}function q(zt){var vt=zt.map(function(U){return U.x}),z=zt.map(function(U){return U.y}),_=Math.min.apply(Math,vt),I=Math.min.apply(Math,z),B=Math.max.apply(Math,vt),Y=Math.max.apply(Math,z);return{x:_,y:I,minX:_,minY:I,maxX:B,maxY:Y,width:B-_,height:Y-I}}function lt(zt,vt,z,_){return{x:zt,y:vt,width:z,height:_,minX:zt,minY:vt,maxX:zt+z,maxY:vt+_}}function gt(zt,vt,z){return(1-z)*zt+vt*z}function K(zt,vt,z){return{x:zt.x+Math.cos(z)*vt,y:zt.y+Math.sin(z)*vt}}function j(zt,vt){var z=vt.x-zt.x,_=vt.y-zt.y;return Math.sqrt(z*z+_*_)}var Z=function(zt){return new Promise(function(vt){setTimeout(vt,zt)})},f=function(zt,vt){return[zt,vt].includes(Infinity)?Math.abs(zt)===Math.abs(vt):Math.abs(zt-vt)<Math.pow(Number.EPSILON,.5)};function ut(zt,vt){var z=Math.max(zt.minX,vt.minX),_=Math.max(zt.minY,vt.minY),I=Math.min(zt.maxX,vt.maxX),B=Math.min(zt.maxY,vt.maxY);return lt(z,_,I-z,B-_)}function bt(zt,vt){var z=Math.min(zt.minX,vt.minX),_=Math.min(zt.minY,vt.minY),I=Math.max(zt.maxX,vt.maxX),B=Math.max(zt.maxY,vt.maxY);return lt(z,_,I-z,B-_)}function Rt(zt){var vt=zt.getClip(),z=vt&&vt.getBBox(),_;if(!zt.isGroup())_=zt.getBBox();else{var I=Infinity,B=-Infinity,Y=Infinity,U=-Infinity,rt=zt.getChildren();rt.length>0?(0,m.each)(rt,function(mt){if(mt.get("visible")){if(mt.isGroup()&&mt.get("children").length===0)return!0;var Tt=Rt(mt),_t=mt.applyToMatrix([Tt.minX,Tt.minY,1]),$t=mt.applyToMatrix([Tt.minX,Tt.maxY,1]),ne=mt.applyToMatrix([Tt.maxX,Tt.minY,1]),pe=mt.applyToMatrix([Tt.maxX,Tt.maxY,1]),Ce=Math.min(_t[0],$t[0],ne[0],pe[0]),Ae=Math.max(_t[0],$t[0],ne[0],pe[0]),Te=Math.min(_t[1],$t[1],ne[1],pe[1]),tr=Math.max(_t[1],$t[1],ne[1],pe[1]);Ce<I&&(I=Ce),Ae>B&&(B=Ae),Te<Y&&(Y=Te),tr>U&&(U=tr)}}):(I=0,B=0,Y=0,U=0),_=lt(I,Y,B-I,U-Y)}return z?ut(_,z):_}function Vt(zt,vt){if(!(!zt.getClip()&&!vt.getClip())){var z=vt.getClip();if(!z){zt.setClip(null);return}var _={type:z.get("type"),attrs:z.attr()};zt.setClip(_)}}function Ft(zt){return zt+"px"}function Qt(zt,vt,z,_){var I=j(zt,vt),B=_/I,Y=0;return z==="start"?Y=0-B:z==="end"&&(Y=1+B),{x:gt(zt.x,vt.x,Y),y:gt(zt.y,vt.y,Y)}}var ae=d(65722),ue={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},Kt=function(zt){(0,x.__extends)(vt,zt);function vt(z){var _=zt.call(this,z)||this;return _.initCfg(),_}return vt.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},vt.prototype.clear=function(){},vt.prototype.update=function(z){var _=this,I=this.get("defaultCfg");(0,m.each)(z,function(B,Y){var U=_.get(Y),rt=B;U!==B&&((0,m.isObject)(B)&&I[Y]&&(rt=(0,m.deepMix)({},I[Y],B)),_.set(Y,rt))}),this.updateInner(z),this.afterUpdate(z)},vt.prototype.updateInner=function(z){},vt.prototype.afterUpdate=function(z){(0,m.hasKey)(z,"visible")&&(z.visible?this.show():this.hide()),(0,m.hasKey)(z,"capture")&&this.setCapture(z.capture)},vt.prototype.getLayoutBBox=function(){return this.getBBox()},vt.prototype.getLocationType=function(){return this.get("locationType")},vt.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},vt.prototype.setOffset=function(z,_){this.update({offsetX:z,offsetY:_})},vt.prototype.setLocation=function(z){var _=(0,x.__assign)({},z);this.update(_)},vt.prototype.getLocation=function(){var z=this,_={},I=this.get("locationType"),B=ue[I];return(0,m.each)(B,function(Y){_[Y]=z.get(Y)}),_},vt.prototype.isList=function(){return!1},vt.prototype.isSlider=function(){return!1},vt.prototype.init=function(){},vt.prototype.initCfg=function(){var z=this,_=this.get("defaultCfg");(0,m.each)(_,function(I,B){var Y=z.get(B);if((0,m.isObject)(Y)){var U=(0,m.deepMix)({},I,Y);z.set(B,U)}})},vt}(ae.Base),Bt=Kt,Ct="update_status",pt=["visible","tip","delegateObject"],Pt=["container","group","shapesMap","isRegister","isUpdating","destroyed"],ft=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},vt.prototype.remove=function(){this.clear();var z=this.get("group");z.remove()},vt.prototype.clear=function(){var z=this.get("group");z.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},vt.prototype.getChildComponentById=function(z){var _=this.getElementById(z),I=_&&_.get("component");return I},vt.prototype.getElementById=function(z){return this.get("shapesMap")[z]},vt.prototype.getElementByLocalId=function(z){var _=this.getElementId(z);return this.getElementById(_)},vt.prototype.getElementsByName=function(z){var _=[];return(0,m.each)(this.get("shapesMap"),function(I){I.get("name")===z&&_.push(I)}),_},vt.prototype.getContainer=function(){return this.get("container")},vt.prototype.updateInner=function(z){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},vt.prototype.render=function(){var z=this.get("offScreenGroup");z||(z=this.offScreenRender());var _=this.get("group");this.updateElements(z,_),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},vt.prototype.show=function(){var z=this.get("group");z.show(),this.set("visible",!0)},vt.prototype.hide=function(){var z=this.get("group");z.hide(),this.set("visible",!1)},vt.prototype.setCapture=function(z){var _=this.get("group");_.set("capture",z),this.set("capture",z)},vt.prototype.destroy=function(){this.removeEvent(),this.remove(),zt.prototype.destroy.call(this)},vt.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},vt.prototype.getLayoutBBox=function(){var z=this.get("group"),_=this.getInnerLayoutBBox(),I=z.getTotalMatrix();return I&&(_=nt(I,_)),_},vt.prototype.on=function(z,_,I){var B=this.get("group");return B.on(z,_,I),this},vt.prototype.off=function(z,_){var I=this.get("group");return I&&I.off(z,_),this},vt.prototype.emit=function(z,_){var I=this.get("group");I.emit(z,_)},vt.prototype.init=function(){zt.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},vt.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},vt.prototype.delegateEmit=function(z,_){var I=this.get("group");_.target=I,I.emit(z,_),k(I,z,_)},vt.prototype.createOffScreenGroup=function(){var z=this.get("group"),_=z.getGroupBase(),I=new _({delegateObject:this.getDelegateObject()});return I},vt.prototype.applyOffset=function(){var z=this.get("offsetX"),_=this.get("offsetY");this.moveElementTo(this.get("group"),{x:z,y:_})},vt.prototype.initGroup=function(){var z=this.get("container");this.set("group",z.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},vt.prototype.offScreenRender=function(){this.clearOffScreenCache();var z=this.createOffScreenGroup();return this.renderInner(z),this.set("offScreenGroup",z),this.set("offScreenBBox",Rt(z)),z},vt.prototype.addGroup=function(z,_){this.appendDelegateObject(z,_);var I=z.addGroup(_);return this.get("isRegister")&&this.registerElement(I),I},vt.prototype.addShape=function(z,_){this.appendDelegateObject(z,_);var I=z.addShape(_);return this.get("isRegister")&&this.registerElement(I),I},vt.prototype.addComponent=function(z,_){var I=_.id,B=_.component,Y=(0,x.__rest)(_,["id","component"]),U=new B((0,x.__assign)((0,x.__assign)({},Y),{id:I,container:z,updateAutoRender:this.get("updateAutoRender")}));return U.init(),U.render(),this.get("isRegister")&&this.registerElement(U.get("group")),U},vt.prototype.initEvent=function(){},vt.prototype.removeEvent=function(){var z=this.get("group");z.off()},vt.prototype.getElementId=function(z){var _=this.get("id"),I=this.get("name");return _+"-"+I+"-"+z},vt.prototype.registerElement=function(z){var _=z.get("id");this.get("shapesMap")[_]=z},vt.prototype.unregisterElement=function(z){var _=z.get("id");delete this.get("shapesMap")[_]},vt.prototype.moveElementTo=function(z,_){var I=H(_);z.attr("matrix",I)},vt.prototype.addAnimation=function(z,_,I){var B=_.attr("opacity");(0,m.isNil)(B)&&(B=1),_.attr("opacity",0),_.animate({opacity:B},I)},vt.prototype.removeAnimation=function(z,_,I){_.animate({opacity:0},I)},vt.prototype.updateAnimation=function(z,_,I,B){_.animate(I,B)},vt.prototype.updateElements=function(z,_){var I=this,B=this.get("animate"),Y=this.get("animateOption"),U=z.getChildren().slice(0),rt;(0,m.each)(U,function(mt){var Tt=mt.get("id"),_t=I.getElementById(Tt),$t=mt.get("name");if(_t)if(mt.get("isComponent")){var ne=mt.get("component"),pe=_t.get("component"),Ce=(0,m.pick)(ne.cfg,(0,m.difference)((0,m.keys)(ne.cfg),Pt));pe.update(Ce),_t.set(Ct,"update")}else{var Ae=I.getReplaceAttrs(_t,mt);B&&Y.update?I.updateAnimation($t,_t,Ae,Y.update):_t.attr(Ae),mt.isGroup()&&I.updateElements(mt,_t),(0,m.each)(pt,function(At){_t.set(At,mt.get(At))}),Vt(_t,mt),rt=_t,_t.set(Ct,"update")}else{_.add(mt);var Te=_.getChildren();if(Te.splice(Te.length-1,1),rt){var tr=Te.indexOf(rt);Te.splice(tr+1,0,mt)}else Te.unshift(mt);if(I.registerElement(mt),mt.set(Ct,"add"),mt.get("isComponent")){var ne=mt.get("component");ne.set("container",_)}else mt.isGroup()&&I.registerNewGroup(mt);if(rt=mt,B){var ir=I.get("isInit")?Y.appear:Y.enter;ir&&I.addAnimation($t,mt,ir)}}})},vt.prototype.clearUpdateStatus=function(z){var _=z.getChildren();(0,m.each)(_,function(I){I.set(Ct,null)})},vt.prototype.clearOffScreenCache=function(){var z=this.get("offScreenGroup");z&&z.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},vt.prototype.getDelegateObject=function(){var z,_=this.get("name"),I=(z={},z[_]=this,z.component=this,z);return I},vt.prototype.appendDelegateObject=function(z,_){var I=z.get("delegateObject");_.delegateObject||(_.delegateObject={}),(0,m.mix)(_.delegateObject,I)},vt.prototype.getReplaceAttrs=function(z,_){var I=z.attr(),B=_.attr();return(0,m.each)(I,function(Y,U){B[U]===void 0&&(B[U]=void 0)}),B},vt.prototype.registerNewGroup=function(z){var _=this,I=z.getChildren();(0,m.each)(I,function(B){_.registerElement(B),B.set(Ct,"add"),B.isGroup()&&_.registerNewGroup(B)})},vt.prototype.deleteElements=function(){var z=this,_=this.get("shapesMap"),I=[];(0,m.each)(_,function(U,rt){!U.get(Ct)||U.destroyed?I.push([rt,U]):U.set(Ct,null)});var B=this.get("animate"),Y=this.get("animateOption");(0,m.each)(I,function(U){var rt=U[0],mt=U[1];if(!mt.destroyed){var Tt=mt.get("name");if(B&&Y.leave){var _t=(0,m.mix)({callback:function(){z.removeElement(mt)}},Y.leave);z.removeAnimation(Tt,mt,_t)}else z.removeElement(mt)}delete _[rt]})},vt.prototype.removeElement=function(z){if(z.get("isGroup")){var _=z.get("component");_&&_.destroy()}z.remove()},vt}(Bt),ot=ft,St="\u2026";function Ot(zt){for(var vt=0,z=0;z<zt.length;z++)vt+=Zt(zt,z);return vt}function Zt(zt,vt){return zt.charCodeAt(vt)>0&&zt.charCodeAt(vt)<128?1:2}function le(zt,vt,z){z===void 0&&(z="tail");var _=zt.length,I="";if(z==="tail"){for(var B=0,Y=0;B<vt;){var U=Zt(zt,Y);if(B+U<=vt)I+=zt[Y],B+=Zt(zt,Y),Y++;else break}I+=St}else if(z==="head"){for(var B=0,Y=_-1;B<vt;){var U=Zt(zt,Y);if(B+U<=vt)I+=zt[Y],B+=Zt(zt,Y),Y--;else break}I=St+I}else{for(var rt="",mt="",B=0,Tt=0,_t=_-1;B<vt;){var $t=Zt(zt,Tt),ne=!1;$t+B<=vt&&(rt+=zt[Tt],Tt++,B+=$t,ne=!0);var pe=Zt(zt,_t);if(pe+B<=vt&&(mt=zt[_t]+mt,B+=pe,_t--,ne=!0),!ne)break}I=rt+St+mt}return I}var be="\u2026",Be=2;function Fe(zt){var vt=0;return(0,m.each)(zt,function(z){var _=z.getBBox(),I=_.width;vt<I&&(vt=I)}),vt}function lr(zt,vt){var z=vt.getCanvasBBox();return zt?z.width:z.height}function dr(zt,vt){return zt.getBBox().width<vt}function ur(zt,vt,z,_){_===void 0&&(_="tail");var I=vt.attr("text"),B=lr(zt,vt),Y=Ot(I),U=!1;if(z<B){var rt=Math.floor(z/B*Y)-Be,mt=void 0;rt>=0?mt=le(I,rt,_):mt=be,mt&&(vt.attr("text",mt),U=!0)}return U?vt.set("tip",I):vt.set("tip",null),U}function Tr(zt,vt){var z=vt.x,_=vt.y,I=vt.content,B=vt.style,Y=vt.id,U=vt.name,rt=vt.rotate,mt=vt.maxLength,Tt=vt.autoEllipsis,_t=vt.isVertical,$t=vt.ellipsisPosition,ne=vt.background,pe=zt.addGroup({id:Y+"-group",name:U+"-group",attrs:{x:z,y:_}}),Ce=pe.addShape({type:"text",id:Y,name:U,attrs:(0,x.__assign)({x:0,y:0,text:I},B)}),Ae=Lt((0,m.get)(ne,"padding",0));if(mt&&Tt){var Te=mt-(Ae[1]+Ae[3]);ur(!_t,Ce,Te,$t)}if(ne){var tr=(0,m.get)(ne,"style",{}),ir=Ce.getCanvasBBox(),At=ir.minX,Ut=ir.minY,qt=ir.width,ee=ir.height,we=pe.addShape("rect",{id:Y+"-bg",name:Y+"-bg",attrs:(0,x.__assign)({x:At-Ae[3],y:Ut-Ae[0],width:qt+Ae[1]+Ae[3],height:ee+Ae[0]+Ae[2]},tr)});we.toBack()}yt(pe,z,_),wt(pe,rt,z,_)}var sr={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},zr=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:sr.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:sr.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:sr.lineColor,lineWidth:1}}}})},vt.prototype.renderInner=function(z){this.renderLine(z),this.get("text")&&this.renderLabel(z)},vt.prototype.renderLine=function(z){var _=this.get("start"),I=this.get("end"),B=this.get("style");this.addShape(z,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,x.__assign)({x1:_.x,y1:_.y,x2:I.x,y2:I.y},B)})},vt.prototype.getLabelPoint=function(z,_,I){var B;return I==="start"?B=0:I==="center"?B=.5:(0,m.isString)(I)&&I.indexOf("%")!==-1?B=parseInt(I,10)/100:(0,m.isNumber)(I)?B=I:B=1,(B>1||B<0)&&(B=1),{x:gt(z.x,_.x,B),y:gt(z.y,_.y,B)}},vt.prototype.renderLabel=function(z){var _=this.get("text"),I=this.get("start"),B=this.get("end"),Y=_.position,U=_.content,rt=_.style,mt=_.offsetX,Tt=_.offsetY,_t=_.autoRotate,$t=_.maxLength,ne=_.autoEllipsis,pe=_.ellipsisPosition,Ce=_.background,Ae=_.isVertical,Te=Ae===void 0?!1:Ae,tr=this.getLabelPoint(I,B,Y),ir=tr.x+mt,At=tr.y+Tt,Ut={id:this.getElementId("line-text"),name:"annotation-line-text",x:ir,y:At,content:U,style:rt,maxLength:$t,autoEllipsis:ne,ellipsisPosition:pe,background:Ce,isVertical:Te};if(_t){var qt=[B.x-I.x,B.y-I.y];Ut.rotate=Math.atan2(qt[1],qt[0])}Tr(z,Ut)},vt}(ot),fn=zr,Yr=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:sr.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:sr.fontFamily}}})},vt.prototype.setLocation=function(z){this.set("x",z.x),this.set("y",z.y),this.resetLocation()},vt.prototype.renderInner=function(z){var _=this.getLocation(),I=_.x,B=_.y,Y=this.get("content"),U=this.get("style"),rt=this.getElementId("text"),mt=this.get("name")+"-text",Tt=this.get("maxLength"),_t=this.get("autoEllipsis"),$t=this.get("isVertical"),ne=this.get("ellipsisPosition"),pe=this.get("background"),Ce=this.get("rotate"),Ae={id:rt,name:mt,x:I,y:B,content:Y,style:U,maxLength:Tt,autoEllipsis:_t,isVertical:$t,ellipsisPosition:ne,background:pe,rotate:Ce};Tr(z,Ae)},vt.prototype.resetLocation=function(){var z=this.getElementByLocalId("text-group");if(z){var _=this.getLocation(),I=_.x,B=_.y,Y=this.get("rotate");yt(z,I,B),wt(z,Y,I,B)}},vt}(ot),nn=Yr,pi=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},vt.prototype.renderInner=function(z){this.renderArc(z)},vt.prototype.getArcPath=function(){var z=this.getLocation(),_=z.center,I=z.radius,B=z.startAngle,Y=z.endAngle,U=K(_,I,B),rt=K(_,I,Y),mt=Y-B>Math.PI?1:0,Tt=[["M",U.x,U.y]];if(Y-B==Math.PI*2){var _t=K(_,I,B+Math.PI);Tt.push(["A",I,I,0,mt,1,_t.x,_t.y]),Tt.push(["A",I,I,0,mt,1,rt.x,rt.y])}else Tt.push(["A",I,I,0,mt,1,rt.x,rt.y]);return Tt},vt.prototype.renderArc=function(z){var _=this.getArcPath(),I=this.get("style");this.addShape(z,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,x.__assign)({path:_},I)})},vt}(ot),gi=pi,xi=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:sr.regionColor,opacity:.4}}})},vt.prototype.renderInner=function(z){this.renderRegion(z)},vt.prototype.renderRegion=function(z){var _=this.get("start"),I=this.get("end"),B=this.get("style"),Y=tt({start:_,end:I});this.addShape(z,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,x.__assign)({x:Y.x,y:Y.y,width:Y.width,height:Y.height},B)})},vt}(ot),bi=xi,Xt=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},vt.prototype.renderInner=function(z){this.renderImage(z)},vt.prototype.getImageAttrs=function(){var z=this.get("start"),_=this.get("end"),I=this.get("style"),B=tt({start:z,end:_}),Y=this.get("src");return(0,x.__assign)({x:B.x,y:B.y,img:Y,width:B.width,height:B.height},I)},vt.prototype.renderImage=function(z){this.addShape(z,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},vt}(ot),Jt=Xt,oe=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:sr.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:sr.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:sr.fontFamily}}}})},vt.prototype.renderInner=function(z){(0,m.get)(this.get("line"),"display")&&this.renderLine(z),(0,m.get)(this.get("text"),"display")&&this.renderText(z),(0,m.get)(this.get("point"),"display")&&this.renderPoint(z),this.get("autoAdjust")&&this.autoAdjust(z)},vt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},vt.prototype.renderPoint=function(z){var _=this.getShapeAttrs().point;this.addShape(z,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:_})},vt.prototype.renderLine=function(z){var _=this.getShapeAttrs().line;this.addShape(z,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:_})},vt.prototype.renderText=function(z){var _=this.getShapeAttrs().text,I=_.x,B=_.y,Y=_.text,U=(0,x.__rest)(_,["x","y","text"]),rt=this.get("text"),mt=rt.background,Tt=rt.maxLength,_t=rt.autoEllipsis,$t=rt.isVertival,ne=rt.ellipsisPosition,pe={x:I,y:B,id:this.getElementId("text"),name:"annotation-text",content:Y,style:U,background:mt,maxLength:Tt,autoEllipsis:_t,isVertival:$t,ellipsisPosition:ne};Tr(z,pe)},vt.prototype.autoAdjust=function(z){var _=this.get("direction"),I=this.get("x"),B=this.get("y"),Y=(0,m.get)(this.get("line"),"length",0),U=this.get("coordinateBBox"),rt=z.getBBox(),mt=rt.minX,Tt=rt.maxX,_t=rt.minY,$t=rt.maxY,ne=z.findById(this.getElementId("text-group")),pe=z.findById(this.getElementId("text")),Ce=z.findById(this.getElementId("line"));if(!!U){if(ne){if(I+mt<=U.minX){var Ae=U.minX-(I+mt);yt(ne,ne.attr("x")+Ae,ne.attr("y"))}if(I+Tt>=U.maxX){var Ae=I+Tt-U.maxX;yt(ne,ne.attr("x")-Ae,ne.attr("y"))}}if(_==="upward"&&B+_t<=U.minY||_!=="upward"&&B+$t>=U.maxY){var Te=void 0,tr=void 0;_==="upward"&&B+_t<=U.minY?(Te="top",tr=1):(Te="bottom",tr=-1),pe.attr("textBaseline",Te),Ce&&Ce.attr("path",[["M",0,0],["L",0,Y*tr]]),yt(ne,ne.attr("x"),(Y+2)*tr)}}},vt.prototype.getShapeAttrs=function(){var z=(0,m.get)(this.get("line"),"display"),_=(0,m.get)(this.get("point"),"style",{}),I=(0,m.get)(this.get("line"),"style",{}),B=(0,m.get)(this.get("text"),"style",{}),Y=this.get("direction"),U=z?(0,m.get)(this.get("line"),"length",0):0,rt=Y==="upward"?-1:1;return{point:(0,x.__assign)({x:0,y:0},_),line:(0,x.__assign)({path:[["M",0,0],["L",0,U*rt]]},I),text:(0,x.__assign)({x:0,y:(U+2)*rt,text:(0,m.get)(this.get("text"),"content",""),textBaseline:Y==="upward"?"bottom":"top"},B)}},vt}(ot),fe=oe,xe=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:sr.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:sr.textColor,fontFamily:sr.fontFamily}}}})},vt.prototype.renderInner=function(z){var _=(0,m.get)(this.get("region"),"style",{}),I=(0,m.get)(this.get("text"),"style",{}),B=this.get("lineLength")||0,Y=this.get("points");if(!!Y.length){var U=q(Y),rt=[];rt.push(["M",Y[0].x,U.minY-B]),Y.forEach(function(Tt){rt.push(["L",Tt.x,Tt.y])}),rt.push(["L",Y[Y.length-1].x,Y[Y.length-1].y-B]),this.addShape(z,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,x.__assign)({path:rt},_)});var mt=(0,x.__assign)({id:this.getElementId("text"),name:"annotation-text",x:(U.minX+U.maxX)/2,y:U.minY-B},this.get("text"));Tr(z,mt)}},vt}(ot),Se=xe,Me=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},vt.prototype.renderInner=function(z){var _=this,I=this.get("start"),B=this.get("end"),Y=this.addGroup(z,{id:this.getElementId("region-filter"),capture:!1});(0,m.each)(this.get("shapes"),function(rt,mt){var Tt=rt.get("type"),_t=(0,m.clone)(rt.attr());_.adjustShapeAttrs(_t),_.addShape(Y,{id:_.getElementId("shape-"+Tt+"-"+mt),capture:!1,type:Tt,attrs:_t})});var U=tt({start:I,end:B});Y.setClip({type:"rect",attrs:{x:U.minX,y:U.minY,width:U.width,height:U.height}})},vt.prototype.adjustShapeAttrs=function(z){var _=this.get("color");z.fill&&(z.fill=z.fillStyle=_),z.stroke=z.strokeStyle=_},vt}(ot),_e=Me;function me(zt,vt,z){var _=vt+"Style",I=null;return(0,m.each)(z,function(B,Y){zt[Y]&&B[_]&&(I||(I={}),(0,m.mix)(I,B[_]))}),I}var Ue=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:sr.lineColor}},tickLine:{style:{lineWidth:1,stroke:sr.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:sr.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:sr.textColor,textBaseline:"middle",fontFamily:sr.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:sr.textColor,textBaseline:"middle",fontFamily:sr.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:sr.uncheckedColor}}}}})},vt.prototype.renderInner=function(z){this.get("line")&&this.drawLine(z),this.drawTicks(z),this.get("title")&&this.drawTitle(z)},vt.prototype.isList=function(){return!0},vt.prototype.getItems=function(){return this.get("ticks")},vt.prototype.setItems=function(z){this.update({ticks:z})},vt.prototype.updateItem=function(z,_){(0,m.mix)(z,_),this.clear(),this.render()},vt.prototype.clearItems=function(){var z=this.getElementByLocalId("label-group");z&&z.clear()},vt.prototype.setItemState=function(z,_,I){z[_]=I,this.updateTickStates(z)},vt.prototype.hasState=function(z,_){return!!z[_]},vt.prototype.getItemStates=function(z){var _=this.get("tickStates"),I=[];return(0,m.each)(_,function(B,Y){z[Y]&&I.push(Y)}),I},vt.prototype.clearItemsState=function(z){var _=this,I=this.getItemsByState(z);(0,m.each)(I,function(B){_.setItemState(B,z,!1)})},vt.prototype.getItemsByState=function(z){var _=this,I=this.getItems();return(0,m.filter)(I,function(B){return _.hasState(B,z)})},vt.prototype.getSidePoint=function(z,_){var I=this,B=I.getSideVector(_,z);return{x:z.x+B[0],y:z.y+B[1]}},vt.prototype.getTextAnchor=function(z){var _;return(0,m.isNumberEqual)(z[0],0)?_="center":z[0]>0?_="start":z[0]<0&&(_="end"),_},vt.prototype.processOverlap=function(z){},vt.prototype.drawLine=function(z){var _=this.getLinePath(),I=this.get("line");this.addShape(z,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,m.mix)({path:_},I.style)})},vt.prototype.getTickLineItems=function(z){var _=this,I=[],B=this.get("tickLine"),Y=B.alignTick,U=B.length,rt=1,mt=z.length;return mt>=2&&(rt=z[1].value-z[0].value),(0,m.each)(z,function(Tt){var _t=Tt.point;Y||(_t=_.getTickPoint(Tt.value-rt/2));var $t=_.getSidePoint(_t,U);I.push({startPoint:_t,tickValue:Tt.value,endPoint:$t,tickId:Tt.id,id:"tickline-"+Tt.id})}),I},vt.prototype.getSubTickLineItems=function(z){var _=[],I=this.get("subTickLine"),B=I.count,Y=z.length;if(Y>=2)for(var U=0;U<Y-1;U++)for(var rt=z[U],mt=z[U+1],Tt=0;Tt<B;Tt++){var _t=(Tt+1)/(B+1),$t=(1-_t)*rt.tickValue+_t*mt.tickValue,ne=this.getTickPoint($t),pe=this.getSidePoint(ne,I.length);_.push({startPoint:ne,endPoint:pe,tickValue:$t,id:"sub-"+rt.id+"-"+Tt})}return _},vt.prototype.getTickLineAttrs=function(z,_){var I=this.get(_).style,B=z.startPoint,Y=z.endPoint,U=(0,m.mix)({x1:B.x,y1:B.y,x2:Y.x,y2:Y.y},I);return U},vt.prototype.drawTick=function(z,_,I){this.addShape(_,{type:"line",id:this.getElementId(z.id),name:"axis-"+I,attrs:this.getTickLineAttrs(z,I)})},vt.prototype.drawTickLines=function(z){var _=this,I=this.get("ticks"),B=this.get("subTickLine"),Y=this.getTickLineItems(I),U=this.addGroup(z,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),rt=this.get("tickLine");if((0,m.each)(Y,function(Tt){if(rt.displayWithLabel){var _t=_.getElementId("label-"+Tt.tickId);z.findById(_t)&&_.drawTick(Tt,U,"tickLine")}else _.drawTick(Tt,U,"tickLine")}),B){var mt=this.getSubTickLineItems(Y);(0,m.each)(mt,function(Tt){_.drawTick(Tt,U,"subTickLine")})}},vt.prototype.processTicks=function(){var z=this,_=this.get("ticks");(0,m.each)(_,function(I){I.point=z.getTickPoint(I.value),(0,m.isNil)(I.id)&&(I.id=I.name)})},vt.prototype.drawTicks=function(z){var _=this;this.processTicks(),this.get("label")&&this.drawLabels(z),this.get("tickLine")&&this.drawTickLines(z);var I=this.get("ticks");(0,m.each)(I,function(B){_.applyTickStates(B,z)})},vt.prototype.getLabelAttrs=function(z,_){var I=this.get("label"),B=I.offset,Y=I.style,U=I.rotate,rt=I.formatter,mt=this.getSidePoint(z.point,B),Tt=this.getSideVector(B,mt),_t=rt?rt(z.name,z,_):z.name,$t=(0,m.mix)({x:mt.x,y:mt.y,text:_t,textAlign:this.getTextAnchor(Tt)},Y);return U&&($t.matrix=Q(mt,U)),$t},vt.prototype.drawLabels=function(z){var _=this,I=this.get("ticks"),B=this.addGroup(z,{name:"axis-label-group",id:this.getElementId("label-group")});(0,m.each)(I,function(Y,U){_.addShape(B,{type:"text",name:"axis-label",id:_.getElementId("label-"+Y.id),attrs:_.getLabelAttrs(Y,U),delegateObject:{tick:Y,item:Y,index:U}})}),this.processOverlap(B)},vt.prototype.getTitleAttrs=function(){var z=this.get("title"),_=z.style,I=z.position,B=z.offset,Y=z.spacing,U=Y===void 0?0:Y,rt=z.autoRotate,mt=_.fontSize,Tt=.5;I==="start"?Tt=0:I==="end"&&(Tt=1);var _t=this.getTickPoint(Tt),$t=this.getSidePoint(_t,B||U+mt/2),ne=(0,m.mix)({x:$t.x,y:$t.y,text:z.text},_),pe=z.rotate,Ce=pe;if((0,m.isNil)(pe)&&rt){var Ae=this.getAxisVector(_t),Te=[1,0];Ce=R.angleTo(Ae,Te,!0)}if(Ce){var tr=Q($t,Ce);ne.matrix=tr}return ne},vt.prototype.drawTitle=function(z){this.addShape(z,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},vt.prototype.applyTickStates=function(z,_){var I=this.getItemStates(z);if(I.length){var B=this.get("tickStates"),Y=this.getElementId("label-"+z.id),U=_.findById(Y);if(U){var rt=me(z,"label",B);rt&&U.attr(rt)}var mt=this.getElementId("tickline-"+z.id),Tt=_.findById(mt);if(Tt){var _t=me(z,"tickLine",B);_t&&Tt.attr(_t)}}},vt.prototype.updateTickStates=function(z){var _=this.getItemStates(z),I=this.get("tickStates"),B=this.get("label"),Y=this.getElementByLocalId("label-"+z.id),U=this.get("tickLine"),rt=this.getElementByLocalId("tickline-"+z.id);if(_.length){if(Y){var mt=me(z,"label",I);mt&&Y.attr(mt)}if(rt){var Tt=me(z,"tickLine",I);Tt&&rt.attr(Tt)}}else Y&&Y.attr(B.style),rt&&rt.attr(U.style)},vt}(ot),Ne=Ue;function er(zt,vt,z,_){var I=vt.getChildren(),B=!1;return(0,m.each)(I,function(Y){var U=ur(zt,Y,z,_);B=B||U}),B}function hr(){return fr}function nr(zt,vt,z){return er(zt,vt,z,"head")}function fr(zt,vt,z){return er(zt,vt,z,"tail")}function or(zt,vt,z){return er(zt,vt,z,"middle")}function br(zt){var vt=zt.attr("matrix");return vt&&vt[0]!==1}function We(zt,vt,z,_,I){I===void 0&&(I=!1);var B=!1;if(zt)B=Math.abs(z.y-_.y)<z.height;else if(vt){var Y=I?_.height:z.height;B=Math.abs(z.x-_.x)<Y}else{var U=I?_.width:z.width;B=Math.abs(z.x-_.x)<U}return B}function Cr(zt,vt,z){var _=vt.getChildren().slice();if(!_.length)return!1;var I=!1;z&&_.reverse();for(var B=_.length,Y=_[0],U=br(Y),rt=Y.getBBox(),mt=1;mt<B;mt++){var Tt=_[mt],_t=Tt.getBBox(),$t=We(zt,U,rt,_t,z);$t?(Tt.hide(),I=!0):rt=_t}return I}function Lr(){return Wr}function Pr(zt,vt){return Cr(zt,vt,!1)}function Br(zt,vt){return Cr(zt,vt,!0)}function Hr(zt,vt){var z=vt.getChildren().slice();if(z.length<=2)return!1;for(var _=!1,I=z.length,B=z[0],Y=z[I-1],U=br(B),rt=B.getBBox(),mt=B,Tt=1;Tt<I-1;Tt++){var _t=z[Tt],$t=_t.getBBox(),ne=We(zt,U,rt,$t);ne?(_t.hide(),_=!0):(rt=$t,mt=_t)}var pe=Y.getBBox(),Ce=We(zt,U,rt,pe);return Ce&&(mt.hide(),_=!0),_}function Wr(zt,vt){var z=vt.getChildren().slice();if(z.length<2)return!1;var _=!1,I=z[0],B=I.getBBox(),Y=z[1],U=br(I),rt=z.length,mt=0;if(zt){var Tt=Math.abs(Y.attr("y")-I.attr("y"));mt=B.height/Tt}else if(U){var Tt=Math.abs(Y.attr("x")-I.attr("x"));mt=B.width/Tt}else{var _t=Fe(z),Tt=Math.abs(Y.attr("x")-I.attr("x"));mt=_t/Tt}if(mt>1){mt=Math.ceil(mt);for(var $t=0;$t<rt;$t++)$t%mt!=0&&(z[$t].hide(),_=!0)}return _}function Nn(zt,vt){(0,m.each)(zt,function(z){var _=z.attr("x"),I=z.attr("y"),B=Q({x:_,y:I},vt);z.attr("matrix",B)})}function tn(zt,vt,z,_){var I=vt.getChildren();if(!I.length||!zt&&I.length<2)return!1;var B=Fe(I),Y=!1;if(zt)Y=!!z&&B>z;else{var U=Math.abs(I[1].attr("x")-I[0].attr("x"));Y=B>U}if(Y){var rt=_(z,B);Nn(I,rt)}return Y}function Xn(){return ui}function ui(zt,vt,z){return tn(zt,vt,z,function(){return zt?sr.verticalAxisRotate:sr.horizontalAxisRotate})}function Zn(zt,vt,z){return tn(zt,vt,z,function(_,I){if(!_)return zt?sr.verticalAxisRotate:sr.horizontalAxisRotate;if(zt)return-Math.acos(_/I);var B=0;return _>I?B=Math.PI/4:(B=Math.asin(_/I),B>Math.PI/4&&(B=Math.PI/4)),B})}var wi=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{type:"line",locationType:"region",start:null,end:null})},vt.prototype.getLinePath=function(){var z=this.get("start"),_=this.get("end"),I=[];return I.push(["M",z.x,z.y]),I.push(["L",_.x,_.y]),I},vt.prototype.getInnerLayoutBBox=function(){var z=this.get("start"),_=this.get("end"),I=zt.prototype.getInnerLayoutBBox.call(this),B=Math.min(z.x,_.x,I.x),Y=Math.min(z.y,_.y,I.y),U=Math.max(z.x,_.x,I.maxX),rt=Math.max(z.y,_.y,I.maxY);return{x:B,y:Y,minX:B,minY:Y,maxX:U,maxY:rt,width:U-B,height:rt-Y}},vt.prototype.isVertical=function(){var z=this.get("start"),_=this.get("end");return(0,m.isNumberEqual)(z.x,_.x)},vt.prototype.isHorizontal=function(){var z=this.get("start"),_=this.get("end");return(0,m.isNumberEqual)(z.y,_.y)},vt.prototype.getTickPoint=function(z){var _=this,I=_.get("start"),B=_.get("end"),Y=B.x-I.x,U=B.y-I.y;return{x:I.x+Y*z,y:I.y+U*z}},vt.prototype.getSideVector=function(z){var _=this.getAxisVector(),I=N.normalize([0,0],_),B=this.get("verticalFactor"),Y=[I[1],I[0]*-1];return N.scale([0,0],Y,z*B)},vt.prototype.getAxisVector=function(){var z=this.get("start"),_=this.get("end");return[_.x-z.x,_.y-z.y]},vt.prototype.processOverlap=function(z){var _=this,I=this.isVertical(),B=this.isHorizontal();if(!(!I&&!B)){var Y=this.get("label"),U=this.get("title"),rt=this.get("verticalLimitLength"),mt=Y.offset,Tt=rt,_t=0,$t=0;U&&(_t=U.style.fontSize,$t=U.spacing),Tt&&(Tt=Tt-mt-$t-_t);var ne=this.get("overlapOrder");if((0,m.each)(ne,function(Ae){Y[Ae]&&_.autoProcessOverlap(Ae,Y[Ae],z,Tt)}),U){var pe=z.getBBox(),Ce=I?pe.width:pe.height;(0,m.isNil)(U.offset)&&(U.offset=mt+Ce+$t+_t/2)}}},vt.prototype.autoProcessOverlap=function(z,_,I,B){var Y=this,U=this.isVertical(),rt=!1,mt=L[z];if(_===!0?rt=mt.getDefault()(U,I,B):(0,m.isFunction)(_)?rt=_(U,I,B):mt[_]&&(rt=mt[_](U,I,B)),z==="autoRotate"){if(rt){var Tt=I.getChildren(),_t=this.get("verticalFactor");(0,m.each)(Tt,function(ne){var pe=ne.attr("textAlign");if(pe==="center"){var Ce=_t>0?"end":"start";ne.attr("textAlign",Ce)}})}}else if(z==="autoHide"){var $t=I.getChildren().slice(0);(0,m.each)($t,function(ne){ne.get("visible")||(Y.get("isRegister")&&Y.unregisterElement(ne),ne.remove())})}},vt}(Ne),Si=wi,Ir=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},vt.prototype.getLinePath=function(){var z=this.get("center"),_=z.x,I=z.y,B=this.get("radius"),Y=B,U=this.get("startAngle"),rt=this.get("endAngle"),mt=[];if(Math.abs(rt-U)===Math.PI*2)mt=[["M",_,I-Y],["A",B,Y,0,1,1,_,I+Y],["A",B,Y,0,1,1,_,I-Y],["Z"]];else{var Tt=this.getCirclePoint(U),_t=this.getCirclePoint(rt),$t=Math.abs(rt-U)>Math.PI?1:0,ne=U>rt?0:1;mt=[["M",_,I],["L",Tt.x,Tt.y],["A",B,Y,0,$t,ne,_t.x,_t.y],["L",_,I]]}return mt},vt.prototype.getTickPoint=function(z){var _=this.get("startAngle"),I=this.get("endAngle"),B=_+(I-_)*z;return this.getCirclePoint(B)},vt.prototype.getSideVector=function(z,_){var I=this.get("center"),B=[_.x-I.x,_.y-I.y],Y=this.get("verticalFactor"),U=N.length(B);return N.scale(B,B,Y*z/U),B},vt.prototype.getAxisVector=function(z){var _=this.get("center"),I=[z.x-_.x,z.y-_.y];return[I[1],-1*I[0]]},vt.prototype.getCirclePoint=function(z,_){var I=this.get("center");return _=_||this.get("radius"),{x:I.x+Math.cos(z)*_,y:I.y+Math.sin(z)*_}},vt}(Ne),fi=Ir,Pi=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:sr.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:sr.textColor,textAlign:"center",textBaseline:"middle",fontFamily:sr.fontFamily}},textBackground:{padding:5,style:{stroke:sr.lineColor}}}})},vt.prototype.renderInner=function(z){this.get("line")&&this.renderLine(z),this.get("text")&&(this.renderText(z),this.renderBackground(z))},vt.prototype.renderText=function(z){var _=this.get("text"),I=_.style,B=_.autoRotate,Y=_.content;if(!(0,m.isNil)(Y)){var U=this.getTextPoint(),rt=null;if(B){var mt=this.getRotateAngle();rt=Q(U,mt)}this.addShape(z,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,x.__assign)((0,x.__assign)((0,x.__assign)({},U),{text:Y,matrix:rt}),I)})}},vt.prototype.renderLine=function(z){var _=this.getLinePath(),I=this.get("line"),B=I.style;this.addShape(z,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,x.__assign)({path:_},B)})},vt.prototype.renderBackground=function(z){var _=this.getElementId("text"),I=z.findById(_),B=this.get("textBackground");if(B&&I){var Y=I.getBBox(),U=Lt(B.padding),rt=B.style,mt=this.addShape(z,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,x.__assign)({x:Y.x-U[3],y:Y.y-U[0],width:Y.width+U[1]+U[3],height:Y.height+U[0]+U[2],matrix:I.attr("matrix")},rt)});mt.toBack()}},vt}(ot),hi=Pi,xn=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{type:"line",locationType:"region",start:null,end:null})},vt.prototype.getRotateAngle=function(){var z=this.getLocation(),_=z.start,I=z.end,B=this.get("text").position,Y=Math.atan2(I.y-_.y,I.x-_.x),U=B==="start"?Y-Math.PI/2:Y+Math.PI/2;return U},vt.prototype.getTextPoint=function(){var z=this.getLocation(),_=z.start,I=z.end,B=this.get("text"),Y=B.position,U=B.offset;return Qt(_,I,Y,U)},vt.prototype.getLinePath=function(){var z=this.getLocation(),_=z.start,I=z.end;return[["M",_.x,_.y],["L",I.x,I.y]]},vt}(hi),ci=xn,_i=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},vt.prototype.getRotateAngle=function(){var z=this.getLocation(),_=z.startAngle,I=z.endAngle,B=this.get("text").position,Y=B==="start"?_+Math.PI/2:I-Math.PI/2;return Y},vt.prototype.getTextPoint=function(){var z=this.get("text"),_=z.position,I=z.offset,B=this.getLocation(),Y=B.center,U=B.radius,rt=B.startAngle,mt=B.endAngle,Tt=_==="start"?rt:mt,_t=this.getRotateAngle()-Math.PI,$t=K(Y,U,Tt),ne=Math.cos(_t)*I,pe=Math.sin(_t)*I;return{x:$t.x+ne,y:$t.y+pe}},vt.prototype.getLinePath=function(){var z=this.getLocation(),_=z.center,I=z.radius,B=z.startAngle,Y=z.endAngle,U=null;if(Y-B==Math.PI*2){var rt=_.x,mt=_.y;U=[["M",rt,mt-I],["A",I,I,0,1,1,rt,mt+I],["A",I,I,0,1,1,rt,mt-I],["Z"]]}else{var Tt=K(_,I,B),_t=K(_,I,Y),$t=Math.abs(Y-B)>Math.PI?1:0,ne=B>Y?0:1;U=[["M",Tt.x,Tt.y],["A",I,I,0,$t,ne,_t.x,_t.y]]}return U},vt}(hi),Kn=_i,ai=d(6056),_n=d(45442),Vi=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},vt.prototype.getContainer=function(){return this.get("container")},vt.prototype.show=function(){var z=this.get("container");z.style.display="",this.set("visible",!0)},vt.prototype.hide=function(){var z=this.get("container");z.style.display="none",this.set("visible",!1)},vt.prototype.setCapture=function(z){var _=this.getContainer(),I=z?"auto":"none";_.style.pointerEvents=I,this.set("capture",z)},vt.prototype.getBBox=function(){var z=this.getContainer(),_=parseFloat(z.style.left)||0,I=parseFloat(z.style.top)||0;return lt(_,I,z.clientWidth,z.clientHeight)},vt.prototype.clear=function(){var z=this.get("container");Mt(z)},vt.prototype.destroy=function(){this.removeEvent(),this.removeDom(),zt.prototype.destroy.call(this)},vt.prototype.init=function(){zt.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},vt.prototype.initCapture=function(){this.setCapture(this.get("capture"))},vt.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},vt.prototype.initDom=function(){},vt.prototype.initContainer=function(){var z=this.get("container");if((0,m.isNil)(z)){z=this.createDom();var _=this.get("parent");(0,m.isString)(_)&&(_=document.getElementById(_),this.set("parent",_)),_.appendChild(z),this.set("container",z)}else(0,m.isString)(z)&&(z=document.getElementById(z),this.set("container",z));this.get("parent")||this.set("parent",z.parentNode)},vt.prototype.resetStyles=function(){var z=this.get("domStyles"),_=this.get("defaultStyles");z?z=(0,m.deepMix)({},_,z):z=_,this.set("domStyles",z)},vt.prototype.applyStyles=function(){var z=this.get("domStyles");if(!!z){var _=this.getContainer();this.applyChildrenStyles(_,z);var I=this.get("containerClassName");if(I&&J(_,I)){var B=z[I];(0,_n.Z)(_,B)}}},vt.prototype.applyChildrenStyles=function(z,_){(0,m.each)(_,function(I,B){var Y=z.getElementsByClassName(B);(0,m.each)(Y,function(U){(0,_n.Z)(U,I)})})},vt.prototype.applyStyle=function(z,_){var I=this.get("domStyles");(0,_n.Z)(_,I[z])},vt.prototype.createDom=function(){var z=this.get("containerTpl");return(0,ai.Z)(z)},vt.prototype.initEvent=function(){},vt.prototype.removeDom=function(){var z=this.get("container");z&&z.parentNode.removeChild(z)},vt.prototype.removeEvent=function(){},vt.prototype.updateInner=function(z){(0,m.hasKey)(z,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},vt.prototype.resetPosition=function(){},vt}(Bt),Hi=Vi,En="g2-crosshair",$n=En+"-line",Wn=En+"-text",Ri,ei=(Ri={},Ri[""+En]={position:"relative"},Ri[""+$n]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},Ri[""+Wn]={position:"absolute",color:sr.textColor,fontFamily:sr.fontFamily},Ri),sa=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+En+'"></div>',crosshairTpl:'<div class="'+$n+'"></div>',textTpl:'<span class="'+Wn+'">{content}</span>',domStyles:null,containerClassName:En,defaultStyles:ei,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},vt.prototype.render=function(){this.resetText(),this.resetPosition()},vt.prototype.initCrossHair=function(){var z=this.getContainer(),_=this.get("crosshairTpl"),I=(0,ai.Z)(_);z.appendChild(I),this.applyStyle($n,I),this.set("crosshairEl",I)},vt.prototype.getTextPoint=function(){var z=this.getLocation(),_=z.start,I=z.end,B=this.get("text"),Y=B.position,U=B.offset;return Qt(_,I,Y,U)},vt.prototype.resetText=function(){var z=this.get("text"),_=this.get("textEl");if(z){var I=z.content;if(!_){var B=this.getContainer(),Y=(0,m.substitute)(this.get("textTpl"),z);_=(0,ai.Z)(Y),B.appendChild(_),this.applyStyle(Wn,_),this.set("textEl",_)}_.innerHTML=I}else _&&_.remove()},vt.prototype.isVertical=function(z,_){return z.x===_.x},vt.prototype.resetPosition=function(){var z=this.get("crosshairEl");z||(this.initCrossHair(),z=this.get("crosshairEl"));var _=this.get("start"),I=this.get("end"),B=Math.min(_.x,I.x),Y=Math.min(_.y,I.y);this.isVertical(_,I)?(0,_n.Z)(z,{width:"1px",height:Ft(Math.abs(I.y-_.y))}):(0,_n.Z)(z,{height:"1px",width:Ft(Math.abs(I.x-_.x))}),(0,_n.Z)(z,{top:Ft(Y),left:Ft(B)}),this.alignText()},vt.prototype.alignText=function(){var z=this.get("textEl");if(z){var _=this.get("text").align,I=z.clientWidth,B=this.getTextPoint();switch(_){case"center":B.x=B.x-I/2;break;case"right":B.x=B.x-I;case"left":break}(0,_n.Z)(z,{top:Ft(B.y),left:Ft(B.x)})}},vt.prototype.updateInner=function(z){(0,m.hasKey)(z,"text")&&this.resetText(),zt.prototype.updateInner.call(this,z)},vt}(Hi),oi=sa,ba=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:sr.lineColor}}}})},vt.prototype.getLineType=function(){var z=this.get("line")||this.get("defaultCfg").line;return z.type},vt.prototype.renderInner=function(z){this.drawGrid(z)},vt.prototype.getAlternatePath=function(z,_){var I=this.getGridPath(z),B=_.slice(0).reverse(),Y=this.getGridPath(B,!0),U=this.get("closed");return U?I=I.concat(Y):(Y[0][0]="L",I=I.concat(Y),I.push(["Z"])),I},vt.prototype.getPathStyle=function(){return this.get("line").style},vt.prototype.drawGrid=function(z){var _=this,I=this.get("line"),B=this.get("items"),Y=this.get("alternateColor"),U=null;(0,m.each)(B,function(rt,mt){var Tt=rt.id||mt;if(I){var _t=_.getPathStyle(),$t=_.getElementId("line-"+Tt),ne=_.getGridPath(rt.points);_.addShape(z,{type:"path",name:"grid-line",id:$t,attrs:(0,m.mix)({path:ne},_t)})}if(Y&&mt>0){var pe=_.getElementId("region-"+Tt),Ce=mt%2==0;if((0,m.isString)(Y))Ce&&_.drawAlternateRegion(pe,z,U.points,rt.points,Y);else{var Ae=Ce?Y[1]:Y[0];_.drawAlternateRegion(pe,z,U.points,rt.points,Ae)}}U=rt})},vt.prototype.drawAlternateRegion=function(z,_,I,B,Y){var U=this.getAlternatePath(I,B);this.addShape(_,{type:"path",id:z,name:"grid-region",attrs:{path:U,fill:Y}})},vt}(ot),Wi=ba;function Ji(zt,vt,z,_){var I=z-zt,B=_-vt;return Math.sqrt(I*I+B*B)}var Oa=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{type:"circle",center:null,closed:!0})},vt.prototype.getGridPath=function(z,_){var I=this.getLineType(),B=this.get("closed"),Y=[];if(z.length)if(I==="circle"){var U=this.get("center"),rt=z[0],mt=Ji(U.x,U.y,rt.x,rt.y),Tt=_?0:1;B?(Y.push(["M",U.x,U.y-mt]),Y.push(["A",mt,mt,0,0,Tt,U.x,U.y+mt]),Y.push(["A",mt,mt,0,0,Tt,U.x,U.y-mt]),Y.push(["Z"])):(0,m.each)(z,function(_t,$t){$t===0?Y.push(["M",_t.x,_t.y]):Y.push(["A",mt,mt,0,0,Tt,_t.x,_t.y])})}else(0,m.each)(z,function(_t,$t){$t===0?Y.push(["M",_t.x,_t.y]):Y.push(["L",_t.x,_t.y])}),B&&Y.push(["Z"]);return Y},vt}(Wi),Dt=Oa,jt=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{type:"line"})},vt.prototype.getGridPath=function(z){var _=[];return(0,m.each)(z,function(I,B){B===0?_.push(["M",I.x,I.y]):_.push(["L",I.x,I.y])}),_},vt}(Wi),re=jt,ye=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},vt.prototype.getLayoutBBox=function(){var z=zt.prototype.getLayoutBBox.call(this),_=this.get("x"),I=this.get("y"),B=this.get("offsetX"),Y=this.get("offsetY"),U=this.get("maxWidth"),rt=this.get("maxHeight"),mt=_+B,Tt=I+Y,_t=z.maxX-mt,$t=z.maxY-Tt;return U&&(_t=Math.min(_t,U)),rt&&($t=Math.min($t,rt)),lt(mt,Tt,_t,$t)},vt.prototype.setLocation=function(z){this.set("x",z.x),this.set("y",z.y),this.resetLocation()},vt.prototype.resetLocation=function(){var z=this.get("x"),_=this.get("y"),I=this.get("offsetX"),B=this.get("offsetY");this.moveElementTo(this.get("group"),{x:z+I,y:_+B})},vt.prototype.applyOffset=function(){this.resetLocation()},vt.prototype.getDrawPoint=function(){return this.get("currentPoint")},vt.prototype.setDrawPoint=function(z){return this.set("currentPoint",z)},vt.prototype.renderInner=function(z){this.resetDraw(),this.get("title")&&this.drawTitle(z),this.drawLegendContent(z),this.get("background")&&this.drawBackground(z)},vt.prototype.drawBackground=function(z){var _=this.get("background"),I=z.getBBox(),B=Lt(_.padding),Y=(0,x.__assign)({x:0,y:0,width:I.width+B[1]+B[3],height:I.height+B[0]+B[2]},_.style),U=this.addShape(z,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:Y});U.toBack()},vt.prototype.drawTitle=function(z){var _=this.get("currentPoint"),I=this.get("title"),B=I.spacing,Y=I.style,U=I.text,rt=this.addShape(z,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,x.__assign)({text:U,x:_.x,y:_.y},Y)}),mt=rt.getBBox();this.set("currentPoint",{x:_.x,y:mt.maxY+B})},vt.prototype.resetDraw=function(){var z=this.get("background"),_={x:0,y:0};if(z){var I=Lt(z.padding);_.x=I[3],_.y=I[0]}this.set("currentPoint",_)},vt}(ot),ge=ye,Pe=function(zt){(0,x.__extends)(vt,zt);function vt(){var z=zt!==null&&zt.apply(this,arguments)||this;return z.currentPageIndex=1,z.totalPagesCnt=1,z.pageWidth=0,z.pageHeight=0,z.startX=0,z.startY=0,z.onNavigationBack=function(){var _=z.getElementByLocalId("item-group");if(z.currentPageIndex>1){z.currentPageIndex-=1,z.updateNavigation();var I=z.getCurrentNavigationMatrix();z.get("animate")?_.animate({matrix:I},100):_.attr({matrix:I})}},z.onNavigationAfter=function(){var _=z.getElementByLocalId("item-group");if(z.currentPageIndex<z.totalPagesCnt){z.currentPageIndex+=1,z.updateNavigation();var I=z.getCurrentNavigationMatrix();z.get("animate")?_.animate({matrix:I},100):_.attr({matrix:I})}},z}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{name:"legend",type:"category",itemSpacing:24,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:sr.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:sr.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:sr.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:sr.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:sr.uncheckedColor},markerStyle:{fill:sr.uncheckedColor,stroke:sr.uncheckedColor}},inactive:{nameStyle:{fill:sr.uncheckedColor},markerStyle:{opacity:.2}}}}})},vt.prototype.isList=function(){return!0},vt.prototype.getItems=function(){return this.get("items")},vt.prototype.setItems=function(z){this.update({items:z})},vt.prototype.updateItem=function(z,_){(0,m.mix)(z,_),this.clear(),this.render()},vt.prototype.clearItems=function(){var z=this.getElementByLocalId("item-group");z&&z.clear()},vt.prototype.setItemState=function(z,_,I){z[_]=I;var B=this.getElementByLocalId("item-"+z.id);if(B){var Y=this.getItems(),U=Y.indexOf(z),rt=this.createOffScreenGroup(),mt=this.drawItem(z,U,this.getItemHeight(),rt);this.updateElements(mt,B),this.clearUpdateStatus(B)}},vt.prototype.hasState=function(z,_){return!!z[_]},vt.prototype.getItemStates=function(z){var _=this.get("itemStates"),I=[];return(0,m.each)(_,function(B,Y){z[Y]&&I.push(Y)}),I},vt.prototype.clearItemsState=function(z){var _=this,I=this.getItemsByState(z);(0,m.each)(I,function(B){_.setItemState(B,z,!1)})},vt.prototype.getItemsByState=function(z){var _=this,I=this.getItems();return(0,m.filter)(I,function(B){return _.hasState(B,z)})},vt.prototype.drawLegendContent=function(z){this.processItems(),this.drawItems(z)},vt.prototype.processItems=function(){var z=this.get("items");(0,m.each)(z,function(_){_.id||(_.id=_.name)})},vt.prototype.drawItems=function(z){var _=this,I=this.addGroup(z,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),B=this.addGroup(I,{id:this.getElementId("item-group"),name:"legend-item-group"}),Y=this.getItemHeight(),U=this.get("itemWidth"),rt=this.get("itemSpacing"),mt=this.get("currentPoint"),Tt=mt.x,_t=mt.y,$t=this.get("layout"),ne=this.get("items"),pe=!1,Ce=0,Ae=this.get("maxWidth"),Te=this.get("maxHeight");(0,m.each)(ne,function(tr,ir){var At=_.drawItem(tr,ir,Y,B),Ut=At.getBBox(),qt=U||Ut.width;qt>Ce&&(Ce=qt),$t==="horizontal"?(Ae&&Ae<mt.x+qt-Tt&&(pe=!0,mt.x=Tt,mt.y+=Y),_.moveElementTo(At,mt),mt.x+=qt+rt):(Te&&Te<mt.y+Y-_t&&(pe=!0,mt.x+=Ce+rt,mt.y=_t,Ce=0),_.moveElementTo(At,mt),mt.y+=Y)}),pe&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=Tt,this.startY=_t,this.adjustNavigation(z,B))},vt.prototype.getItemHeight=function(){var z=this.get("itemHeight");if(!z){var _=this.get("itemName");_&&(z=_.style.fontSize+8)}return z},vt.prototype.drawMarker=function(z,_,I,B){var Y=(0,x.__assign)((0,x.__assign)((0,x.__assign)({x:0,y:B/2},_.style),{symbol:(0,m.get)(I.marker,"symbol","circle")}),(0,m.get)(I.marker,"style",{})),U=this.addShape(z,{type:"marker",id:this.getElementId("item-"+I.id+"-marker"),name:"legend-item-marker",attrs:Y}),rt=U.getBBox();U.attr("x",rt.width/2);var mt=U.attr(),Tt=mt.stroke,_t=mt.fill;return Tt&&U.set("isStroke",!0),_t&&U.set("isFill",!0),U},vt.prototype.drawItemText=function(z,_,I,B,Y,U,rt){var mt=I.formatter,Tt=(0,x.__assign)({x:U,y:Y/2,text:mt?mt(B[_],B,rt):B[_]},I.style);return this.addShape(z,{type:"text",id:this.getElementId("item-"+B.id+"-"+_),name:"legend-item-"+_,attrs:Tt})},vt.prototype.drawItem=function(z,_,I,B){var Y="item-"+z.id,U=this.addGroup(B,{name:"legend-item-container",id:this.getElementId("item-container-"+Y),delegateObject:{item:z,index:_}}),rt=this.addGroup(U,{name:"legend-item",id:this.getElementId(Y),delegateObject:{item:z,index:_}}),mt=this.get("marker"),Tt=this.get("itemName"),_t=this.get("itemValue"),$t=this.get("itemBackground"),ne=this.getLimitItemWidth(),pe=0;if(mt){var Ce=this.drawMarker(rt,mt,z,I);pe=Ce.getBBox().maxX+mt.spacing}if(Tt){var Ae=this.drawItemText(rt,"name",Tt,z,I,pe,_);ne&&ur(!0,Ae,(0,m.clamp)(ne-pe,0,ne)),pe=Ae.getBBox().maxX+Tt.spacing}if(_t){var Te=this.drawItemText(rt,"value",_t,z,I,pe,_);ne&&(_t.alignRight?(Te.attr({textAlign:"right",x:ne}),ur(!0,Te,(0,m.clamp)(ne-pe,0,ne),"head")):ur(!0,Te,(0,m.clamp)(ne-pe,0,ne)))}if($t){var tr=rt.getBBox(),ir=this.addShape(rt,{type:"rect",name:"legend-item-background",id:this.getElementId(Y+"-background"),attrs:(0,x.__assign)({x:0,y:0,width:tr.width,height:I},$t.style)});ir.toBack()}return this.applyItemStates(z,rt),rt},vt.prototype.adjustNavigation=function(z,_){var I=this,B=this.startX,Y=this.startY,U=this.get("layout"),rt=_.findAll(function(qt){return qt.get("name")==="legend-item"}),mt=this.get("maxWidth"),Tt=this.get("maxHeight"),_t=this.get("itemWidth"),$t=this.get("itemSpacing"),ne=this.getItemHeight(),pe=this.drawNavigation(z,U,"00/00",12),Ce=pe.getBBox(),Ae={x:B,y:Y},Te=1,tr=0,ir=0,At=0;if(U==="horizontal")this.pageHeight=ne,(0,m.each)(rt,function(qt){var ee=qt.getBBox(),we=_t||ee.width;(tr&&tr<Ae.x+we+$t||mt<Ae.x+we+$t+Ce.width)&&(Te===1&&(tr=Ae.x+$t,I.pageWidth=tr,I.moveElementTo(pe,{x:mt-$t-Ce.width-Ce.minX,y:Ae.y+ne/2-Ce.height/2-Ce.minY})),Te+=1,Ae.x=B,Ae.y+=ne),I.moveElementTo(qt,Ae),qt.getParent().setClip({type:"rect",attrs:{x:Ae.x,y:Ae.y,width:we+$t,height:ne}}),Ae.x+=we+$t});else{(0,m.each)(rt,function(qt){var ee=qt.getBBox();ee.width>ir&&(ir=ee.width)}),At=ir,ir+=$t,mt&&(ir=Math.min(mt,ir),At=Math.min(mt,At)),this.pageWidth=ir,this.pageHeight=Tt-Math.max(Ce.height,ne);var Ut=Math.floor(this.pageHeight/ne);(0,m.each)(rt,function(qt,ee){ee!==0&&ee%Ut==0&&(Te+=1,Ae.x+=ir,Ae.y=Y),I.moveElementTo(qt,Ae),qt.getParent().setClip({type:"rect",attrs:{x:Ae.x,y:Ae.y,width:ir,height:ne}}),Ae.y+=ne}),this.totalPagesCnt=Te,this.moveElementTo(pe,{x:B+At/2-Ce.width/2-Ce.minX,y:Tt-Ce.height-Ce.minY})}this.pageHeight&&this.pageWidth&&_.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=Te,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(pe),_.attr("matrix",this.getCurrentNavigationMatrix())},vt.prototype.drawNavigation=function(z,_,I,B){var Y={x:0,y:0},U=this.addGroup(z,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),rt=this.drawArrow(U,Y,"navigation-arrow-left",_==="horizontal"?"up":"left",B);rt.on("click",this.onNavigationBack);var mt=rt.getBBox();Y.x+=mt.width+2;var Tt=this.addShape(U,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:Y.x,y:Y.y+B/2,text:I,fontSize:12,fill:"#ccc",textBaseline:"middle"}}),_t=Tt.getBBox();Y.x+=_t.width+2;var $t=this.drawArrow(U,Y,"navigation-arrow-right",_==="horizontal"?"down":"right",B);return $t.on("click",this.onNavigationAfter),U},vt.prototype.updateNavigation=function(z){var _=this.currentPageIndex+"/"+this.totalPagesCnt,I=z?z.getChildren()[1]:this.getElementByLocalId("navigation-text"),B=z?z.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),Y=z?z.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),U=I.getBBox();I.attr("text",_);var rt=I.getBBox();I.attr("x",I.attr("x")-(rt.width-U.width)/2),B.attr("opacity",this.currentPageIndex===1?.45:1),B.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),Y.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),Y.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},vt.prototype.drawArrow=function(z,_,I,B,Y){var U=_.x,rt=_.y,mt={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},Tt=this.addShape(z,{type:"path",id:this.getElementId(I),name:I,attrs:{path:[["M",U+Y/2,rt],["L",U,rt+Y],["L",U+Y,rt+Y],["Z"]],fill:"#000",cursor:"pointer"}});return Tt.attr("matrix",Q({x:U+Y/2,y:rt+Y/2},mt[B])),Tt},vt.prototype.getCurrentNavigationMatrix=function(){var z=this,_=z.currentPageIndex,I=z.pageWidth,B=z.pageHeight,Y=this.get("layout"),U=Y==="horizontal"?{x:0,y:B*(1-_)}:{x:I*(1-_),y:0};return H(U)},vt.prototype.applyItemStates=function(z,_){var I=this.getItemStates(z),B=I.length>0;if(B){var Y=_.getChildren(),U=this.get("itemStates");(0,m.each)(Y,function(rt){var mt=rt.get("name"),Tt=mt.split("-")[2],_t=me(z,Tt,U);_t&&(rt.attr(_t),Tt==="marker"&&!(rt.get("isStroke")&&rt.get("isFill"))&&(rt.get("isStroke")&&rt.attr("fill",null),rt.get("isFill")&&rt.attr("stroke",null)))})}},vt.prototype.getLimitItemWidth=function(){var z=this.get("itemWidth"),_=this.get("maxItemWidth");return _?z&&(_=z<=_?z:_):z&&(_=z),_},vt}(ge),$e=Pe,Qe=1.4,Et=.4,ht=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:sr.textColor,textBaseline:"middle",fontFamily:sr.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:sr.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},vt.prototype.isSlider=function(){return!0},vt.prototype.getValue=function(){return this.getCurrentValue()},vt.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},vt.prototype.setRange=function(z,_){this.update({min:z,max:_})},vt.prototype.setValue=function(z){var _=this.getValue();this.set("value",z);var I=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(I),this.delegateEmit("valuechanged",{originValue:_,value:z})},vt.prototype.initEvent=function(){var z=this.get("group");this.bindSliderEvent(z),this.bindRailEvent(z),this.bindTrackEvent(z)},vt.prototype.drawLegendContent=function(z){this.drawRail(z),this.drawLabels(z),this.fixedElements(z),this.resetTrack(z),this.resetTrackClip(z),this.get("slidable")&&this.resetHandlers(z)},vt.prototype.bindSliderEvent=function(z){this.bindHandlersEvent(z)},vt.prototype.bindHandlersEvent=function(z){var _=this;z.on("legend-handler-min:drag",function(I){var B=_.getValueByCanvasPoint(I.x,I.y),Y=_.getCurrentValue(),U=Y[1];U<B&&(U=B),_.setValue([B,U])}),z.on("legend-handler-max:drag",function(I){var B=_.getValueByCanvasPoint(I.x,I.y),Y=_.getCurrentValue(),U=Y[0];U>B&&(U=B),_.setValue([U,B])})},vt.prototype.bindRailEvent=function(z){},vt.prototype.bindTrackEvent=function(z){var _=this,I=null;z.on("legend-track:dragstart",function(B){I={x:B.x,y:B.y}}),z.on("legend-track:drag",function(B){if(!!I){var Y=_.getValueByCanvasPoint(I.x,I.y),U=_.getValueByCanvasPoint(B.x,B.y),rt=_.getCurrentValue(),mt=rt[1]-rt[0],Tt=_.getRange(),_t=U-Y;_t<0?rt[0]+_t>Tt.min?_.setValue([rt[0]+_t,rt[1]+_t]):_.setValue([Tt.min,Tt.min+mt]):_t>0&&(_t>0&&rt[1]+_t<Tt.max?_.setValue([rt[0]+_t,rt[1]+_t]):_.setValue([Tt.max-mt,Tt.max])),I={x:B.x,y:B.y}}}),z.on("legend-track:dragend",function(B){I=null})},vt.prototype.drawLabels=function(z){this.drawLabel("min",z),this.drawLabel("max",z)},vt.prototype.drawLabel=function(z,_){var I=this.get("label"),B=I.style,Y=I.align,U=this.get(z),rt=this.getLabelAlignAttrs(z,Y),mt="label-"+z;this.addShape(_,{type:"text",id:this.getElementId(mt),name:"legend-label-"+z,attrs:(0,x.__assign)((0,x.__assign)({x:0,y:0,text:U},B),rt)})},vt.prototype.getLabelAlignAttrs=function(z,_){var I=this.isVertical(),B="center",Y="middle";return I?(B="start",_!=="rail"?z==="min"?Y="top":Y="bottom":Y="top"):_!=="rail"?(Y="top",z==="min"?B="start":B="end"):(B="start",Y="middle"),{textAlign:B,textBaseline:Y}},vt.prototype.getRailPath=function(z,_,I,B){var Y=this.get("rail"),U=Y.size,rt=Y.defaultLength,mt=Y.type,Tt=this.isVertical(),_t=rt,$t=I,ne=B;$t||($t=Tt?U:_t),ne||(ne=Tt?_t:U);var pe=[];return mt==="color"?(pe.push(["M",z,_]),pe.push(["L",z+$t,_]),pe.push(["L",z+$t,_+ne]),pe.push(["L",z,_+ne]),pe.push(["Z"])):(pe.push(["M",z+$t,_]),pe.push(["L",z+$t,_+ne]),pe.push(["L",z,_+ne]),pe.push(["Z"])),pe},vt.prototype.drawRail=function(z){var _=this.get("rail"),I=_.style;this.addShape(z,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,x.__assign)({path:this.getRailPath(0,0)},I)})},vt.prototype.getTrackColor=function(z){var _=z.length;if(!_)return null;if(_===1)return z[0];var I;this.isVertical()?I="l(90)":I="l(0)";for(var B=0;B<_;B++){var Y=B/(_-1);I+=" "+Y+":"+z[B]}return I},vt.prototype.getTrackPath=function(z){var _=this.getRailShape(z),I=_.attr("path");return(0,m.clone)(I)},vt.prototype.getClipTrackAttrs=function(z){var _=this.getCurrentValue(),I=_[0],B=_[1],Y=this.getRailBBox(z),U=this.getPointByValue(I,z),rt=this.getPointByValue(B,z),mt=this.isVertical(),Tt,_t,$t,ne;return mt?(Tt=Y.minX,_t=U.y,$t=Y.width,ne=rt.y-U.y):(Tt=U.x,_t=Y.minY,$t=rt.x-U.x,ne=Y.height),{x:Tt,y:_t,width:$t,height:ne}},vt.prototype.getTrackAttrs=function(z){var _=this.get("track"),I=this.get("colors"),B=this.getTrackPath(z);return(0,m.mix)({path:B,fill:this.getTrackColor(I)},_.style)},vt.prototype.resetTrackClip=function(z){var _=z||this.get("group"),I=this.getElementId("track"),B=_.findById(I),Y=B.getClip(),U=this.getClipTrackAttrs(z);Y?Y.attr(U):B.setClip({type:"rect",attrs:U})},vt.prototype.resetTrack=function(z){var _=this.getElementId("track"),I=z.findById(_),B=this.getTrackAttrs(z);I?I.attr(B):this.addShape(z,{type:"path",id:_,draggable:this.get("slidable"),name:"legend-track",attrs:B})},vt.prototype.getPointByValue=function(z,_){var I=this.getRange(),B=I.min,Y=I.max,U=(z-B)/(Y-B),rt=this.getRailBBox(_),mt=this.isVertical(),Tt={x:0,y:0};return mt?(Tt.x=rt.minX+rt.width/2,Tt.y=gt(rt.minY,rt.maxY,U)):(Tt.x=gt(rt.minX,rt.maxX,U),Tt.y=rt.minY+rt.height/2),Tt},vt.prototype.getRailShape=function(z){var _=z||this.get("group");return _.findById(this.getElementId("rail"))},vt.prototype.getRailBBox=function(z){var _=this.getRailShape(z),I=_.getBBox();return I},vt.prototype.getRailCanvasBBox=function(){var z=this.get("group"),_=z.findById(this.getElementId("rail")),I=_.getCanvasBBox();return I},vt.prototype.isVertical=function(){return this.get("layout")==="vertical"},vt.prototype.getValueByCanvasPoint=function(z,_){var I=this.getRange(),B=I.min,Y=I.max,U=this.getRailCanvasBBox(),rt=this.isVertical(),mt=this.get("step"),Tt;rt?Tt=(_-U.minY)/U.height:Tt=(z-U.minX)/U.width;var _t=gt(B,Y,Tt);if(mt){var $t=Math.round((_t-B)/mt);_t=B+$t*mt}return _t>Y&&(_t=Y),_t<B&&(_t=B),_t},vt.prototype.getCurrentValue=function(){var z=this.get("value");return z||(z=[this.get("min"),this.get("max")]),z},vt.prototype.resetHandlers=function(z){var _=this.getCurrentValue(),I=_[0],B=_[1];this.resetHandler(z,"min",I),this.resetHandler(z,"max",B)},vt.prototype.getHandlerPath=function(z,_){var I=this.isVertical(),B=[],Y=z.size,U=_.x,rt=_.y,mt=Y*Qe,Tt=Y/2,_t=Y/6;if(I){var $t=U+mt*Et;B.push(["M",U,rt]),B.push(["L",$t,rt+Tt]),B.push(["L",U+mt,rt+Tt]),B.push(["L",U+mt,rt-Tt]),B.push(["L",$t,rt-Tt]),B.push(["Z"]),B.push(["M",$t,rt+_t]),B.push(["L",U+mt-2,rt+_t]),B.push(["M",$t,rt-_t]),B.push(["L",U+mt-2,rt-_t])}else{var ne=rt+mt*Et;B.push(["M",U,rt]),B.push(["L",U-Tt,ne]),B.push(["L",U-Tt,rt+mt]),B.push(["L",U+Tt,rt+mt]),B.push(["L",U+Tt,ne]),B.push(["Z"]),B.push(["M",U-_t,ne]),B.push(["L",U-_t,rt+mt-2]),B.push(["M",U+_t,ne]),B.push(["L",U+_t,rt+mt-2])}return B},vt.prototype.resetHandler=function(z,_,I){var B=this.getPointByValue(I,z),Y=this.get("handler"),U=this.getHandlerPath(Y,B),rt=this.getElementId("handler-"+_),mt=z.findById(rt),Tt=this.isVertical();mt?mt.attr("path",U):this.addShape(z,{type:"path",name:"legend-handler-"+_,draggable:!0,id:rt,attrs:(0,x.__assign)((0,x.__assign)({path:U},Y.style),{cursor:Tt?"ns-resize":"ew-resize"})})},vt.prototype.fixedElements=function(z){var _=z.findById(this.getElementId("rail")),I=z.findById(this.getElementId("label-min")),B=z.findById(this.getElementId("label-max")),Y=this.getDrawPoint();this.isVertical()?this.fixedVertail(I,B,_,Y):this.fixedHorizontal(I,B,_,Y)},vt.prototype.fitRailLength=function(z,_,I,B){var Y=this.isVertical(),U=Y?"height":"width",rt=this.get("label"),mt=rt.align,Tt=rt.spacing,_t=this.get("max"+(0,m.upperFirst)(U));if(_t){var $t=mt==="rail"?I[U]+z[U]+_[U]+Tt*2:I[U],ne=$t-_t;ne>0&&this.changeRailLength(B,U,I[U]-ne)}},vt.prototype.changeRailLength=function(z,_,I){var B=z.getBBox(),Y;_==="height"?Y=this.getRailPath(B.x,B.y,B.width,I):Y=this.getRailPath(B.x,B.y,I,B.height),z.attr("path",Y)},vt.prototype.changeRailPosition=function(z,_,I){var B=z.getBBox(),Y=this.getRailPath(_,I,B.width,B.height);z.attr("path",Y)},vt.prototype.fixedHorizontal=function(z,_,I,B){var Y=this.get("label"),U=Y.align,rt=Y.spacing,mt=I.getBBox(),Tt=z.getBBox(),_t=_.getBBox(),$t=mt.height;this.fitRailLength(Tt,_t,mt,I),mt=I.getBBox(),U==="rail"?(z.attr({x:B.x,y:B.y+$t/2}),this.changeRailPosition(I,B.x+Tt.width+rt,B.y),_.attr({x:B.x+Tt.width+mt.width+rt*2,y:B.y+$t/2})):U==="top"?(z.attr({x:B.x,y:B.y}),_.attr({x:B.x+mt.width,y:B.y}),this.changeRailPosition(I,B.x,B.y+Tt.height+rt)):(this.changeRailPosition(I,B.x,B.y),z.attr({x:B.x,y:B.y+mt.height+rt}),_.attr({x:B.x+mt.width,y:B.y+mt.height+rt}))},vt.prototype.fixedVertail=function(z,_,I,B){var Y=this.get("label"),U=Y.align,rt=Y.spacing,mt=I.getBBox(),Tt=z.getBBox(),_t=_.getBBox();if(this.fitRailLength(Tt,_t,mt,I),mt=I.getBBox(),U==="rail")z.attr({x:B.x,y:B.y}),this.changeRailPosition(I,B.x,B.y+Tt.height+rt),_.attr({x:B.x,y:B.y+Tt.height+mt.height+rt*2});else if(U==="right")z.attr({x:B.x+mt.width+rt,y:B.y}),this.changeRailPosition(I,B.x,B.y),_.attr({x:B.x+mt.width+rt,y:B.y+mt.height});else{var $t=Math.max(Tt.width,_t.width);z.attr({x:B.x,y:B.y}),this.changeRailPosition(I,B.x+$t+rt,B.y),_.attr({x:B.x,y:B.y+mt.height})}},vt}(ge),et=ht,ct=d(55223),It="g2-tooltip",Ht="g2-tooltip-title",se="g2-tooltip-list",ve="g2-tooltip-list-item",ce="g2-tooltip-marker",Oe="g2-tooltip-value",ke="g2-tooltip-name",Ye="g2-tooltip-crosshair-x",ar="g2-tooltip-crosshair-y",Ge,Re=(Ge={},Ge[""+It]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:sr.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Ge[""+Ht]={marginBottom:"4px"},Ge[""+se]={margin:"0px",listStyleType:"none",padding:"0px"},Ge[""+ve]={listStyleType:"none",marginBottom:"4px"},Ge[""+ce]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},Ge[""+Oe]={display:"inline-block",float:"right",marginLeft:"30px"},Ge[""+Ye]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Ge[""+ar]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Ge);function Mr(zt,vt,z,_,I){var B={left:zt<I.x,right:zt+z>I.x+I.width,top:vt<I.y,bottom:vt+_>I.y+I.height};return B}function wr(zt,vt,z,_,I,B){var Y=zt,U=vt;switch(B){case"left":Y=zt-_-z,U=vt-I/2;break;case"right":Y=zt+z,U=vt-I/2;break;case"top":Y=zt-_/2,U=vt-I-z;break;case"bottom":Y=zt-_/2,U=vt+z;break;default:Y=zt+z,U=vt-I-z;break}return{x:Y,y:U}}function Nr(zt,vt,z,_,I,B,Y){var U=wr(zt,vt,z,_,I,B);if(Y){var rt=Mr(U.x,U.y,_,I,Y);B==="auto"?(rt.right&&(U.x=Math.max(0,zt-_-z)),rt.top&&(U.y=Math.max(0,vt-I-z))):B==="top"||B==="bottom"?(rt.left&&(U.x=Y.x),rt.right&&(U.x=Y.x+Y.width-_),B==="top"&&rt.top&&(U.y=vt+z),B==="bottom"&&rt.bottom&&(U.y=vt-I-z)):(rt.top&&(U.y=Y.y),rt.bottom&&(U.y=Y.y+Y.height-I),B==="left"&&rt.left&&(U.x=zt+z),B==="right"&&rt.right&&(U.x=zt-_-z))}return U}function Gr(zt,vt){var z=!1;return(0,m.each)(vt,function(_){if((0,m.hasKey)(zt,_))return z=!0,!1}),z}var cr=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+It+'"><div class="'+Ht+'"></div><ul class="'+se+'"></ul></div>',itemTpl:'<li class="'+ve+`" data-index={index}>
          <span class="`+ce+`" style="background:{color}"></span>
          <span class="`+ke+`">{name}</span>:
          <span class="`+Oe+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+Ye+'"></div>',yCrosshairTpl:'<div class="'+ar+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:It,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:Re})},vt.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},vt.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},vt.prototype.show=function(){var z=this.getContainer();!z||this.destroyed||(this.set("visible",!0),(0,_n.Z)(z,{visibility:"visible"}),this.setCrossHairsVisible(!0))},vt.prototype.hide=function(){var z=this.getContainer();!z||this.destroyed||(this.set("visible",!1),(0,_n.Z)(z,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},vt.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},vt.prototype.setLocation=function(z){this.set("x",z.x),this.set("y",z.y),this.resetPosition()},vt.prototype.setCrossHairsVisible=function(z){var _=z?"":"none",I=this.get("xCrosshairDom"),B=this.get("yCrosshairDom");I&&(0,_n.Z)(I,{display:_}),B&&(0,_n.Z)(B,{display:_})},vt.prototype.initContainer=function(){if(zt.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var z=this.getHtmlContentNode();this.get("parent").appendChild(z),this.set("container",z),this.resetStyles(),this.applyStyles()}},vt.prototype.updateInner=function(z){this.get("customContent")?this.renderCustomContent():(Gr(z,["title","showTitle"])&&this.resetTitle(),(0,m.hasKey)(z,"items")&&this.renderItems()),zt.prototype.updateInner.call(this,z)},vt.prototype.initDom=function(){this.cacheDoms()},vt.prototype.removeDom=function(){zt.prototype.removeDom.call(this),this.clearCrosshairs()},vt.prototype.resetPosition=function(){var z=this.get("x"),_=this.get("y"),I=this.get("offset"),B=this.getOffset(),Y=B.offsetX,U=B.offsetY,rt=this.get("position"),mt=this.get("region"),Tt=this.getContainer(),_t=this.getBBox(),$t=_t.width,ne=_t.height,pe;mt&&(pe=tt(mt));var Ce=Nr(z,_,I,$t,ne,rt,pe);(0,_n.Z)(Tt,{left:Ft(Ce.x+Y),top:Ft(Ce.y+U)}),this.resetCrosshairs()},vt.prototype.renderCustomContent=function(){var z=this.getHtmlContentNode(),_=this.get("parent"),I=this.get("container");I&&I.parentNode===_?_.replaceChild(z,I):_.appendChild(z),this.set("container",z),this.resetStyles(),this.applyStyles()},vt.prototype.getHtmlContentNode=function(){var z,_=this.get("customContent");if(_){var I=_(this.get("title"),this.get("items"));(0,m.isElement)(I)?z=I:z=(0,ai.Z)(I)}return z},vt.prototype.cacheDoms=function(){var z=this.getContainer(),_=z.getElementsByClassName(Ht)[0],I=z.getElementsByClassName(se)[0];this.set("titleDom",_),this.set("listDom",I)},vt.prototype.resetTitle=function(){var z=this.get("title"),_=this.get("showTitle");_&&z?this.setTitle(z):this.setTitle("")},vt.prototype.setTitle=function(z){var _=this.get("titleDom");_&&(_.innerText=z)},vt.prototype.resetCrosshairs=function(){var z=this.get("crosshairsRegion"),_=this.get("crosshairs");if(!z||!_)this.clearCrosshairs();else{var I=tt(z),B=this.get("xCrosshairDom"),Y=this.get("yCrosshairDom");_==="x"?(this.resetCrosshair("x",I),Y&&(Y.remove(),this.set("yCrosshairDom",null))):_==="y"?(this.resetCrosshair("y",I),B&&(B.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",I),this.resetCrosshair("y",I)),this.setCrossHairsVisible(this.get("visible"))}},vt.prototype.resetCrosshair=function(z,_){var I=this.checkCrosshair(z),B=this.get(z);z==="x"?(0,_n.Z)(I,{left:Ft(B),top:Ft(_.y),height:Ft(_.height)}):(0,_n.Z)(I,{top:Ft(B),left:Ft(_.x),width:Ft(_.width)})},vt.prototype.checkCrosshair=function(z){var _=z+"CrosshairDom",I=z+"CrosshairTpl",B="CROSSHAIR_"+z.toUpperCase(),Y=w[B],U=this.get(_),rt=this.get("parent");return U||(U=(0,ai.Z)(this.get(I)),this.applyStyle(Y,U),rt.appendChild(U),this.set(_,U)),U},vt.prototype.renderItems=function(){this.clearItemDoms();var z=this.get("items"),_=this.get("itemTpl"),I=this.get("listDom");I&&((0,m.each)(z,function(B){var Y=ct.default.toCSSGradient(B.color),U=(0,x.__assign)((0,x.__assign)({},B),{color:Y}),rt=(0,m.substitute)(_,U),mt=(0,ai.Z)(rt);I.appendChild(mt)}),this.applyChildrenStyles(I,this.get("domStyles")))},vt.prototype.clearItemDoms=function(){this.get("listDom")&&Mt(this.get("listDom"))},vt.prototype.clearCrosshairs=function(){var z=this.get("xCrosshairDom"),_=this.get("yCrosshairDom");z&&z.remove(),_&&_.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},vt}(Hi),rr=cr,Xr={opacity:0},cn={stroke:"#C5C5C5",strokeOpacity:.85},Mn={fill:"#CACED4",opacity:.85},Qn=d(57350),Jn=d(72469);function wa(zt){return(0,m.map)(zt,function(vt,z){var _=z===0?"M":"L",I=vt[0],B=vt[1];return[_,I,B]})}function Li(zt){return wa(zt)}function Yn(zt){if(zt.length<=2)return Li(zt);var vt=[];(0,m.each)(zt,function(Y){(0,m.isEqual)(Y,vt.slice(vt.length-2))||vt.push(Y[0],Y[1])});var z=(0,Qn.catmullRom2Bezier)(vt,!1),_=(0,m.head)(zt),I=_[0],B=_[1];return z.unshift(["M",I,B]),z}function qi(zt,vt,z,_){_===void 0&&(_=!0);var I=new Jn.Linear({values:zt}),B=new Jn.Category({values:(0,m.map)(zt,function(U,rt){return rt})}),Y=(0,m.map)(zt,function(U,rt){return[B.scale(rt)*vt,z-I.scale(U)*z]});return _?Yn(Y):Li(Y)}function Sa(zt,vt,z){var _=(0,x.__spreadArrays)(zt);return _.push(["L",vt,0]),_.push(["L",0,z]),_.push(["Z"]),_}var ka=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:Xr,lineStyle:cn,areaStyle:Mn})},vt.prototype.renderInner=function(z){var _=this.cfg,I=_.width,B=_.height,Y=_.data,U=_.smooth,rt=_.isArea,mt=_.backgroundStyle,Tt=_.lineStyle,_t=_.areaStyle;this.addShape(z,{id:this.getElementId("background"),type:"rect",attrs:(0,x.__assign)({x:0,y:0,width:I,height:B},mt)});var $t=qi(Y,I,B,U);if(this.addShape(z,{id:this.getElementId("line"),type:"path",attrs:(0,x.__assign)({path:$t},Tt)}),rt){var ne=Sa($t,I,B);this.addShape(z,{id:this.getElementId("area"),type:"path",attrs:(0,x.__assign)({path:ne},_t)})}},vt.prototype.applyOffset=function(){var z=this.cfg,_=z.x,I=z.y;this.moveElementTo(this.get("group"),{x:_,y:I})},vt}(ot),Ca=null,ha={fill:"#416180",opacity:.05},ca={fill:"#5B8FF9",opacity:.15,cursor:"move"},va=10,si={width:va,height:24},ji={textBaseline:"middle",fill:"#000",opacity:.45},Ba="sliderchange",Ma={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},Ea=function(zt){(0,x.__extends)(vt,zt);function vt(){return zt!==null&&zt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{name:"handler",x:0,y:0,width:10,height:24,style:Ma})},vt.prototype.renderInner=function(z){var _=this.cfg,I=_.width,B=_.height,Y=_.style,U=Y.fill,rt=Y.stroke,mt=Y.radius,Tt=Y.opacity,_t=Y.cursor;this.addShape(z,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:I,height:B,fill:U,stroke:rt,radius:mt,opacity:Tt,cursor:_t}});var $t=1/3*I,ne=2/3*I,pe=1/4*B,Ce=3/4*B;this.addShape(z,{id:this.getElementId("line-left"),type:"line",attrs:{x1:$t,y1:pe,x2:$t,y2:Ce,stroke:rt,cursor:_t}}),this.addShape(z,{id:this.getElementId("line-right"),type:"line",attrs:{x1:ne,y1:pe,x2:ne,y2:Ce,stroke:rt,cursor:_t}})},vt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},vt.prototype.initEvent=function(){this.bindEvents()},vt.prototype.bindEvents=function(){var z=this;this.get("group").on("mouseenter",function(){var _=z.get("style").highLightFill;z.getElementByLocalId("background").attr("fill",_),z.draw()}),this.get("group").on("mouseleave",function(){var _=z.get("style").fill;z.getElementByLocalId("background").attr("fill",_),z.draw()})},vt.prototype.draw=function(){var z=this.get("container").get("canvas");z&&z.draw()},vt}(ot),on=null,Ha=function(zt){(0,x.__extends)(vt,zt);function vt(){var z=zt!==null&&zt.apply(this,arguments)||this;return z.onMouseDown=function(_){return function(I){z.currentTarget=_;var B=I.originalEvent;B.stopPropagation(),B.preventDefault(),z.prevX=(0,m.get)(B,"touches.0.pageX",B.pageX),z.prevY=(0,m.get)(B,"touches.0.pageY",B.pageY);var Y=z.getContainerDOM();Y.addEventListener("mousemove",z.onMouseMove),Y.addEventListener("mouseup",z.onMouseUp),Y.addEventListener("mouseleave",z.onMouseUp),Y.addEventListener("touchmove",z.onMouseMove),Y.addEventListener("touchend",z.onMouseUp),Y.addEventListener("touchcancel",z.onMouseUp)}},z.onMouseMove=function(_){var I=z.cfg.width,B=[z.get("start"),z.get("end")];_.stopPropagation(),_.preventDefault();var Y=(0,m.get)(_,"touches.0.pageX",_.pageX),U=(0,m.get)(_,"touches.0.pageY",_.pageY),rt=Y-z.prevX,mt=z.adjustOffsetRange(rt/I);z.updateStartEnd(mt),z.updateUI(z.getElementByLocalId("foreground"),z.getElementByLocalId("minText"),z.getElementByLocalId("maxText")),z.prevX=Y,z.prevY=U,z.draw(),z.emit(Ba,[z.get("start"),z.get("end")].sort()),z.delegateEmit("valuechanged",{originValue:B,value:[z.get("start"),z.get("end")]})},z.onMouseUp=function(){z.currentTarget&&(z.currentTarget=void 0);var _=z.getContainerDOM();_&&(_.removeEventListener("mousemove",z.onMouseMove),_.removeEventListener("mouseup",z.onMouseUp),_.removeEventListener("mouseleave",z.onMouseUp),_.removeEventListener("touchmove",z.onMouseMove),_.removeEventListener("touchend",z.onMouseUp),_.removeEventListener("touchcancel",z.onMouseUp))},z}return vt.prototype.setRange=function(z,_){this.set("minLimit",z),this.set("maxLimit",_);var I=this.get("start"),B=this.get("end"),Y=(0,m.clamp)(I,z,_),U=(0,m.clamp)(B,z,_);!this.get("isInit")&&(I!==Y||B!==U)&&this.setValue([Y,U])},vt.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},vt.prototype.setValue=function(z){var _=this.getRange();if((0,m.isArray)(z)&&z.length===2){var I=[this.get("start"),this.get("end")];this.update({start:(0,m.clamp)(z[0],_.min,_.max),end:(0,m.clamp)(z[1],_.min,_.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:I,value:z})}},vt.prototype.getValue=function(){return[this.get("start"),this.get("end")]},vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:ha,foregroundStyle:ca,handlerStyle:si,textStyle:ji}})},vt.prototype.update=function(z){var _=z.start,I=z.end,B=(0,x.__assign)({},z);(0,m.isNil)(_)||(B.start=(0,m.clamp)(_,0,1)),(0,m.isNil)(I)||(B.end=(0,m.clamp)(I,0,1)),zt.prototype.update.call(this,B),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler"))},vt.prototype.init=function(){this.set("start",(0,m.clamp)(this.get("start"),0,1)),this.set("end",(0,m.clamp)(this.get("end"),0,1)),zt.prototype.init.call(this)},vt.prototype.renderInner=function(z){var _=this.cfg,I=_.start,B=_.end,Y=_.width,U=_.height,rt=_.trendCfg,mt=rt===void 0?{}:rt,Tt=_.minText,_t=_.maxText,$t=_.backgroundStyle,ne=$t===void 0?{}:$t,pe=_.foregroundStyle,Ce=pe===void 0?{}:pe,Ae=_.textStyle,Te=Ae===void 0?{}:Ae,tr=_.handlerStyle,ir=tr===void 0?{}:tr,At=I*Y,Ut=B*Y;(0,m.size)((0,m.get)(mt,"data"))&&this.addComponent(z,(0,x.__assign)({component:ka,id:this.getElementId("trend"),x:0,y:0,width:Y,height:U},mt)),this.addShape(z,{id:this.getElementId("background"),type:"rect",attrs:(0,x.__assign)({x:0,y:0,width:Y,height:U},ne)});var qt=this.addShape(z,{id:this.getElementId("minText"),type:"text",attrs:(0,x.__assign)({y:U/2,textAlign:"right",text:Tt,silent:!1},Te)}),ee=this.addShape(z,{id:this.getElementId("maxText"),type:"text",attrs:(0,x.__assign)({y:U/2,textAlign:"left",text:_t,silent:!1},Te)}),we=this.addShape(z,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,x.__assign)({y:0,height:U},Ce)}),Ze=(0,m.get)(ir,"height",24);this.minHandler=this.addComponent(z,(0,x.__assign)({component:Ea,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(U-Ze)/2,width:Y,height:Ze,cursor:"ew-resize"},ir)),this.maxHandler=this.addComponent(z,(0,x.__assign)({component:Ea,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(U-Ze)/2,width:Y,height:Ze,cursor:"ew-resize"},ir)),this.updateUI(we,qt,ee)},vt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},vt.prototype.initEvent=function(){this.bindEvents()},vt.prototype.updateUI=function(z,_,I){var B=this.cfg,Y=B.start,U=B.end,rt=B.width,mt=B.minText,Tt=B.maxText,_t=B.handlerStyle,$t=Y*rt,ne=U*rt;z.attr("x",$t),z.attr("width",ne-$t);var pe=(0,m.get)(_t,"width",va);_.attr("text",mt),I.attr("text",Tt);var Ce=this._dodgeText([$t,ne],_,I),Ae=Ce[0],Te=Ce[1];this.minHandler&&(this.minHandler.update({x:$t-pe/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,m.each)(Ae,function(tr,ir){return _.attr(ir,tr)}),this.maxHandler&&(this.maxHandler.update({x:ne-pe/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,m.each)(Te,function(tr,ir){return I.attr(ir,tr)})},vt.prototype.bindEvents=function(){var z=this.get("group");z.on("handler-min:mousedown",this.onMouseDown("minHandler")),z.on("handler-min:touchstart",this.onMouseDown("minHandler")),z.on("handler-max:mousedown",this.onMouseDown("maxHandler")),z.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var _=z.findById(this.getElementId("foreground"));_.on("mousedown",this.onMouseDown("foreground")),_.on("touchstart",this.onMouseDown("foreground"))},vt.prototype.adjustOffsetRange=function(z){var _=this.cfg,I=_.start,B=_.end;switch(this.currentTarget){case"minHandler":{var Y=0-I,U=1-I;return Math.min(U,Math.max(Y,z))}case"maxHandler":{var Y=0-B,U=1-B;return Math.min(U,Math.max(Y,z))}case"foreground":{var Y=0-I,U=1-B;return Math.min(U,Math.max(Y,z))}}},vt.prototype.updateStartEnd=function(z){var _=this.cfg,I=_.start,B=_.end;switch(this.currentTarget){case"minHandler":I+=z;break;case"maxHandler":B+=z;break;case"foreground":I+=z,B+=z;break}this.set("start",I),this.set("end",B)},vt.prototype._dodgeText=function(z,_,I){var B,Y,U=this.cfg,rt=U.handlerStyle,mt=U.width,Tt=2,_t=(0,m.get)(rt,"width",va),$t=z[0],ne=z[1],pe=!1;$t>ne&&(B=[ne,$t],$t=B[0],ne=B[1],Y=[I,_],_=Y[0],I=Y[1],pe=!0);var Ce=_.getBBox(),Ae=I.getBBox(),Te=Ce.width>$t-Tt?{x:$t+_t/2+Tt,textAlign:"left"}:{x:$t-_t/2-Tt,textAlign:"right"},tr=Ae.width>mt-ne-Tt?{x:ne-_t/2-Tt,textAlign:"right"}:{x:ne+_t/2+Tt,textAlign:"left"};return pe?[tr,Te]:[Te,tr]},vt.prototype.draw=function(){var z=this.get("container"),_=z&&z.get("canvas");_&&_.draw()},vt.prototype.getContainerDOM=function(){var z=this.get("container"),_=z&&z.get("canvas");return _&&_.get("container")},vt}(ot),ri=null,dn=d(57817),da={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},un={default:da,hover:{thumbColor:"rgba(0,0,0,0.2)"}},pa=function(zt){(0,x.__extends)(vt,zt);function vt(){var z=zt!==null&&zt.apply(this,arguments)||this;return z.clearEvents=m.noop,z.onStartEvent=function(_){return function(I){z.isMobile=_,I.originalEvent.preventDefault();var B=_?(0,m.get)(I.originalEvent,"touches.0.clientX"):I.clientX,Y=_?(0,m.get)(I.originalEvent,"touches.0.clientY"):I.clientY;z.startPos=z.cfg.isHorizontal?B:Y,z.bindLaterEvent()}},z.bindLaterEvent=function(){var _=z.getContainerDOM(),I=[];z.isMobile?I=[(0,dn.Z)(_,"touchmove",z.onMouseMove),(0,dn.Z)(_,"touchend",z.onMouseUp),(0,dn.Z)(_,"touchcancel",z.onMouseUp)]:I=[(0,dn.Z)(_,"mousemove",z.onMouseMove),(0,dn.Z)(_,"mouseup",z.onMouseUp),(0,dn.Z)(_,"mouseleave",z.onMouseUp)],z.clearEvents=function(){I.forEach(function(B){B.remove()})}},z.onMouseMove=function(_){var I=z.cfg,B=I.isHorizontal,Y=I.thumbOffset;_.preventDefault();var U=z.isMobile?(0,m.get)(_,"touches.0.clientX"):_.clientX,rt=z.isMobile?(0,m.get)(_,"touches.0.clientY"):_.clientY,mt=B?U:rt,Tt=mt-z.startPos;z.startPos=mt,z.updateThumbOffset(Y+Tt)},z.onMouseUp=function(_){_.preventDefault(),z.clearEvents()},z.onTrackClick=function(_){var I=z.cfg,B=I.isHorizontal,Y=I.x,U=I.y,rt=I.thumbLen,mt=z.getContainerDOM(),Tt=mt.getBoundingClientRect(),_t=_.clientX,$t=_.clientY,ne=B?_t-Tt.left-Y-rt/2:$t-Tt.top-U-rt/2,pe=z.validateRange(ne);z.updateThumbOffset(pe)},z.onThumbMouseOver=function(){var _=z.cfg.theme.hover.thumbColor;z.getElementByLocalId("thumb").attr("stroke",_),z.draw()},z.onThumbMouseOut=function(){var _=z.cfg.theme.default.thumbColor;z.getElementByLocalId("thumb").attr("stroke",_),z.draw()},z}return vt.prototype.setRange=function(z,_){this.set("minLimit",z),this.set("maxLimit",_);var I=this.getValue(),B=(0,m.clamp)(I,z,_);I!==B&&!this.get("isInit")&&this.setValue(B)},vt.prototype.getRange=function(){var z=this.get("minLimit")||0,_=this.get("maxLimit")||1;return{min:z,max:_}},vt.prototype.setValue=function(z){var _=this.getRange(),I=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,m.clamp)(z,_.min,_.max)}),this.delegateEmit("valuechange",{originalValue:I,value:this.getValue()})},vt.prototype.getValue=function(){return(0,m.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},vt.prototype.getDefaultCfg=function(){var z=zt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},z),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:un})},vt.prototype.renderInner=function(z){this.renderTrackShape(z),this.renderThumbShape(z)},vt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},vt.prototype.initEvent=function(){this.bindEvents()},vt.prototype.renderTrackShape=function(z){var _=this.cfg,I=_.trackLen,B=_.theme,Y=B===void 0?{default:{}}:B,U=Y.default,rt=U.lineCap,mt=U.trackColor,Tt=U.size,_t=this.get("isHorizontal")?{x1:0+Tt/2,y1:Tt/2,x2:I-Tt/2,y2:Tt/2,lineWidth:Tt,stroke:mt,lineCap:rt}:{x1:Tt/2,y1:0+Tt/2,x2:Tt/2,y2:I-Tt/2,lineWidth:Tt,stroke:mt,lineCap:rt};return this.addShape(z,{id:this.getElementId("track"),name:"track",type:"line",attrs:_t})},vt.prototype.renderThumbShape=function(z){var _=this.cfg,I=_.thumbOffset,B=_.thumbLen,Y=_.theme,U=Y===void 0?{default:{}}:Y,rt=U.default,mt=rt.size,Tt=rt.lineCap,_t=rt.thumbColor,$t=this.get("isHorizontal")?{x1:I+mt/2,y1:mt/2,x2:I+B-mt/2,y2:mt/2,lineWidth:mt,stroke:_t,lineCap:Tt,cursor:"default"}:{x1:mt/2,y1:I+mt/2,x2:mt/2,y2:I+B-mt/2,lineWidth:mt,stroke:_t,lineCap:Tt,cursor:"default"};return this.addShape(z,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:$t})},vt.prototype.bindEvents=function(){var z=this.get("group");z.on("mousedown",this.onStartEvent(!1)),z.on("mouseup",this.onMouseUp),z.on("touchstart",this.onStartEvent(!0)),z.on("touchend",this.onMouseUp);var _=z.findById(this.getElementId("track"));_.on("click",this.onTrackClick);var I=z.findById(this.getElementId("thumb"));I.on("mouseover",this.onThumbMouseOver),I.on("mouseout",this.onThumbMouseOut)},vt.prototype.getContainerDOM=function(){var z=this.get("container"),_=z&&z.get("canvas");return _&&_.get("container")},vt.prototype.validateRange=function(z){var _=this.cfg,I=_.thumbLen,B=_.trackLen,Y=z;return z+I>B?Y=B-I:z+I<I&&(Y=0),Y},vt.prototype.draw=function(){var z=this.get("container"),_=z&&z.get("canvas");_&&_.draw()},vt.prototype.updateThumbOffset=function(z){var _=this.cfg,I=_.thumbOffset,B=_.isHorizontal,Y=_.thumbLen,U=_.size,rt=this.validateRange(z);if(rt!==I){var mt=this.getElementByLocalId("thumb");B?mt.attr({x1:rt+U/2,x2:rt+Y-U/2}):mt.attr({y1:rt+U/2,y2:rt+Y-U/2}),this.emitOffsetChange(rt)}},vt.prototype.emitOffsetChange=function(z){var _=this.cfg,I=_.thumbOffset,B=_.trackLen,Y=_.thumbLen;this.cfg.thumbOffset=z,this.emit("scrollchange",{thumbOffset:z,ratio:(0,m.clamp)(z/(B-Y),0,1)}),this.delegateEmit("valuechange",{originalValue:I,value:z})},vt}(ot)},15110:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(62117),P=d(65722),D=d(49242),O={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},L=function(T){b.__extends(A,T);function A(E){var p=T.call(this,E)||this;return p.initCfg(),p}return A.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},A.prototype.clear=function(){},A.prototype.update=function(E){var p=this,w=this.get("defaultCfg");D.each(E,function(y,x){var m=p.get(x),M=y;m!==y&&(D.isObject(y)&&w[x]&&(M=D.deepMix({},w[x],y)),p.set(x,M))}),this.updateInner(E),this.afterUpdate(E)},A.prototype.updateInner=function(E){},A.prototype.afterUpdate=function(E){D.hasKey(E,"visible")&&(E.visible?this.show():this.hide()),D.hasKey(E,"capture")&&this.setCapture(E.capture)},A.prototype.getLayoutBBox=function(){return this.getBBox()},A.prototype.getLocationType=function(){return this.get("locationType")},A.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},A.prototype.setOffset=function(E,p){this.update({offsetX:E,offsetY:p})},A.prototype.setLocation=function(E){var p=b.__assign({},E);this.update(p)},A.prototype.getLocation=function(){var E=this,p={},w=this.get("locationType"),y=O[w];return D.each(y,function(x){p[x]=E.get(x)}),p},A.prototype.isList=function(){return!1},A.prototype.isSlider=function(){return!1},A.prototype.init=function(){},A.prototype.initCfg=function(){var E=this,p=this.get("defaultCfg");D.each(p,function(w,y){var x=E.get(y);if(D.isObject(x)){var m=D.deepMix({},w,x);E.set(y,m)}})},A}(P.Base);S.default=L},51964:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(62117),P=d(80478),D=d(49242),O=d(11594),L=d(15110),T=function(A){b.__extends(E,A);function E(){return A!==null&&A.apply(this,arguments)||this}return E.prototype.getDefaultCfg=function(){var p=A.prototype.getDefaultCfg.call(this);return b.__assign(b.__assign({},p),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},E.prototype.getContainer=function(){return this.get("container")},E.prototype.show=function(){var p=this.get("container");p.style.display="",this.set("visible",!0)},E.prototype.hide=function(){var p=this.get("container");p.style.display="none",this.set("visible",!1)},E.prototype.setCapture=function(p){var w=this.getContainer(),y=p?"auto":"none";w.style.pointerEvents=y,this.set("capture",p)},E.prototype.getBBox=function(){var p=this.getContainer(),w=parseFloat(p.style.left)||0,y=parseFloat(p.style.top)||0;return O.createBBox(w,y,p.clientWidth,p.clientHeight)},E.prototype.clear=function(){var p=this.get("container");O.clearDom(p)},E.prototype.destroy=function(){this.removeEvent(),this.removeDom(),A.prototype.destroy.call(this)},E.prototype.init=function(){A.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},E.prototype.initCapture=function(){this.setCapture(this.get("capture"))},E.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},E.prototype.initDom=function(){},E.prototype.initContainer=function(){var p=this.get("container");if(D.isNil(p)){p=this.createDom();var w=this.get("parent");D.isString(w)&&(w=document.getElementById(w),this.set("parent",w)),w.appendChild(p),this.set("container",p)}else D.isString(p)&&(p=document.getElementById(p),this.set("container",p));this.get("parent")||this.set("parent",p.parentNode)},E.prototype.resetStyles=function(){var p=this.get("domStyles"),w=this.get("defaultStyles");p?p=D.deepMix({},w,p):p=w,this.set("domStyles",p)},E.prototype.applyStyles=function(){var p=this.get("domStyles");if(!!p){var w=this.getContainer();this.applyChildrenStyles(w,p);var y=this.get("containerClassName");if(y&&O.hasClass(w,y)){var x=p[y];P.modifyCSS(w,x)}}},E.prototype.applyChildrenStyles=function(p,w){D.each(w,function(y,x){var m=p.getElementsByClassName(x);D.each(m,function(M){P.modifyCSS(M,y)})})},E.prototype.applyStyle=function(p,w){var y=this.get("domStyles");P.modifyCSS(w,y[p])},E.prototype.createDom=function(){var p=this.get("containerTpl");return P.createDom(p)},E.prototype.initEvent=function(){},E.prototype.removeDom=function(){var p=this.get("container");p&&p.parentNode.removeChild(p)},E.prototype.removeEvent=function(){},E.prototype.updateInner=function(p){D.hasKey(p,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},E.prototype.resetPosition=function(){},E}(L.default);S.default=T},7755:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CROSSHAIR_Y=S.CROSSHAIR_X=S.NAME_CLASS=S.VALUE_CLASS=S.MARKER_CLASS=S.LIST_ITEM_CLASS=S.LIST_CLASS=S.TITLE_CLASS=S.CONTAINER_CLASS=void 0,S.CONTAINER_CLASS="g2-tooltip",S.TITLE_CLASS="g2-tooltip-title",S.LIST_CLASS="g2-tooltip-list",S.LIST_ITEM_CLASS="g2-tooltip-list-item",S.MARKER_CLASS="g2-tooltip-marker",S.VALUE_CLASS="g2-tooltip-value",S.NAME_CLASS="g2-tooltip-name",S.CROSSHAIR_X="g2-tooltip-crosshair-x",S.CROSSHAIR_Y="g2-tooltip-crosshair-y"},55225:function(dt,S,d){"use strict";var b;Object.defineProperty(S,"__esModule",{value:!0});var P=d(52782),D=d(7755);S.default=(b={},b[""+D.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:P.default.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},b[""+D.TITLE_CLASS]={marginBottom:"4px"},b[""+D.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},b[""+D.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},b[""+D.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},b[""+D.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},b[""+D.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},b[""+D.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},b)},88373:function(dt,S,d){"use strict";var b;b={value:!0};var P=d(62117),D=d(55223),O=d(80478),L=d(49242),T=d(51964),A=d(11594),E=d(7755),p=d(55225),w=d(51227);function y(m,M){var k=!1;return L.each(M,function(R){if(L.hasKey(m,R))return k=!0,!1}),k}var x=function(m){P.__extends(M,m);function M(){return m!==null&&m.apply(this,arguments)||this}return M.prototype.getDefaultCfg=function(){var k=m.prototype.getDefaultCfg.call(this);return P.__assign(P.__assign({},k),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+E.CONTAINER_CLASS+'"><div class="'+E.TITLE_CLASS+'"></div><ul class="'+E.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+E.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+E.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+E.NAME_CLASS+`">{name}</span>:
          <span class="`+E.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+E.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+E.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:E.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:p.default})},M.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},M.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},M.prototype.show=function(){var k=this.getContainer();!k||this.destroyed||(this.set("visible",!0),O.modifyCSS(k,{visibility:"visible"}),this.setCrossHairsVisible(!0))},M.prototype.hide=function(){var k=this.getContainer();!k||this.destroyed||(this.set("visible",!1),O.modifyCSS(k,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},M.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},M.prototype.setLocation=function(k){this.set("x",k.x),this.set("y",k.y),this.resetPosition()},M.prototype.setCrossHairsVisible=function(k){var R=k?"":"none",N=this.get("xCrosshairDom"),W=this.get("yCrosshairDom");N&&O.modifyCSS(N,{display:R}),W&&O.modifyCSS(W,{display:R})},M.prototype.initContainer=function(){if(m.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var k=this.getHtmlContentNode();this.get("parent").appendChild(k),this.set("container",k),this.resetStyles(),this.applyStyles()}},M.prototype.updateInner=function(k){this.get("customContent")?this.renderCustomContent():(y(k,["title","showTitle"])&&this.resetTitle(),L.hasKey(k,"items")&&this.renderItems()),m.prototype.updateInner.call(this,k)},M.prototype.initDom=function(){this.cacheDoms()},M.prototype.removeDom=function(){m.prototype.removeDom.call(this),this.clearCrosshairs()},M.prototype.resetPosition=function(){var k=this.get("x"),R=this.get("y"),N=this.get("offset"),W=this.getOffset(),Q=W.offsetX,H=W.offsetY,$=this.get("position"),it=this.get("region"),nt=this.getContainer(),wt=this.getBBox(),yt=wt.width,Lt=wt.height,Mt;it&&(Mt=A.regionToBBox(it));var J=w.getAlignPoint(k,R,N,yt,Lt,$,Mt);O.modifyCSS(nt,{left:A.toPx(J.x+Q),top:A.toPx(J.y+H)}),this.resetCrosshairs()},M.prototype.renderCustomContent=function(){var k=this.getHtmlContentNode(),R=this.get("parent"),N=this.get("container");N&&N.parentNode===R?R.replaceChild(k,N):R.appendChild(k),this.set("container",k),this.resetStyles(),this.applyStyles()},M.prototype.getHtmlContentNode=function(){var k,R=this.get("customContent");if(R){var N=R(this.get("title"),this.get("items"));L.isElement(N)?k=N:k=O.createDom(N)}return k},M.prototype.cacheDoms=function(){var k=this.getContainer(),R=k.getElementsByClassName(E.TITLE_CLASS)[0],N=k.getElementsByClassName(E.LIST_CLASS)[0];this.set("titleDom",R),this.set("listDom",N)},M.prototype.resetTitle=function(){var k=this.get("title"),R=this.get("showTitle");R&&k?this.setTitle(k):this.setTitle("")},M.prototype.setTitle=function(k){var R=this.get("titleDom");R&&(R.innerText=k)},M.prototype.resetCrosshairs=function(){var k=this.get("crosshairsRegion"),R=this.get("crosshairs");if(!k||!R)this.clearCrosshairs();else{var N=A.regionToBBox(k),W=this.get("xCrosshairDom"),Q=this.get("yCrosshairDom");R==="x"?(this.resetCrosshair("x",N),Q&&(Q.remove(),this.set("yCrosshairDom",null))):R==="y"?(this.resetCrosshair("y",N),W&&(W.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",N),this.resetCrosshair("y",N)),this.setCrossHairsVisible(this.get("visible"))}},M.prototype.resetCrosshair=function(k,R){var N=this.checkCrosshair(k),W=this.get(k);k==="x"?O.modifyCSS(N,{left:A.toPx(W),top:A.toPx(R.y),height:A.toPx(R.height)}):O.modifyCSS(N,{top:A.toPx(W),left:A.toPx(R.x),width:A.toPx(R.width)})},M.prototype.checkCrosshair=function(k){var R=k+"CrosshairDom",N=k+"CrosshairTpl",W="CROSSHAIR_"+k.toUpperCase(),Q=E[W],H=this.get(R),$=this.get("parent");return H||(H=O.createDom(this.get(N)),this.applyStyle(Q,H),$.appendChild(H),this.set(R,H)),H},M.prototype.renderItems=function(){this.clearItemDoms();var k=this.get("items"),R=this.get("itemTpl"),N=this.get("listDom");N&&(L.each(k,function(W){var Q=D.default.toCSSGradient(W.color),H=P.__assign(P.__assign({},W),{color:Q}),$=L.substitute(R,H),it=O.createDom($);N.appendChild(it)}),this.applyChildrenStyles(N,this.get("domStyles")))},M.prototype.clearItemDoms=function(){this.get("listDom")&&A.clearDom(this.get("listDom"))},M.prototype.clearCrosshairs=function(){var k=this.get("xCrosshairDom"),R=this.get("yCrosshairDom");k&&k.remove(),R&&R.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},M}(T.default);S.Z=x},51227:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getAlignPoint=S.getPointByPosition=S.getOutSides=void 0;function d(D,O,L,T,A){var E={left:D<A.x,right:D+L>A.x+A.width,top:O<A.y,bottom:O+T>A.y+A.height};return E}S.getOutSides=d;function b(D,O,L,T,A,E){var p=D,w=O;switch(E){case"left":p=D-T-L,w=O-A/2;break;case"right":p=D+L,w=O-A/2;break;case"top":p=D-T/2,w=O-A-L;break;case"bottom":p=D-T/2,w=O+L;break;default:p=D+L,w=O-A-L;break}return{x:p,y:w}}S.getPointByPosition=b;function P(D,O,L,T,A,E,p){var w=b(D,O,L,T,A,E);if(p){var y=d(w.x,w.y,T,A,p);E==="auto"?(y.right&&(w.x=Math.max(0,D-T-L)),y.top&&(w.y=Math.max(0,O-A-L))):E==="top"||E==="bottom"?(y.left&&(w.x=p.x),y.right&&(w.x=p.x+p.width-T),E==="top"&&y.top&&(w.y=O+L),E==="bottom"&&y.bottom&&(w.y=O-A-L)):(y.top&&(w.y=p.y),y.bottom&&(w.y=p.y+p.height-A),E==="left"&&y.left&&(w.x=D+L),E==="right"&&y.right&&(w.x=D-T-L))}return w}S.getAlignPoint=P},31207:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.propagationDelegate=void 0;var b=d(66192);function P(D,O,L){var T=new b.default(O,L);T.target=D,T.propagationPath.push(D),D.emitDelegation(O,T);for(var A=D.getParent();A;)A.emitDelegation(O,T),T.propagationPath.push(A),A=A.getParent()}S.propagationDelegate=P},52782:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},11594:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getTextPoint=S.toPx=S.updateClip=S.getBBoxWithClip=S.mergeBBox=S.intersectBBox=S.near=S.wait=S.distance=S.getCirclePoint=S.getValueByPercent=S.createBBox=S.pointsToBBox=S.regionToBBox=S.hasClass=S.clearDom=S.formatPadding=void 0;var b=d(49242);function P(N){var W=0,Q=0,H=0,$=0;return b.isNumber(N)?W=Q=H=$=N:b.isArray(N)&&(W=N[0],H=b.isNil(N[1])?N[0]:N[1],$=b.isNil(N[2])?N[0]:N[2],Q=b.isNil(N[3])?H:N[3]),[W,H,$,Q]}S.formatPadding=P;function D(N){for(var W=N.childNodes,Q=W.length,H=Q-1;H>=0;H--)N.removeChild(W[H])}S.clearDom=D;function O(N,W){return!!N.className.match(new RegExp("(\\s|^)"+W+"(\\s|$)"))}S.hasClass=O;function L(N){var W=N.start,Q=N.end,H=Math.min(W.x,Q.x),$=Math.min(W.y,Q.y),it=Math.max(W.x,Q.x),nt=Math.max(W.y,Q.y);return{x:H,y:$,minX:H,minY:$,maxX:it,maxY:nt,width:it-H,height:nt-$}}S.regionToBBox=L;function T(N){var W=N.map(function(wt){return wt.x}),Q=N.map(function(wt){return wt.y}),H=Math.min.apply(Math,W),$=Math.min.apply(Math,Q),it=Math.max.apply(Math,W),nt=Math.max.apply(Math,Q);return{x:H,y:$,minX:H,minY:$,maxX:it,maxY:nt,width:it-H,height:nt-$}}S.pointsToBBox=T;function A(N,W,Q,H){return{x:N,y:W,width:Q,height:H,minX:N,minY:W,maxX:N+Q,maxY:W+H}}S.createBBox=A;function E(N,W,Q){return(1-Q)*N+W*Q}S.getValueByPercent=E;function p(N,W,Q){return{x:N.x+Math.cos(Q)*W,y:N.y+Math.sin(Q)*W}}S.getCirclePoint=p;function w(N,W){var Q=W.x-N.x,H=W.y-N.y;return Math.sqrt(Q*Q+H*H)}S.distance=w,S.wait=function(N){return new Promise(function(W){setTimeout(W,N)})},S.near=function(N,W){return[N,W].includes(Infinity)?Math.abs(N)===Math.abs(W):Math.abs(N-W)<Math.pow(Number.EPSILON,.5)};function y(N,W){var Q=Math.max(N.minX,W.minX),H=Math.max(N.minY,W.minY),$=Math.min(N.maxX,W.maxX),it=Math.min(N.maxY,W.maxY);return A(Q,H,$-Q,it-H)}S.intersectBBox=y;function x(N,W){var Q=Math.min(N.minX,W.minX),H=Math.min(N.minY,W.minY),$=Math.max(N.maxX,W.maxX),it=Math.max(N.maxY,W.maxY);return A(Q,H,$-Q,it-H)}S.mergeBBox=x;function m(N){var W=N.getClip(),Q=W&&W.getBBox(),H;if(!N.isGroup())H=N.getBBox();else{var $=Infinity,it=-Infinity,nt=Infinity,wt=-Infinity,yt=N.getChildren();yt.length>0?b.each(yt,function(Lt){if(Lt.get("visible")){if(Lt.isGroup()&&Lt.get("children").length===0)return!0;var Mt=m(Lt),J=Lt.applyToMatrix([Mt.minX,Mt.minY,1]),tt=Lt.applyToMatrix([Mt.minX,Mt.maxY,1]),q=Lt.applyToMatrix([Mt.maxX,Mt.minY,1]),lt=Lt.applyToMatrix([Mt.maxX,Mt.maxY,1]),gt=Math.min(J[0],tt[0],q[0],lt[0]),K=Math.max(J[0],tt[0],q[0],lt[0]),j=Math.min(J[1],tt[1],q[1],lt[1]),Z=Math.max(J[1],tt[1],q[1],lt[1]);gt<$&&($=gt),K>it&&(it=K),j<nt&&(nt=j),Z>wt&&(wt=Z)}}):($=0,it=0,nt=0,wt=0),H=A($,nt,it-$,wt-nt)}return Q?y(H,Q):H}S.getBBoxWithClip=m;function M(N,W){if(!(!N.getClip()&&!W.getClip())){var Q=W.getClip();if(!Q){N.setClip(null);return}var H={type:Q.get("type"),attrs:Q.attr()};N.setClip(H)}}S.updateClip=M;function k(N){return N+"px"}S.toPx=k;function R(N,W,Q,H){var $=w(N,W),it=H/$,nt=0;return Q==="start"?nt=0-it:Q==="end"&&(nt=1+it),{x:E(N.x,W.x,nt),y:E(N.y,W.y,nt)}}S.getTextPoint=R},13541:function(dt,S,d){"use strict";d.r(S),d.d(S,{Coordinate:function(){return A},getCoordinate:function(){return R},registerCoordinate:function(){return N}});var b=d(70655),P=d(77160),D=d(35600),O=d(31506),L=d(49242),T=function(){function W(Q){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var H=Q.start,$=Q.end,it=Q.matrix,nt=it===void 0?[1,0,0,0,1,0,0,0,1]:it,wt=Q.isTransposed,yt=wt===void 0?!1:wt;this.start=H,this.end=$,this.matrix=nt,this.originalMatrix=(0,b.__spreadArray)([],nt),this.isTransposed=yt}return W.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},W.prototype.update=function(Q){(0,L.assign)(this,Q),this.initial()},W.prototype.convertDim=function(Q,H){var $,it=this[H],nt=it.start,wt=it.end;return this.isReflect(H)&&($=[wt,nt],nt=$[0],wt=$[1]),nt+Q*(wt-nt)},W.prototype.invertDim=function(Q,H){var $,it=this[H],nt=it.start,wt=it.end;return this.isReflect(H)&&($=[wt,nt],nt=$[0],wt=$[1]),(Q-nt)/(wt-nt)},W.prototype.applyMatrix=function(Q,H,$){$===void 0&&($=0);var it=this.matrix,nt=[Q,H,$];return P.transformMat3(nt,nt,it),nt},W.prototype.invertMatrix=function(Q,H,$){$===void 0&&($=0);var it=this.matrix,nt=D.invert([0,0,0,0,0,0,0,0,0],it),wt=[Q,H,$];return nt&&P.transformMat3(wt,wt,nt),wt},W.prototype.convert=function(Q){var H=this.convertPoint(Q),$=H.x,it=H.y,nt=this.applyMatrix($,it,1);return{x:nt[0],y:nt[1]}},W.prototype.invert=function(Q){var H=this.invertMatrix(Q.x,Q.y,1);return this.invertPoint({x:H[0],y:H[1]})},W.prototype.rotate=function(Q){var H=this.matrix,$=this.center;return O.leftTranslate(H,H,[-$.x,-$.y]),O.leftRotate(H,H,Q),O.leftTranslate(H,H,[$.x,$.y]),this},W.prototype.reflect=function(Q){return Q==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},W.prototype.scale=function(Q,H){var $=this.matrix,it=this.center;return O.leftTranslate($,$,[-it.x,-it.y]),O.leftScale($,$,[Q,H]),O.leftTranslate($,$,[it.x,it.y]),this},W.prototype.translate=function(Q,H){var $=this.matrix;return O.leftTranslate($,$,[Q,H]),this},W.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},W.prototype.getCenter=function(){return this.center},W.prototype.getWidth=function(){return this.width},W.prototype.getHeight=function(){return this.height},W.prototype.getRadius=function(){return this.radius},W.prototype.isReflect=function(Q){return Q==="x"?this.isReflectX:this.isReflectY},W.prototype.resetMatrix=function(Q){this.matrix=Q||(0,b.__spreadArray)([],this.originalMatrix)},W}(),A=T,E=function(W){(0,b.__extends)(Q,W);function Q(H){var $=W.call(this,H)||this;return $.isRect=!0,$.type="cartesian",$.initial(),$}return Q.prototype.initial=function(){W.prototype.initial.call(this);var H=this.start,$=this.end;this.x={start:H.x,end:$.x},this.y={start:H.y,end:$.y}},Q.prototype.convertPoint=function(H){var $,it=H.x,nt=H.y;return this.isTransposed&&($=[nt,it],it=$[0],nt=$[1]),{x:this.convertDim(it,"x"),y:this.convertDim(nt,"y")}},Q.prototype.invertPoint=function(H){var $,it=this.invertDim(H.x,"x"),nt=this.invertDim(H.y,"y");return this.isTransposed&&($=[nt,it],it=$[0],nt=$[1]),{x:it,y:nt}},Q}(A),p=E,w=d(31437),y=function(W){(0,b.__extends)(Q,W);function Q(H){var $=W.call(this,H)||this;$.isHelix=!0,$.type="helix";var it=H.startAngle,nt=it===void 0?1.25*Math.PI:it,wt=H.endAngle,yt=wt===void 0?7.25*Math.PI:wt,Lt=H.innerRadius,Mt=Lt===void 0?0:Lt,J=H.radius;return $.startAngle=nt,$.endAngle=yt,$.innerRadius=Mt,$.radius=J,$.initial(),$}return Q.prototype.initial=function(){W.prototype.initial.call(this);var H=(this.endAngle-this.startAngle)/(2*Math.PI)+1,$=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&($=$*this.radius),this.d=Math.floor($*(1-this.innerRadius)/H),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*$,end:this.innerRadius*$+this.d*.99}},Q.prototype.convertPoint=function(H){var $,it=H.x,nt=H.y;this.isTransposed&&($=[nt,it],it=$[0],nt=$[1]);var wt=this.convertDim(it,"x"),yt=this.a*wt,Lt=this.convertDim(nt,"y");return{x:this.center.x+Math.cos(wt)*(yt+Lt),y:this.center.y+Math.sin(wt)*(yt+Lt)}},Q.prototype.invertPoint=function(H){var $,it=this.d+this.y.start,nt=w.subtract([0,0],[H.x,H.y],[this.center.x,this.center.y]),wt=O.angleTo(nt,[1,0],!0),yt=wt*this.a;w.length(nt)<yt&&(yt=w.length(nt));var Lt=Math.floor((w.length(nt)-yt)/it);wt=2*Lt*Math.PI+wt;var Mt=this.a*wt,J=w.length(nt)-Mt;J=(0,L.isNumberEqual)(J,0)?0:J;var tt=this.invertDim(wt,"x"),q=this.invertDim(J,"y");return tt=(0,L.isNumberEqual)(tt,0)?0:tt,q=(0,L.isNumberEqual)(q,0)?0:q,this.isTransposed&&($=[q,tt],tt=$[0],q=$[1]),{x:tt,y:q}},Q}(A),x=y,m=function(W){(0,b.__extends)(Q,W);function Q(H){var $=W.call(this,H)||this;$.isPolar=!0,$.type="polar";var it=H.startAngle,nt=it===void 0?-Math.PI/2:it,wt=H.endAngle,yt=wt===void 0?Math.PI*3/2:wt,Lt=H.innerRadius,Mt=Lt===void 0?0:Lt,J=H.radius;return $.startAngle=nt,$.endAngle=yt,$.innerRadius=Mt,$.radius=J,$.initial(),$}return Q.prototype.initial=function(){for(W.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var H=this.getOneBox(),$=H.maxX-H.minX,it=H.maxY-H.minY,nt=Math.abs(H.minX)/$,wt=Math.abs(H.minY)/it,yt;this.height/it>this.width/$?(yt=this.width/$,this.circleCenter={x:this.center.x-(.5-nt)*this.width,y:this.center.y-(.5-wt)*yt*it}):(yt=this.height/it,this.circleCenter={x:this.center.x-(.5-nt)*yt*$,y:this.center.y-(.5-wt)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=yt*this.radius:(this.radius<=0||this.radius>yt)&&(this.polarRadius=yt):this.polarRadius=yt,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},Q.prototype.getRadius=function(){return this.polarRadius},Q.prototype.convertPoint=function(H){var $,it=this.getCenter(),nt=H.x,wt=H.y;return this.isTransposed&&($=[wt,nt],nt=$[0],wt=$[1]),nt=this.convertDim(nt,"x"),wt=this.convertDim(wt,"y"),{x:it.x+Math.cos(nt)*wt,y:it.y+Math.sin(nt)*wt}},Q.prototype.invertPoint=function(H){var $,it=this.getCenter(),nt=[H.x-it.x,H.y-it.y],wt=this,yt=wt.startAngle,Lt=wt.endAngle;this.isReflect("x")&&($=[Lt,yt],yt=$[0],Lt=$[1]);var Mt=[1,0,0,0,1,0,0,0,1];O.leftRotate(Mt,Mt,yt);var J=[1,0,0];P.transformMat3(J,J,Mt);var tt=[J[0],J[1]],q=O.angleTo(tt,nt,Lt<yt);(0,L.isNumberEqual)(q,Math.PI*2)&&(q=0);var lt=w.length(nt),gt=q/(Lt-yt);gt=Lt-yt>0?gt:-gt;var K=this.invertDim(lt,"y"),j={x:0,y:0};return j.x=this.isTransposed?K:gt,j.y=this.isTransposed?gt:K,j},Q.prototype.getCenter=function(){return this.circleCenter},Q.prototype.getOneBox=function(){var H=this.startAngle,$=this.endAngle;if(Math.abs($-H)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var it=[0,Math.cos(H),Math.cos($)],nt=[0,Math.sin(H),Math.sin($)],wt=Math.min(H,$);wt<Math.max(H,$);wt+=Math.PI/18)it.push(Math.cos(wt)),nt.push(Math.sin(wt));return{minX:Math.min.apply(Math,it),maxX:Math.max.apply(Math,it),minY:Math.min.apply(Math,nt),maxY:Math.max.apply(Math,nt)}},Q}(A),M=m,k={},R=function(W){return k[W.toLowerCase()]},N=function(W,Q){k[W.toLowerCase()]=Q};N("rect",p),N("cartesian",p),N("polar",M),N("helix",x)},57817:function(dt,S,d){"use strict";d.d(S,{Z:function(){return b}});function b(P,D,O){if(P){if(typeof P.addEventListener=="function")return P.addEventListener(D,O,!1),{remove:function(){P.removeEventListener(D,O,!1)}};if(typeof P.attachEvent=="function")return P.attachEvent("on"+D,O),{remove:function(){P.detachEvent("on"+D,O)}}}}},6056:function(dt,S,d){"use strict";d.d(S,{Z:function(){return T}});var b,P,D,O;function L(){b=document.createElement("table"),P=document.createElement("tr"),D=/^\s*<(\w+|!)[^>]*>/,O={tr:document.createElement("tbody"),tbody:b,thead:b,tfoot:b,td:P,th:P,"*":document.createElement("div")}}function T(A){b||L();var E=D.test(A)&&RegExp.$1;(!E||!(E in O))&&(E="*");var p=O[E];A=typeof A=="string"?A.replace(/(^\s*)|(\s*$)/g,""):A,p.innerHTML=""+A;var w=p.childNodes[0];return w&&p.contains(w)&&p.removeChild(w),w}},10430:function(dt,S,d){"use strict";d.d(S,{Z:function(){return P}});var b=d(99911);function P(D,O){var L=(0,b.Z)(D,"height",O);return L==="auto"&&(L=D.offsetHeight),parseFloat(L)}},79189:function(dt,S,d){"use strict";d.d(S,{Z:function(){return D}});var b=d(99911),P=d(10430);function D(O,L){var T=(0,P.Z)(O,L),A=parseFloat((0,b.Z)(O,"borderTopWidth"))||0,E=parseFloat((0,b.Z)(O,"paddingTop"))||0,p=parseFloat((0,b.Z)(O,"paddingBottom"))||0,w=parseFloat((0,b.Z)(O,"borderBottomWidth"))||0,y=parseFloat((0,b.Z)(O,"marginTop"))||0,x=parseFloat((0,b.Z)(O,"marginBottom"))||0;return T+A+w+E+p+y+x}},89810:function(dt,S,d){"use strict";d.d(S,{Z:function(){return D}});var b=d(99911),P=d(23408);function D(O,L){var T=(0,P.Z)(O,L),A=parseFloat((0,b.Z)(O,"borderLeftWidth"))||0,E=parseFloat((0,b.Z)(O,"paddingLeft"))||0,p=parseFloat((0,b.Z)(O,"paddingRight"))||0,w=parseFloat((0,b.Z)(O,"borderRightWidth"))||0,y=parseFloat((0,b.Z)(O,"marginRight"))||0,x=parseFloat((0,b.Z)(O,"marginLeft"))||0;return T+A+w+E+p+x+y}},99911:function(dt,S,d){"use strict";d.d(S,{Z:function(){return b}});function b(P,D,O){var L;try{L=window.getComputedStyle?window.getComputedStyle(P,null)[D]:P.style[D]}catch(T){}finally{L=L===void 0?O:L}return L}},23408:function(dt,S,d){"use strict";d.d(S,{Z:function(){return P}});var b=d(99911);function P(D,O){var L=(0,b.Z)(D,"width",O);return L==="auto"&&(L=D.offsetWidth),parseFloat(L)}},80478:function(dt,S,d){"use strict";d.r(S),d.d(S,{addEventListener:function(){return b.Z},createDom:function(){return P.Z},getHeight:function(){return D.Z},getOuterHeight:function(){return O.Z},getOuterWidth:function(){return L.Z},getRatio:function(){return T},getStyle:function(){return A.Z},getWidth:function(){return E.Z},modifyCSS:function(){return p.Z}});var b=d(57817),P=d(6056),D=d(10430),O=d(79189),L=d(89810);function T(){return window.devicePixelRatio?window.devicePixelRatio:2}var A=d(99911),E=d(23408),p=d(45442)},45442:function(dt,S,d){"use strict";d.d(S,{Z:function(){return b}});function b(P,D){if(P)for(var O in D)D.hasOwnProperty(O)&&(P.style[O]=D[O]);return P}},73136:function(dt,S){"use strict";var d;d={value:!0};function b(P,D,O){if(P){if(typeof P.addEventListener=="function")return P.addEventListener(D,O,!1),{remove:function(){P.removeEventListener(D,O,!1)}};if(typeof P.attachEvent=="function")return P.attachEvent("on"+D,O),{remove:function(){P.detachEvent("on"+D,O)}}}}S.Z=b},57821:function(dt,S){"use strict";var d;d={value:!0};var b,P,D,O;function L(){b=document.createElement("table"),P=document.createElement("tr"),D=/^\s*<(\w+|!)[^>]*>/,O={tr:document.createElement("tbody"),tbody:b,thead:b,tfoot:b,td:P,th:P,"*":document.createElement("div")}}function T(A){b||L();var E=D.test(A)&&RegExp.$1;(!E||!(E in O))&&(E="*");var p=O[E];A=typeof A=="string"?A.replace(/(^\s*)|(\s*$)/g,""):A,p.innerHTML=""+A;var w=p.childNodes[0];return w&&p.contains(w)&&p.removeChild(w),w}S.Z=T},1513:function(dt,S){"use strict";var d;d={value:!0};function b(P,D){if(P)for(var O in D)D.hasOwnProperty(O)&&(P.style[O]=D[O]);return P}S.Z=b},90494:function(dt,S,d){"use strict";d.r(S);var b="*",P=function(){function D(){this._events={}}return D.prototype.on=function(O,L,T){return this._events[O]||(this._events[O]=[]),this._events[O].push({callback:L,once:!!T}),this},D.prototype.once=function(O,L){return this.on(O,L,!0)},D.prototype.emit=function(O){for(var L=this,T=[],A=1;A<arguments.length;A++)T[A-1]=arguments[A];var E=this._events[O]||[],p=this._events[b]||[],w=function(y){for(var x=y.length,m=0;m<x;m++)if(!!y[m]){var M=y[m],k=M.callback,R=M.once;R&&(y.splice(m,1),y.length===0&&delete L._events[O],x--,m--),k.apply(L,T)}};w(E),w(p)},D.prototype.off=function(O,L){if(!O)this._events={};else if(!L)delete this._events[O];else{for(var T=this._events[O]||[],A=T.length,E=0;E<A;E++)T[E].callback===L&&(T.splice(E,1),A--,E--);T.length===0&&delete this._events[O]}return this},D.prototype.getEvents=function(){return this._events},D}();S.default=P},65722:function(dt,S,d){"use strict";d.r(S),d.d(S,{AbstractCanvas:function(){return jt},AbstractGroup:function(){return ye},AbstractShape:function(){return Pe},Base:function(){return Be},Event:function(){return Ft},PathUtil:function(){return b},version:function(){return Qe}});var b={};d.r(b),d.d(b,{catmullRomToBezier:function(){return A},fillPath:function(){return gt},fillPathByDiff:function(){return f},formatPath:function(){return Rt},intersection:function(){return J},parsePathArray:function(){return k},parsePathString:function(){return T},pathToAbsolute:function(){return p},pathToCurve:function(){return m},rectPath:function(){return $}});var P=d(49242),D=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,O=new RegExp("([a-z])["+D+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+D+"]*,?["+D+"]*)+)","ig"),L=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+D+"]*,?["+D+"]*","ig"),T=function(Et){if(!Et)return null;if((0,P.isArray)(Et))return Et;var ht={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},et=[];return String(Et).replace(O,function(ct,It,Ht){var se=[],ve=It.toLowerCase();if(Ht.replace(L,function(ce,Oe){Oe&&se.push(+Oe)}),ve==="m"&&se.length>2&&(et.push([It].concat(se.splice(0,2))),ve="l",It=It==="m"?"l":"L"),ve==="o"&&se.length===1&&et.push([It,se[0]]),ve==="r")et.push([It].concat(se));else for(;se.length>=ht[ve]&&(et.push([It].concat(se.splice(0,ht[ve]))),!!ht[ve]););return Et}),et},A=function(Et,ht){for(var et=[],ct=0,It=Et.length;It-2*!ht>ct;ct+=2){var Ht=[{x:+Et[ct-2],y:+Et[ct-1]},{x:+Et[ct],y:+Et[ct+1]},{x:+Et[ct+2],y:+Et[ct+3]},{x:+Et[ct+4],y:+Et[ct+5]}];ht?ct?It-4===ct?Ht[3]={x:+Et[0],y:+Et[1]}:It-2===ct&&(Ht[2]={x:+Et[0],y:+Et[1]},Ht[3]={x:+Et[2],y:+Et[3]}):Ht[0]={x:+Et[It-2],y:+Et[It-1]}:It-4===ct?Ht[3]=Ht[2]:ct||(Ht[0]={x:+Et[ct],y:+Et[ct+1]}),et.push(["C",(-Ht[0].x+6*Ht[1].x+Ht[2].x)/6,(-Ht[0].y+6*Ht[1].y+Ht[2].y)/6,(Ht[1].x+6*Ht[2].x-Ht[3].x)/6,(Ht[1].y+6*Ht[2].y-Ht[3].y)/6,Ht[2].x,Ht[2].y])}return et},E=function(Et,ht,et,ct,It){var Ht=[];if(It===null&&ct===null&&(ct=et),Et=+Et,ht=+ht,et=+et,ct=+ct,It!==null){var se=Math.PI/180,ve=Et+et*Math.cos(-ct*se),ce=Et+et*Math.cos(-It*se),Oe=ht+et*Math.sin(-ct*se),ke=ht+et*Math.sin(-It*se);Ht=[["M",ve,Oe],["A",et,et,0,+(It-ct>180),0,ce,ke]]}else Ht=[["M",Et,ht],["m",0,-ct],["a",et,ct,0,1,1,0,2*ct],["a",et,ct,0,1,1,0,-2*ct],["z"]];return Ht},p=function(Et){if(Et=T(Et),!Et||!Et.length)return[["M",0,0]];var ht=[],et=0,ct=0,It=0,Ht=0,se=0,ve,ce;Et[0][0]==="M"&&(et=+Et[0][1],ct=+Et[0][2],It=et,Ht=ct,se++,ht[0]=["M",et,ct]);for(var Oe=Et.length===3&&Et[0][0]==="M"&&Et[1][0].toUpperCase()==="R"&&Et[2][0].toUpperCase()==="Z",ke=void 0,Ye=void 0,ar=se,Ge=Et.length;ar<Ge;ar++){if(ht.push(ke=[]),Ye=Et[ar],ve=Ye[0],ve!==ve.toUpperCase())switch(ke[0]=ve.toUpperCase(),ke[0]){case"A":ke[1]=Ye[1],ke[2]=Ye[2],ke[3]=Ye[3],ke[4]=Ye[4],ke[5]=Ye[5],ke[6]=+Ye[6]+et,ke[7]=+Ye[7]+ct;break;case"V":ke[1]=+Ye[1]+ct;break;case"H":ke[1]=+Ye[1]+et;break;case"R":ce=[et,ct].concat(Ye.slice(1));for(var Re=2,Mr=ce.length;Re<Mr;Re++)ce[Re]=+ce[Re]+et,ce[++Re]=+ce[Re]+ct;ht.pop(),ht=ht.concat(A(ce,Oe));break;case"O":ht.pop(),ce=E(et,ct,Ye[1],Ye[2]),ce.push(ce[0]),ht=ht.concat(ce);break;case"U":ht.pop(),ht=ht.concat(E(et,ct,Ye[1],Ye[2],Ye[3])),ke=["U"].concat(ht[ht.length-1].slice(-2));break;case"M":It=+Ye[1]+et,Ht=+Ye[2]+ct;break;default:for(var Re=1,Mr=Ye.length;Re<Mr;Re++)ke[Re]=+Ye[Re]+(Re%2?et:ct)}else if(ve==="R")ce=[et,ct].concat(Ye.slice(1)),ht.pop(),ht=ht.concat(A(ce,Oe)),ke=["R"].concat(Ye.slice(-2));else if(ve==="O")ht.pop(),ce=E(et,ct,Ye[1],Ye[2]),ce.push(ce[0]),ht=ht.concat(ce);else if(ve==="U")ht.pop(),ht=ht.concat(E(et,ct,Ye[1],Ye[2],Ye[3])),ke=["U"].concat(ht[ht.length-1].slice(-2));else for(var wr=0,Nr=Ye.length;wr<Nr;wr++)ke[wr]=Ye[wr];if(ve=ve.toUpperCase(),ve!=="O")switch(ke[0]){case"Z":et=+It,ct=+Ht;break;case"H":et=ke[1];break;case"V":ct=ke[1];break;case"M":It=ke[ke.length-2],Ht=ke[ke.length-1];break;default:et=ke[ke.length-2],ct=ke[ke.length-1]}}return ht},w=function(Et,ht,et,ct){return[Et,ht,et,ct,et,ct]},y=function(Et,ht,et,ct,It,Ht){var se=1/3,ve=2/3;return[se*Et+ve*et,se*ht+ve*ct,se*It+ve*et,se*Ht+ve*ct,It,Ht]},x=function(Et,ht,et,ct,It,Ht,se,ve,ce,Oe){et===ct&&(et+=1);var ke=Math.PI*120/180,Ye=Math.PI/180*(+It||0),ar=[],Ge,Re,Mr,wr,Nr,Gr=function(ri,dn,da){var un=ri*Math.cos(da)-dn*Math.sin(da),pa=ri*Math.sin(da)+dn*Math.cos(da);return{x:un,y:pa}};if(Oe)Re=Oe[0],Mr=Oe[1],wr=Oe[2],Nr=Oe[3];else{Ge=Gr(Et,ht,-Ye),Et=Ge.x,ht=Ge.y,Ge=Gr(ve,ce,-Ye),ve=Ge.x,ce=Ge.y,Et===ve&&ht===ce&&(ve+=1,ce+=1);var cr=(Et-ve)/2,rr=(ht-ce)/2,Xr=cr*cr/(et*et)+rr*rr/(ct*ct);Xr>1&&(Xr=Math.sqrt(Xr),et=Xr*et,ct=Xr*ct);var cn=et*et,Mn=ct*ct,Qn=(Ht===se?-1:1)*Math.sqrt(Math.abs((cn*Mn-cn*rr*rr-Mn*cr*cr)/(cn*rr*rr+Mn*cr*cr)));wr=Qn*et*rr/ct+(Et+ve)/2,Nr=Qn*-ct*cr/et+(ht+ce)/2,Re=Math.asin(((ht-Nr)/ct).toFixed(9)),Mr=Math.asin(((ce-Nr)/ct).toFixed(9)),Re=Et<wr?Math.PI-Re:Re,Mr=ve<wr?Math.PI-Mr:Mr,Re<0&&(Re=Math.PI*2+Re),Mr<0&&(Mr=Math.PI*2+Mr),se&&Re>Mr&&(Re=Re-Math.PI*2),!se&&Mr>Re&&(Mr=Mr-Math.PI*2)}var Jn=Mr-Re;if(Math.abs(Jn)>ke){var wa=Mr,Li=ve,Yn=ce;Mr=Re+ke*(se&&Mr>Re?1:-1),ve=wr+et*Math.cos(Mr),ce=Nr+ct*Math.sin(Mr),ar=x(ve,ce,et,ct,It,0,se,Li,Yn,[Mr,wa,wr,Nr])}Jn=Mr-Re;var qi=Math.cos(Re),Sa=Math.sin(Re),ka=Math.cos(Mr),Ca=Math.sin(Mr),ha=Math.tan(Jn/4),ca=4/3*et*ha,va=4/3*ct*ha,si=[Et,ht],ji=[Et+ca*Sa,ht-va*qi],Ba=[ve+ca*Ca,ce-va*ka],Ma=[ve,ce];if(ji[0]=2*si[0]-ji[0],ji[1]=2*si[1]-ji[1],Oe)return[ji,Ba,Ma].concat(ar);ar=[ji,Ba,Ma].concat(ar).join().split(",");for(var Ea=[],on=0,Ha=ar.length;on<Ha;on++)Ea[on]=on%2?Gr(ar[on-1],ar[on],Ye).y:Gr(ar[on],ar[on+1],Ye).x;return Ea},m=function(Et,ht){var et=p(Et),ct=ht&&p(ht),It={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ht={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},se=[],ve=[],ce="",Oe="",ke,Ye=function(cr,rr,Xr){var cn,Mn;if(!cr)return["C",rr.x,rr.y,rr.x,rr.y,rr.x,rr.y];switch(!(cr[0]in{T:1,Q:1})&&(rr.qx=rr.qy=null),cr[0]){case"M":rr.X=cr[1],rr.Y=cr[2];break;case"A":cr=["C"].concat(x.apply(0,[rr.x,rr.y].concat(cr.slice(1))));break;case"S":Xr==="C"||Xr==="S"?(cn=rr.x*2-rr.bx,Mn=rr.y*2-rr.by):(cn=rr.x,Mn=rr.y),cr=["C",cn,Mn].concat(cr.slice(1));break;case"T":Xr==="Q"||Xr==="T"?(rr.qx=rr.x*2-rr.qx,rr.qy=rr.y*2-rr.qy):(rr.qx=rr.x,rr.qy=rr.y),cr=["C"].concat(y(rr.x,rr.y,rr.qx,rr.qy,cr[1],cr[2]));break;case"Q":rr.qx=cr[1],rr.qy=cr[2],cr=["C"].concat(y(rr.x,rr.y,cr[1],cr[2],cr[3],cr[4]));break;case"L":cr=["C"].concat(w(rr.x,rr.y,cr[1],cr[2]));break;case"H":cr=["C"].concat(w(rr.x,rr.y,cr[1],rr.y));break;case"V":cr=["C"].concat(w(rr.x,rr.y,rr.x,cr[1]));break;case"Z":cr=["C"].concat(w(rr.x,rr.y,rr.X,rr.Y));break;default:break}return cr},ar=function(cr,rr){if(cr[rr].length>7){cr[rr].shift();for(var Xr=cr[rr];Xr.length;)se[rr]="A",ct&&(ve[rr]="A"),cr.splice(rr++,0,["C"].concat(Xr.splice(0,6)));cr.splice(rr,1),ke=Math.max(et.length,ct&&ct.length||0)}},Ge=function(cr,rr,Xr,cn,Mn){cr&&rr&&cr[Mn][0]==="M"&&rr[Mn][0]!=="M"&&(rr.splice(Mn,0,["M",cn.x,cn.y]),Xr.bx=0,Xr.by=0,Xr.x=cr[Mn][1],Xr.y=cr[Mn][2],ke=Math.max(et.length,ct&&ct.length||0))};ke=Math.max(et.length,ct&&ct.length||0);for(var Re=0;Re<ke;Re++){et[Re]&&(ce=et[Re][0]),ce!=="C"&&(se[Re]=ce,Re&&(Oe=se[Re-1])),et[Re]=Ye(et[Re],It,Oe),se[Re]!=="A"&&ce==="C"&&(se[Re]="C"),ar(et,Re),ct&&(ct[Re]&&(ce=ct[Re][0]),ce!=="C"&&(ve[Re]=ce,Re&&(Oe=ve[Re-1])),ct[Re]=Ye(ct[Re],Ht,Oe),ve[Re]!=="A"&&ce==="C"&&(ve[Re]="C"),ar(ct,Re)),Ge(et,ct,It,Ht,Re),Ge(ct,et,Ht,It,Re);var Mr=et[Re],wr=ct&&ct[Re],Nr=Mr.length,Gr=ct&&wr.length;It.x=Mr[Nr-2],It.y=Mr[Nr-1],It.bx=parseFloat(Mr[Nr-4])||It.x,It.by=parseFloat(Mr[Nr-3])||It.y,Ht.bx=ct&&(parseFloat(wr[Gr-4])||Ht.x),Ht.by=ct&&(parseFloat(wr[Gr-3])||Ht.y),Ht.x=ct&&wr[Gr-2],Ht.y=ct&&wr[Gr-1]}return ct?[et,ct]:et},M=/,?([a-z]),?/gi,k=function(Et){return Et.join(",").replace(M,"$1")},R=function(Et,ht,et,ct,It){var Ht=-3*ht+9*et-9*ct+3*It,se=Et*Ht+6*ht-12*et+6*ct;return Et*se-3*ht+3*et},N=function(Et,ht,et,ct,It,Ht,se,ve,ce){ce===null&&(ce=1),ce=ce>1?1:ce<0?0:ce;for(var Oe=ce/2,ke=12,Ye=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],ar=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Ge=0,Re=0;Re<ke;Re++){var Mr=Oe*Ye[Re]+Oe,wr=R(Mr,Et,et,It,se),Nr=R(Mr,ht,ct,Ht,ve),Gr=wr*wr+Nr*Nr;Ge+=ar[Re]*Math.sqrt(Gr)}return Oe*Ge},W=function(Et,ht,et,ct,It,Ht,se,ve){for(var ce=[],Oe=[[],[]],ke,Ye,ar,Ge,Re=0;Re<2;++Re){if(Re===0?(Ye=6*Et-12*et+6*It,ke=-3*Et+9*et-9*It+3*se,ar=3*et-3*Et):(Ye=6*ht-12*ct+6*Ht,ke=-3*ht+9*ct-9*Ht+3*ve,ar=3*ct-3*ht),Math.abs(ke)<1e-12){if(Math.abs(Ye)<1e-12)continue;Ge=-ar/Ye,Ge>0&&Ge<1&&ce.push(Ge);continue}var Mr=Ye*Ye-4*ar*ke,wr=Math.sqrt(Mr);if(!(Mr<0)){var Nr=(-Ye+wr)/(2*ke);Nr>0&&Nr<1&&ce.push(Nr);var Gr=(-Ye-wr)/(2*ke);Gr>0&&Gr<1&&ce.push(Gr)}}for(var cr=ce.length,rr=cr,Xr;cr--;)Ge=ce[cr],Xr=1-Ge,Oe[0][cr]=Xr*Xr*Xr*Et+3*Xr*Xr*Ge*et+3*Xr*Ge*Ge*It+Ge*Ge*Ge*se,Oe[1][cr]=Xr*Xr*Xr*ht+3*Xr*Xr*Ge*ct+3*Xr*Ge*Ge*Ht+Ge*Ge*Ge*ve;return Oe[0][rr]=Et,Oe[1][rr]=ht,Oe[0][rr+1]=se,Oe[1][rr+1]=ve,Oe[0].length=Oe[1].length=rr+2,{min:{x:Math.min.apply(0,Oe[0]),y:Math.min.apply(0,Oe[1])},max:{x:Math.max.apply(0,Oe[0]),y:Math.max.apply(0,Oe[1])}}},Q=function(Et,ht,et,ct,It,Ht,se,ve){if(!(Math.max(Et,et)<Math.min(It,se)||Math.min(Et,et)>Math.max(It,se)||Math.max(ht,ct)<Math.min(Ht,ve)||Math.min(ht,ct)>Math.max(Ht,ve))){var ce=(Et*ct-ht*et)*(It-se)-(Et-et)*(It*ve-Ht*se),Oe=(Et*ct-ht*et)*(Ht-ve)-(ht-ct)*(It*ve-Ht*se),ke=(Et-et)*(Ht-ve)-(ht-ct)*(It-se);if(!!ke){var Ye=ce/ke,ar=Oe/ke,Ge=+Ye.toFixed(2),Re=+ar.toFixed(2);if(!(Ge<+Math.min(Et,et).toFixed(2)||Ge>+Math.max(Et,et).toFixed(2)||Ge<+Math.min(It,se).toFixed(2)||Ge>+Math.max(It,se).toFixed(2)||Re<+Math.min(ht,ct).toFixed(2)||Re>+Math.max(ht,ct).toFixed(2)||Re<+Math.min(Ht,ve).toFixed(2)||Re>+Math.max(Ht,ve).toFixed(2)))return{x:Ye,y:ar}}}},H=function(Et,ht,et){return ht>=Et.x&&ht<=Et.x+Et.width&&et>=Et.y&&et<=Et.y+Et.height},$=function(Et,ht,et,ct,It){if(It)return[["M",+Et+ +It,ht],["l",et-It*2,0],["a",It,It,0,0,1,It,It],["l",0,ct-It*2],["a",It,It,0,0,1,-It,It],["l",It*2-et,0],["a",It,It,0,0,1,-It,-It],["l",0,It*2-ct],["a",It,It,0,0,1,It,-It],["z"]];var Ht=[["M",Et,ht],["l",et,0],["l",0,ct],["l",-et,0],["z"]];return Ht.parsePathArray=k,Ht},it=function(Et,ht,et,ct){return Et===null&&(Et=ht=et=ct=0),ht===null&&(ht=Et.y,et=Et.width,ct=Et.height,Et=Et.x),{x:Et,y:ht,width:et,w:et,height:ct,h:ct,x2:Et+et,y2:ht+ct,cx:Et+et/2,cy:ht+ct/2,r1:Math.min(et,ct)/2,r2:Math.max(et,ct)/2,r0:Math.sqrt(et*et+ct*ct)/2,path:$(Et,ht,et,ct),vb:[Et,ht,et,ct].join(" ")}},nt=function(Et,ht){return Et=it(Et),ht=it(ht),H(ht,Et.x,Et.y)||H(ht,Et.x2,Et.y)||H(ht,Et.x,Et.y2)||H(ht,Et.x2,Et.y2)||H(Et,ht.x,ht.y)||H(Et,ht.x2,ht.y)||H(Et,ht.x,ht.y2)||H(Et,ht.x2,ht.y2)||(Et.x<ht.x2&&Et.x>ht.x||ht.x<Et.x2&&ht.x>Et.x)&&(Et.y<ht.y2&&Et.y>ht.y||ht.y<Et.y2&&ht.y>Et.y)},wt=function(Et,ht,et,ct,It,Ht,se,ve){(0,P.isArray)(Et)||(Et=[Et,ht,et,ct,It,Ht,se,ve]);var ce=W.apply(null,Et);return it(ce.min.x,ce.min.y,ce.max.x-ce.min.x,ce.max.y-ce.min.y)},yt=function(Et,ht,et,ct,It,Ht,se,ve,ce){var Oe=1-ce,ke=Math.pow(Oe,3),Ye=Math.pow(Oe,2),ar=ce*ce,Ge=ar*ce,Re=ke*Et+Ye*3*ce*et+Oe*3*ce*ce*It+Ge*se,Mr=ke*ht+Ye*3*ce*ct+Oe*3*ce*ce*Ht+Ge*ve,wr=Et+2*ce*(et-Et)+ar*(It-2*et+Et),Nr=ht+2*ce*(ct-ht)+ar*(Ht-2*ct+ht),Gr=et+2*ce*(It-et)+ar*(se-2*It+et),cr=ct+2*ce*(Ht-ct)+ar*(ve-2*Ht+ct),rr=Oe*Et+ce*et,Xr=Oe*ht+ce*ct,cn=Oe*It+ce*se,Mn=Oe*Ht+ce*ve,Qn=90-Math.atan2(wr-Gr,Nr-cr)*180/Math.PI;return{x:Re,y:Mr,m:{x:wr,y:Nr},n:{x:Gr,y:cr},start:{x:rr,y:Xr},end:{x:cn,y:Mn},alpha:Qn}},Lt=function(Et,ht,et){var ct=wt(Et),It=wt(ht);if(!nt(ct,It))return et?0:[];for(var Ht=N.apply(0,Et),se=N.apply(0,ht),ve=~~(Ht/8),ce=~~(se/8),Oe=[],ke=[],Ye={},ar=et?0:[],Ge=0;Ge<ve+1;Ge++){var Re=yt.apply(0,Et.concat(Ge/ve));Oe.push({x:Re.x,y:Re.y,t:Ge/ve})}for(var Ge=0;Ge<ce+1;Ge++){var Re=yt.apply(0,ht.concat(Ge/ce));ke.push({x:Re.x,y:Re.y,t:Ge/ce})}for(var Ge=0;Ge<ve;Ge++)for(var Mr=0;Mr<ce;Mr++){var wr=Oe[Ge],Nr=Oe[Ge+1],Gr=ke[Mr],cr=ke[Mr+1],rr=Math.abs(Nr.x-wr.x)<.001?"y":"x",Xr=Math.abs(cr.x-Gr.x)<.001?"y":"x",cn=Q(wr.x,wr.y,Nr.x,Nr.y,Gr.x,Gr.y,cr.x,cr.y);if(cn){if(Ye[cn.x.toFixed(4)]===cn.y.toFixed(4))continue;Ye[cn.x.toFixed(4)]=cn.y.toFixed(4);var Mn=wr.t+Math.abs((cn[rr]-wr[rr])/(Nr[rr]-wr[rr]))*(Nr.t-wr.t),Qn=Gr.t+Math.abs((cn[Xr]-Gr[Xr])/(cr[Xr]-Gr[Xr]))*(cr.t-Gr.t);Mn>=0&&Mn<=1&&Qn>=0&&Qn<=1&&(et?ar+=1:ar.push({x:cn.x,y:cn.y,t1:Mn,t2:Qn}))}}return ar},Mt=function(Et,ht,et){Et=m(Et),ht=m(ht);for(var ct,It,Ht,se,ve,ce,Oe,ke,Ye,ar,Ge=et?0:[],Re=0,Mr=Et.length;Re<Mr;Re++){var wr=Et[Re];if(wr[0]==="M")ct=ve=wr[1],It=ce=wr[2];else{wr[0]==="C"?(Ye=[ct,It].concat(wr.slice(1)),ct=Ye[6],It=Ye[7]):(Ye=[ct,It,ct,It,ve,ce,ve,ce],ct=ve,It=ce);for(var Nr=0,Gr=ht.length;Nr<Gr;Nr++){var cr=ht[Nr];if(cr[0]==="M")Ht=Oe=cr[1],se=ke=cr[2];else{cr[0]==="C"?(ar=[Ht,se].concat(cr.slice(1)),Ht=ar[6],se=ar[7]):(ar=[Ht,se,Ht,se,Oe,ke,Oe,ke],Ht=Oe,se=ke);var rr=Lt(Ye,ar,et);if(et)Ge+=rr;else{for(var Xr=0,cn=rr.length;Xr<cn;Xr++)rr[Xr].segment1=Re,rr[Xr].segment2=Nr,rr[Xr].bez1=Ye,rr[Xr].bez2=ar;Ge=Ge.concat(rr)}}}}}return Ge},J=function(Et,ht){return Mt(Et,ht)};function tt(Et,ht){var et=[],ct=[];function It(Ht,se){if(Ht.length===1)et.push(Ht[0]),ct.push(Ht[0]);else{for(var ve=[],ce=0;ce<Ht.length-1;ce++)ce===0&&et.push(Ht[0]),ce===Ht.length-2&&ct.push(Ht[ce+1]),ve[ce]=[(1-se)*Ht[ce][0]+se*Ht[ce+1][0],(1-se)*Ht[ce][1]+se*Ht[ce+1][1]];It(ve,se)}}return Et.length&&It(Et,ht),{left:et,right:ct.reverse()}}function q(Et,ht,et){var ct=[[Et[1],Et[2]]];et=et||2;var It=[];ht[0]==="A"?(ct.push(ht[6]),ct.push(ht[7])):ht[0]==="C"?(ct.push([ht[1],ht[2]]),ct.push([ht[3],ht[4]]),ct.push([ht[5],ht[6]])):ht[0]==="S"||ht[0]==="Q"?(ct.push([ht[1],ht[2]]),ct.push([ht[3],ht[4]])):ct.push([ht[1],ht[2]]);for(var Ht=ct,se=1/et,ve=0;ve<et-1;ve++){var ce=se/(1-se*ve),Oe=tt(Ht,ce);It.push(Oe.left),Ht=Oe.right}It.push(Ht);var ke=It.map(function(Ye){var ar=[];return Ye.length===4&&(ar.push("C"),ar=ar.concat(Ye[2])),Ye.length>=3&&(Ye.length===3&&ar.push("Q"),ar=ar.concat(Ye[1])),Ye.length===2&&ar.push("L"),ar=ar.concat(Ye[Ye.length-1]),ar});return ke}var lt=function(Et,ht,et){if(et===1)return[[].concat(Et)];var ct=[];if(ht[0]==="L"||ht[0]==="C"||ht[0]==="Q")ct=ct.concat(q(Et,ht,et));else{var It=[].concat(Et);It[0]==="M"&&(It[0]="L");for(var Ht=0;Ht<=et-1;Ht++)ct.push(It)}return ct},gt=function(Et,ht){if(Et.length===1)return Et;var et=Et.length-1,ct=ht.length-1,It=et/ct,Ht=[];if(Et.length===1&&Et[0][0]==="M"){for(var se=0;se<ct-et;se++)Et.push(Et[0]);return Et}for(var se=0;se<ct;se++){var ve=Math.floor(It*se);Ht[ve]=(Ht[ve]||0)+1}var ce=Ht.reduce(function(Oe,ke,Ye){return Ye===et?Oe.concat(Et[et]):Oe.concat(lt(Et[Ye],Et[Ye+1],ke))},[]);return ce.unshift(Et[0]),(ht[ct]==="Z"||ht[ct]==="z")&&ce.push("Z"),ce},K=function(Et,ht){if(Et.length!==ht.length)return!1;var et=!0;return(0,P.each)(Et,function(ct,It){if(ct!==ht[It])return et=!1,!1}),et};function j(Et,ht,et){var ct=null,It=et;return ht<It&&(It=ht,ct="add"),Et<It&&(It=Et,ct="del"),{type:ct,min:It}}var Z=function(Et,ht){var et=Et.length,ct=ht.length,It,Ht,se=0;if(et===0||ct===0)return null;for(var ve=[],ce=0;ce<=et;ce++)ve[ce]=[],ve[ce][0]={min:ce};for(var Oe=0;Oe<=ct;Oe++)ve[0][Oe]={min:Oe};for(var ce=1;ce<=et;ce++){It=Et[ce-1];for(var Oe=1;Oe<=ct;Oe++){Ht=ht[Oe-1],K(It,Ht)?se=0:se=1;var ke=ve[ce-1][Oe].min+1,Ye=ve[ce][Oe-1].min+1,ar=ve[ce-1][Oe-1].min+se;ve[ce][Oe]=j(ke,Ye,ar)}}return ve},f=function(Et,ht){var et=Z(Et,ht),ct=Et.length,It=ht.length,Ht=[],se=1,ve=1;if(et[ct][It].min!==ct){for(var ce=1;ce<=ct;ce++){var Oe=et[ce][ce].min;ve=ce;for(var ke=se;ke<=It;ke++)et[ce][ke].min<Oe&&(Oe=et[ce][ke].min,ve=ke);se=ve,et[ce][se].type&&Ht.push({index:ce-1,type:et[ce][se].type})}for(var ce=Ht.length-1;ce>=0;ce--)se=Ht[ce].index,Ht[ce].type==="add"?Et.splice(se,0,[].concat(Et[se])):Et.splice(se,1)}ct=Et.length;var Ye=It-ct;if(ct<It)for(var ce=0;ce<Ye;ce++)Et[ct-1][0]==="z"||Et[ct-1][0]==="Z"?Et.splice(ct-2,0,Et[ct-2]):Et.push(Et[ct-1]),ct+=1;return Et};function ut(Et,ht,et){for(var ct=[].concat(Et),It,Ht=1/(et+1),se=bt(ht)[0],ve=1;ve<=et;ve++)Ht*=ve,It=Math.floor(Et.length*Ht),It===0?ct.unshift([se[0]*Ht+Et[It][0]*(1-Ht),se[1]*Ht+Et[It][1]*(1-Ht)]):ct.splice(It,0,[se[0]*Ht+Et[It][0]*(1-Ht),se[1]*Ht+Et[It][1]*(1-Ht)]);return ct}function bt(Et){var ht=[];switch(Et[0]){case"M":ht.push([Et[1],Et[2]]);break;case"L":ht.push([Et[1],Et[2]]);break;case"A":ht.push([Et[6],Et[7]]);break;case"Q":ht.push([Et[3],Et[4]]),ht.push([Et[1],Et[2]]);break;case"T":ht.push([Et[1],Et[2]]);break;case"C":ht.push([Et[5],Et[6]]),ht.push([Et[1],Et[2]]),ht.push([Et[3],Et[4]]);break;case"S":ht.push([Et[3],Et[4]]),ht.push([Et[1],Et[2]]);break;case"H":ht.push([Et[1],Et[1]]);break;case"V":ht.push([Et[1],Et[1]]);break;default:}return ht}var Rt=function(Et,ht){if(Et.length<=1)return Et;for(var et,ct=0;ct<ht.length;ct++)if(Et[ct][0]!==ht[ct][0])switch(et=bt(Et[ct]),ht[ct][0]){case"M":Et[ct]=["M"].concat(et[0]);break;case"L":Et[ct]=["L"].concat(et[0]);break;case"A":Et[ct]=[].concat(ht[ct]),Et[ct][6]=et[0][0],Et[ct][7]=et[0][1];break;case"Q":if(et.length<2)if(ct>0)et=ut(et,Et[ct-1],1);else{Et[ct]=ht[ct];break}Et[ct]=["Q"].concat(et.reduce(function(It,Ht){return It.concat(Ht)},[]));break;case"T":Et[ct]=["T"].concat(et[0]);break;case"C":if(et.length<3)if(ct>0)et=ut(et,Et[ct-1],2);else{Et[ct]=ht[ct];break}Et[ct]=["C"].concat(et.reduce(function(It,Ht){return It.concat(Ht)},[]));break;case"S":if(et.length<2)if(ct>0)et=ut(et,Et[ct-1],1);else{Et[ct]=ht[ct];break}Et[ct]=["S"].concat(et.reduce(function(It,Ht){return It.concat(Ht)},[]));break;default:Et[ct]=ht[ct]}return Et},Vt=function(){function Et(ht,et){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=ht,this.name=ht,this.originalEvent=et,this.timeStamp=et.timeStamp}return Et.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},Et.prototype.stopPropagation=function(){this.propagationStopped=!0},Et.prototype.toString=function(){var ht=this.type;return"[Event (type="+ht+")]"},Et.prototype.save=function(){},Et.prototype.restore=function(){},Et}(),Ft=Vt,Qt=d(70655),ae=d(90494),ue=d(73890),Kt=d(46812),Bt=d(21830),Ct=d(33643),pt=d(66631),Pt=d(66974),ft=d(27154),ot=d(85260);function St(Et,ht){var et=Et.indexOf(ht);et!==-1&&Et.splice(et,1)}var Ot=typeof window!="undefined"&&typeof window.document!="undefined";function Zt(Et,ht){if(Et.isCanvas())return!0;for(var et=ht.getParent(),ct=!1;et;){if(et===Et){ct=!0;break}et=et.getParent()}return ct}function le(Et){return Et.cfg.visible&&Et.cfg.capture}var be=function(Et){(0,Qt.__extends)(ht,Et);function ht(et){var ct=Et.call(this)||this;ct.destroyed=!1;var It=ct.getDefaultCfg();return ct.cfg=(0,Pt.default)(It,et),ct}return ht.prototype.getDefaultCfg=function(){return{}},ht.prototype.get=function(et){return this.cfg[et]},ht.prototype.set=function(et,ct){this.cfg[et]=ct},ht.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},ht}(ae.default),Be=be,Fe=d(43631),lr=d(31506);function dr(Et,ht){var et=[],ct=Et[0],It=Et[1],Ht=Et[2],se=Et[3],ve=Et[4],ce=Et[5],Oe=Et[6],ke=Et[7],Ye=Et[8],ar=ht[0],Ge=ht[1],Re=ht[2],Mr=ht[3],wr=ht[4],Nr=ht[5],Gr=ht[6],cr=ht[7],rr=ht[8];return et[0]=ar*ct+Ge*se+Re*Oe,et[1]=ar*It+Ge*ve+Re*ke,et[2]=ar*Ht+Ge*ce+Re*Ye,et[3]=Mr*ct+wr*se+Nr*Oe,et[4]=Mr*It+wr*ve+Nr*ke,et[5]=Mr*Ht+wr*ce+Nr*Ye,et[6]=Gr*ct+cr*se+rr*Oe,et[7]=Gr*It+cr*ve+rr*ke,et[8]=Gr*Ht+cr*ce+rr*Ye,et}function ur(Et,ht){var et=[],ct=ht[0],It=ht[1];return et[0]=Et[0]*ct+Et[3]*It+Et[6],et[1]=Et[1]*ct+Et[4]*It+Et[7],et}function Tr(Et){var ht=[],et=Et[0],ct=Et[1],It=Et[2],Ht=Et[3],se=Et[4],ve=Et[5],ce=Et[6],Oe=Et[7],ke=Et[8],Ye=ke*se-ve*Oe,ar=-ke*Ht+ve*ce,Ge=Oe*Ht-se*ce,Re=et*Ye+ct*ar+It*Ge;return Re?(Re=1/Re,ht[0]=Ye*Re,ht[1]=(-ke*ct+It*Oe)*Re,ht[2]=(ve*ct-It*se)*Re,ht[3]=ar*Re,ht[4]=(ke*et-It*ce)*Re,ht[5]=(-ve*et+It*Ht)*Re,ht[6]=Ge*Re,ht[7]=(-Oe*et+ct*ce)*Re,ht[8]=(se*et-ct*Ht)*Re,ht):null}var sr="matrix",zr=["zIndex","capture","visible","type"],fn=["repeat"],Yr=":",nn="*";function pi(Et){for(var ht=[],et=0;et<Et.length;et++)(0,P.isArray)(Et[et])?ht.push([].concat(Et[et])):ht.push(Et[et]);return ht}function gi(Et,ht){var et={},ct=ht.attrs;for(var It in Et)et[It]=ct[It];return et}function xi(Et,ht){var et={},ct=ht.attr();return(0,P.each)(Et,function(It,Ht){fn.indexOf(Ht)===-1&&!(0,P.isEqual)(ct[Ht],It)&&(et[Ht]=It)}),et}function bi(Et,ht){if(ht.onFrame)return Et;var et=ht.startTime,ct=ht.delay,It=ht.duration,Ht=Object.prototype.hasOwnProperty;return(0,P.each)(Et,function(se){et+ct<se.startTime+se.delay+se.duration&&It>se.delay&&(0,P.each)(ht.toAttrs,function(ve,ce){Ht.call(se.toAttrs,ce)&&(delete se.toAttrs[ce],delete se.fromAttrs[ce])})}),Et}var Xt=function(Et){(0,Qt.__extends)(ht,Et);function ht(et){var ct=Et.call(this,et)||this;ct.attrs={};var It=ct.getDefaultAttrs();return(0,P.mix)(It,et.attrs),ct.attrs=It,ct.initAttrs(It),ct.initAnimate(),ct}return ht.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},ht.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},ht.prototype.onCanvasChange=function(et){},ht.prototype.initAttrs=function(et){},ht.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},ht.prototype.isGroup=function(){return!1},ht.prototype.getParent=function(){return this.get("parent")},ht.prototype.getCanvas=function(){return this.get("canvas")},ht.prototype.attr=function(){for(var et,ct=[],It=0;It<arguments.length;It++)ct[It]=arguments[It];var Ht=ct[0],se=ct[1];if(!Ht)return this.attrs;if((0,P.isObject)(Ht)){for(var ve in Ht)this.setAttr(ve,Ht[ve]);return this.afterAttrsChange(Ht),this}return ct.length===2?(this.setAttr(Ht,se),this.afterAttrsChange((et={},et[Ht]=se,et)),this):this.attrs[Ht]},ht.prototype.isClipped=function(et,ct){var It=this.getClip();return It&&!It.isHit(et,ct)},ht.prototype.setAttr=function(et,ct){var It=this.attrs[et];It!==ct&&(this.attrs[et]=ct,this.onAttrChange(et,ct,It))},ht.prototype.onAttrChange=function(et,ct,It){et==="matrix"&&this.set("totalMatrix",null)},ht.prototype.afterAttrsChange=function(et){this.onCanvasChange("attr")},ht.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},ht.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},ht.prototype.setZIndex=function(et){this.set("zIndex",et);var ct=this.getParent();return ct&&ct.sort(),this},ht.prototype.toFront=function(){var et=this.getParent();if(!!et){var ct=et.getChildren(),It=this.get("el"),Ht=ct.indexOf(this);ct.splice(Ht,1),ct.push(this),this.onCanvasChange("zIndex")}},ht.prototype.toBack=function(){var et=this.getParent();if(!!et){var ct=et.getChildren(),It=this.get("el"),Ht=ct.indexOf(this);ct.splice(Ht,1),ct.unshift(this),this.onCanvasChange("zIndex")}},ht.prototype.remove=function(et){et===void 0&&(et=!0);var ct=this.getParent();ct?(St(ct.getChildren(),this),ct.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),et&&this.destroy()},ht.prototype.resetMatrix=function(){this.attr(sr,this.getDefaultMatrix()),this.onCanvasChange("matrix")},ht.prototype.getMatrix=function(){return this.attr(sr)},ht.prototype.setMatrix=function(et){this.attr(sr,et),this.onCanvasChange("matrix")},ht.prototype.getTotalMatrix=function(){var et=this.get("totalMatrix");if(!et){var ct=this.attr("matrix"),It=this.get("parentMatrix");It&&ct?et=dr(It,ct):et=ct||It,this.set("totalMatrix",et)}return et},ht.prototype.applyMatrix=function(et){var ct=this.attr("matrix"),It=null;et&&ct?It=dr(et,ct):It=ct||et,this.set("totalMatrix",It),this.set("parentMatrix",et)},ht.prototype.getDefaultMatrix=function(){return null},ht.prototype.applyToMatrix=function(et){var ct=this.attr("matrix");return ct?ur(ct,et):et},ht.prototype.invertFromMatrix=function(et){var ct=this.attr("matrix");if(ct){var It=Tr(ct);if(It)return ur(It,et)}return et},ht.prototype.setClip=function(et){var ct=this.getCanvas(),It=null;if(et){var Ht=this.getShapeBase(),se=(0,P.upperFirst)(et.type),ve=Ht[se];ve&&(It=new ve({type:et.type,isClipShape:!0,attrs:et.attrs,canvas:ct}))}return this.set("clipShape",It),this.onCanvasChange("clip"),It},ht.prototype.getClip=function(){var et=this.cfg.clipShape;return et||null},ht.prototype.clone=function(){var et=this,ct=this.attrs,It={};(0,P.each)(ct,function(ve,ce){(0,P.isArray)(ct[ce])?It[ce]=pi(ct[ce]):It[ce]=ct[ce]});var Ht=this.constructor,se=new Ht({attrs:It});return(0,P.each)(zr,function(ve){se.set(ve,et.get(ve))}),se},ht.prototype.destroy=function(){var et=this.destroyed;et||(this.attrs={},Et.prototype.destroy.call(this))},ht.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},ht.prototype.animate=function(){for(var et=[],ct=0;ct<arguments.length;ct++)et[ct]=arguments[ct];this.set("animating",!0);var It=this.get("timeline");It||(It=this.get("canvas").get("timeline"),this.set("timeline",It));var Ht=this.get("animations")||[];It.timer||It.initTimer();var se=et[0],ve=et[1],ce=et[2],Oe=ce===void 0?"easeLinear":ce,ke=et[3],Ye=ke===void 0?P.noop:ke,ar=et[4],Ge=ar===void 0?0:ar,Re,Mr,wr,Nr,Gr;(0,P.isFunction)(se)?(Re=se,se={}):(0,P.isObject)(se)&&se.onFrame&&(Re=se.onFrame,Mr=se.repeat),(0,P.isObject)(ve)?(Gr=ve,ve=Gr.duration,Oe=Gr.easing||"easeLinear",Ge=Gr.delay||0,Mr=Gr.repeat||Mr||!1,Ye=Gr.callback||P.noop,wr=Gr.pauseCallback||P.noop,Nr=Gr.resumeCallback||P.noop):((0,P.isNumber)(Ye)&&(Ge=Ye,Ye=null),(0,P.isFunction)(Oe)?(Ye=Oe,Oe="easeLinear"):Oe=Oe||"easeLinear");var cr=xi(se,this),rr={fromAttrs:gi(cr,this),toAttrs:cr,duration:ve,easing:Oe,repeat:Mr,callback:Ye,pauseCallback:wr,resumeCallback:Nr,delay:Ge,startTime:It.getTime(),id:(0,P.uniqueId)(),onFrame:Re,pathFormatted:!1};Ht.length>0?Ht=bi(Ht,rr):It.addAnimator(this),Ht.push(rr),this.set("animations",Ht),this.set("_pause",{isPaused:!1})},ht.prototype.stopAnimate=function(et){var ct=this;et===void 0&&(et=!0);var It=this.get("animations");(0,P.each)(It,function(Ht){et&&(Ht.onFrame?ct.attr(Ht.onFrame(1)):ct.attr(Ht.toAttrs)),Ht.callback&&Ht.callback()}),this.set("animating",!1),this.set("animations",[])},ht.prototype.pauseAnimate=function(){var et=this.get("timeline"),ct=this.get("animations"),It=et.getTime();return(0,P.each)(ct,function(Ht){Ht._paused=!0,Ht._pauseTime=It,Ht.pauseCallback&&Ht.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:It}),this},ht.prototype.resumeAnimate=function(){var et=this.get("timeline"),ct=et.getTime(),It=this.get("animations"),Ht=this.get("_pause").pauseTime;return(0,P.each)(It,function(se){se.startTime=se.startTime+(ct-Ht),se._paused=!1,se._pauseTime=null,se.resumeCallback&&se.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",It),this},ht.prototype.emitDelegation=function(et,ct){var It=this,Ht=ct.propagationPath,se=this.getEvents(),ve;et==="mouseenter"?ve=ct.fromShape:et==="mouseleave"&&(ve=ct.toShape);for(var ce=function(ar){var Ge=Ht[ar],Re=Ge.get("name");if(Re){if((Ge.isGroup()||Ge.isCanvas&&Ge.isCanvas())&&ve&&Zt(Ge,ve))return"break";(0,P.isArray)(Re)?(0,P.each)(Re,function(Mr){It.emitDelegateEvent(Ge,Mr,ct)}):Oe.emitDelegateEvent(Ge,Re,ct)}},Oe=this,ke=0;ke<Ht.length;ke++){var Ye=ce(ke);if(Ye==="break")break}},ht.prototype.emitDelegateEvent=function(et,ct,It){var Ht=this.getEvents(),se=ct+Yr+It.type;(Ht[se]||Ht[nn])&&(It.name=se,It.currentTarget=et,It.delegateTarget=this,It.delegateObject=et.get("delegateObject"),this.emit(se,It))},ht.prototype.translate=function(et,ct){et===void 0&&(et=0),ct===void 0&&(ct=0);var It=this.getMatrix(),Ht=lr.transform(It,[["t",et,ct]]);return this.setMatrix(Ht),this},ht.prototype.move=function(et,ct){var It=this.attr("x")||0,Ht=this.attr("y")||0;return this.translate(et-It,ct-Ht),this},ht.prototype.moveTo=function(et,ct){return this.move(et,ct)},ht.prototype.scale=function(et,ct){var It=this.getMatrix(),Ht=lr.transform(It,[["s",et,ct||et]]);return this.setMatrix(Ht),this},ht.prototype.rotate=function(et){var ct=this.getMatrix(),It=lr.transform(ct,[["r",et]]);return this.setMatrix(It),this},ht.prototype.rotateAtStart=function(et){var ct=this.attr(),It=ct.x,Ht=ct.y,se=this.getMatrix(),ve=lr.transform(se,[["t",-It,-Ht],["r",et],["t",It,Ht]]);return this.setMatrix(ve),this},ht.prototype.rotateAtPoint=function(et,ct,It){var Ht=this.getMatrix(),se=lr.transform(Ht,[["t",-et,-ct],["r",It],["t",et,ct]]);return this.setMatrix(se),this},ht}(Be),Jt=Xt,oe={},fe="_INDEX";function xe(Et){Et.isGroup()?(Et.isEntityGroup()||Et.get("children").length)&&Et.onCanvasChange("add"):Et.onCanvasChange("add")}function Se(Et,ht){if(Et.set("canvas",ht),Et.isGroup()){var et=Et.get("children");et.length&&et.forEach(function(ct){Se(ct,ht)})}}function Me(Et,ht){if(Et.set("timeline",ht),Et.isGroup()){var et=Et.get("children");et.length&&et.forEach(function(ct){Me(ct,ht)})}}function _e(Et,ht){var et=Et.getChildren();return et.indexOf(ht)>=0}function me(Et,ht,et){et===void 0&&(et=!0),et?ht.destroy():(ht.set("parent",null),ht.set("canvas",null)),St(Et.getChildren(),ht)}function Ue(Et){return function(ht,et){var ct=Et(ht,et);return ct===0?ht[fe]-et[fe]:ct}}var Ne=function(Et){(0,Qt.__extends)(ht,Et);function ht(){return Et!==null&&Et.apply(this,arguments)||this}return ht.prototype.isCanvas=function(){return!1},ht.prototype.getBBox=function(){var et=Infinity,ct=-Infinity,It=Infinity,Ht=-Infinity,se=[],ve=[],ce=this.getChildren().filter(function(ke){return ke.get("visible")&&(!ke.isGroup()||ke.isGroup()&&ke.getChildren().length>0)});ce.length>0?((0,ft.default)(ce,function(ke){var Ye=ke.getBBox();se.push(Ye.minX,Ye.maxX),ve.push(Ye.minY,Ye.maxY)}),et=Math.min.apply(null,se),ct=Math.max.apply(null,se),It=Math.min.apply(null,ve),Ht=Math.max.apply(null,ve)):(et=0,ct=0,It=0,Ht=0);var Oe={x:et,y:It,minX:et,minY:It,maxX:ct,maxY:Ht,width:ct-et,height:Ht-It};return Oe},ht.prototype.getCanvasBBox=function(){var et=Infinity,ct=-Infinity,It=Infinity,Ht=-Infinity,se=[],ve=[],ce=this.getChildren().filter(function(ke){return ke.get("visible")&&(!ke.isGroup()||ke.isGroup()&&ke.getChildren().length>0)});ce.length>0?((0,ft.default)(ce,function(ke){var Ye=ke.getCanvasBBox();se.push(Ye.minX,Ye.maxX),ve.push(Ye.minY,Ye.maxY)}),et=Math.min.apply(null,se),ct=Math.max.apply(null,se),It=Math.min.apply(null,ve),Ht=Math.max.apply(null,ve)):(et=0,ct=0,It=0,Ht=0);var Oe={x:et,y:It,minX:et,minY:It,maxX:ct,maxY:Ht,width:ct-et,height:Ht-It};return Oe},ht.prototype.getDefaultCfg=function(){var et=Et.prototype.getDefaultCfg.call(this);return et.children=[],et},ht.prototype.onAttrChange=function(et,ct,It){if(Et.prototype.onAttrChange.call(this,et,ct,It),et==="matrix"){var Ht=this.getTotalMatrix();this._applyChildrenMarix(Ht)}},ht.prototype.applyMatrix=function(et){var ct=this.getTotalMatrix();Et.prototype.applyMatrix.call(this,et);var It=this.getTotalMatrix();It!==ct&&this._applyChildrenMarix(It)},ht.prototype._applyChildrenMarix=function(et){var ct=this.getChildren();(0,ft.default)(ct,function(It){It.applyMatrix(et)})},ht.prototype.addShape=function(){for(var et=[],ct=0;ct<arguments.length;ct++)et[ct]=arguments[ct];var It=et[0],Ht=et[1];(0,Ct.default)(It)?Ht=It:Ht.type=It;var se=oe[Ht.type];se||(se=(0,ot.default)(Ht.type),oe[Ht.type]=se);var ve=this.getShapeBase(),ce=new ve[se](Ht);return this.add(ce),ce},ht.prototype.addGroup=function(){for(var et=[],ct=0;ct<arguments.length;ct++)et[ct]=arguments[ct];var It=et[0],Ht=et[1],se;if((0,Kt.default)(It))Ht?se=new It(Ht):se=new It({parent:this});else{var ve=It||{},ce=this.getGroupBase();se=new ce(ve)}return this.add(se),se},ht.prototype.getCanvas=function(){var et;return this.isCanvas()?et=this:et=this.get("canvas"),et},ht.prototype.getShape=function(et,ct,It){if(!le(this))return null;var Ht=this.getChildren(),se;if(this.isCanvas())se=this._findShape(Ht,et,ct,It);else{var ve=[et,ct,1];ve=this.invertFromMatrix(ve),this.isClipped(ve[0],ve[1])||(se=this._findShape(Ht,ve[0],ve[1],It))}return se},ht.prototype._findShape=function(et,ct,It,Ht){for(var se=null,ve=et.length-1;ve>=0;ve--){var ce=et[ve];if(le(ce)&&(ce.isGroup()?se=ce.getShape(ct,It,Ht):ce.isHit(ct,It)&&(se=ce)),se)break}return se},ht.prototype.add=function(et){var ct=this.getCanvas(),It=this.getChildren(),Ht=this.get("timeline"),se=et.getParent();se&&me(se,et,!1),et.set("parent",this),ct&&Se(et,ct),Ht&&Me(et,Ht),It.push(et),xe(et),this._applyElementMatrix(et)},ht.prototype._applyElementMatrix=function(et){var ct=this.getTotalMatrix();ct&&et.applyMatrix(ct)},ht.prototype.getChildren=function(){return this.get("children")},ht.prototype.sort=function(){var et=this.getChildren();(0,ft.default)(et,function(ct,It){return ct[fe]=It,ct}),et.sort(Ue(function(ct,It){return ct.get("zIndex")-It.get("zIndex")})),this.onCanvasChange("sort")},ht.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var et=this.getChildren(),ct=et.length-1;ct>=0;ct--)et[ct].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},ht.prototype.destroy=function(){this.get("destroyed")||(this.clear(),Et.prototype.destroy.call(this))},ht.prototype.getFirst=function(){return this.getChildByIndex(0)},ht.prototype.getLast=function(){var et=this.getChildren();return this.getChildByIndex(et.length-1)},ht.prototype.getChildByIndex=function(et){var ct=this.getChildren();return ct[et]},ht.prototype.getCount=function(){var et=this.getChildren();return et.length},ht.prototype.contain=function(et){var ct=this.getChildren();return ct.indexOf(et)>-1},ht.prototype.removeChild=function(et,ct){ct===void 0&&(ct=!0),this.contain(et)&&et.remove(ct)},ht.prototype.findAll=function(et){var ct=[],It=this.getChildren();return(0,ft.default)(It,function(Ht){et(Ht)&&ct.push(Ht),Ht.isGroup()&&(ct=ct.concat(Ht.findAll(et)))}),ct},ht.prototype.find=function(et){var ct=null,It=this.getChildren();return(0,ft.default)(It,function(Ht){if(et(Ht)?ct=Ht:Ht.isGroup()&&(ct=Ht.find(et)),ct)return!1}),ct},ht.prototype.findById=function(et){return this.find(function(ct){return ct.get("id")===et})},ht.prototype.findByClassName=function(et){return this.find(function(ct){return ct.get("className")===et})},ht.prototype.findAllByName=function(et){return this.findAll(function(ct){return ct.get("name")===et})},ht}(Jt),er=Ne,hr=0,nr=0,fr=0,or=1e3,br,We,Cr=0,Lr=0,Pr=0,Br=typeof performance=="object"&&performance.now?performance:Date,Hr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Et){setTimeout(Et,17)};function Wr(){return Lr||(Hr(Nn),Lr=Br.now()+Pr)}function Nn(){Lr=0}function tn(){this._call=this._time=this._next=null}tn.prototype=Xn.prototype={constructor:tn,restart:function(Et,ht,et){if(typeof Et!="function")throw new TypeError("callback is not a function");et=(et==null?Wr():+et)+(ht==null?0:+ht),!this._next&&We!==this&&(We?We._next=this:br=this,We=this),this._call=Et,this._time=et,Ir()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Ir())}};function Xn(Et,ht,et){var ct=new tn;return ct.restart(Et,ht,et),ct}function ui(){Wr(),++hr;for(var Et=br,ht;Et;)(ht=Lr-Et._time)>=0&&Et._call.call(null,ht),Et=Et._next;--hr}function Zn(){Lr=(Cr=Br.now())+Pr,hr=nr=0;try{ui()}finally{hr=0,Si(),Lr=0}}function wi(){var Et=Br.now(),ht=Et-Cr;ht>or&&(Pr-=ht,Cr=Et)}function Si(){for(var Et,ht=br,et,ct=Infinity;ht;)ht._call?(ct>ht._time&&(ct=ht._time),Et=ht,ht=ht._next):(et=ht._next,ht._next=null,ht=Et?Et._next=et:br=et);We=Et,Ir(ct)}function Ir(Et){if(!hr){nr&&(nr=clearTimeout(nr));var ht=Et-Lr;ht>24?(Et<Infinity&&(nr=setTimeout(Zn,Et-Br.now()-Pr)),fr&&(fr=clearInterval(fr))):(fr||(Cr=Br.now(),fr=setInterval(wi,or)),hr=1,Hr(Zn))}}var fi=d(13681),Pi=d(21775),hi=d(88122),xn=function(Et){return["fill","stroke","fillStyle","strokeStyle"].includes(Et)},ci=function(Et){return/^[r,R,L,l]{1}[\s]*\(/.test(Et)},_i=[1,0,0,0,1,0,0,0,1];function Kn(Et,ht,et){var ct={},It=ht.fromAttrs,Ht=ht.toAttrs;if(!Et.destroyed){var se;for(var ve in Ht)if(!(0,P.isEqual)(It[ve],Ht[ve]))if(ve==="path"){var ce=Ht[ve],Oe=It[ve];ce.length>Oe.length?(ce=T(Ht[ve]),Oe=T(It[ve]),Oe=f(Oe,ce),Oe=Rt(Oe,ce),ht.fromAttrs.path=Oe,ht.toAttrs.path=ce):ht.pathFormatted||(ce=T(Ht[ve]),Oe=T(It[ve]),Oe=Rt(Oe,ce),ht.fromAttrs.path=Oe,ht.toAttrs.path=ce,ht.pathFormatted=!0),ct[ve]=[];for(var ke=0;ke<ce.length;ke++){for(var Ye=ce[ke],ar=Oe[ke],Ge=[],Re=0;Re<Ye.length;Re++)(0,P.isNumber)(Ye[Re])&&ar&&(0,P.isNumber)(ar[Re])?(se=(0,Pi.Z)(ar[Re],Ye[Re]),Ge.push(se(et))):Ge.push(Ye[Re]);ct[ve].push(Ge)}}else if(ve==="matrix"){var Mr=(0,hi.Z)(It[ve]||_i,Ht[ve]||_i),wr=Mr(et);ct[ve]=wr}else xn(ve)&&ci(Ht[ve])?ct[ve]=Ht[ve]:(0,P.isFunction)(Ht[ve])||(se=(0,Pi.Z)(It[ve],Ht[ve]),ct[ve]=se(et));Et.attr(ct)}}function ai(Et,ht,et){var ct=ht.startTime,It=ht.delay;if(et<ct+It||ht._paused)return!1;var Ht,se=ht.duration,ve=ht.easing;if(et=et-ct-ht.delay,ht.repeat)Ht=et%se/se,Ht=fi[ve](Ht);else if(Ht=et/se,Ht<1)Ht=fi[ve](Ht);else return ht.onFrame?Et.attr(ht.onFrame(1)):Et.attr(ht.toAttrs),!0;if(ht.onFrame){var ce=ht.onFrame(Ht);Et.attr(ce)}else Kn(Et,ht,Ht);return!1}var _n=function(){function Et(ht){this.animators=[],this.current=0,this.timer=null,this.canvas=ht}return Et.prototype.initTimer=function(){var ht=this,et=!1,ct,It,Ht;this.timer=Xn(function(se){if(ht.current=se,ht.animators.length>0){for(var ve=ht.animators.length-1;ve>=0;ve--){if(ct=ht.animators[ve],ct.destroyed){ht.removeAnimator(ve);continue}if(!ct.isAnimatePaused()){It=ct.get("animations");for(var ce=It.length-1;ce>=0;ce--)Ht=It[ce],et=ai(ct,Ht,se),et&&(It.splice(ce,1),et=!1,Ht.callback&&Ht.callback())}It.length===0&&ht.removeAnimator(ve)}var Oe=ht.canvas.get("autoDraw");Oe||ht.canvas.draw()}})},Et.prototype.addAnimator=function(ht){this.animators.push(ht)},Et.prototype.removeAnimator=function(ht){this.animators.splice(ht,1)},Et.prototype.isAnimating=function(){return!!this.animators.length},Et.prototype.stop=function(){this.timer&&this.timer.stop()},Et.prototype.stopAllAnimations=function(ht){ht===void 0&&(ht=!0),this.animators.forEach(function(et){et.stopAnimate(ht)}),this.animators=[],this.canvas.draw()},Et.prototype.getTime=function(){return this.current},Et}(),Vi=_n,Hi=40,En=0,$n=":",Wn=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Ri(Et,ht){for(var et in Et)if(Et.hasOwnProperty(et)&&et.indexOf($n+ht)>=0)return!0;return!1}function ei(Et,ht,et){et.name=ht,et.target=Et,et.currentTarget=Et,et.delegateTarget=Et,Et.emit(ht,et)}function sa(Et,ht,et){if(et.bubbles){var ct=void 0,It=!1;if(ht==="mouseenter"?(ct=et.fromShape,It=!0):ht==="mouseleave"&&(It=!0,ct=et.toShape),Et.isCanvas()&&It)return;if(ct&&Zt(Et,ct)){et.bubbles=!1;return}et.name=ht,et.currentTarget=Et,et.delegateTarget=Et,Et.emit(ht,et)}}var oi=function(){function Et(ht){var et=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(ct){var It=ct.type;et._triggerEvent(It,ct)},this._onDocumentMove=function(ct){var It=et.canvas,Ht=It.get("el");if(Ht!==ct.target&&(et.dragging||et.currentShape)){var se=et._getPointInfo(ct);et.dragging&&et._emitEvent("drag",ct,se,et.draggingShape)}},this._onDocumentMouseUp=function(ct){var It=et.canvas,Ht=It.get("el");if(Ht!==ct.target&&et.dragging){var se=et._getPointInfo(ct);et.draggingShape&&et._emitEvent("drop",ct,se,null),et._emitEvent("dragend",ct,se,et.draggingShape),et._afterDrag(et.draggingShape,se,ct)}},this.canvas=ht.canvas}return Et.prototype.init=function(){this._bindEvents()},Et.prototype._bindEvents=function(){var ht=this,et=this.canvas.get("el");(0,ft.default)(Wn,function(ct){et.addEventListener(ct,ht._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},Et.prototype._clearEvents=function(){var ht=this,et=this.canvas.get("el");(0,ft.default)(Wn,function(ct){et.removeEventListener(ct,ht._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},Et.prototype._getEventObj=function(ht,et,ct,It,Ht,se){var ve=new Ft(ht,et);return ve.fromShape=Ht,ve.toShape=se,ve.x=ct.x,ve.y=ct.y,ve.clientX=ct.clientX,ve.clientY=ct.clientY,ve.propagationPath.push(It),ve},Et.prototype._getShape=function(ht,et){return this.canvas.getShape(ht.x,ht.y,et)},Et.prototype._getPointInfo=function(ht){var et=this.canvas,ct=et.getClientByEvent(ht),It=et.getPointByEvent(ht);return{x:It.x,y:It.y,clientX:ct.x,clientY:ct.y}},Et.prototype._triggerEvent=function(ht,et){var ct=this._getPointInfo(et),It=this._getShape(ct,et),Ht=this["_on"+ht],se=!1;if(Ht)Ht.call(this,ct,It,et);else{var ve=this.currentShape;ht==="mouseenter"||ht==="dragenter"||ht==="mouseover"?(this._emitEvent(ht,et,ct,null,null,It),It&&this._emitEvent(ht,et,ct,It,null,It),ht==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",et,ct,null)):ht==="mouseleave"||ht==="dragleave"||ht==="mouseout"?(se=!0,ve&&this._emitEvent(ht,et,ct,ve,ve,null),this._emitEvent(ht,et,ct,null,ve,null),ht==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",et,ct,null)):this._emitEvent(ht,et,ct,It,null,null)}if(se||(this.currentShape=It),It&&!It.get("destroyed")){var ce=this.canvas,Oe=ce.get("el");Oe.style.cursor=It.attr("cursor")||ce.get("cursor")}},Et.prototype._onmousedown=function(ht,et,ct){ct.button===En&&(this.mousedownShape=et,this.mousedownPoint=ht,this.mousedownTimeStamp=ct.timeStamp),this._emitEvent("mousedown",ct,ht,et,null,null)},Et.prototype._emitMouseoverEvents=function(ht,et,ct,It){var Ht=this.canvas.get("el");ct!==It&&(ct&&(this._emitEvent("mouseout",ht,et,ct,ct,It),this._emitEvent("mouseleave",ht,et,ct,ct,It),(!It||It.get("destroyed"))&&(Ht.style.cursor=this.canvas.get("cursor"))),It&&(this._emitEvent("mouseover",ht,et,It,ct,It),this._emitEvent("mouseenter",ht,et,It,ct,It)))},Et.prototype._emitDragoverEvents=function(ht,et,ct,It,Ht){It?(It!==ct&&(ct&&this._emitEvent("dragleave",ht,et,ct,ct,It),this._emitEvent("dragenter",ht,et,It,ct,It)),Ht||this._emitEvent("dragover",ht,et,It)):ct&&this._emitEvent("dragleave",ht,et,ct,ct,It),Ht&&this._emitEvent("dragover",ht,et,It)},Et.prototype._afterDrag=function(ht,et,ct){ht&&(ht.set("capture",!0),this.draggingShape=null),this.dragging=!1;var It=this._getShape(et,ct);It!==ht&&this._emitMouseoverEvents(ct,et,ht,It),this.currentShape=It},Et.prototype._onmouseup=function(ht,et,ct){if(ct.button===En){var It=this.draggingShape;this.dragging?(It&&this._emitEvent("drop",ct,ht,et),this._emitEvent("dragend",ct,ht,It),this._afterDrag(It,ht,ct)):(this._emitEvent("mouseup",ct,ht,et),et===this.mousedownShape&&this._emitEvent("click",ct,ht,et),this.mousedownShape=null,this.mousedownPoint=null)}},Et.prototype._ondragover=function(ht,et,ct){ct.preventDefault();var It=this.currentShape;this._emitDragoverEvents(ct,ht,It,et,!0)},Et.prototype._onmousemove=function(ht,et,ct){var It=this.canvas,Ht=this.currentShape,se=this.draggingShape;if(this.dragging)se&&this._emitDragoverEvents(ct,ht,Ht,et,!1),this._emitEvent("drag",ct,ht,se);else{var ve=this.mousedownPoint;if(ve){var ce=this.mousedownShape,Oe=ct.timeStamp,ke=Oe-this.mousedownTimeStamp,Ye=ve.clientX-ht.clientX,ar=ve.clientY-ht.clientY,Ge=Ye*Ye+ar*ar;ke>120||Ge>Hi?ce&&ce.get("draggable")?(se=this.mousedownShape,se.set("capture",!1),this.draggingShape=se,this.dragging=!0,this._emitEvent("dragstart",ct,ht,se),this.mousedownShape=null,this.mousedownPoint=null):!ce&&It.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",ct,ht,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(ct,ht,Ht,et),this._emitEvent("mousemove",ct,ht,et)):(this._emitMouseoverEvents(ct,ht,Ht,et),this._emitEvent("mousemove",ct,ht,et))}else this._emitMouseoverEvents(ct,ht,Ht,et),this._emitEvent("mousemove",ct,ht,et)}},Et.prototype._emitEvent=function(ht,et,ct,It,Ht,se){var ve=this._getEventObj(ht,et,ct,It,Ht,se);if(It){ve.shape=It,ei(It,ht,ve);for(var ce=It.getParent();ce;)ce.emitDelegation(ht,ve),ve.propagationStopped||sa(ce,ht,ve),ve.propagationPath.push(ce),ce=ce.getParent()}else{var Oe=this.canvas;ei(Oe,ht,ve)}},Et.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Et}(),ba=oi,Wi="px",Ji=(0,Fe.detect)(),Oa=Ji&&Ji.name==="firefox",Dt=function(Et){(0,Qt.__extends)(ht,Et);function ht(et){var ct=Et.call(this,et)||this;return ct.initContainer(),ct.initDom(),ct.initEvents(),ct.initTimeline(),ct}return ht.prototype.getDefaultCfg=function(){var et=Et.prototype.getDefaultCfg.call(this);return et.cursor="default",et.supportCSSTransform=!1,et},ht.prototype.initContainer=function(){var et=this.get("container");(0,Bt.default)(et)&&(et=document.getElementById(et),this.set("container",et))},ht.prototype.initDom=function(){var et=this.createDom();this.set("el",et);var ct=this.get("container");ct.appendChild(et),this.setDOMSize(this.get("width"),this.get("height"))},ht.prototype.initEvents=function(){var et=new ba({canvas:this});et.init(),this.set("eventController",et)},ht.prototype.initTimeline=function(){var et=new Vi(this);this.set("timeline",et)},ht.prototype.setDOMSize=function(et,ct){var It=this.get("el");Ot&&(It.style.width=et+Wi,It.style.height=ct+Wi)},ht.prototype.changeSize=function(et,ct){this.setDOMSize(et,ct),this.set("width",et),this.set("height",ct),this.onCanvasChange("changeSize")},ht.prototype.getRenderer=function(){return this.get("renderer")},ht.prototype.getCursor=function(){return this.get("cursor")},ht.prototype.setCursor=function(et){this.set("cursor",et);var ct=this.get("el");Ot&&ct&&(ct.style.cursor=et)},ht.prototype.getPointByEvent=function(et){var ct=this.get("supportCSSTransform");if(ct){if(Oa&&!(0,ue.default)(et.layerX)&&et.layerX!==et.offsetX)return{x:et.layerX,y:et.layerY};if(!(0,ue.default)(et.offsetX))return{x:et.offsetX,y:et.offsetY}}var It=this.getClientByEvent(et),Ht=It.x,se=It.y;return this.getPointByClient(Ht,se)},ht.prototype.getClientByEvent=function(et){var ct=et;return et.touches&&(et.type==="touchend"?ct=et.changedTouches[0]:ct=et.touches[0]),{x:ct.clientX,y:ct.clientY}},ht.prototype.getPointByClient=function(et,ct){var It=this.get("el"),Ht=It.getBoundingClientRect();return{x:et-Ht.left,y:ct-Ht.top}},ht.prototype.getClientByPoint=function(et,ct){var It=this.get("el"),Ht=It.getBoundingClientRect();return{x:et+Ht.left,y:ct+Ht.top}},ht.prototype.draw=function(){},ht.prototype.removeDom=function(){var et=this.get("el");et.parentNode.removeChild(et)},ht.prototype.clearEvents=function(){var et=this.get("eventController");et.destroy()},ht.prototype.isCanvas=function(){return!0},ht.prototype.getParent=function(){return null},ht.prototype.destroy=function(){var et=this.get("timeline");this.get("destroyed")||(this.clear(),et&&et.stop(),this.clearEvents(),this.removeDom(),Et.prototype.destroy.call(this))},ht}(er),jt=Dt,re=function(Et){(0,Qt.__extends)(ht,Et);function ht(){return Et!==null&&Et.apply(this,arguments)||this}return ht.prototype.isGroup=function(){return!0},ht.prototype.isEntityGroup=function(){return!1},ht.prototype.clone=function(){for(var et=Et.prototype.clone.call(this),ct=this.getChildren(),It=0;It<ct.length;It++){var Ht=ct[It];et.add(Ht.clone())}return et},ht}(er),ye=re,ge=function(Et){(0,Qt.__extends)(ht,Et);function ht(et){return Et.call(this,et)||this}return ht.prototype._isInBBox=function(et,ct){var It=this.getBBox();return It.minX<=et&&It.maxX>=et&&It.minY<=ct&&It.maxY>=ct},ht.prototype.afterAttrsChange=function(et){Et.prototype.afterAttrsChange.call(this,et),this.clearCacheBBox()},ht.prototype.getBBox=function(){var et=this.get("bbox");return et||(et=this.calculateBBox(),this.set("bbox",et)),et},ht.prototype.getCanvasBBox=function(){var et=this.get("canvasBox");return et||(et=this.calculateCanvasBBox(),this.set("canvasBox",et)),et},ht.prototype.applyMatrix=function(et){Et.prototype.applyMatrix.call(this,et),this.set("canvasBox",null)},ht.prototype.calculateCanvasBBox=function(){var et=this.getBBox(),ct=this.getTotalMatrix(),It=et.minX,Ht=et.minY,se=et.maxX,ve=et.maxY;if(ct){var ce=ur(ct,[et.minX,et.minY]),Oe=ur(ct,[et.maxX,et.minY]),ke=ur(ct,[et.minX,et.maxY]),Ye=ur(ct,[et.maxX,et.maxY]);It=Math.min(ce[0],Oe[0],ke[0],Ye[0]),se=Math.max(ce[0],Oe[0],ke[0],Ye[0]),Ht=Math.min(ce[1],Oe[1],ke[1],Ye[1]),ve=Math.max(ce[1],Oe[1],ke[1],Ye[1])}var ar=this.attrs;if(ar.shadowColor){var Ge=ar.shadowBlur,Re=Ge===void 0?0:Ge,Mr=ar.shadowOffsetX,wr=Mr===void 0?0:Mr,Nr=ar.shadowOffsetY,Gr=Nr===void 0?0:Nr,cr=It-Re+wr,rr=se+Re+wr,Xr=Ht-Re+Gr,cn=ve+Re+Gr;It=Math.min(It,cr),se=Math.max(se,rr),Ht=Math.min(Ht,Xr),ve=Math.max(ve,cn)}return{x:It,y:Ht,minX:It,minY:Ht,maxX:se,maxY:ve,width:se-It,height:ve-Ht}},ht.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBox",null)},ht.prototype.isClipShape=function(){return this.get("isClipShape")},ht.prototype.isInShape=function(et,ct){return!1},ht.prototype.isOnlyHitBox=function(){return!1},ht.prototype.isHit=function(et,ct){var It=this.get("startArrowShape"),Ht=this.get("endArrowShape"),se=[et,ct,1];se=this.invertFromMatrix(se);var ve=se[0],ce=se[1],Oe=this._isInBBox(ve,ce);return this.isOnlyHitBox()?Oe:!!(Oe&&!this.isClipped(ve,ce)&&(this.isInShape(ve,ce)||It&&It.isHit(ve,ce)||Ht&&Ht.isHit(ve,ce)))},ht}(Jt),Pe=ge,$e=d(76062),Qe=$e.version},40455:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b){var P=b.attr(),D=P.x,O=P.y,L=P.r;return{x:D-L,y:O-L,width:L*2,height:L*2}}S.default=d},27633:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b){var P=b.attr(),D=P.x,O=P.y,L=P.rx,T=P.ry;return{x:D-L,y:O-T,width:L*2,height:T*2}}S.default=d},41056:function(dt,S,d){"use strict";var b;b={value:!0};var P=d(28648);S.b=P.getMethod;var D=d(3541),O=d(40455),L=d(10687),T=d(19914),A=d(92933),E=d(89372),p=d(74461),w=d(27633);P.register("rect",D.default),P.register("image",D.default),P.register("circle",O.default),P.register("marker",O.default),P.register("polyline",L.default),P.register("polygon",T.default),P.register("text",A.default),P.register("path",E.default),P.register("line",p.default),P.register("ellipse",w.default)},74461:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(3406);function P(D){var O=D.attr(),L=O.x1,T=O.y1,A=O.x2,E=O.y2,p=Math.min(L,A),w=Math.max(L,A),y=Math.min(T,E),x=Math.max(T,E),m={minX:p,maxX:w,minY:y,maxY:x};return m=b.mergeArrowBBox(D,m),{x:m.minX,y:m.minY,width:m.maxX-m.minX,height:m.maxY-m.minY}}S.default=P},89372:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(2879),P=d(15730),D=d(33418),O=d(49274),L=d(39984),T=d(3406);function A(w,y){for(var x=[],m=[],M=[],k=0;k<w.length;k++){var R=w[k],N=R.currentPoint,W=R.params,Q=R.prePoint,H=void 0;switch(R.command){case"Q":H=b.default.box(Q[0],Q[1],W[1],W[2],W[3],W[4]);break;case"C":H=P.default.box(Q[0],Q[1],W[1],W[2],W[3],W[4],W[5],W[6]);break;case"A":var $=R.arcParams;H=D.default.box($.cx,$.cy,$.rx,$.ry,$.xRotation,$.startAngle,$.endAngle);break;default:x.push(N[0]),m.push(N[1]);break}H&&(R.box=H,x.push(H.x,H.x+H.width),m.push(H.y,H.y+H.height)),y&&(R.command==="L"||R.command==="M")&&R.prePoint&&R.nextPoint&&M.push(R)}x=x.filter(function(Mt){return!Number.isNaN(Mt)}),m=m.filter(function(Mt){return!Number.isNaN(Mt)});var it=Math.min.apply(null,x),nt=Math.min.apply(null,m),wt=Math.max.apply(null,x),yt=Math.max.apply(null,m);if(M.length===0)return{x:it,y:nt,width:wt-it,height:yt-nt};for(var k=0;k<M.length;k++){var R=M[k],N=R.currentPoint,Lt=void 0;N[0]===it?(Lt=E(R,y),it=it-Lt.xExtra):N[0]===wt&&(Lt=E(R,y),wt=wt+Lt.xExtra),N[1]===nt?(Lt=E(R,y),nt=nt-Lt.yExtra):N[1]===yt&&(Lt=E(R,y),yt=yt+Lt.yExtra)}return{x:it,y:nt,width:wt-it,height:yt-nt}}function E(w,y){var x=w.prePoint,m=w.currentPoint,M=w.nextPoint,k=Math.pow(m[0]-x[0],2)+Math.pow(m[1]-x[1],2),R=Math.pow(m[0]-M[0],2)+Math.pow(m[1]-M[1],2),N=Math.pow(x[0]-M[0],2)+Math.pow(x[1]-M[1],2),W=Math.acos((k+R-N)/(2*Math.sqrt(k)*Math.sqrt(R)));if(!W||Math.sin(W)===0||L.default(W,0))return{xExtra:0,yExtra:0};var Q=Math.abs(Math.atan2(M[1]-m[1],M[0]-m[0])),H=Math.abs(Math.atan2(M[0]-m[0],M[1]-m[1]));Q=Q>Math.PI/2?Math.PI-Q:Q,H=H>Math.PI/2?Math.PI-H:H;var $={xExtra:Math.cos(W/2-Q)*(y/2*(1/Math.sin(W/2)))-y/2||0,yExtra:Math.cos(H-W/2)*(y/2*(1/Math.sin(W/2)))-y/2||0};return $}function p(w){var y=w.attr(),x=y.path,m=y.stroke,M=m?y.lineWidth:0,k=w.get("segments")||O.default(x),R=A(k,M),N=R.x,W=R.y,Q=R.width,H=R.height,$={minX:N,minY:W,maxX:N+Q,maxY:W+H};return $=T.mergeArrowBBox(w,$),{x:$.minX,y:$.minY,width:$.maxX-$.minX,height:$.maxY-$.minY}}S.default=p},19914:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(76256);function P(D){for(var O=D.attr(),L=O.points,T=[],A=[],E=0;E<L.length;E++){var p=L[E];T.push(p[0]),A.push(p[1])}return b.getBBoxByArray(T,A)}S.default=P},10687:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(76256),P=d(3406);function D(O){for(var L=O.attr(),T=L.points,A=[],E=[],p=0;p<T.length;p++){var w=T[p];A.push(w[0]),E.push(w[1])}var y=b.getBBoxByArray(A,E),x=y.x,m=y.y,M=y.width,k=y.height,R={minX:x,minY:m,maxX:x+M,maxY:m+k};return R=P.mergeArrowBBox(O,R),{x:R.minX,y:R.minY,width:R.maxX-R.minX,height:R.maxY-R.minY}}S.default=D},3541:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b){var P=b.attr(),D=P.x,O=P.y,L=P.width,T=P.height;return{x:D,y:O,width:L,height:T}}S.default=d},28648:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=new Map;function b(D,O){d.set(D,O)}S.register=b;function P(D){return d.get(D)}S.getMethod=P},92933:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(8914);function P(D){var O=D.attr(),L=O.x,T=O.y,A=O.text,E=O.fontSize,p=O.lineHeight,w=O.font;w||(w=b.assembleFont(O));var y=b.getTextWidth(A,w),x;if(!y)x={x:L,y:T,width:0,height:0};else{var m=O.textAlign,M=O.textBaseline,k=b.getTextHeight(A,E,p),R={x:L,y:T-k};m&&(m==="end"||m==="right"?R.x-=y:m==="center"&&(R.x-=y/2)),M&&(M==="top"?R.y+=k:M==="middle"&&(R.y+=k/2)),x={x:R.x,y:R.y,width:y,height:k}}return x}S.default=P},3406:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(P,D){return!P||!D?P||D:{minX:Math.min(P.minX,D.minX),minY:Math.min(P.minY,D.minY),maxX:Math.max(P.maxX,D.maxX),maxY:Math.max(P.maxY,D.maxY)}}S.mergeBBox=d;function b(P,D){var O=P.get("startArrowShape"),L=P.get("endArrowShape"),T=null,A=null;return O&&(T=O.getCanvasBBox(),D=d(D,T)),L&&(A=L.getCanvasBBox(),D=d(D,A)),D}S.mergeArrowBBox=b},66192:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function b(P,D){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=P,this.name=P,this.originalEvent=D,this.timeStamp=D.timeStamp}return b.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},b.prototype.stopPropagation=function(){this.propagationStopped=!0},b.prototype.toString=function(){var P=this.type;return"[Event (type="+P+")]"},b.prototype.save=function(){},b.prototype.restore=function(){},b}();S.default=d},85424:function(dt,S){"use strict";var d;d={value:!0}},4555:function(dt,S){"use strict";Object.defineProperty(S,"X",{value:!0})},6052:function(dt,S){"use strict";var d;d={value:!0};function b(O,L){var T=[],A=O[0],E=O[1],p=O[2],w=O[3],y=O[4],x=O[5],m=O[6],M=O[7],k=O[8],R=L[0],N=L[1],W=L[2],Q=L[3],H=L[4],$=L[5],it=L[6],nt=L[7],wt=L[8];return T[0]=R*A+N*w+W*m,T[1]=R*E+N*y+W*M,T[2]=R*p+N*x+W*k,T[3]=Q*A+H*w+$*m,T[4]=Q*E+H*y+$*M,T[5]=Q*p+H*x+$*k,T[6]=it*A+nt*w+wt*m,T[7]=it*E+nt*y+wt*M,T[8]=it*p+nt*x+wt*k,T}d=b;function P(O,L){var T=[],A=L[0],E=L[1];return T[0]=O[0]*A+O[3]*E+O[6],T[1]=O[1]*A+O[4]*E+O[7],T}S.rG=P;function D(O){var L=[],T=O[0],A=O[1],E=O[2],p=O[3],w=O[4],y=O[5],x=O[6],m=O[7],M=O[8],k=M*w-y*m,R=-M*p+y*x,N=m*p-w*x,W=T*k+A*R+E*N;return W?(W=1/W,L[0]=k*W,L[1]=(-M*A+E*m)*W,L[2]=(y*A-E*w)*W,L[3]=R*W,L[4]=(M*T-E*x)*W,L[5]=(-y*T+E*p)*W,L[6]=N*W,L[7]=(-m*T+A*x)*W,L[8]=(w*T-A*p)*W,L):null}S.U_=D},26632:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=null;function b(){if(!d){var P=document.createElement("canvas");P.width=1,P.height=1,d=P.getContext("2d")}return d}S.getOffScreenContext=b},8914:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(22487),P=d(26632);function D(A,E,p){var w=1;if(b.isString(A)&&(w=A.split(`
`).length),w>1){var y=O(E,p);return E*w+y*(w-1)}return E}S.getTextHeight=D;function O(A,E){return E?E-A:A*.14}S.getLineSpaceing=O;function L(A,E){var p=P.getOffScreenContext(),w=0;if(b.isNil(A)||A==="")return w;if(p.save(),p.font=E,b.isString(A)&&A.includes(`
`)){var y=A.split(`
`);b.each(y,function(x){var m=p.measureText(x).width;w<m&&(w=m)})}else w=p.measureText(A).width;return p.restore(),w}S.getTextWidth=L;function T(A){var E=A.fontSize,p=A.fontFamily,w=A.fontWeight,y=A.fontStyle,x=A.fontVariant;return[y,x,w,E+"px",p].join(" ").trim()}S.assembleFont=T},22487:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function b(x,m){var M=x.indexOf(m);M!==-1&&x.splice(M,1)}S.removeFromArray=b,S.isBrowser=typeof window!="undefined"&&typeof window.document!="undefined";var P=d(73890);S.isNil=P.default;var D=d(46812);S.isFunction=D.default;var O=d(21830);S.isString=O.default;var L=d(33643);S.isObject=L.default;var T=d(66631);S.isArray=T.default;var A=d(66974);S.mix=A.default;var E=d(27154);S.each=E.default;var p=d(85260);S.upperFirst=p.default;function w(x,m){if(x.isCanvas())return!0;for(var M=m.getParent(),k=!1;M;){if(M===x){k=!0;break}M=M.getParent()}return k}S.isParent=w;function y(x){return x.cfg.visible&&x.cfg.capture}S.isAllowCapture=y},76062:function(dt){"use strict";dt.exports=JSON.parse('{"name":"@antv/g-base","version":"0.4.7","description":"A common util collection for antv projects","main":"lib/index.js","module":"esm/index.js","types":"lib/index.d.ts","files":["package.json","esm","lib","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","clean":"rm -rf esm lib","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/util/issues"},"devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"homepage":"https://github.com/antvis/util#readme","dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.3","@antv/matrix-util":"^3.1.0-beta.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9","detect-browser":"^5.1.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},84909:function(dt,S,d){"use strict";var b;b={value:!0};var P=d(48465);function D(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])}function O(A,E){return D(A)*D(E)?(A[0]*E[0]+A[1]*E[1])/(D(A)*D(E)):1}function L(A,E){return(A[0]*E[1]<A[1]*E[0]?-1:1)*Math.acos(O(A,E))}function T(A,E){var p=E[1],w=E[2],y=P.mod(P.toRadian(E[3]),Math.PI*2),x=E[4],m=E[5],M=A[0],k=A[1],R=E[6],N=E[7],W=Math.cos(y)*(M-R)/2+Math.sin(y)*(k-N)/2,Q=-1*Math.sin(y)*(M-R)/2+Math.cos(y)*(k-N)/2,H=W*W/(p*p)+Q*Q/(w*w);H>1&&(p*=Math.sqrt(H),w*=Math.sqrt(H));var $=p*p*(Q*Q)+w*w*(W*W),it=$?Math.sqrt((p*p*(w*w)-$)/$):1;x===m&&(it*=-1),isNaN(it)&&(it=0);var nt=w?it*p*Q/w:0,wt=p?it*-w*W/p:0,yt=(M+R)/2+Math.cos(y)*nt-Math.sin(y)*wt,Lt=(k+N)/2+Math.sin(y)*nt+Math.cos(y)*wt,Mt=[(W-nt)/p,(Q-wt)/w],J=[(-1*W-nt)/p,(-1*Q-wt)/w],tt=L([1,0],Mt),q=L(Mt,J);return O(Mt,J)<=-1&&(q=Math.PI),O(Mt,J)>=1&&(q=0),m===0&&q>0&&(q=q-2*Math.PI),m===1&&q<0&&(q=q+2*Math.PI),{cx:yt,cy:Lt,rx:P.isSamePoint(A,[R,N])?0:p,ry:P.isSamePoint(A,[R,N])?0:w,startAngle:tt,endAngle:tt+q,xRotation:y,arcFlag:x,sweepFlag:m}}S.Z=T},48465:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=S.mergeRegion=S.intersectRect=S.inBox=S.distance=S.getPixelRatio=void 0;function b(){return window?window.devicePixelRatio:1}S.getPixelRatio=b;function P(N,W,Q,H){var $=N-Q,it=W-H;return Math.sqrt($*$+it*it)}S.distance=P;function D(N,W,Q,H,$,it){return $>=N&&$<=N+Q&&it>=W&&it<=W+H}S.inBox=D;function O(N,W){return!(W.minX>N.maxX||W.maxX<N.minX||W.minY>N.maxY||W.maxY<N.minY)}S.intersectRect=O;function L(N,W){return!N||!W?N||W:{minX:Math.min(N.minX,W.minX),minY:Math.min(N.minY,W.minY),maxX:Math.max(N.maxX,W.maxX),maxY:Math.max(N.maxY,W.maxY)}}S.mergeRegion=L;function T(N,W){return N[0]===W[0]&&N[1]===W[1]}S.isSamePoint=T;var A=d(73890);Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return A.default}});var E=d(21830);Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return E.default}});var p=d(46812);Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return p.default}});var w=d(66631);Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return w.default}});var y=d(27154);Object.defineProperty(S,"each",{enumerable:!0,get:function(){return y.default}});var x=d(9217);Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return x.default}});var m=d(5253);Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return m.default}});var M=d(39984);Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return M.default}});var k=d(98229);Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return k.default}});var R=d(35755);Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return R.default}})},71270:function(dt){"use strict";dt.exports=JSON.parse('{"name":"@antv/g-canvas","version":"0.4.15","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit","dist":"webpack --config webpack.config.js --mode production"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.26.1","webpack-cli":"^3.1.2"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","gl-matrix":"^3.0.0"},"__npminstall_done":false,"gitHead":"9092384bf6b7efd6ec71bbcdec1b801a0079c403"}')},89838:function(dt,S,d){"use strict";d.r(S),d.d(S,{Arc:function(){return ut},Cubic:function(){return yt},Line:function(){return w},Polygon:function(){return Kt},Polyline:function(){return ae},Quad:function(){return Q},Util:function(){return b}});var b={};d.r(b),d.d(b,{distance:function(){return O},getBBoxByArray:function(){return T},getBBoxRange:function(){return A},isNumberEqual:function(){return L},piMod:function(){return E}});function P(Bt){return Math.min.apply(null,Bt)}function D(Bt){return Math.max.apply(null,Bt)}function O(Bt,Ct,pt,Pt){var ft=Bt-pt,ot=Ct-Pt;return Math.sqrt(ft*ft+ot*ot)}function L(Bt,Ct){return Math.abs(Bt-Ct)<.001}function T(Bt,Ct){var pt=P(Bt),Pt=P(Ct),ft=D(Bt),ot=D(Ct);return{x:pt,y:Pt,width:ft-pt,height:ot-Pt}}function A(Bt,Ct,pt,Pt){return{minX:P([Bt,pt]),maxX:D([Bt,pt]),minY:P([Ct,Pt]),maxY:D([Ct,Pt])}}function E(Bt){return(Bt+Math.PI*2)%(Math.PI*2)}var p=d(31437),w={box:function(Bt,Ct,pt,Pt){return T([Bt,pt],[Ct,Pt])},length:function(Bt,Ct,pt,Pt){return O(Bt,Ct,pt,Pt)},pointAt:function(Bt,Ct,pt,Pt,ft){return{x:(1-ft)*Bt+ft*pt,y:(1-ft)*Ct+ft*Pt}},pointDistance:function(Bt,Ct,pt,Pt,ft,ot){var St=(pt-Bt)*(ft-Bt)+(Pt-Ct)*(ot-Ct);if(St<0)return O(Bt,Ct,ft,ot);var Ot=(pt-Bt)*(pt-Bt)+(Pt-Ct)*(Pt-Ct);return St>Ot?O(pt,Pt,ft,ot):this.pointToLine(Bt,Ct,pt,Pt,ft,ot)},pointToLine:function(Bt,Ct,pt,Pt,ft,ot){var St=[pt-Bt,Pt-Ct];if(p.exactEquals(St,[0,0]))return Math.sqrt((ft-Bt)*(ft-Bt)+(ot-Ct)*(ot-Ct));var Ot=[-St[1],St[0]];p.normalize(Ot,Ot);var Zt=[ft-Bt,ot-Ct];return Math.abs(p.dot(Zt,Ot))},tangentAngle:function(Bt,Ct,pt,Pt){return Math.atan2(Pt-Ct,pt-Bt)}},y=1e-4;function x(Bt,Ct,pt,Pt,ft,ot){var St,Ot=Infinity,Zt=[pt,Pt],le=20;ot&&ot>200&&(le=ot/10);for(var be=1/le,Be=be/10,Fe=0;Fe<=le;Fe++){var lr=Fe*be,dr=[ft.apply(null,Bt.concat([lr])),ft.apply(null,Ct.concat([lr]))],ur=O(Zt[0],Zt[1],dr[0],dr[1]);ur<Ot&&(St=lr,Ot=ur)}if(St===0)return{x:Bt[0],y:Ct[0]};if(St===1){var Tr=Bt.length;return{x:Bt[Tr-1],y:Ct[Tr-1]}}Ot=Infinity;for(var Fe=0;Fe<32&&!(Be<y);Fe++){var sr=St-Be,zr=St+Be,dr=[ft.apply(null,Bt.concat([sr])),ft.apply(null,Ct.concat([sr]))],ur=O(Zt[0],Zt[1],dr[0],dr[1]);if(sr>=0&&ur<Ot)St=sr,Ot=ur;else{var fn=[ft.apply(null,Bt.concat([zr])),ft.apply(null,Ct.concat([zr]))],Yr=O(Zt[0],Zt[1],fn[0],fn[1]);zr<=1&&Yr<Ot?(St=zr,Ot=Yr):Be*=.5}}return{x:ft.apply(null,Bt.concat([St])),y:ft.apply(null,Ct.concat([St]))}}function m(Bt,Ct){for(var pt=0,Pt=Bt.length,ft=0;ft<Pt;ft++){var ot=Bt[ft],St=Ct[ft],Ot=Bt[(ft+1)%Pt],Zt=Ct[(ft+1)%Pt];pt+=O(ot,St,Ot,Zt)}return pt/2}function M(Bt,Ct,pt,Pt){var ft=1-Pt;return ft*ft*Bt+2*Pt*ft*Ct+Pt*Pt*pt}function k(Bt,Ct,pt){var Pt=Bt+pt-2*Ct;if(L(Pt,0))return[.5];var ft=(Bt-Ct)/Pt;return ft<=1&&ft>=0?[ft]:[]}function R(Bt,Ct,pt,Pt){return 2*(1-Pt)*(Ct-Bt)+2*Pt*(pt-Ct)}function N(Bt,Ct,pt,Pt,ft,ot,St){var Ot=M(Bt,pt,ft,St),Zt=M(Ct,Pt,ot,St),le=w.pointAt(Bt,Ct,pt,Pt,St),be=w.pointAt(pt,Pt,ft,ot,St);return[[Bt,Ct,le.x,le.y,Ot,Zt],[Ot,Zt,be.x,be.y,ft,ot]]}function W(Bt,Ct,pt,Pt,ft,ot,St){if(St===0)return(O(Bt,Ct,pt,Pt)+O(pt,Pt,ft,ot)+O(Bt,Ct,ft,ot))/2;var Ot=N(Bt,Ct,pt,Pt,ft,ot,.5),Zt=Ot[0],le=Ot[1];return Zt.push(St-1),le.push(St-1),W.apply(null,Zt)+W.apply(null,le)}var Q={box:function(Bt,Ct,pt,Pt,ft,ot){var St=k(Bt,pt,ft)[0],Ot=k(Ct,Pt,ot)[0],Zt=[Bt,ft],le=[Ct,ot];return St!==void 0&&Zt.push(M(Bt,pt,ft,St)),Ot!==void 0&&le.push(M(Ct,Pt,ot,Ot)),T(Zt,le)},length:function(Bt,Ct,pt,Pt,ft,ot){return W(Bt,Ct,pt,Pt,ft,ot,3)},nearestPoint:function(Bt,Ct,pt,Pt,ft,ot,St,Ot){return x([Bt,pt,ft],[Ct,Pt,ot],St,Ot,M)},pointDistance:function(Bt,Ct,pt,Pt,ft,ot,St,Ot){var Zt=this.nearestPoint(Bt,Ct,pt,Pt,ft,ot,St,Ot);return O(Zt.x,Zt.y,St,Ot)},interpolationAt:M,pointAt:function(Bt,Ct,pt,Pt,ft,ot,St){return{x:M(Bt,pt,ft,St),y:M(Ct,Pt,ot,St)}},divide:function(Bt,Ct,pt,Pt,ft,ot,St){return N(Bt,Ct,pt,Pt,ft,ot,St)},tangentAngle:function(Bt,Ct,pt,Pt,ft,ot,St){var Ot=R(Bt,pt,ft,St),Zt=R(Ct,Pt,ot,St),le=Math.atan2(Zt,Ot);return E(le)}};function H(Bt,Ct,pt,Pt,ft){var ot=1-ft;return ot*ot*ot*Bt+3*Ct*ft*ot*ot+3*pt*ft*ft*ot+Pt*ft*ft*ft}function $(Bt,Ct,pt,Pt,ft){var ot=1-ft;return 3*(ot*ot*(Ct-Bt)+2*ot*ft*(pt-Ct)+ft*ft*(Pt-pt))}function it(Bt,Ct,pt,Pt){var ft=-3*Bt+9*Ct-9*pt+3*Pt,ot=6*Bt-12*Ct+6*pt,St=3*Ct-3*Bt,Ot=[],Zt,le,be;if(L(ft,0))L(ot,0)||(Zt=-St/ot,Zt>=0&&Zt<=1&&Ot.push(Zt));else{var Be=ot*ot-4*ft*St;L(Be,0)?Ot.push(-ot/(2*ft)):Be>0&&(be=Math.sqrt(Be),Zt=(-ot+be)/(2*ft),le=(-ot-be)/(2*ft),Zt>=0&&Zt<=1&&Ot.push(Zt),le>=0&&le<=1&&Ot.push(le))}return Ot}function nt(Bt,Ct,pt,Pt,ft,ot,St,Ot,Zt){var le=H(Bt,pt,ft,St,Zt),be=H(Ct,Pt,ot,Ot,Zt),Be=w.pointAt(Bt,Ct,pt,Pt,Zt),Fe=w.pointAt(pt,Pt,ft,ot,Zt),lr=w.pointAt(ft,ot,St,Ot,Zt),dr=w.pointAt(Be.x,Be.y,Fe.x,Fe.y,Zt),ur=w.pointAt(Fe.x,Fe.y,lr.x,lr.y,Zt);return[[Bt,Ct,Be.x,Be.y,dr.x,dr.y,le,be],[le,be,ur.x,ur.y,lr.x,lr.y,St,Ot]]}function wt(Bt,Ct,pt,Pt,ft,ot,St,Ot,Zt){if(Zt===0)return m([Bt,pt,ft,St],[Ct,Pt,ot,Ot]);var le=nt(Bt,Ct,pt,Pt,ft,ot,St,Ot,.5),be=le[0],Be=le[1];return be.push(Zt-1),Be.push(Zt-1),wt.apply(null,be)+wt.apply(null,Be)}var yt={extrema:it,box:function(Bt,Ct,pt,Pt,ft,ot,St,Ot){for(var Zt=[Bt,St],le=[Ct,Ot],be=it(Bt,pt,ft,St),Be=it(Ct,Pt,ot,Ot),Fe=0;Fe<be.length;Fe++)Zt.push(H(Bt,pt,ft,St,be[Fe]));for(var Fe=0;Fe<Be.length;Fe++)le.push(H(Ct,Pt,ot,Ot,Be[Fe]));return T(Zt,le)},length:function(Bt,Ct,pt,Pt,ft,ot,St,Ot){return wt(Bt,Ct,pt,Pt,ft,ot,St,Ot,3)},nearestPoint:function(Bt,Ct,pt,Pt,ft,ot,St,Ot,Zt,le,be){return x([Bt,pt,ft,St],[Ct,Pt,ot,Ot],Zt,le,H,be)},pointDistance:function(Bt,Ct,pt,Pt,ft,ot,St,Ot,Zt,le,be){var Be=this.nearestPoint(Bt,Ct,pt,Pt,ft,ot,St,Ot,Zt,le,be);return O(Be.x,Be.y,Zt,le)},interpolationAt:H,pointAt:function(Bt,Ct,pt,Pt,ft,ot,St,Ot,Zt){return{x:H(Bt,pt,ft,St,Zt),y:H(Ct,Pt,ot,Ot,Zt)}},divide:function(Bt,Ct,pt,Pt,ft,ot,St,Ot,Zt){return nt(Bt,Ct,pt,Pt,ft,ot,St,Ot,Zt)},tangentAngle:function(Bt,Ct,pt,Pt,ft,ot,St,Ot,Zt){var le=$(Bt,pt,ft,St,Zt),be=$(Ct,Pt,ot,Ot,Zt);return E(Math.atan2(be,le))}};function Lt(Bt,Ct){var pt=Math.abs(Bt);return Ct>0?pt:pt*-1}var Mt={box:function(Bt,Ct,pt,Pt){return{x:Bt-pt,y:Ct-Pt,width:pt*2,height:Pt*2}},length:function(Bt,Ct,pt,Pt){return Math.PI*(3*(pt+Pt)-Math.sqrt((3*pt+Pt)*(pt+3*Pt)))},nearestPoint:function(Bt,Ct,pt,Pt,ft,ot){var St=pt,Ot=Pt;if(St===0||Ot===0)return{x:Bt,y:Ct};for(var Zt=ft-Bt,le=ot-Ct,be=Math.abs(Zt),Be=Math.abs(le),Fe=St*St,lr=Ot*Ot,dr=Math.PI/4,ur,Tr,sr=0;sr<4;sr++){ur=St*Math.cos(dr),Tr=Ot*Math.sin(dr);var zr=(Fe-lr)*Math.pow(Math.cos(dr),3)/St,fn=(lr-Fe)*Math.pow(Math.sin(dr),3)/Ot,Yr=ur-zr,nn=Tr-fn,pi=be-zr,gi=Be-fn,xi=Math.hypot(nn,Yr),bi=Math.hypot(gi,pi),Xt=xi*Math.asin((Yr*gi-nn*pi)/(xi*bi)),Jt=Xt/Math.sqrt(Fe+lr-ur*ur-Tr*Tr);dr+=Jt,dr=Math.min(Math.PI/2,Math.max(0,dr))}return{x:Bt+Lt(ur,Zt),y:Ct+Lt(Tr,le)}},pointDistance:function(Bt,Ct,pt,Pt,ft,ot){var St=this.nearestPoint(Bt,Ct,pt,Pt,ft,ot);return O(St.x,St.y,ft,ot)},pointAt:function(Bt,Ct,pt,Pt,ft){var ot=2*Math.PI*ft;return{x:Bt+pt*Math.cos(ot),y:Ct+Pt*Math.sin(ot)}},tangentAngle:function(Bt,Ct,pt,Pt,ft){var ot=2*Math.PI*ft,St=Math.atan2(Pt*Math.cos(ot),-pt*Math.sin(ot));return E(St)}};function J(Bt,Ct,pt,Pt,ft,ot,St,Ot){return-1*pt*Math.cos(ft)*Math.sin(Ot)-Pt*Math.sin(ft)*Math.cos(Ot)}function tt(Bt,Ct,pt,Pt,ft,ot,St,Ot){return-1*pt*Math.sin(ft)*Math.sin(Ot)+Pt*Math.cos(ft)*Math.cos(Ot)}function q(Bt,Ct,pt){return Math.atan(-Ct/Bt*Math.tan(pt))}function lt(Bt,Ct,pt){return Math.atan(Ct/(Bt*Math.tan(pt)))}function gt(Bt,Ct,pt,Pt,ft,ot){return pt*Math.cos(ft)*Math.cos(ot)-Pt*Math.sin(ft)*Math.sin(ot)+Bt}function K(Bt,Ct,pt,Pt,ft,ot){return pt*Math.sin(ft)*Math.cos(ot)+Pt*Math.cos(ft)*Math.sin(ot)+Ct}function j(Bt,Ct,pt,Pt){var ft=Math.atan2(Pt*Bt,pt*Ct);return(ft+Math.PI*2)%(Math.PI*2)}function Z(Bt,Ct,pt){return{x:Bt*Math.cos(pt),y:Ct*Math.sin(pt)}}function f(Bt,Ct,pt){var Pt=Math.cos(pt),ft=Math.sin(pt);return[Bt*Pt-Ct*ft,Bt*ft+Ct*Pt]}var ut={box:function(Bt,Ct,pt,Pt,ft,ot,St){for(var Ot=q(pt,Pt,ft),Zt=Infinity,le=-Infinity,be=[ot,St],Be=-Math.PI*2;Be<=Math.PI*2;Be+=Math.PI){var Fe=Ot+Be;ot<St?ot<Fe&&Fe<St&&be.push(Fe):St<Fe&&Fe<ot&&be.push(Fe)}for(var Be=0;Be<be.length;Be++){var lr=gt(Bt,Ct,pt,Pt,ft,be[Be]);lr<Zt&&(Zt=lr),lr>le&&(le=lr)}for(var dr=lt(pt,Pt,ft),ur=Infinity,Tr=-Infinity,sr=[ot,St],Be=-Math.PI*2;Be<=Math.PI*2;Be+=Math.PI){var zr=dr+Be;ot<St?ot<zr&&zr<St&&sr.push(zr):St<zr&&zr<ot&&sr.push(zr)}for(var Be=0;Be<sr.length;Be++){var fn=K(Bt,Ct,pt,Pt,ft,sr[Be]);fn<ur&&(ur=fn),fn>Tr&&(Tr=fn)}return{x:Zt,y:ur,width:le-Zt,height:Tr-ur}},length:function(Bt,Ct,pt,Pt,ft,ot,St){},nearestPoint:function(Bt,Ct,pt,Pt,ft,ot,St,Ot,Zt){var le=f(Ot-Bt,Zt-Ct,-ft),be=le[0],Be=le[1],Fe=Mt.nearestPoint(0,0,pt,Pt,be,Be),lr=j(pt,Pt,Fe.x,Fe.y);lr<ot?Fe=Z(pt,Pt,ot):lr>St&&(Fe=Z(pt,Pt,St));var dr=f(Fe.x,Fe.y,ft);return{x:dr[0]+Bt,y:dr[1]+Ct}},pointDistance:function(Bt,Ct,pt,Pt,ft,ot,St,Ot,Zt){var le=this.nearestPoint(Bt,Ct,pt,Pt,Ot,Zt);return O(le.x,le.y,Ot,Zt)},pointAt:function(Bt,Ct,pt,Pt,ft,ot,St,Ot){var Zt=(St-ot)*Ot+ot;return{x:gt(Bt,Ct,pt,Pt,ft,Zt),y:K(Bt,Ct,pt,Pt,ft,Zt)}},tangentAngle:function(Bt,Ct,pt,Pt,ft,ot,St,Ot){var Zt=(St-ot)*Ot+ot,le=J(Bt,Ct,pt,Pt,ft,ot,St,Zt),be=tt(Bt,Ct,pt,Pt,ft,ot,St,Zt);return E(Math.atan2(be,le))}};function bt(Bt){for(var Ct=0,pt=[],Pt=0;Pt<Bt.length-1;Pt++){var ft=Bt[Pt],ot=Bt[Pt+1],St=O(ft[0],ft[1],ot[0],ot[1]),Ot={from:ft,to:ot,length:St};pt.push(Ot),Ct+=St}return{segments:pt,totalLength:Ct}}function Rt(Bt){if(Bt.length<2)return 0;for(var Ct=0,pt=0;pt<Bt.length-1;pt++){var Pt=Bt[pt],ft=Bt[pt+1];Ct+=O(Pt[0],Pt[1],ft[0],ft[1])}return Ct}function Vt(Bt,Ct){if(Ct>1||Ct<0||Bt.length<2)return null;var pt=bt(Bt),Pt=pt.segments,ft=pt.totalLength;if(ft===0)return{x:Bt[0][0],y:Bt[0][1]};for(var ot=0,St=null,Ot=0;Ot<Pt.length;Ot++){var Zt=Pt[Ot],le=Zt.from,be=Zt.to,Be=Zt.length/ft;if(Ct>=ot&&Ct<=ot+Be){var Fe=(Ct-ot)/Be;St=w.pointAt(le[0],le[1],be[0],be[1],Fe);break}ot+=Be}return St}function Ft(Bt,Ct){if(Ct>1||Ct<0||Bt.length<2)return 0;for(var pt=bt(Bt),Pt=pt.segments,ft=pt.totalLength,ot=0,St=0,Ot=0;Ot<Pt.length;Ot++){var Zt=Pt[Ot],le=Zt.from,be=Zt.to,Be=Zt.length/ft;if(Ct>=ot&&Ct<=ot+Be){St=Math.atan2(be[1]-le[1],be[0]-le[0]);break}ot+=Be}return St}function Qt(Bt,Ct,pt){for(var Pt=Infinity,ft=0;ft<Bt.length-1;ft++){var ot=Bt[ft],St=Bt[ft+1],Ot=w.pointDistance(ot[0],ot[1],St[0],St[1],Ct,pt);Ot<Pt&&(Pt=Ot)}return Pt}var ae={box:function(Bt){for(var Ct=[],pt=[],Pt=0;Pt<Bt.length;Pt++){var ft=Bt[Pt];Ct.push(ft[0]),pt.push(ft[1])}return T(Ct,pt)},length:function(Bt){return Rt(Bt)},pointAt:function(Bt,Ct){return Vt(Bt,Ct)},pointDistance:function(Bt,Ct,pt){return Qt(Bt,Ct,pt)},tangentAngle:function(Bt,Ct){return Ft(Bt,Ct)}};function ue(Bt){var Ct=Bt.slice(0);return Bt.length&&Ct.push(Bt[0]),Ct}var Kt={box:function(Bt){return ae.box(Bt)},length:function(Bt){return Rt(ue(Bt))},pointAt:function(Bt,Ct){return Vt(ue(Bt),Ct)},pointDistance:function(Bt,Ct,pt){return Qt(ue(Bt),Ct,pt)},tangentAngle:function(Bt,Ct){return Ft(ue(Bt),Ct)}}},33418:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(76256),P=d(55397);function D(x,m,M,k,R,N,W,Q){return-1*M*Math.cos(R)*Math.sin(Q)-k*Math.sin(R)*Math.cos(Q)}function O(x,m,M,k,R,N,W,Q){return-1*M*Math.sin(R)*Math.sin(Q)+k*Math.cos(R)*Math.cos(Q)}function L(x,m,M){return Math.atan(-m/x*Math.tan(M))}function T(x,m,M){return Math.atan(m/(x*Math.tan(M)))}function A(x,m,M,k,R,N){return M*Math.cos(R)*Math.cos(N)-k*Math.sin(R)*Math.sin(N)+x}function E(x,m,M,k,R,N){return M*Math.sin(R)*Math.cos(N)+k*Math.cos(R)*Math.sin(N)+m}function p(x,m,M,k){var R=Math.atan2(k*x,M*m);return(R+Math.PI*2)%(Math.PI*2)}function w(x,m,M){return{x:x*Math.cos(M),y:m*Math.sin(M)}}function y(x,m,M){var k=Math.cos(M),R=Math.sin(M);return[x*k-m*R,x*R+m*k]}S.default={box:function(x,m,M,k,R,N,W){for(var Q=L(M,k,R),H=Infinity,$=-Infinity,it=[N,W],nt=-Math.PI*2;nt<=Math.PI*2;nt+=Math.PI){var wt=Q+nt;N<W?N<wt&&wt<W&&it.push(wt):W<wt&&wt<N&&it.push(wt)}for(var nt=0;nt<it.length;nt++){var yt=A(x,m,M,k,R,it[nt]);yt<H&&(H=yt),yt>$&&($=yt)}for(var Lt=T(M,k,R),Mt=Infinity,J=-Infinity,tt=[N,W],nt=-Math.PI*2;nt<=Math.PI*2;nt+=Math.PI){var q=Lt+nt;N<W?N<q&&q<W&&tt.push(q):W<q&&q<N&&tt.push(q)}for(var nt=0;nt<tt.length;nt++){var lt=E(x,m,M,k,R,tt[nt]);lt<Mt&&(Mt=lt),lt>J&&(J=lt)}return{x:H,y:Mt,width:$-H,height:J-Mt}},length:function(x,m,M,k,R,N,W){},nearestPoint:function(x,m,M,k,R,N,W,Q,H){var $=y(Q-x,H-m,-R),it=$[0],nt=$[1],wt=P.default.nearestPoint(0,0,M,k,it,nt),yt=p(M,k,wt.x,wt.y);yt<N?wt=w(M,k,N):yt>W&&(wt=w(M,k,W));var Lt=y(wt.x,wt.y,R);return{x:Lt[0]+x,y:Lt[1]+m}},pointDistance:function(x,m,M,k,R,N,W,Q,H){var $=this.nearestPoint(x,m,M,k,Q,H);return b.distance($.x,$.y,Q,H)},pointAt:function(x,m,M,k,R,N,W,Q){var H=(W-N)*Q+N;return{x:A(x,m,M,k,R,H),y:E(x,m,M,k,R,H)}},tangentAngle:function(x,m,M,k,R,N,W,Q){var H=(W-N)*Q+N,$=D(x,m,M,k,R,N,W,H),it=O(x,m,M,k,R,N,W,H);return b.piMod(Math.atan2(it,$))}}},87335:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.snapLength=S.nearestPoint=void 0;var b=d(76256),P=1e-4;function D(L,T,A,E,p,w){var y,x=Infinity,m=[A,E],M=20;w&&w>200&&(M=w/10);for(var k=1/M,R=k/10,N=0;N<=M;N++){var W=N*k,Q=[p.apply(null,L.concat([W])),p.apply(null,T.concat([W]))],H=b.distance(m[0],m[1],Q[0],Q[1]);H<x&&(y=W,x=H)}if(y===0)return{x:L[0],y:T[0]};if(y===1){var $=L.length;return{x:L[$-1],y:T[$-1]}}x=Infinity;for(var N=0;N<32&&!(R<P);N++){var it=y-R,nt=y+R,Q=[p.apply(null,L.concat([it])),p.apply(null,T.concat([it]))],H=b.distance(m[0],m[1],Q[0],Q[1]);if(it>=0&&H<x)y=it,x=H;else{var wt=[p.apply(null,L.concat([nt])),p.apply(null,T.concat([nt]))],yt=b.distance(m[0],m[1],wt[0],wt[1]);nt<=1&&yt<x?(y=nt,x=yt):R*=.5}}return{x:p.apply(null,L.concat([y])),y:p.apply(null,T.concat([y]))}}S.nearestPoint=D;function O(L,T){for(var A=0,E=L.length,p=0;p<E;p++){var w=L[p],y=T[p],x=L[(p+1)%E],m=T[(p+1)%E];A+=b.distance(w,y,x,m)}return A/2}S.snapLength=O},15730:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(76256),P=d(68366),D=d(87335);function O(p,w,y,x,m){var M=1-m;return M*M*M*p+3*w*m*M*M+3*y*m*m*M+x*m*m*m}function L(p,w,y,x,m){var M=1-m;return 3*(M*M*(w-p)+2*M*m*(y-w)+m*m*(x-y))}function T(p,w,y,x){var m=-3*p+9*w-9*y+3*x,M=6*p-12*w+6*y,k=3*w-3*p,R=[],N,W,Q;if(b.isNumberEqual(m,0))b.isNumberEqual(M,0)||(N=-k/M,N>=0&&N<=1&&R.push(N));else{var H=M*M-4*m*k;b.isNumberEqual(H,0)?R.push(-M/(2*m)):H>0&&(Q=Math.sqrt(H),N=(-M+Q)/(2*m),W=(-M-Q)/(2*m),N>=0&&N<=1&&R.push(N),W>=0&&W<=1&&R.push(W))}return R}function A(p,w,y,x,m,M,k,R,N){var W=O(p,y,m,k,N),Q=O(w,x,M,R,N),H=P.default.pointAt(p,w,y,x,N),$=P.default.pointAt(y,x,m,M,N),it=P.default.pointAt(m,M,k,R,N),nt=P.default.pointAt(H.x,H.y,$.x,$.y,N),wt=P.default.pointAt($.x,$.y,it.x,it.y,N);return[[p,w,H.x,H.y,nt.x,nt.y,W,Q],[W,Q,wt.x,wt.y,it.x,it.y,k,R]]}function E(p,w,y,x,m,M,k,R,N){if(N===0)return D.snapLength([p,y,m,k],[w,x,M,R]);var W=A(p,w,y,x,m,M,k,R,.5),Q=W[0],H=W[1];return Q.push(N-1),H.push(N-1),E.apply(null,Q)+E.apply(null,H)}S.default={extrema:T,box:function(p,w,y,x,m,M,k,R){for(var N=[p,k],W=[w,R],Q=T(p,y,m,k),H=T(w,x,M,R),$=0;$<Q.length;$++)N.push(O(p,y,m,k,Q[$]));for(var $=0;$<H.length;$++)W.push(O(w,x,M,R,H[$]));return b.getBBoxByArray(N,W)},length:function(p,w,y,x,m,M,k,R){return E(p,w,y,x,m,M,k,R,3)},nearestPoint:function(p,w,y,x,m,M,k,R,N,W,Q){return D.nearestPoint([p,y,m,k],[w,x,M,R],N,W,O,Q)},pointDistance:function(p,w,y,x,m,M,k,R,N,W,Q){var H=this.nearestPoint(p,w,y,x,m,M,k,R,N,W,Q);return b.distance(H.x,H.y,N,W)},interpolationAt:O,pointAt:function(p,w,y,x,m,M,k,R,N){return{x:O(p,y,m,k,N),y:O(w,x,M,R,N)}},divide:function(p,w,y,x,m,M,k,R,N){return A(p,w,y,x,m,M,k,R,N)},tangentAngle:function(p,w,y,x,m,M,k,R,N){var W=L(p,y,m,k,N),Q=L(w,x,M,R,N);return b.piMod(Math.atan2(Q,W))}}},55397:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(76256);function P(D,O){var L=Math.abs(D);return O>0?L:L*-1}S.default={box:function(D,O,L,T){return{x:D-L,y:O-T,width:L*2,height:T*2}},length:function(D,O,L,T){return Math.PI*(3*(L+T)-Math.sqrt((3*L+T)*(L+3*T)))},nearestPoint:function(D,O,L,T,A,E){var p=L,w=T;if(p===0||w===0)return{x:D,y:O};for(var y=A-D,x=E-O,m=Math.abs(y),M=Math.abs(x),k=p*p,R=w*w,N=Math.PI/4,W,Q,H=0;H<4;H++){W=p*Math.cos(N),Q=w*Math.sin(N);var $=(k-R)*Math.pow(Math.cos(N),3)/p,it=(R-k)*Math.pow(Math.sin(N),3)/w,nt=W-$,wt=Q-it,yt=m-$,Lt=M-it,Mt=Math.hypot(wt,nt),J=Math.hypot(Lt,yt),tt=Mt*Math.asin((nt*Lt-wt*yt)/(Mt*J)),q=tt/Math.sqrt(k+R-W*W-Q*Q);N+=q,N=Math.min(Math.PI/2,Math.max(0,N))}return{x:D+P(W,y),y:O+P(Q,x)}},pointDistance:function(D,O,L,T,A,E){var p=this.nearestPoint(D,O,L,T,A,E);return b.distance(p.x,p.y,A,E)},pointAt:function(D,O,L,T,A){var E=2*Math.PI*A;return{x:D+L*Math.cos(E),y:O+T*Math.sin(E)}},tangentAngle:function(D,O,L,T,A){var E=2*Math.PI*A,p=Math.atan2(T*Math.cos(E),-L*Math.sin(E));return b.piMod(p)}}},68366:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(76256),P=d(31437);S.default={box:function(D,O,L,T){return b.getBBoxByArray([D,L],[O,T])},length:function(D,O,L,T){return b.distance(D,O,L,T)},pointAt:function(D,O,L,T,A){return{x:(1-A)*D+A*L,y:(1-A)*O+A*T}},pointDistance:function(D,O,L,T,A,E){var p=(L-D)*(A-D)+(T-O)*(E-O);if(p<0)return b.distance(D,O,A,E);var w=(L-D)*(L-D)+(T-O)*(T-O);return p>w?b.distance(L,T,A,E):this.pointToLine(D,O,L,T,A,E)},pointToLine:function(D,O,L,T,A,E){var p=[L-D,T-O];if(P.exactEquals(p,[0,0]))return Math.sqrt((A-D)*(A-D)+(E-O)*(E-O));var w=[-p[1],p[0]];P.normalize(w,w);var y=[A-D,E-O];return Math.abs(P.dot(y,w))},tangentAngle:function(D,O,L,T){return Math.atan2(T-O,L-D)}}},65386:function(dt,S,d){"use strict";var b;b={value:!0};var P=d(28171),D=d(76256);S.Z={box:function(O){for(var L=[],T=[],A=0;A<O.length;A++){var E=O[A];L.push(E[0]),T.push(E[1])}return D.getBBoxByArray(L,T)},length:function(O){return P.lengthOfSegment(O)},pointAt:function(O,L){return P.pointAtSegments(O,L)},pointDistance:function(O,L,T){return P.distanceAtSegment(O,L,T)},tangentAngle:function(O,L){return P.angleAtSegments(O,L)}}},2879:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(68366),P=d(76256),D=d(87335);function O(p,w,y,x){var m=1-x;return m*m*p+2*x*m*w+x*x*y}function L(p,w,y){var x=p+y-2*w;if(P.isNumberEqual(x,0))return[.5];var m=(p-w)/x;return m<=1&&m>=0?[m]:[]}function T(p,w,y,x){return 2*(1-x)*(w-p)+2*x*(y-w)}function A(p,w,y,x,m,M,k){var R=O(p,y,m,k),N=O(w,x,M,k),W=b.default.pointAt(p,w,y,x,k),Q=b.default.pointAt(y,x,m,M,k);return[[p,w,W.x,W.y,R,N],[R,N,Q.x,Q.y,m,M]]}function E(p,w,y,x,m,M,k){if(k===0)return(P.distance(p,w,y,x)+P.distance(y,x,m,M)+P.distance(p,w,m,M))/2;var R=A(p,w,y,x,m,M,.5),N=R[0],W=R[1];return N.push(k-1),W.push(k-1),E.apply(null,N)+E.apply(null,W)}S.default={box:function(p,w,y,x,m,M){var k=L(p,y,m)[0],R=L(w,x,M)[0],N=[p,m],W=[w,M];return k!==void 0&&N.push(O(p,y,m,k)),R!==void 0&&W.push(O(w,x,M,R)),P.getBBoxByArray(N,W)},length:function(p,w,y,x,m,M){return E(p,w,y,x,m,M,3)},nearestPoint:function(p,w,y,x,m,M,k,R){return D.nearestPoint([p,y,m],[w,x,M],k,R,O)},pointDistance:function(p,w,y,x,m,M,k,R){var N=this.nearestPoint(p,w,y,x,m,M,k,R);return P.distance(N.x,N.y,k,R)},interpolationAt:O,pointAt:function(p,w,y,x,m,M,k){return{x:O(p,y,m,k),y:O(w,x,M,k)}},divide:function(p,w,y,x,m,M,k){return A(p,w,y,x,m,M,k)},tangentAngle:function(p,w,y,x,m,M,k){var R=T(p,y,m,k),N=T(w,x,M,k),W=Math.atan2(N,R);return P.piMod(W)}}},28171:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.distanceAtSegment=S.angleAtSegments=S.pointAtSegments=S.lengthOfSegment=void 0;var b=d(68366),P=d(76256);function D(E){for(var p=0,w=[],y=0;y<E.length-1;y++){var x=E[y],m=E[y+1],M=P.distance(x[0],x[1],m[0],m[1]),k={from:x,to:m,length:M};w.push(k),p+=M}return{segments:w,totalLength:p}}function O(E){if(E.length<2)return 0;for(var p=0,w=0;w<E.length-1;w++){var y=E[w],x=E[w+1];p+=P.distance(y[0],y[1],x[0],x[1])}return p}S.lengthOfSegment=O;function L(E,p){if(p>1||p<0||E.length<2)return null;var w=D(E),y=w.segments,x=w.totalLength;if(x===0)return{x:E[0][0],y:E[0][1]};for(var m=0,M=null,k=0;k<y.length;k++){var R=y[k],N=R.from,W=R.to,Q=R.length/x;if(p>=m&&p<=m+Q){var H=(p-m)/Q;M=b.default.pointAt(N[0],N[1],W[0],W[1],H);break}m+=Q}return M}S.pointAtSegments=L;function T(E,p){if(p>1||p<0||E.length<2)return 0;for(var w=D(E),y=w.segments,x=w.totalLength,m=0,M=0,k=0;k<y.length;k++){var R=y[k],N=R.from,W=R.to,Q=R.length/x;if(p>=m&&p<=m+Q){M=Math.atan2(W[1]-N[1],W[0]-N[0]);break}m+=Q}return M}S.angleAtSegments=T;function A(E,p,w){for(var y=Infinity,x=0;x<E.length-1;x++){var m=E[x],M=E[x+1],k=b.default.pointDistance(m[0],m[1],M[0],M[1],p,w);k<y&&(y=k)}return y}S.distanceAtSegment=A},76256:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.piMod=S.getBBoxRange=S.getBBoxByArray=S.isNumberEqual=S.distance=void 0;function d(A){return Math.min.apply(null,A)}function b(A){return Math.max.apply(null,A)}function P(A,E,p,w){var y=A-p,x=E-w;return Math.sqrt(y*y+x*x)}S.distance=P;function D(A,E){return Math.abs(A-E)<.001}S.isNumberEqual=D;function O(A,E){var p=d(A),w=d(E),y=b(A),x=b(E);return{x:p,y:w,width:y-p,height:x-w}}S.getBBoxByArray=O;function L(A,E,p,w){return{minX:d([A,p]),maxX:b([A,p]),minY:d([E,w]),maxY:b([E,w])}}S.getBBoxRange=L;function T(A){return(A+Math.PI*2)%(Math.PI*2)}S.piMod=T},56463:function(dt,S,d){"use strict";var b=d(34155),P=this&&this.__spreadArrays||function(){for(var R=0,N=0,W=arguments.length;N<W;N++)R+=arguments[N].length;for(var Q=Array(R),H=0,N=0;N<W;N++)for(var $=arguments[N],it=0,nt=$.length;it<nt;it++,H++)Q[H]=$[it];return Q};Object.defineProperty(S,"__esModule",{value:!0});var D=function(){function R(N,W,Q){this.name=N,this.version=W,this.os=Q}return R}();S.BrowserInfo=D;var O=function(){function R(N){this.version=N,this.name="node",this.os=b.platform}return R}();S.NodeInfo=O;var L=function(){function R(){this.bot=!0,this.name="bot",this.version=null,this.os=null}return R}();S.BotInfo=L;var T=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,A=/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/,E=3,p=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",T]],w=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",A]];function y(R){return R?x(R):typeof navigator!="undefined"?x(navigator.userAgent):M()}S.detect=y;function x(R){var N=R!==""&&p.reduce(function($,it){var nt=it[0],wt=it[1];if($)return $;var yt=wt.exec(R);return!!yt&&[nt,yt]},!1);if(!N)return null;var W=N[0],Q=N[1];if(W==="searchbot")return new L;var H=Q[1]&&Q[1].split(/[._]/).slice(0,3);return H?H.length<E&&(H=P(H,k(E-H.length))):H=[],new D(W,H.join("."),m(R))}S.parseUserAgent=x;function m(R){for(var N=0,W=w.length;N<W;N++){var Q=w[N],H=Q[0],$=Q[1],it=$.test(R);if(it)return H}return null}S.detectOS=m;function M(){var R=typeof b!="undefined"&&b.version;return R?new O(b.version.slice(1)):null}S.getNodeVersion=M;function k(R){for(var N=[],W=0;W<R;W++)N.push("0");return N}},23231:function(dt){"use strict";dt.exports=JSON.parse('{"name":"@antv/g-svg","version":"0.4.7","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.39.3","webpack-cli":"^3.3.7"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/util":"~2.0.0","detect-browser":"^4.6.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},52351:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),P=d(2810),D=function(){function O(L){var T=L.xField,A=L.yField,E=L.adjustNames,p=E===void 0?["x","y"]:E,w=L.dimValuesMap;this.adjustNames=p,this.xField=T,this.yField=A,this.dimValuesMap=w}return O.prototype.isAdjust=function(L){return this.adjustNames.indexOf(L)>=0},O.prototype.getAdjustRange=function(L,T,A){var E=this.yField,p=A.indexOf(T),w=A.length,y,x;return!E&&this.isAdjust("y")?(y=0,x=1):w>1?(y=A[p===0?0:p-1],x=A[p===w-1?w-1:p+1],p!==0?y+=(T-y)/2:y-=(x-T)/2,p!==w-1?x-=(x-T)/2:x+=(T-A[w-2])/2):(y=T===0?0:T-.5,x=T===0?1:T+.5),{pre:y,next:x}},O.prototype.adjustData=function(L,T){var A=this,E=this.getDimValues(T);b.each(L,function(p,w){b.each(E,function(y,x){A.adjustDim(x,y,p,w)})})},O.prototype.groupData=function(L,T){return b.each(L,function(A){A[T]===void 0&&(A[T]=P.DEFAULT_Y)}),b.groupBy(L,T)},O.prototype.adjustDim=function(L,T,A,E){},O.prototype.getDimValues=function(L){var T=this,A=T.xField,E=T.yField,p=b.assign({},this.dimValuesMap),w=[];if(A&&this.isAdjust("x")&&w.push(A),E&&this.isAdjust("y")&&w.push(E),w.forEach(function(x){p&&p[x]||(p[x]=b.valuesOfKey(L,x).sort(function(m,M){return m-M}))}),!E&&this.isAdjust("y")){var y="y";p[y]=[P.DEFAULT_Y,1]}return p},O}();S.default=D},2810:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.GAP=S.DODGE_RATIO=S.MARGIN_RATIO=S.DEFAULT_Y=void 0,S.DEFAULT_Y=0,S.MARGIN_RATIO=1/2,S.DODGE_RATIO=1/2,S.GAP=.05},68060:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Adjust=S.registerAdjust=S.getAdjust=void 0;var b=d(8108),P=d(52351);S.Adjust=P.default;var D={},O=function(T){return D[T.toLowerCase()]};S.getAdjust=O;var L=function(T,A){if(O(T))throw new Error("Adjust type '"+T+"' existed.");D[T.toLowerCase()]=A};S.registerAdjust=L,b.__exportStar(d(62056),S)},62056:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0})},58368:function(dt,S,d){"use strict";d.r(S),d.d(S,{Attribute:function(){return O},Color:function(){return E},Opacity:function(){return w},Position:function(){return x},Scale:function(){return N.Scale},Shape:function(){return M},Size:function(){return R},getAttribute:function(){return Q},registerAttribute:function(){return H}});var b=d(49242),P=function($,it){return(0,b.isString)(it)?it:$.invert($.scale(it))},D=function(){function $(it){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(it)}return $.prototype.mapping=function(){for(var it=this,nt=[],wt=0;wt<arguments.length;wt++)nt[wt]=arguments[wt];var yt=nt.map(function(Lt,Mt){return it._toOriginParam(Lt,it.scales[Mt])});return this.callback.apply(this,yt)},$.prototype.getLinearValue=function(it){var nt=this.values.length-1,wt=Math.floor(nt*it),yt=nt*it-wt,Lt=this.values[wt],Mt=wt===nt?Lt:this.values[wt+1];return Lt+(Mt-Lt)*yt},$.prototype.getNames=function(){for(var it=this.scales,nt=this.names,wt=Math.min(it.length,nt.length),yt=[],Lt=0;Lt<wt;Lt+=1)yt.push(nt[Lt]);return yt},$.prototype.getFields=function(){return this.scales.map(function(it){return it.field})},$.prototype.getScale=function(it){return this.scales[this.names.indexOf(it)]},$.prototype.defaultCallback=function(){for(var it=this,nt=[],wt=0;wt<arguments.length;wt++)nt[wt]=arguments[wt];return nt.length===0?this.values:nt.map(function(yt,Lt){var Mt=it.scales[Lt];return Mt.type==="identity"?Mt.values[0]:it._getAttributeValue(Mt,yt)})},$.prototype._parseCfg=function(it){var nt=this,wt=it.type,yt=wt===void 0?"base":wt,Lt=it.names,Mt=Lt===void 0?[]:Lt,J=it.scales,tt=J===void 0?[]:J,q=it.values,lt=q===void 0?[]:q,gt=it.callback;this.type=yt,this.scales=tt,this.values=lt,this.names=Mt,this.callback=function(){for(var K=[],j=0;j<arguments.length;j++)K[j]=arguments[j];if(gt){var Z=gt.apply(void 0,K);if(!(0,b.isNil)(Z))return[Z]}return nt.defaultCallback.apply(nt,K)}},$.prototype._getAttributeValue=function(it,nt){if(it.isCategory&&!this.linear){var wt=it.translate(nt);return this.values[wt%this.values.length]}var yt=it.scale(nt);return this.getLinearValue(yt)},$.prototype._toOriginParam=function(it,nt){return nt.isLinear?it:(0,b.isArray)(it)?it.map(function(wt){return P(nt,wt)}):P(nt,it)},$}(),O=D,L=d(8108),T=d(55223),A=function($){(0,L.__extends)(it,$);function it(nt){var wt=$.call(this,nt)||this;return wt.type="color",wt.names=["color"],(0,b.isString)(wt.values)&&(wt.linear=!0),wt.gradient=T.default.gradient(wt.values),wt}return it.prototype.getLinearValue=function(nt){return this.gradient(nt)},it}(O),E=A,p=function($){(0,L.__extends)(it,$);function it(nt){var wt=$.call(this,nt)||this;return wt.type="opacity",wt.names=["opacity"],wt}return it}(O),w=p,y=function($){(0,L.__extends)(it,$);function it(nt){var wt=$.call(this,nt)||this;return wt.names=["x","y"],wt.type="position",wt}return it.prototype.mapping=function(nt,wt){var yt=this.scales,Lt=yt[0],Mt=yt[1];return(0,b.isNil)(nt)||(0,b.isNil)(wt)?[]:[(0,b.isArray)(nt)?nt.map(function(J){return Lt.scale(J)}):Lt.scale(nt),(0,b.isArray)(wt)?wt.map(function(J){return Mt.scale(J)}):Mt.scale(wt)]},it}(O),x=y,m=function($){(0,L.__extends)(it,$);function it(nt){var wt=$.call(this,nt)||this;return wt.type="shape",wt.names=["shape"],wt}return it.prototype.getLinearValue=function(nt){var wt=Math.round((this.values.length-1)*nt);return this.values[wt]},it}(O),M=m,k=function($){(0,L.__extends)(it,$);function it(nt){var wt=$.call(this,nt)||this;return wt.type="size",wt.names=["size"],wt}return it}(O),R=k,N=d(72469),W={},Q=function($){return W[$.toLowerCase()]},H=function($,it){if(Q($))throw new Error("Attribute type '"+$+"' existed.");W[$.toLowerCase()]=it};H("Color",E),H("Opacity",w),H("Position",x),H("Shape",M),H("Size",R)},27210:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),P=function(O,L){return b.isString(L)?L:O.invert(O.scale(L))},D=function(){function O(L){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(L)}return O.prototype.mapping=function(){for(var L=this,T=[],A=0;A<arguments.length;A++)T[A]=arguments[A];var E=T.map(function(p,w){return L._toOriginParam(p,L.scales[w])});return this.callback.apply(this,E)},O.prototype.getLinearValue=function(L){var T=this.values.length-1,A=Math.floor(T*L),E=T*L-A,p=this.values[A],w=A===T?p:this.values[A+1];return p+(w-p)*E},O.prototype.getNames=function(){for(var L=this.scales,T=this.names,A=Math.min(L.length,T.length),E=[],p=0;p<A;p+=1)E.push(T[p]);return E},O.prototype.getFields=function(){return this.scales.map(function(L){return L.field})},O.prototype.getScale=function(L){return this.scales[this.names.indexOf(L)]},O.prototype.defaultCallback=function(){for(var L=this,T=[],A=0;A<arguments.length;A++)T[A]=arguments[A];return T.length===0?this.values:T.map(function(E,p){var w=L.scales[p];return w.type==="identity"?w.values[0]:L._getAttributeValue(w,E)})},O.prototype._parseCfg=function(L){var T=this,A=L.type,E=A===void 0?"base":A,p=L.names,w=p===void 0?[]:p,y=L.scales,x=y===void 0?[]:y,m=L.values,M=m===void 0?[]:m,k=L.callback;this.type=E,this.scales=x,this.values=M,this.names=w,this.callback=function(){for(var R=[],N=0;N<arguments.length;N++)R[N]=arguments[N];if(k){var W=k.apply(void 0,R);if(!b.isNil(W))return[W]}return T.defaultCallback.apply(T,R)}},O.prototype._getAttributeValue=function(L,T){if(L.isCategory&&!this.linear){var A=L.translate(T);return this.values[A%this.values.length]}var E=L.scale(T);return this.getLinearValue(E)},O.prototype._toOriginParam=function(L,T){return T.isLinear?L:b.isArray(L)?L.map(function(A){return P(T,A)}):P(T,L)},O}();S.default=D},25228:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Attribute=S.registerAttribute=S.getAttribute=void 0;var b=d(8108),P=d(27210);S.Attribute=P.default;var D={},O=function(T){return D[T.toLowerCase()]};S.getAttribute=O;var L=function(T,A){if(O(T))throw new Error("Attribute type '"+T+"' existed.");D[T.toLowerCase()]=A};S.registerAttribute=L,b.__exportStar(d(5925),S)},5925:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Scale=void 0;var b=d(72469);Object.defineProperty(S,"Scale",{enumerable:!0,get:function(){return b.Scale}})},61102:function(){},50817:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.registerAnimation=S.getAnimation=void 0;var d={};function b(D){return d[D.toLowerCase()]}S.getAnimation=b;function P(D,O){d[D.toLowerCase()]=O}S.registerAnimation=P},97488:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.doGroupAppearAnimate=S.doAnimate=S.getDefaultAnimateCfg=S.DEFAULT_ANIMATE_CFG=void 0;var b=d(80123),P=d(49242),D=d(78646),O=d(50817);S.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}};var L={interval:function(y){return{enter:{animation:y.isRect?y.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:y.isPolar&&y.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},T={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(y){var x;return y.isRect?x=y.isTransposed?"grow-in-x":"grow-in-y":(x="grow-in-xy",y.isPolar&&y.isTransposed&&(x="wave-in")),{animation:x}},schema:function(y){var x;return y.isRect?x=y.isTransposed?"grow-in-x":"grow-in-y":x="grow-in-xy",{animation:x}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function A(y,x){return{delay:P.isFunction(y.delay)?y.delay(x):y.delay,easing:P.isFunction(y.easing)?y.easing(x):y.easing,duration:P.isFunction(y.duration)?y.duration(x):y.duration,callback:y.callback}}function E(y,x,m){var M=L[y];return M&&(P.isFunction(M)&&(M=M(x)),M=P.deepMix({},S.DEFAULT_ANIMATE_CFG,M),m)?M[m]:M}S.getDefaultAnimateCfg=E;function p(y,x,m){var M=P.get(y.get("origin"),"data",D.FIELD_ORIGIN),k=x.animation,R=A(x,M);if(k){var N=O.getAnimation(k);N&&N(y,R,m)}else y.animate(m.toAttrs,R)}S.doAnimate=p;function w(y,x,m,M,k){if(T[m]){var R=T[m](M),N=O.getAnimation(P.get(R,"animation",""));if(N){var W=b.__assign(b.__assign(b.__assign({},S.DEFAULT_ANIMATE_CFG.appear),R),x);y.stopAnimate(),N(y,W,{coordinate:M,minYPoint:k,toAttrs:null})}}}S.doGroupAppearAnimate=w},51315:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(80123),P=b.__importDefault(d(90494)),D=function(O){b.__extends(L,O);function L(T){var A=O.call(this)||this;A.destroyed=!1;var E=T.visible,p=E===void 0?!0:E;return A.visible=p,A}return L.prototype.show=function(){var T=this.visible;T||this.changeVisible(!0)},L.prototype.hide=function(){var T=this.visible;T&&this.changeVisible(!1)},L.prototype.destroy=function(){this.off(),this.destroyed=!0},L.prototype.changeVisible=function(T){this.visible!==T&&(this.visible=T)},L}(P.default);S.default=D},72282:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Controller=void 0;var b=d(49242),P=function(){function D(O){this.visible=!0,this.components=[],this.view=O}return D.prototype.clear=function(){b.each(this.components,function(O){O.component.destroy()}),this.components=[]},D.prototype.destroy=function(){this.clear()},D.prototype.getComponents=function(){return this.components},D.prototype.changeVisible=function(O){this.visible!==O&&(this.components.forEach(function(L){O?L.component.show():L.component.hide()}),this.visible=O)},D}();S.Controller=P},67984:function(dt,S,d){"use strict";var b;b={value:!0};var P=d(80123),D=d(72282),O=250,L=function(w,y){var x=y.x-w.x,m=y.y-w.y;return Math.abs(x)>Math.abs(m)?x>0?"right":"left":m>0?"down":"up"},T=function(w,y){var x=Math.abs(y.x-w.x),m=Math.abs(y.y-w.y);return Math.sqrt(x*x+m*m)},A=function(w,y){var x=(w.x+y.x)/2,m=(w.y+y.y)/2;return{x,y:m}},E=function(w,y){if(!!w){for(var x=[],m=w.length,M=0;M<m;M++){var k=w[M],R=k.clientX,N=k.clientY,W=y.getPointByClient(R,N);x.push(W)}return x}},p=function(w){P.__extends(y,w);function y(x){var m=w.call(this,x)||this;return m.processEvent={},m.touchStart=function(M){var k=E(M.originalEvent.touches,m.canvas);!k||(M.points=k,m.reset(),m.startTime=Date.now(),m.startPoints=k,k.length>1?(m.startDistance=T(k[0],k[1]),m.center=A(k[0],k[1])):m.pressTimeout=setTimeout(function(){var R="press";M.direction="none",m.emitStart(R,M),m.emitEvent(R,M),m.eventType=R},O))},m.touchMove=function(M){var k=E(M.originalEvent.touches,m.canvas);if(!!k){m.clearPressTimeout(),M.points=k;var R=m.startPoints;if(!!R)if(k.length>1){var N=m.startDistance,W=T(k[0],k[1]);M.zoom=W/N,M.center=m.center,m.emitStart("pinch",M),m.emitEvent("pinch",M)}else{var Q=k[0].x-R[0].x,H=k[0].y-R[0].y,$=m.direction||L(R[0],k[0]);m.direction=$;var it=m.getEventType(k);M.direction=$,M.deltaX=Q,M.deltaY=H,m.emitStart(it,M),m.emitEvent(it,M);var nt=m.lastMoveTime,wt=Date.now();wt-nt>0&&(m.prevMoveTime=nt,m.prevMovePoints=m.lastMovePoints,m.lastMoveTime=wt,m.lastMovePoints=k)}}},m.touchEnd=function(M){m.emitEnd(M);var k=m.lastMoveTime,R=Date.now();if(R-k<100){var N=m.prevMoveTime||m.startTime,W=k-N;if(W>0){var Q=m.prevMovePoints||m.startPoints,H=m.lastMovePoints,$=T(Q[0],H[0])/W;$>.3&&(M.velocity=$,M.direction=L(Q[0],H[0]),m.emitEvent("swipe",M))}}m.reset();var it=M.touches;it&&it.length>0&&m.touchStart(M)},m.canvas=x.getCanvas(),m.delegateEvent(),m.processEvent={},m}return Object.defineProperty(y.prototype,"name",{get:function(){return"gesture"},enumerable:!1,configurable:!0}),y.prototype.init=function(){},y.prototype.render=function(){},y.prototype.layout=function(){},y.prototype.update=function(){},y.prototype.destroy=function(){this.reset(),this.offEvent(),this.processEvent=null},y.prototype.delegateEvent=function(){this.canvas.on("touchstart",this.touchStart),this.canvas.on("touchmove",this.touchMove),this.canvas.on("touchend",this.touchEnd)},y.prototype.offEvent=function(){this.canvas.off("touchstart",this.touchStart),this.canvas.off("touchmove",this.touchMove),this.canvas.off("touchend",this.touchEnd)},y.prototype.emitEvent=function(x,m){var M=this.view;M.emit(x,m)},y.prototype.emitStart=function(x,m){this.isProcess(x)||(this.enable(x),this.emitEvent(x+"start",m))},y.prototype.emitEnd=function(x){var m=this,M=this.processEvent;Object.keys(M).forEach(function(k){m.emitEvent(k+"end",x),delete M[k]})},y.prototype.enable=function(x){this.processEvent[x]=!0},y.prototype.isProcess=function(x){return this.processEvent[x]},y.prototype.reset=function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null},y.prototype.clearPressTimeout=function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=0)},y.prototype.getEventType=function(x){var m=this,M=m.eventType,k=m.view,R=m.startTime,N=m.startPoints;if(M)return M;var W,Q=k.getEvents().pan;if(!Q||!Q.length)W="press";else{var H=Date.now();H-R>O&&T(N[0],x[0])<10?W="press":W="pan"}return this.eventType=W,W},y}(D.Controller);S.Z=p},13733:function(dt,S,d){"use strict";var b;b={value:!0};var P=d(80123),D=d(49242),O=d(96397),L=d(83714),T=d(38674),A=d(97127),E=d(72282);function p(y){for(var x=[],m=function(k){var R=y[k],N=D.find(x,function(W){return W.color===R.color&&W.name===R.name&&W.value===R.value&&W.title===R.title});N||x.push(R)},M=0;M<y.length;M++)m(M);return x}var w=function(y){P.__extends(x,y);function x(){var m=y!==null&&y.apply(this,arguments)||this;return m.isLocked=!1,m}return Object.defineProperty(x.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),x.prototype.init=function(){},x.prototype.isVisible=function(){var m=this.view.getOptions().tooltip;return m!==!1},x.prototype.render=function(){},x.prototype.showTooltip=function(m){if(this.point=m,!!this.isVisible()){var M=this.view,k=this.getTooltipItems(m);if(!k.length){this.hideTooltip();return}var R=this.getTitle(k),N={x:k[0].x,y:k[0].y};M.emit("tooltip:show",P.__assign({items:k,title:R},m));var W=this.getTooltipCfg(),Q=W.follow,H=W.showMarkers,$=W.showCrosshairs,it=W.showContent,nt=W.marker,wt=this.items,yt=this.title;if(!D.isEqual(yt,R)||!D.isEqual(wt,k)?(M.emit("tooltip:change",P.__assign({items:k,title:R},m)),it&&(this.tooltip||this.renderTooltip(),this.tooltip.update(D.mix({},W,{items:k,title:R},Q?m:{})),this.tooltip.show()),H&&this.renderTooltipMarkers(k,nt)):(this.tooltip&&Q&&(this.tooltip.update(m),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=k,this.title=R,$){var Lt=D.get(W,["crosshairs","follow"],!1);this.renderCrosshairs(Lt?m:N,W)}}},x.prototype.hideTooltip=function(){var m=this.getTooltipCfg().follow;if(!m){this.point=null;return}var M=this.tooltipMarkersGroup;M&&M.hide();var k=this.xCrosshair,R=this.yCrosshair;k&&k.hide(),R&&R.hide();var N=this.tooltip;N&&N.hide(),this.view.emit("tooltip:hide",{}),this.point=null},x.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},x.prototype.unlockTooltip=function(){this.isLocked=!1;var m=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(m.capture)},x.prototype.isTooltipLocked=function(){return this.isLocked},x.prototype.clear=function(){var m=this,M=m.tooltip,k=m.xCrosshair,R=m.yCrosshair,N=m.tooltipMarkersGroup;M&&(M.hide(),M.clear()),k&&k.clear(),R&&R.clear(),N&&N.clear()},x.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},x.prototype.changeVisible=function(m){if(this.visible!==m){var M=this,k=M.tooltip,R=M.tooltipMarkersGroup,N=M.xCrosshair,W=M.yCrosshair;m?(k&&k.show(),R&&R.show(),N&&N.show(),W&&W.show()):(k&&k.hide(),R&&R.hide(),N&&N.hide(),W&&W.hide()),this.visible=m}},x.prototype.getTooltipItems=function(m){var M=this.findItemsFromView(this.view,m);if(M.length){M=D.flatten(M);for(var k=0,R=M;k<R.length;k++)for(var N=R[k],W=0,Q=N;W<Q.length;W++){var H=Q[W],$=H.mappingData,it=$.x,nt=$.y;H.x=D.isArray(it)?it[it.length-1]:it,H.y=D.isArray(nt)?nt[nt.length-1]:nt}var wt=this.getTooltipCfg().shared;if(wt===!1&&M.length>1){for(var yt=M[0],Lt=Math.abs(m.y-yt[0].y),Mt=0,J=M;Mt<J.length;Mt++){var tt=J[Mt],q=Math.abs(m.y-tt[0].y);q<=Lt&&(yt=tt,Lt=q)}M=[yt]}return p(D.flatten(M))}return[]},x.prototype.layout=function(){},x.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var m=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:m.get("width"),y:m.get("height")}})}},x.prototype.getTooltipCfg=function(){var m=this.view,M=m.getOptions().tooltip,k=m.getTheme(),R=D.get(k,["components","tooltip"],{}),N=D.isUndefined(D.get(M,"enterable"))?R.enterable:D.get(M,"enterable");return D.deepMix({},R,M,{capture:!!(N||this.isLocked)})},x.prototype.getTitle=function(m){var M=m[0].title||m[0].name;return this.title=M,M},x.prototype.renderTooltip=function(){var m=this.view.getCanvas(),M={start:{x:0,y:0},end:{x:m.get("width"),y:m.get("height")}},k=this.getTooltipCfg(),R=new O.HtmlTooltip(P.__assign(P.__assign({parent:m.get("el").parentNode,region:M},k),{visible:!1,crosshairs:null}));R.init(),this.tooltip=R},x.prototype.renderTooltipMarkers=function(m,M){for(var k=this.getTooltipMarkersGroup(),R=0,N=m;R<N.length;R++){var W=N[R],Q=W.x,H=W.y,$=P.__assign(P.__assign({fill:W.color,symbol:"circle",shadowColor:W.color},M),{x:Q,y:H});k.addShape("marker",{attrs:$})}},x.prototype.renderCrosshairs=function(m,M){var k=D.get(M,["crosshairs","type"],"x");k==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(m,M)):k==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(m,M)):k==="xy"&&(this.renderXCrosshairs(m,M),this.renderYCrosshairs(m,M))},x.prototype.renderXCrosshairs=function(m,M){var k=this.getViewWithGeometry(this.view).getCoordinate();if(!!L.isPointInCoordinate(k,m)){var R,N;if(k.isRect)k.isTransposed?(R={x:k.start.x,y:m.y},N={x:k.end.x,y:m.y}):(R={x:m.x,y:k.end.y},N={x:m.x,y:k.start.y});else{var W=L.getAngleByPoint(k,m),Q=k.getCenter(),H=k.getRadius();N=T.polarToCartesian(Q.x,Q.y,H,W),R=Q}var $=D.deepMix({start:R,end:N,container:this.getTooltipCrosshairsGroup()},D.get(M,"crosshairs",{}),this.getCrosshairsText("x",m,M));delete $.type;var it=this.xCrosshair;it?it.update($):(it=new O.Crosshair.Line($),it.init()),it.render(),it.show(),this.xCrosshair=it}},x.prototype.renderYCrosshairs=function(m,M){var k=this.getViewWithGeometry(this.view).getCoordinate();if(!!L.isPointInCoordinate(k,m)){var R,N;if(k.isRect){var W=void 0,Q=void 0;k.isTransposed?(W={x:m.x,y:k.end.y},Q={x:m.x,y:k.start.y}):(W={x:k.start.x,y:m.y},Q={x:k.end.x,y:m.y}),R={start:W,end:Q},N="Line"}else R={center:k.getCenter(),radius:L.getDistanceToCenter(k,m),startAngle:k.startAngle,endAngle:k.endAngle},N="Circle";R=D.deepMix({container:this.getTooltipCrosshairsGroup()},R,D.get(M,"crosshairs",{}),this.getCrosshairsText("y",m,M)),delete R.type;var H=this.yCrosshair;H?k.isRect&&H.get("type")==="circle"||!k.isRect&&H.get("type")==="line"?(H=new O.Crosshair[N](R),H.init()):H.update(R):(H=new O.Crosshair[N](R),H.init()),H.render(),H.show(),this.yCrosshair=H}},x.prototype.getCrosshairsText=function(m,M,k){var R=D.get(k,["crosshairs","text"]),N=D.get(k,["crosshairs","follow"]),W=this.items;if(R){var Q=this.getViewWithGeometry(this.view),H=W[0],$=Q.getXScale(),it=Q.getYScales()[0],nt=void 0,wt=void 0;if(N){var yt=this.view.getCoordinate().invert(M);nt=$.invert(yt.x),wt=it.invert(yt.y)}else nt=H.data[$.field],wt=H.data[it.field];var Lt=m==="x"?nt:wt;return D.isFunction(R)?R=R(m,Lt,W,M):R.content=Lt,{text:R}}},x.prototype.getGuideGroup=function(){if(!this.guideGroup){var m=this.view.foregroundGroup;this.guideGroup=m.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},x.prototype.getTooltipMarkersGroup=function(){var m=this.tooltipMarkersGroup;return m&&!m.destroyed?(m.clear(),m.show()):(m=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),m.toFront(),this.tooltipMarkersGroup=m),m},x.prototype.getTooltipCrosshairsGroup=function(){var m=this.tooltipCrosshairsGroup;return m||(m=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),m.toBack(),this.tooltipCrosshairsGroup=m),m},x.prototype.getTooltipItemsByHitShape=function(m,M,k){var R=[],N=m.container,W=N.getShape(M.x,M.y);if(W&&W.get("visible")&&W.get("origin")){var Q=W.get("origin").mappingData,H=A.getTooltipItems(Q,m,k);H.length&&R.push(H)}return R},x.prototype.getTooltipItemsByFindData=function(m,M,k){var R=[],N=m.dataArray;m.sort(N);for(var W=0,Q=N;W<Q.length;W++){var H=Q[W],$=A.findDataByPoint(M,H,m);if($){var it=m.getElementId($),nt=m.elementsMap[it];if(m.type==="heatmap"||nt.visible){var wt=A.getTooltipItems($,m,k);wt.length&&R.push(wt)}}}return R},x.prototype.findItemsFromView=function(m,M){if(m.getOptions().tooltip===!1)return[];for(var k=[],R=m.geometries,N=this.getTooltipCfg(),W=N.shared,Q=N.title,H=0,$=R;H<$.length;H++){var it=$[H];if(it.visible&&it.tooltipOption!==!1){var nt=it.type,wt=void 0;["point","edge","polygon"].includes(nt)?wt=this.getTooltipItemsByHitShape(it,M,Q):["area","line","path","heatmap"].includes(nt)?wt=this.getTooltipItemsByFindData(it,M,Q):W!==!1?wt=this.getTooltipItemsByFindData(it,M,Q):wt=this.getTooltipItemsByHitShape(it,M,Q),wt.length&&k.push(wt)}}for(var yt=0,Lt=m.views;yt<Lt.length;yt++){var Mt=Lt[yt];k=k.concat(this.findItemsFromView(Mt,M))}return k},x.prototype.getViewWithGeometry=function(m){var M=this;return m.geometries.length?m:D.find(m.views,function(k){return M.getViewWithGeometry(k)})},x}(E.Controller);S.Z=w},78646:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.COMPONENT_MAX_VIEW_PERCENTAGE=S.MIN_CHART_HEIGHT=S.MIN_CHART_WIDTH=S.FIELD_ORIGIN=S.GROUP_ATTRS=S.ELEMENT_STATE=S.PLOT_EVENTS=S.VIEW_LIFE_CIRCLE=S.GROUP_Z_INDEX=S.COMPONENT_TYPE=S.DIRECTION=S.LAYER=void 0;var d;(function(T){T.FORE="fore",T.MID="mid",T.BG="bg"})(d=S.LAYER||(S.LAYER={}));var b;(function(T){T.TOP="top",T.TOP_LEFT="top-left",T.TOP_RIGHT="top-right",T.RIGHT="right",T.RIGHT_TOP="right-top",T.RIGHT_BOTTOM="right-bottom",T.LEFT="left",T.LEFT_TOP="left-top",T.LEFT_BOTTOM="left-bottom",T.BOTTOM="bottom",T.BOTTOM_LEFT="bottom-left",T.BOTTOM_RIGHT="bottom-right",T.RADIUS="radius",T.CIRCLE="circle",T.NONE="none"})(b=S.DIRECTION||(S.DIRECTION={}));var P;(function(T){T.AXIS="axis",T.GRID="grid",T.LEGEND="legend",T.TOOLTIP="tooltip",T.ANNOTATION="annotation",T.OTHER="other"})(P=S.COMPONENT_TYPE||(S.COMPONENT_TYPE={})),S.GROUP_Z_INDEX={FORE:3,MID:2,BG:1};var D;(function(T){T.BEFORE_RENDER="beforerender",T.AFTER_RENDER="afterrender",T.BEFORE_PAINT="beforepaint",T.AFTER_PAINT="afterpaint",T.BEFORE_CHANGE_DATA="beforechangedata",T.AFTER_CHANGE_DATA="afterchangedata",T.BEFORE_CLEAR="beforeclear",T.AFTER_CLEAR="afterclear",T.BEFORE_DESTROY="beforedestroy"})(D=S.VIEW_LIFE_CIRCLE||(S.VIEW_LIFE_CIRCLE={}));var O;(function(T){T.MOUSE_ENTER="plot:mouseenter",T.MOUSE_DOWN="plot:mousedown",T.MOUSE_MOVE="plot:mousemove",T.MOUSE_UP="plot:mouseup",T.MOUSE_LEAVE="plot:mouseleave",T.TOUCH_START="plot:touchstart",T.TOUCH_MOVE="plot:touchmove",T.TOUCH_END="plot:touchend",T.TOUCH_CANCEL="plot:touchcancel",T.CLICK="plot:click",T.DBLCLICK="plot:dblclick",T.CONTEXTMENU="plot:contextmenu",T.LEAVE="plot:leave",T.ENTER="plot:enter"})(O=S.PLOT_EVENTS||(S.PLOT_EVENTS={}));var L;(function(T){T.ACTIVE="active",T.INACTIVE="inactive",T.SELECTED="selected",T.DEFAULT="default"})(L=S.ELEMENT_STATE||(S.ELEMENT_STATE={})),S.GROUP_ATTRS=["color","shape","size"],S.FIELD_ORIGIN="_origin",S.MIN_CHART_WIDTH=1,S.MIN_CHART_HEIGHT=1,S.COMPONENT_MAX_VIEW_PERCENTAGE=.25},96397:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Slider=S.HtmlTooltip=S.ContinuousLegend=S.CategoryLegend=S.CircleGrid=S.LineGrid=S.CircleAxis=S.LineAxis=S.Annotation=S.Crosshair=S.Component=S.GroupComponent=S.HtmlComponent=void 0;var b=d(65722);Object.defineProperty(S,"Event",{enumerable:!0,get:function(){return b.Event}}),Object.defineProperty(S,"AbstractGroup",{enumerable:!0,get:function(){return b.AbstractGroup}}),Object.defineProperty(S,"AbstractShape",{enumerable:!0,get:function(){return b.AbstractShape}});var P=d(68060);Object.defineProperty(S,"registerAdjust",{enumerable:!0,get:function(){return P.registerAdjust}}),Object.defineProperty(S,"getAdjust",{enumerable:!0,get:function(){return P.getAdjust}}),Object.defineProperty(S,"Adjust",{enumerable:!0,get:function(){return P.Adjust}});var D=d(25228);Object.defineProperty(S,"getAttribute",{enumerable:!0,get:function(){return D.getAttribute}}),Object.defineProperty(S,"Attribute",{enumerable:!0,get:function(){return D.Attribute}});var O=d(58368);Object.defineProperty(S,"Color",{enumerable:!0,get:function(){return O.Color}});var L=d(13541);Object.defineProperty(S,"getCoordinate",{enumerable:!0,get:function(){return L.getCoordinate}}),Object.defineProperty(S,"registerCoordinate",{enumerable:!0,get:function(){return L.registerCoordinate}}),Object.defineProperty(S,"Coordinate",{enumerable:!0,get:function(){return L.Coordinate}});var T=d(72469);Object.defineProperty(S,"getScale",{enumerable:!0,get:function(){return T.getScale}}),Object.defineProperty(S,"registerScale",{enumerable:!0,get:function(){return T.registerScale}}),Object.defineProperty(S,"Scale",{enumerable:!0,get:function(){return T.Scale}});var A=d(51441);Object.defineProperty(S,"Annotation",{enumerable:!0,get:function(){return A.Annotation}}),Object.defineProperty(S,"Component",{enumerable:!0,get:function(){return A.Component}}),Object.defineProperty(S,"Crosshair",{enumerable:!0,get:function(){return A.Crosshair}}),Object.defineProperty(S,"GroupComponent",{enumerable:!0,get:function(){return A.GroupComponent}}),Object.defineProperty(S,"HtmlComponent",{enumerable:!0,get:function(){return A.HtmlComponent}}),Object.defineProperty(S,"Slider",{enumerable:!0,get:function(){return A.Slider}});var E=A.Axis.Line,p=A.Axis.Circle;S.LineAxis=E,S.CircleAxis=p;var w=A.Grid.Line,y=A.Grid.Circle;S.LineGrid=w,S.CircleGrid=y;var x=A.Legend.Category,m=A.Legend.Continuous;S.CategoryLegend=x,S.ContinuousLegend=m;var M=A.Tooltip.Html;S.HtmlTooltip=M},98880:function(dt,S,d){"use strict";var b;b={value:!0};var P=d(80123),D=d(49242),O=d(97488),L=P.__importDefault(d(51315)),T=d(38674),A=d(31207),E=function(p){P.__extends(w,p);function w(y){var x=p.call(this,y)||this;x.states=[];var m=y.shapeFactory,M=y.container,k=y.offscreenGroup,R=y.visible,N=R===void 0?!0:R;return x.shapeFactory=m,x.container=M,x.offscreenGroup=k,x.visible=N,x}return w.prototype.draw=function(y,x){x===void 0&&(x=!1),this.model=y,this.data=y.data,this.shapeType=this.getShapeType(y),this.drawShape(y,x),this.visible===!1&&this.changeVisible(!1)},w.prototype.update=function(y){var x=this,m=x.shapeFactory,M=x.shape;if(!!M){this.model=y,this.data=y.data,this.shapeType=this.getShapeType(y),this.setShapeInfo(M,y);var k=this.getOffscreenGroup(),R=m.drawShape(this.shapeType,y,k);R.cfg.data=this.data,R.cfg.origin=y,this.syncShapeStyle(M,R,"",this.getAnimateCfg("update"))}},w.prototype.destroy=function(){var y=this,x=y.shapeFactory,m=y.shape;if(m){var M=this.getAnimateCfg("leave");M?O.doAnimate(m,M,{coordinate:x.coordinate,toAttrs:P.__assign({},m.attr())}):m.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,p.prototype.destroy.call(this)},w.prototype.changeVisible=function(y){p.prototype.changeVisible.call(this,y),y?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(x){x.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(x){x.hide()}))},w.prototype.setState=function(y,x){var m=this,M=this,k=M.states,R=M.shapeFactory,N=M.model,W=M.shape,Q=M.shapeType,H=k.indexOf(y);if(x){if(H>-1)return;k.push(y),(y==="active"||y==="selected")&&W.toFront()}else{if(H===-1)return;k.splice(H,1),(y==="active"||y==="selected")&&W.toBack()}var $=R.drawShape(Q,N,this.getOffscreenGroup());k.length?k.forEach(function(nt){m.syncShapeStyle(W,$,nt,null)}):this.syncShapeStyle(W,$,"reset",null),$.remove(!0);var it={state:y,stateStatus:x,element:this,target:this.container};this.container.emit("statechange",it),A.propagationDelegate(this.shape,"statechange",it)},w.prototype.clearStates=function(){var y=this,x=this.states;D.each(x,function(m){y.setState(m,!1)}),this.states=[]},w.prototype.hasState=function(y){return this.states.includes(y)},w.prototype.getStates=function(){return this.states},w.prototype.getData=function(){return this.data},w.prototype.getModel=function(){return this.model},w.prototype.getBBox=function(){var y=this,x=y.shape,m=y.labelShape,M={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return x&&(M=x.getCanvasBBox()),m&&m.forEach(function(k){var R=k.getCanvasBBox();M.x=Math.min(R.x,M.x),M.y=Math.min(R.y,M.y),M.minX=Math.min(R.minX,M.minX),M.minY=Math.min(R.minY,M.minY),M.maxX=Math.max(R.maxX,M.maxX),M.maxY=Math.max(R.maxY,M.maxY)}),M.width=M.maxX-M.minX,M.height=M.maxY-M.minY,M},w.prototype.getStatesStyle=function(){if(!this.statesStyle){var y=this,x=y.shapeType,m=y.geometry,M=y.shapeFactory,k=m.stateOption,R=M.defaultShapeType,N=M.theme[x]||M.theme[R];this.statesStyle=D.deepMix({},N,k)}return this.statesStyle},w.prototype.getStateStyle=function(y,x){var m=this.getStatesStyle(),M=D.get(m,[y,"style"],{}),k=M[x]||M;return D.isFunction(k)?k(this):k},w.prototype.getAnimateCfg=function(y){var x=this.animate;return x?x[y]:null},w.prototype.drawShape=function(y,x){x===void 0&&(x=!1);var m=this,M=m.shapeFactory,k=m.container,R=m.shapeType;if(this.shape=M.drawShape(R,y,k),this.shape){this.setShapeInfo(this.shape,y);var N=this.shape.cfg.name;N?D.isString(N)&&(this.shape.cfg.name=["element",N]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var W=x?"enter":"appear",Q=this.getAnimateCfg(W);Q&&O.doAnimate(this.shape,Q,{coordinate:M.coordinate,toAttrs:P.__assign({},this.shape.attr())})}},w.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var y=this.container.getGroupBase();this.offscreenGroup=new y({})}return this.offscreenGroup},w.prototype.setShapeInfo=function(y,x){var m=this;if(y.cfg.origin=x,y.cfg.element=this,y.isGroup()){var M=y.get("children");M.forEach(function(k){m.setShapeInfo(k,x)})}},w.prototype.syncShapeStyle=function(y,x,m,M,k){if(m===void 0&&(m=""),k===void 0&&(k=0),y.isGroup())for(var R=y.get("children"),N=x.get("children"),W=0;W<R.length;W++)this.syncShapeStyle(R[W],N[W],m,M,k+W);else{if(m&&m!=="reset"){var Q=y.get("name");D.isArray(Q)&&(Q=Q[1]);var H=this.getStateStyle(m,Q||k);x.attr(H)}var $=T.getReplaceAttrs(y,x);this.animate?M?O.doAnimate(y,M,{coordinate:this.shapeFactory.coordinate,toAttrs:$,shapeModel:this.model}):m?(y.stopAnimate(),y.animate($,{duration:300})):y.attr($):y.attr($)}},w.prototype.getShapeType=function(y){var x=D.get(y,"shape");return D.isArray(x)?x[0]:x},w}(L.default);b=E},78685:function(dt,S,d){"use strict";var b;b={value:!0},S.iV=b=b=void 0;var P=d(80123),D=d(90835),O=d(95280);b=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],b=["cross","tick","plus","hyphen","line"];function L(T,A,E,p,w){var y=O.getStyle(A,w,!w,"r"),x=T.parsePoints(A.points),m=x[0];if(A.isStack)m=x[1];else if(x.length>1){for(var M=E.addGroup(),k=0,R=x;k<R.length;k++){var N=R[k];M.addShape({type:"marker",attrs:P.__assign(P.__assign(P.__assign({},y),{symbol:D.MarkerSymbols[p]||p}),N)})}return M}return E.addShape({type:"marker",attrs:P.__assign(P.__assign(P.__assign({},y),{symbol:D.MarkerSymbols[p]||p}),m)})}S.iV=L},95280:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getStyle=void 0;var b=d(80123),P=d(49242);function D(O,L,T,A){A===void 0&&(A="");var E=O.style,p=E===void 0?{}:E,w=O.defaultStyle,y=O.color,x=O.size,m=b.__assign(b.__assign({},w),p);return y&&(L&&(p.stroke||(m.stroke=y)),T&&(p.fill||(m.fill=y))),A&&P.isNil(p[A])&&!P.isNil(x)&&(m[A]=x),m}S.getStyle=D},89921:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.convertPolarPath=S.convertNormalPath=S.getSplinePath=S.getLinePath=S.catmullRom2bezier=S.smoothBezier=void 0;var b=d(43567),P=d(49242),D=d(83714);function O(m,M){var k=[];if(m.length){k.push(["M",m[0].x,m[0].y]);for(var R=1,N=m.length;R<N;R+=1){var W=m[R];k.push(["L",W.x,W.y])}M&&k.push(["Z"])}return k}function L(m,M){for(var k=[m[0]],R=1,N=m.length;R<N;R=R+2){var W=M.convert({x:m[R],y:m[R+1]});k.push(W.x,W.y)}return k}function T(m,M,k){var R=k.isTransposed,N=k.startAngle,W=k.endAngle,Q={x:m[1],y:m[2]},H={x:M[1],y:M[2]},$=[],it=R?"y":"x",nt=Math.abs(H[it]-Q[it])*(W-N),wt=H[it]>=Q[it]?1:0,yt=nt>Math.PI?1:0,Lt=k.convert(H),Mt=D.getDistanceToCenter(k,Lt);if(Mt>=.5)if(nt===Math.PI*2){var J={x:(H.x+Q.x)/2,y:(H.y+Q.y)/2},tt=k.convert(J);$.push(["A",Mt,Mt,0,yt,wt,tt.x,tt.y]),$.push(["A",Mt,Mt,0,yt,wt,Lt.x,Lt.y])}else $.push(["A",Mt,Mt,0,yt,wt,Lt.x,Lt.y]);return $}function A(m){P.each(m,function(M,k){var R=M;if(R[0].toLowerCase()==="a"){var N=m[k-1],W=m[k+1];W&&W[0].toLowerCase()==="a"?N&&N[0].toLowerCase()==="l"&&(N[0]="M"):N&&N[0].toLowerCase()==="a"&&W&&W[0].toLowerCase()==="l"&&(W[0]="M")}})}S.smoothBezier=function(m,M,k,R){var N=[],W,Q,H=!!R,$,it;if(H){$=[Infinity,Infinity],it=[-Infinity,-Infinity];for(var nt=0,wt=m.length;nt<wt;nt++){var yt=m[nt];$=b.vec2.min([0,0],$,yt),it=b.vec2.max([0,0],it,yt)}$=b.vec2.min([0,0],$,R[0]),it=b.vec2.max([0,0],it,R[1])}for(var nt=0,Lt=m.length;nt<Lt;nt++){var yt=m[nt];if(k)W=m[nt?nt-1:Lt-1],Q=m[(nt+1)%Lt];else if(nt===0||nt===Lt-1){N.push(yt);continue}else W=m[nt-1],Q=m[nt+1];var Mt=[0,0];Mt=b.vec2.sub(Mt,Q,W),Mt=b.vec2.scale(Mt,Mt,M);var J=b.vec2.distance(yt,W),tt=b.vec2.distance(yt,Q),q=J+tt;q!==0&&(J/=q,tt/=q);var lt=b.vec2.scale([0,0],Mt,-J),gt=b.vec2.scale([0,0],Mt,tt),K=b.vec2.add([0,0],yt,lt),j=b.vec2.add([0,0],yt,gt);H&&(K=b.vec2.max([0,0],K,$),K=b.vec2.min([0,0],K,it),j=b.vec2.max([0,0],j,$),j=b.vec2.min([0,0],j,it)),N.push(K),N.push(j)}return k&&N.push(N.shift()),N};function E(m,M,k){for(var R=!!M,N=[],W=0,Q=m.length;W<Q;W+=2)N.push([m[W],m[W+1]]);for(var H=S.smoothBezier(N,.4,R,k),$=N.length,it=[],nt,wt,yt,W=0;W<$-1;W++)nt=H[W*2],wt=H[W*2+1],yt=N[W+1],it.push(["C",nt[0],nt[1],wt[0],wt[1],yt[0],yt[1]]);return R&&(nt=H[$],wt=H[$+1],yt=N[0],it.push(["C",nt[0],nt[1],wt[0],wt[1],yt[0],yt[1]])),it}S.catmullRom2bezier=E;function p(m,M){return O(m,M)}S.getLinePath=p;function w(m,M,k){var R=[],N=m[0],W=null;if(m.length<=2)return p(m,M);for(var Q=0,H=m.length;Q<H;Q++){var $=m[Q];(!W||!(W.x===$.x&&W.y===$.y))&&(R.push($.x),R.push($.y),W=$)}var it=k||[[0,0],[1,1]],nt=E(R,M,it);return nt.unshift(["M",N.x,N.y]),nt}S.getSplinePath=w;function y(m,M){var k=[];return P.each(M,function(R){var N=R[0];switch(N.toLowerCase()){case"m":case"l":case"c":k.push(L(R,m));break;case"z":default:k.push(R);break}}),k}S.convertNormalPath=y;function x(m,M){var k=[],R,N,W,Q;return P.each(M,function(H,$){var it=H[0];switch(it.toLowerCase()){case"m":case"c":case"q":k.push(L(H,m));break;case"l":R=M[$-1],N=H,W=m.isTransposed,Q=W?R[R.length-2]===N[1]:R[R.length-1]===N[2],Q?k=k.concat(T(R,N,m)):k.push(L(H,m));break;case"z":default:k.push(H);break}}),A(k),k}S.convertPolarPath=x},54244:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),P=function(){function D(O,L){this.context=O,this.cfg=L,O.addAction(this)}return D.prototype.applyCfg=function(O){b.assign(this,O)},D.prototype.init=function(){this.applyCfg(this.cfg)},D.prototype.destroy=function(){this.context.removeAction(this),this.context=null},D}();S.default=P},32479:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(80123),P=b.__importDefault(d(54244)),D=function(O){b.__extends(L,O);function L(){return O!==null&&O.apply(this,arguments)||this}return L.prototype.execute=function(){this.callback&&this.callback(this.context)},L.prototype.destroy=function(){O.prototype.destroy.call(this),this.callback=null},L}(P.default);S.default=D},9154:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.createCallbackAction=S.unregisterAction=S.registerAction=S.getActionClass=S.createAction=void 0;var b=d(80123),P=b.__importDefault(d(32479)),D=d(49242),O={};function L(w,y){var x=O[w],m=null;if(x){var M=x.ActionClass,k=x.cfg;m=new M(y,k),m.name=w,m.init()}return m}S.createAction=L;function T(w){var y=O[w];return D.get(y,"ActionClass")}S.getActionClass=T;function A(w,y,x){O[w]={ActionClass:y,cfg:x}}S.registerAction=A;function E(w){delete O[w]}S.unregisterAction=E;function p(w,y){var x=new P.default(y);return x.callback=w,x.name="callback",x}S.createCallbackAction=p},85506:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getScaleByField=S.isInRecords=S.getSiblingPoint=S.getSilbings=S.isInBox=S.getSpline=S.distance=S.getComponents=S.getElementsByPath=S.getIntersectElements=S.intersectRect=S.getElementValue=S.getElementsByState=S.getElementsByField=S.getElements=S.getSiblingMaskElements=S.getMaskedElements=S.isMask=S.isSlider=S.isList=S.isElementChange=S.getDelegationObject=S.getCurrentElement=void 0;var b=d(80123),P=d(49242),D=d(89921),O=d(62810),L=b.__importDefault(d(70146));function T(K,j){var Z=K.event,f=Z.target,ut=f.getCanvasBBox();return ut.width>=j||ut.height>=j?ut:null}function A(K,j){var Z=K.event,f=Z.target,ut=f.getCanvasBBox();return ut.width>=j||ut.height>=j?f.attr("path"):null}function E(K){var j=K.event,Z,f=j.target;return f&&(Z=f.get("element")),Z}S.getCurrentElement=E;function p(K){var j=K.event,Z=j.target,f;return Z&&(f=Z.get("delegateObject")),f}S.getDelegationObject=p;function w(K){var j=K.event.gEvent;return!(j&&j.fromShape&&j.toShape&&j.fromShape.get("element")===j.toShape.get("element"))}S.isElementChange=w;function y(K){return K&&K.component&&K.component.isList()}S.isList=y;function x(K){return K&&K.component&&K.component.isSlider()}S.isSlider=x;function m(K){var j=K.event,Z=j.target;return Z&&Z.get("name")==="mask"}S.isMask=m;function M(K,j){var Z=K.event.target;if(Z.get("type")==="path"){var f=A(K,j);return f?nt(K.view,f):void 0}var ut=T(K,j);return ut?$(K.view,ut):null}S.getMaskedElements=M;function k(K,j,Z){var f=T(K,Z);if(!f)return null;var ut=K.view,bt=q(ut,j,{x:f.x,y:f.y}),Rt=q(ut,j,{x:f.maxX,y:f.maxY}),Vt={minX:bt.x,minY:bt.y,maxX:Rt.x,maxY:Rt.y};return $(j,Vt)}S.getSiblingMaskElements=k;function R(K){var j=K.geometries,Z=[];return P.each(j,function(f){var ut=f.elements;Z=Z.concat(ut)}),K.views&&K.views.length&&P.each(K.views,function(f){Z=Z.concat(R(f))}),Z}S.getElements=R;function N(K,j,Z){var f=R(K);return f.filter(function(ut){return Q(ut,j)===Z})}S.getElementsByField=N;function W(K,j){var Z=K.geometries,f=[];return P.each(Z,function(ut){var bt=ut.getElementsBy(function(Rt){return Rt.hasState(j)});f=f.concat(bt)}),f}S.getElementsByState=W;function Q(K,j){var Z=K.getModel(),f=Z.data,ut;return P.isArray(f)?ut=f[0][j]:ut=f[j],ut}S.getElementValue=Q;function H(K,j){return!(j.minX>K.maxX||j.maxX<K.minX||j.minY>K.maxY||j.maxY<K.minY)}S.intersectRect=H;function $(K,j){var Z=R(K),f=[];return P.each(Z,function(ut){var bt=ut.shape,Rt=bt.getCanvasBBox();H(j,Rt)&&f.push(ut)}),f}S.getIntersectElements=$;function it(K){var j=[];return P.each(K,function(Z){var f=Z[0];if(f!=="A")for(var ut=1;ut<Z.length;ut=ut+2)j.push([Z[ut],Z[ut+1]]);else{var bt=Z.length;j.push([Z[bt-2],Z[bt-1]])}}),j}function nt(K,j){var Z=R(K),f=it(j),ut=Z.filter(function(bt){var Rt=bt.shape,Vt;if(Rt.get("type")==="path")Vt=it(Rt.attr("path"));else{var Ft=Rt.getCanvasBBox();Vt=O.toPoints(Ft)}return L.default(f,Vt)});return ut}S.getElementsByPath=nt;function wt(K){return K.getComponents().map(function(j){return j.component})}S.getComponents=wt;function yt(K,j){var Z=j.x-K.x,f=j.y-K.y;return Math.sqrt(Z*Z+f*f)}S.distance=yt;function Lt(K,j){if(K.length<=2)return D.getLinePath(K,!1);var Z=K[0],f=[];P.each(K,function(bt){f.push(bt.x),f.push(bt.y)});var ut=D.catmullRom2bezier(f,j,null);return ut.unshift(["M",Z.x,Z.y]),ut}S.getSpline=Lt;function Mt(K,j){return K.x<=j.x&&K.maxX>=j.x&&K.y<=j.y&&K.maxY>j.y}S.isInBox=Mt;function J(K){var j=K.parent,Z=null;return j&&(Z=j.views.filter(function(f){return f!==K})),Z}S.getSilbings=J;function tt(K,j){var Z=K.getCoordinate();return Z.invert(j)}function q(K,j,Z){var f=tt(K,Z);return j.getCoordinate().convert(f)}S.getSiblingPoint=q;function lt(K,j,Z,f){var ut=!1;return P.each(K,function(bt){if(bt[Z]===j[Z]&&bt[f]===j[f])return ut=!0,!1}),ut}S.isInRecords=lt;function gt(K,j){var Z=K.getScaleByField(j);return!Z&&K.views&&P.each(K.views,function(f){if(Z=gt(f,j),Z)return!1}),Z}S.getScaleByField=gt},94194:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),P=d(85506),D=function(){function O(L){this.actions=[],this.event=null,this.cacheMap={},this.view=L}return O.prototype.cache=function(){for(var L=[],T=0;T<arguments.length;T++)L[T]=arguments[T];if(L.length===1)return this.cacheMap[L[0]];L.length===2&&(this.cacheMap[L[0]]=L[1])},O.prototype.getAction=function(L){return this.actions.find(function(T){return T.name===L})},O.prototype.addAction=function(L){this.actions.push(L)},O.prototype.removeAction=function(L){var T=this.actions,A=this.actions.indexOf(L);A>=0&&T.splice(A,1)},O.prototype.getCurrentPoint=function(){var L=this.event;if(L)if(L.target instanceof HTMLElement){var T=this.view.getCanvas(),A=T.getPointByClient(L.clientX,L.clientY);return A}else return{x:L.x,y:L.y};return null},O.prototype.getCurrentShape=function(){return b.get(this.event,["gEvent","shape"])},O.prototype.isInPlot=function(){var L=this.getCurrentPoint();return L?this.view.isPointInPlot(L):!1},O.prototype.isInShape=function(L){var T=this.getCurrentShape();return T?T.get("name")===L:!1},O.prototype.isInComponent=function(L){var T=P.getComponents(this.view),A=this.getCurrentPoint();return A?!!T.find(function(E){var p=E.getBBox();return L?E.get("name")===L&&P.isInBox(p,A):P.isInBox(p,A)}):!1},O.prototype.destroy=function(){this.view=null,this.event=null,b.each(this.actions.slice(),function(L){L.destroy()}),this.actions=null,this.cacheMap=null},O}();S.default=D},86050:function(dt,S,d){"use strict";var b;b={value:!0};var P=d(80123),D=d(49242),O=d(9154),L=P.__importDefault(d(94194)),T=P.__importDefault(d(38144));function A(y,x){var m=y.split(":"),M=m[0],k=x.getAction(M)||O.createAction(M,x);if(!k)throw new Error("There is no action named "+M);var R=m[1];return{action:k,methodName:R}}function E(y){var x=y.action,m=y.methodName;if(x[m])x[m]();else throw new Error("Action("+x.name+") doesn't have a method called "+m)}var p={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},w=function(y){P.__extends(x,y);function x(m,M){var k=y.call(this,m,M)||this;return k.callbackCaches={},k.emitCaches={},k.steps=M,k}return x.prototype.init=function(){this.initContext(),y.prototype.init.call(this)},x.prototype.destroy=function(){y.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},x.prototype.initEvents=function(){var m=this;D.each(this.steps,function(M,k){D.each(M,function(R){var N=m.getActionCallback(k,R);N&&m.bindEvent(R.trigger,N)})})},x.prototype.clearEvents=function(){var m=this;D.each(this.steps,function(M,k){D.each(M,function(R){var N=m.getActionCallback(k,R);N&&m.offEvent(R.trigger,N)})})},x.prototype.initContext=function(){var m=this.view,M=new L.default(m);this.context=M;var k=this.steps;D.each(k,function(R){D.each(R,function(N){if(D.isFunction(N.action))N.actionObject={action:O.createCallbackAction(N.action,M),methodName:"execute"};else if(D.isString(N.action))N.actionObject=A(N.action,M);else if(D.isArray(N.action)){var W=N.action;N.actionObject=[],D.each(W,function(Q){N.actionObject.push(A(Q,M))})}})})},x.prototype.isAllowStep=function(m){var M=this.currentStepName,k=this.steps;if(M===m||m===p.SHOW_ENABLE)return!0;if(m===p.PROCESSING)return M===p.START;if(m===p.START)return M!==p.PROCESSING;if(m===p.END)return M===p.PROCESSING||M===p.START;if(m===p.ROLLBACK){if(k[p.END])return M===p.END;if(M===p.START)return!0}return!1},x.prototype.isAllowExcute=function(m,M){if(this.isAllowStep(m)){var k=this.getKey(m,M);return M.once&&this.emitCaches[k]?!1:M.isEnable?M.isEnable(this.context):!0}return!1},x.prototype.enterStep=function(m){this.currentStepName=m,this.emitCaches={}},x.prototype.afterExecute=function(m,M){m!==p.SHOW_ENABLE&&this.currentStepName!==m&&this.enterStep(m);var k=this.getKey(m,M);this.emitCaches[k]=!0},x.prototype.getKey=function(m,M){return m+M.trigger+M.action},x.prototype.getActionCallback=function(m,M){var k=this,R=this.context,N=this.callbackCaches,W=M.actionObject;if(M.action&&W){var Q=this.getKey(m,M);if(!N[Q]){var H=function($){R.event=$,k.isAllowExcute(m,M)?(D.isArray(W)?D.each(W,function(it){R.event=$,E(it)}):(R.event=$,E(W)),k.afterExecute(m,M),M.callback&&(R.event=$,M.callback(R))):R.event=null};M.debounce?N[Q]=D.debounce(H,M.debounce.wait,M.debounce.immediate):M.throttle?N[Q]=D.throttle(H,M.throttle.wait,{leading:M.throttle.leading,trailing:M.throttle.trailing}):N[Q]=H}return N[Q]}return null},x.prototype.bindEvent=function(m,M){var k=m.split(":");k[0]==="window"?window.addEventListener(k[1],M):k[0]==="document"?document.addEventListener(k[1],M):this.view.on(m,M)},x.prototype.offEvent=function(m,M){var k=m.split(":");k[0]==="window"?window.removeEventListener(k[1],M):k[0]==="document"?document.removeEventListener(k[1],M):this.view.off(m,M)},x}(T.default);b=w},38144:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function b(P,D){this.view=P,this.cfg=D}return b.prototype.init=function(){this.initEvents()},b.prototype.initEvents=function(){},b.prototype.clearEvents=function(){},b.prototype.destroy=function(){this.clearEvents()},b}();S.default=d},62810:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.toPoints=S.getRegionBBox=S.BBox=void 0;var b=d(49242),P=d(78646),D=function(){function L(T,A,E,p){T===void 0&&(T=0),A===void 0&&(A=0),E===void 0&&(E=0),p===void 0&&(p=0),this.x=T,this.y=A,this.height=p,this.width=E}return L.fromRange=function(T,A,E,p){return new L(T,A,E-T,p-A)},Object.defineProperty(L.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),L.prototype.isEqual=function(T){return this.x===T.x&&this.y===T.y&&this.width===T.width&&this.height===T.height},L.prototype.clone=function(){return new L(this.x,this.y,this.width,this.height)},L.prototype.add=function(){for(var T=[],A=0;A<arguments.length;A++)T[A]=arguments[A];var E=this.clone();return b.each(T,function(p){E.x=Math.min(p.x,E.x),E.y=Math.min(p.y,E.y),E.width=Math.max(p.maxX,E.maxX)-E.x,E.height=Math.max(p.maxY,E.maxY)-E.y}),E},L.prototype.merge=function(){for(var T=[],A=0;A<arguments.length;A++)T[A]=arguments[A];var E=this.clone();return b.each(T,function(p){E.x=Math.max(p.x,E.x),E.y=Math.max(p.y,E.y),E.width=Math.min(p.maxX,E.maxX)-E.x,E.height=Math.min(p.maxY,E.maxY)-E.y}),E},L.prototype.cut=function(T,A){var E=T.width,p=T.height;switch(A){case P.DIRECTION.TOP:case P.DIRECTION.TOP_LEFT:case P.DIRECTION.TOP_RIGHT:return L.fromRange(this.minX,this.minY+p,this.maxX,this.maxY);case P.DIRECTION.RIGHT:case P.DIRECTION.RIGHT_TOP:case P.DIRECTION.RIGHT_BOTTOM:return L.fromRange(this.minX,this.minY,this.maxX-E,this.maxY);case P.DIRECTION.BOTTOM:case P.DIRECTION.BOTTOM_LEFT:case P.DIRECTION.BOTTOM_RIGHT:return L.fromRange(this.minX,this.minY,this.maxX,this.maxY-p);case P.DIRECTION.LEFT:case P.DIRECTION.LEFT_TOP:case P.DIRECTION.LEFT_BOTTOM:return L.fromRange(this.minX+E,this.minY,this.maxX,this.maxY);default:return this}},L.prototype.shrink=function(T){var A=T[0],E=T[1],p=T[2],w=T[3];return new L(this.x+w,this.y+A,this.width-w-E,this.height-A-p)},L.prototype.exceed=function(T){return[Math.max(-this.minY+T.minY,0),Math.max(this.maxX-T.maxX,0),Math.max(this.maxY-T.maxY,0),Math.max(-this.minX+T.minX,0)]},L.prototype.size=function(){return this.width*this.height},L}();S.BBox=D,S.getRegionBBox=function(L,T){var A=T.start,E=T.end;return new D(L.x+L.width*A.x,L.y+L.height*A.y,L.width*Math.abs(E.x-A.x),L.height*Math.abs(E.y-A.y))};function O(L){return[[L.minX,L.minY],[L.maxX,L.minY],[L.maxX,L.maxY],[L.minX,L.maxY]]}S.toPoints=O},83714:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getCoordinateClipCfg=S.getAngleByPoint=S.isPointInCoordinate=S.getDistanceToCenter=S.isFullCircle=S.getXDimensionLength=void 0;var b=d(38674),P=d(10521);function D(p){if(p.isPolar&&!p.isTransposed)return(p.endAngle-p.startAngle)*p.getRadius();var w=p.convert({x:0,y:0}),y=p.convert({x:1,y:0});return Math.sqrt(Math.pow(y.x-w.x,2)+Math.pow(y.y-w.y,2))}S.getXDimensionLength=D;function O(p){if(p.isPolar){var w=p.startAngle,y=p.endAngle;return y-w==Math.PI*2}return!1}S.isFullCircle=O;function L(p,w){var y=p.getCenter();return Math.sqrt(Math.pow(w.x-y.x,2)+Math.pow(w.y-y.y,2))}S.getDistanceToCenter=L;function T(p,w){var y=!1;if(p)if(p.type==="theta"){var x=p.start,m=p.end;y=P.isBetween(w.x,x.x,m.x)&&P.isBetween(w.y,x.y,m.y)}else{var M=p.invert(w);y=P.isBetween(M.x,0,1)&&P.isBetween(M.y,0,1)}return y}S.isPointInCoordinate=T;function A(p,w){var y=p.getCenter();return Math.atan2(w.y-y.y,w.x-y.x)}S.getAngleByPoint=A;function E(p,w){w===void 0&&(w=0);var y=p.start,x=p.end,m=p.getWidth(),M=p.getHeight();if(p.isPolar){var k=p.startAngle,R=p.endAngle,N=p.getCenter(),W=p.getRadius();return{type:"path",startState:{path:b.getSectorPath(N.x,N.y,W+w,k,k)},endState:function(H){var $=(R-k)*H+k,it=b.getSectorPath(N.x,N.y,W+w,k,$);return{path:it}},attrs:{path:b.getSectorPath(N.x,N.y,W+w,k,R)}}}var Q;return p.isTransposed?Q={height:M+w*2}:Q={width:m+w*2},{type:"rect",startState:{x:y.x-w,y:x.y-w,width:p.isTransposed?m+w*2:0,height:p.isTransposed?0:M+w*2},endState:Q,attrs:{x:y.x-w,y:x.y-w,width:m+w*2,height:M+w*2}}}S.getCoordinateClipCfg=E},38674:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getReplaceAttrs=S.getPolygonCentroid=S.getAngle=S.getArcPath=S.getSectorPath=S.polarToCartesian=void 0;var b=d(49242);function P(p){if(b.isEmpty(p))return null;var w=p[0].x,y=p[0].x,x=p[0].y,m=p[0].y;return b.each(p,function(M){w=w>M.x?M.x:w,y=y<M.x?M.x:y,x=x>M.y?M.y:x,m=m<M.y?M.y:m}),{minX:w,maxX:y,minY:x,maxY:m,centerX:(w+y)/2,centerY:(x+m)/2}}function D(p,w,y,x){return{x:p+y*Math.cos(x),y:w+y*Math.sin(x)}}S.polarToCartesian=D;function O(p,w,y,x,m,M){M===void 0&&(M=0);var k=D(p,w,y,x),R=D(p,w,y,m),N=D(p,w,M,x),W=D(p,w,M,m);if(m-x==Math.PI*2){var Q=D(p,w,y,x+Math.PI),H=D(p,w,M,x+Math.PI),$=[["M",k.x,k.y],["A",y,y,0,1,1,Q.x,Q.y],["A",y,y,0,1,1,R.x,R.y],["M",N.x,N.y]];return M&&($.push(["A",M,M,0,1,0,H.x,H.y]),$.push(["A",M,M,0,1,0,W.x,W.y])),$.push(["M",k.x,k.y]),$.push(["Z"]),$}var it=m-x<=Math.PI?0:1,nt=[["M",k.x,k.y],["A",y,y,0,it,1,R.x,R.y],["L",W.x,W.y]];return M&&nt.push(["A",M,M,0,it,0,N.x,N.y]),nt.push(["L",k.x,k.y]),nt.push(["Z"]),nt}S.getSectorPath=O;function L(p,w,y,x,m){var M=D(p,w,y,x),k=D(p,w,y,m);if(b.isNumberEqual(m-x,Math.PI*2)){var R=D(p,w,y,x+Math.PI);return[["M",M.x,M.y],["A",y,y,0,1,1,R.x,R.y],["A",y,y,0,1,1,M.x,M.y],["A",y,y,0,1,0,R.x,R.y],["A",y,y,0,1,0,M.x,M.y],["Z"]]}var N=m-x<=Math.PI?0:1;return[["M",M.x,M.y],["A",y,y,0,N,1,k.x,k.y]]}S.getArcPath=L;function T(p,w){var y=p.points,x=P(y),m,M,k=w.startAngle,R=w.endAngle,N=R-k;return w.isTransposed?(m=x.maxY*N,M=x.minY*N):(m=x.maxX*N,M=x.minX*N),m+=k,M+=k,{startAngle:M,endAngle:m}}S.getAngle=T;function A(p,w){if(b.isNumber(p)&&b.isNumber(w))return[p,w];for(var y=-1,x=0,m=0,M,k=p.length-1,R,N=0;++y<p.length;)M=k,k=y,N+=R=p[M]*w[k]-p[k]*w[M],x+=(p[M]+p[k])*R,m+=(w[M]+w[k])*R;return N*=3,[x/N,m/N]}S.getPolygonCentroid=A;function E(p,w){var y=p.attr(),x=w.attr();return b.each(y,function(m,M){x[M]===void 0&&(x[M]=void 0)}),x}S.getReplaceAttrs=E},10521:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.uniq=S.omit=S.padEnd=S.isBetween=void 0;var b=d(49242);function P(T,A,E){var p=Math.min(A,E),w=Math.max(A,E);return T>=p&&T<=w}S.isBetween=P;function D(T,A,E){if(b.isString(T))return T.padEnd(A,E);if(b.isArray(T)){var p=T.length;if(p<A)for(var w=A-p,y=0;y<w;y++)T.push(E)}return T}S.padEnd=D;function O(T,A){return A.forEach(function(E){delete T[E]}),T}S.omit=O;function L(T,A,E){A===void 0&&(A=[]),E===void 0&&(E={});for(var p=0,w=T;p<w.length;p++){var y=w[p];E[y]||(A.push(y),E[y]=!0)}return A}S.uniq=L},90835:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MarkerSymbols=void 0,S.MarkerSymbols={hexagon:function(d,b,P){var D=P/2*Math.sqrt(3);return[["M",d,b-P],["L",d+D,b-P/2],["L",d+D,b+P/2],["L",d,b+P],["L",d-D,b+P/2],["L",d-D,b-P/2],["Z"]]},bowtie:function(d,b,P){var D=P-1.5;return[["M",d-P,b-D],["L",d+P,b+D],["L",d+P,b-D],["L",d-P,b+D],["Z"]]},cross:function(d,b,P){return[["M",d-P,b-P],["L",d+P,b+P],["M",d+P,b-P],["L",d-P,b+P]]},tick:function(d,b,P){return[["M",d-P/2,b-P],["L",d+P/2,b-P],["M",d,b-P],["L",d,b+P],["M",d-P/2,b+P],["L",d+P/2,b+P]]},plus:function(d,b,P){return[["M",d-P,b],["L",d+P,b],["M",d,b-P],["L",d,b+P]]},hyphen:function(d,b,P){return[["M",d-P,b],["L",d+P,b]]},line:function(d,b,P){return[["M",d,b-P],["L",d,b+P]]}}},95152:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getName=S.syncScale=S.createScaleByField=void 0;var b=d(80123),P=d(49242),D=d(96397),O=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function L(p){var w="linear";return O.test(p)?w="time":P.isString(p)&&(w="cat"),w}function T(p,w,y){var x=w||[];if(P.isNumber(p)||P.isNil(P.firstValue(x,p))&&P.isEmpty(y)){var m=D.getScale("identity");return new m({field:p.toString(),values:[p]})}var M=P.valuesOfKey(x,p),k=P.get(y,"type",L(M[0])),R=D.getScale(k);return new R(b.__assign({field:p,values:M},y))}S.createScaleByField=T;function A(p,w){if(p.type!=="identity"&&w.type!=="identity"){var y={};for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&(y[x]=w[x]);p.change(y)}}S.syncScale=A;function E(p){return p.alias||p.field}S.getName=E},97127:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getTooltipItems=S.findDataByPoint=void 0;var b=d(80123),P=d(49242),D=d(78646),O=d(95152);function L(R,N,W){var Q=W.translate(R),H=W.translate(N);return P.isNumberEqual(Q,H)}function T(R,N){var W=N.coordinate,Q=N.getXScale(),H=Q.range,$=H[H.length-1],it=H[0],nt=W.invert(R),wt=nt.x;return W.isPolar&&wt>(1+$)/2&&(wt=it),Q.translate(Q.invert(wt))}function A(R,N,W){var Q=W.coordinate,H=W.getYScale(),$=H.field,it=Q.invert(N),nt=H.invert(it.y),wt=P.find(R,function(yt){var Lt=yt[D.FIELD_ORIGIN];return Lt[$][0]<=nt&&Lt[$][1]>=nt});return wt||R[R.length-1]}var E=P.memoize(function(R){if(R.isCategory)return 1;for(var N=R.values,W=N.length,Q=R.translate(N[0]),H=Q,$=0;$<W;$++){var it=N[$],nt=R.translate(it);nt<Q&&(Q=nt),nt>H&&(H=nt)}return(H-Q)/(W-1)});function p(R,N,W){var Q=W;if(!W){var H=N.getAttribute("position"),$=H.getFields();Q=$[0]}var it=N.scales;return it[Q]?it[Q].getText(R[Q]):P.hasKey(R,Q)?R[Q]:Q}function w(R){var N=P.values(R.attributes);return P.filter(N,function(W){return P.contains(D.GROUP_ATTRS,W.type)})}function y(R){for(var N=w(R),W,Q=0,H=N;Q<H.length;Q++){var $=H[Q],it=$.getScale($.type);if(it&&it.isLinear){W=it;break}}var nt=R.getXScale(),wt=R.getYScale();return W||wt||nt}function x(R,N){var W=N.field,Q=R[W];if(P.isArray(Q)){var H=Q.map(function($){return N.getText($)});return H.join("-")}return N.getText(Q)}function m(R,N){var W,Q=N.getGroupScales();if(Q.length&&(W=Q[0]),W){var H=W.field;return W.getText(R[H])}var $=y(N);return O.getName($)}function M(R,N,W){if(N.length===0)return null;var Q=W.type,H=W.getXScale(),$=W.getYScale(),it=H.field,nt=$.field,wt=null;if(Q==="heatmap"||Q==="point"){for(var yt=W.coordinate,Lt=yt.invert(R),Mt=H.invert(Lt.x),J=$.invert(Lt.y),tt=Infinity,q=0;q<N.length;q++){var lt=N[q],gt=lt[D.FIELD_ORIGIN],K=Math.pow(gt[it]-Mt,2)+Math.pow(gt[nt]-J,2);K<tt&&(tt=K,wt=lt)}return wt}var j=N[0],Z=N[N.length-1],f=T(R,W),ut=j[D.FIELD_ORIGIN][it],bt=j[D.FIELD_ORIGIN][nt],Rt=Z[D.FIELD_ORIGIN][it],Vt=$.isLinear&&P.isArray(bt);if(P.isArray(ut)){for(var q=0;q<N.length;q++){var Ft=N[q],gt=Ft[D.FIELD_ORIGIN];if(H.translate(gt[it][0])<=f&&H.translate(gt[it][1])>=f)if(Vt)P.isArray(wt)||(wt=[]),wt.push(Ft);else{wt=Ft;break}}P.isArray(wt)&&(wt=A(wt,R,W))}else{var Qt=void 0;if(!H.isLinear&&H.type!=="timeCat"){for(var q=0;q<N.length;q++){var Ft=N[q],gt=Ft[D.FIELD_ORIGIN];if(L(gt[it],f,H))if(Vt)P.isArray(wt)||(wt=[]),wt.push(Ft);else{wt=Ft;break}else H.translate(gt[it])<=f&&(Z=Ft,Qt=N[q+1])}P.isArray(wt)&&(wt=A(wt,R,W))}else{if((f>H.translate(Rt)||f<H.translate(ut))&&(f>H.max||f<H.min))return null;for(var ae=0,ue=N.length-1,Kt=void 0;ae<=ue;){Kt=Math.floor((ae+ue)/2);var Bt=N[Kt][D.FIELD_ORIGIN][it];if(L(Bt,f,H))return N[Kt];H.translate(Bt)<=H.translate(f)?(ae=Kt+1,Z=N[Kt],Qt=N[Kt+1]):(ue===0&&(Z=N[0]),ue=Kt-1)}}Z&&Qt&&Math.abs(H.translate(Z[D.FIELD_ORIGIN][it])-f)>Math.abs(H.translate(Qt[D.FIELD_ORIGIN][it])-f)&&(Z=Qt)}var Ct=E(W.getXScale());return!wt&&Math.abs(H.translate(Z[D.FIELD_ORIGIN][it])-f)<=Ct/2&&(wt=Z),wt}S.findDataByPoint=M;function k(R,N,W){W===void 0&&(W="");var Q=R[D.FIELD_ORIGIN],H=p(Q,N,W),$=N.tooltipOption,it=N.theme.defaultColor,nt=[],wt,yt;function Lt(bt,Rt){if(!P.isNil(Rt)&&Rt!==""){var Vt={title:H,data:Q,mappingData:R,name:bt,value:Rt,color:R.color||it,marker:!0};nt.push(Vt)}}if(P.isObject($)){var Mt=$.fields,J=$.callback;if(J){var tt=Mt.map(function(bt){return R[D.FIELD_ORIGIN][bt]}),q=J.apply(void 0,tt),lt=b.__assign({data:R[D.FIELD_ORIGIN],mappingData:R,title:H,color:R.color||it,marker:!0},q);nt.push(lt)}else for(var gt=N.scales,K=0,j=Mt;K<j.length;K++){var Z=j[K];if(!P.isNil(Q[Z])){var f=gt[Z];wt=O.getName(f),yt=f.getText(Q[Z]),Lt(wt,yt)}}}else{var ut=y(N);P.isNil(Q[ut.field])||(yt=x(Q,ut),wt=m(Q,N),Lt(wt,yt))}return nt}S.getTooltipItems=k},80123:function(dt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return P},__assign:function(){return D},__rest:function(){return O},__decorate:function(){return L},__param:function(){return T},__metadata:function(){return A},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return y},__values:function(){return x},__read:function(){return m},__spread:function(){return M},__spreadArrays:function(){return k},__spreadArray:function(){return R},__await:function(){return N},__asyncGenerator:function(){return W},__asyncDelegator:function(){return Q},__asyncValues:function(){return H},__makeTemplateObject:function(){return $},__importStar:function(){return nt},__importDefault:function(){return wt},__classPrivateFieldGet:function(){return yt},__classPrivateFieldSet:function(){return Lt},__classPrivateFieldIn:function(){return Mt}});var b=function(J,tt){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,lt){q.__proto__=lt}||function(q,lt){for(var gt in lt)Object.prototype.hasOwnProperty.call(lt,gt)&&(q[gt]=lt[gt])},b(J,tt)};function P(J,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Class extends value "+String(tt)+" is not a constructor or null");b(J,tt);function q(){this.constructor=J}J.prototype=tt===null?Object.create(tt):(q.prototype=tt.prototype,new q)}var D=function(){return D=Object.assign||function(tt){for(var q,lt=1,gt=arguments.length;lt<gt;lt++){q=arguments[lt];for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&(tt[K]=q[K])}return tt},D.apply(this,arguments)};function O(J,tt){var q={};for(var lt in J)Object.prototype.hasOwnProperty.call(J,lt)&&tt.indexOf(lt)<0&&(q[lt]=J[lt]);if(J!=null&&typeof Object.getOwnPropertySymbols=="function")for(var gt=0,lt=Object.getOwnPropertySymbols(J);gt<lt.length;gt++)tt.indexOf(lt[gt])<0&&Object.prototype.propertyIsEnumerable.call(J,lt[gt])&&(q[lt[gt]]=J[lt[gt]]);return q}function L(J,tt,q,lt){var gt=arguments.length,K=gt<3?tt:lt===null?lt=Object.getOwnPropertyDescriptor(tt,q):lt,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(J,tt,q,lt);else for(var Z=J.length-1;Z>=0;Z--)(j=J[Z])&&(K=(gt<3?j(K):gt>3?j(tt,q,K):j(tt,q))||K);return gt>3&&K&&Object.defineProperty(tt,q,K),K}function T(J,tt){return function(q,lt){tt(q,lt,J)}}function A(J,tt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(J,tt)}function E(J,tt,q,lt){function gt(K){return K instanceof q?K:new q(function(j){j(K)})}return new(q||(q=Promise))(function(K,j){function Z(bt){try{ut(lt.next(bt))}catch(Rt){j(Rt)}}function f(bt){try{ut(lt.throw(bt))}catch(Rt){j(Rt)}}function ut(bt){bt.done?K(bt.value):gt(bt.value).then(Z,f)}ut((lt=lt.apply(J,tt||[])).next())})}function p(J,tt){var q={label:0,sent:function(){if(K[0]&1)throw K[1];return K[1]},trys:[],ops:[]},lt,gt,K,j;return j={next:Z(0),throw:Z(1),return:Z(2)},typeof Symbol=="function"&&(j[Symbol.iterator]=function(){return this}),j;function Z(ut){return function(bt){return f([ut,bt])}}function f(ut){if(lt)throw new TypeError("Generator is already executing.");for(;j&&(j=0,ut[0]&&(q=0)),q;)try{if(lt=1,gt&&(K=ut[0]&2?gt.return:ut[0]?gt.throw||((K=gt.return)&&K.call(gt),0):gt.next)&&!(K=K.call(gt,ut[1])).done)return K;switch(gt=0,K&&(ut=[ut[0]&2,K.value]),ut[0]){case 0:case 1:K=ut;break;case 4:return q.label++,{value:ut[1],done:!1};case 5:q.label++,gt=ut[1],ut=[0];continue;case 7:ut=q.ops.pop(),q.trys.pop();continue;default:if(K=q.trys,!(K=K.length>0&&K[K.length-1])&&(ut[0]===6||ut[0]===2)){q=0;continue}if(ut[0]===3&&(!K||ut[1]>K[0]&&ut[1]<K[3])){q.label=ut[1];break}if(ut[0]===6&&q.label<K[1]){q.label=K[1],K=ut;break}if(K&&q.label<K[2]){q.label=K[2],q.ops.push(ut);break}K[2]&&q.ops.pop(),q.trys.pop();continue}ut=tt.call(J,q)}catch(bt){ut=[6,bt],gt=0}finally{lt=K=0}if(ut[0]&5)throw ut[1];return{value:ut[0]?ut[1]:void 0,done:!0}}}var w=Object.create?function(J,tt,q,lt){lt===void 0&&(lt=q);var gt=Object.getOwnPropertyDescriptor(tt,q);(!gt||("get"in gt?!tt.__esModule:gt.writable||gt.configurable))&&(gt={enumerable:!0,get:function(){return tt[q]}}),Object.defineProperty(J,lt,gt)}:function(J,tt,q,lt){lt===void 0&&(lt=q),J[lt]=tt[q]};function y(J,tt){for(var q in J)q!=="default"&&!Object.prototype.hasOwnProperty.call(tt,q)&&w(tt,J,q)}function x(J){var tt=typeof Symbol=="function"&&Symbol.iterator,q=tt&&J[tt],lt=0;if(q)return q.call(J);if(J&&typeof J.length=="number")return{next:function(){return J&&lt>=J.length&&(J=void 0),{value:J&&J[lt++],done:!J}}};throw new TypeError(tt?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(J,tt){var q=typeof Symbol=="function"&&J[Symbol.iterator];if(!q)return J;var lt=q.call(J),gt,K=[],j;try{for(;(tt===void 0||tt-- >0)&&!(gt=lt.next()).done;)K.push(gt.value)}catch(Z){j={error:Z}}finally{try{gt&&!gt.done&&(q=lt.return)&&q.call(lt)}finally{if(j)throw j.error}}return K}function M(){for(var J=[],tt=0;tt<arguments.length;tt++)J=J.concat(m(arguments[tt]));return J}function k(){for(var J=0,tt=0,q=arguments.length;tt<q;tt++)J+=arguments[tt].length;for(var lt=Array(J),gt=0,tt=0;tt<q;tt++)for(var K=arguments[tt],j=0,Z=K.length;j<Z;j++,gt++)lt[gt]=K[j];return lt}function R(J,tt,q){if(q||arguments.length===2)for(var lt=0,gt=tt.length,K;lt<gt;lt++)(K||!(lt in tt))&&(K||(K=Array.prototype.slice.call(tt,0,lt)),K[lt]=tt[lt]);return J.concat(K||Array.prototype.slice.call(tt))}function N(J){return this instanceof N?(this.v=J,this):new N(J)}function W(J,tt,q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var lt=q.apply(J,tt||[]),gt,K=[];return gt={},j("next"),j("throw"),j("return"),gt[Symbol.asyncIterator]=function(){return this},gt;function j(Vt){lt[Vt]&&(gt[Vt]=function(Ft){return new Promise(function(Qt,ae){K.push([Vt,Ft,Qt,ae])>1||Z(Vt,Ft)})})}function Z(Vt,Ft){try{f(lt[Vt](Ft))}catch(Qt){Rt(K[0][3],Qt)}}function f(Vt){Vt.value instanceof N?Promise.resolve(Vt.value.v).then(ut,bt):Rt(K[0][2],Vt)}function ut(Vt){Z("next",Vt)}function bt(Vt){Z("throw",Vt)}function Rt(Vt,Ft){Vt(Ft),K.shift(),K.length&&Z(K[0][0],K[0][1])}}function Q(J){var tt,q;return tt={},lt("next"),lt("throw",function(gt){throw gt}),lt("return"),tt[Symbol.iterator]=function(){return this},tt;function lt(gt,K){tt[gt]=J[gt]?function(j){return(q=!q)?{value:N(J[gt](j)),done:gt==="return"}:K?K(j):j}:K}}function H(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt=J[Symbol.asyncIterator],q;return tt?tt.call(J):(J=typeof x=="function"?x(J):J[Symbol.iterator](),q={},lt("next"),lt("throw"),lt("return"),q[Symbol.asyncIterator]=function(){return this},q);function lt(K){q[K]=J[K]&&function(j){return new Promise(function(Z,f){j=J[K](j),gt(Z,f,j.done,j.value)})}}function gt(K,j,Z,f){Promise.resolve(f).then(function(ut){K({value:ut,done:Z})},j)}}function $(J,tt){return Object.defineProperty?Object.defineProperty(J,"raw",{value:tt}):J.raw=tt,J}var it=Object.create?function(J,tt){Object.defineProperty(J,"default",{enumerable:!0,value:tt})}:function(J,tt){J.default=tt};function nt(J){if(J&&J.__esModule)return J;var tt={};if(J!=null)for(var q in J)q!=="default"&&Object.prototype.hasOwnProperty.call(J,q)&&w(tt,J,q);return it(tt,J),tt}function wt(J){return J&&J.__esModule?J:{default:J}}function yt(J,tt,q,lt){if(q==="a"&&!lt)throw new TypeError("Private accessor was defined without a getter");if(typeof tt=="function"?J!==tt||!lt:!tt.has(J))throw new TypeError("Cannot read private member from an object whose class did not declare it");return q==="m"?lt:q==="a"?lt.call(J):lt?lt.value:tt.get(J)}function Lt(J,tt,q,lt,gt){if(lt==="m")throw new TypeError("Private method is not writable");if(lt==="a"&&!gt)throw new TypeError("Private accessor was defined without a setter");if(typeof tt=="function"?J!==tt||!gt:!tt.has(J))throw new TypeError("Cannot write private member to an object whose class did not declare it");return lt==="a"?gt.call(J,q):gt?gt.value=q:tt.set(J,q),q}function Mt(J,tt){if(tt===null||typeof tt!="object"&&typeof tt!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof J=="function"?tt===J:J.has(tt)}},74988:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setMatrixArrayType=D,S.toRadian=L,S.equals=T;var d=S.EPSILON=1e-6,b=S.ARRAY_TYPE=typeof Float32Array!="undefined"?Float32Array:Array,P=S.RANDOM=Math.random;function D(A){S.ARRAY_TYPE=b=A}var O=Math.PI/180;function L(A){return A*O}function T(A,E){return Math.abs(A-E)<=d*Math.max(1,Math.abs(A),Math.abs(E))}},31502:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.sub=S.mul=void 0,S.create=O,S.fromMat4=L,S.clone=T,S.copy=A,S.fromValues=E,S.set=p,S.identity=w,S.transpose=y,S.invert=x,S.adjoint=m,S.determinant=M,S.multiply=k,S.translate=R,S.rotate=N,S.scale=W,S.fromTranslation=Q,S.fromRotation=H,S.fromScaling=$,S.fromMat2d=it,S.fromQuat=nt,S.normalFromMat4=wt,S.projection=yt,S.str=Lt,S.frob=Mt,S.add=J,S.subtract=tt,S.multiplyScalar=q,S.multiplyScalarAndAdd=lt,S.exactEquals=gt,S.equals=K;var b=d(74988),P=D(b);function D(f){if(f&&f.__esModule)return f;var ut={};if(f!=null)for(var bt in f)Object.prototype.hasOwnProperty.call(f,bt)&&(ut[bt]=f[bt]);return ut.default=f,ut}function O(){var f=new P.ARRAY_TYPE(9);return P.ARRAY_TYPE!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0),f[0]=1,f[4]=1,f[8]=1,f}function L(f,ut){return f[0]=ut[0],f[1]=ut[1],f[2]=ut[2],f[3]=ut[4],f[4]=ut[5],f[5]=ut[6],f[6]=ut[8],f[7]=ut[9],f[8]=ut[10],f}function T(f){var ut=new P.ARRAY_TYPE(9);return ut[0]=f[0],ut[1]=f[1],ut[2]=f[2],ut[3]=f[3],ut[4]=f[4],ut[5]=f[5],ut[6]=f[6],ut[7]=f[7],ut[8]=f[8],ut}function A(f,ut){return f[0]=ut[0],f[1]=ut[1],f[2]=ut[2],f[3]=ut[3],f[4]=ut[4],f[5]=ut[5],f[6]=ut[6],f[7]=ut[7],f[8]=ut[8],f}function E(f,ut,bt,Rt,Vt,Ft,Qt,ae,ue){var Kt=new P.ARRAY_TYPE(9);return Kt[0]=f,Kt[1]=ut,Kt[2]=bt,Kt[3]=Rt,Kt[4]=Vt,Kt[5]=Ft,Kt[6]=Qt,Kt[7]=ae,Kt[8]=ue,Kt}function p(f,ut,bt,Rt,Vt,Ft,Qt,ae,ue,Kt){return f[0]=ut,f[1]=bt,f[2]=Rt,f[3]=Vt,f[4]=Ft,f[5]=Qt,f[6]=ae,f[7]=ue,f[8]=Kt,f}function w(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function y(f,ut){if(f===ut){var bt=ut[1],Rt=ut[2],Vt=ut[5];f[1]=ut[3],f[2]=ut[6],f[3]=bt,f[5]=ut[7],f[6]=Rt,f[7]=Vt}else f[0]=ut[0],f[1]=ut[3],f[2]=ut[6],f[3]=ut[1],f[4]=ut[4],f[5]=ut[7],f[6]=ut[2],f[7]=ut[5],f[8]=ut[8];return f}function x(f,ut){var bt=ut[0],Rt=ut[1],Vt=ut[2],Ft=ut[3],Qt=ut[4],ae=ut[5],ue=ut[6],Kt=ut[7],Bt=ut[8],Ct=Bt*Qt-ae*Kt,pt=-Bt*Ft+ae*ue,Pt=Kt*Ft-Qt*ue,ft=bt*Ct+Rt*pt+Vt*Pt;return ft?(ft=1/ft,f[0]=Ct*ft,f[1]=(-Bt*Rt+Vt*Kt)*ft,f[2]=(ae*Rt-Vt*Qt)*ft,f[3]=pt*ft,f[4]=(Bt*bt-Vt*ue)*ft,f[5]=(-ae*bt+Vt*Ft)*ft,f[6]=Pt*ft,f[7]=(-Kt*bt+Rt*ue)*ft,f[8]=(Qt*bt-Rt*Ft)*ft,f):null}function m(f,ut){var bt=ut[0],Rt=ut[1],Vt=ut[2],Ft=ut[3],Qt=ut[4],ae=ut[5],ue=ut[6],Kt=ut[7],Bt=ut[8];return f[0]=Qt*Bt-ae*Kt,f[1]=Vt*Kt-Rt*Bt,f[2]=Rt*ae-Vt*Qt,f[3]=ae*ue-Ft*Bt,f[4]=bt*Bt-Vt*ue,f[5]=Vt*Ft-bt*ae,f[6]=Ft*Kt-Qt*ue,f[7]=Rt*ue-bt*Kt,f[8]=bt*Qt-Rt*Ft,f}function M(f){var ut=f[0],bt=f[1],Rt=f[2],Vt=f[3],Ft=f[4],Qt=f[5],ae=f[6],ue=f[7],Kt=f[8];return ut*(Kt*Ft-Qt*ue)+bt*(-Kt*Vt+Qt*ae)+Rt*(ue*Vt-Ft*ae)}function k(f,ut,bt){var Rt=ut[0],Vt=ut[1],Ft=ut[2],Qt=ut[3],ae=ut[4],ue=ut[5],Kt=ut[6],Bt=ut[7],Ct=ut[8],pt=bt[0],Pt=bt[1],ft=bt[2],ot=bt[3],St=bt[4],Ot=bt[5],Zt=bt[6],le=bt[7],be=bt[8];return f[0]=pt*Rt+Pt*Qt+ft*Kt,f[1]=pt*Vt+Pt*ae+ft*Bt,f[2]=pt*Ft+Pt*ue+ft*Ct,f[3]=ot*Rt+St*Qt+Ot*Kt,f[4]=ot*Vt+St*ae+Ot*Bt,f[5]=ot*Ft+St*ue+Ot*Ct,f[6]=Zt*Rt+le*Qt+be*Kt,f[7]=Zt*Vt+le*ae+be*Bt,f[8]=Zt*Ft+le*ue+be*Ct,f}function R(f,ut,bt){var Rt=ut[0],Vt=ut[1],Ft=ut[2],Qt=ut[3],ae=ut[4],ue=ut[5],Kt=ut[6],Bt=ut[7],Ct=ut[8],pt=bt[0],Pt=bt[1];return f[0]=Rt,f[1]=Vt,f[2]=Ft,f[3]=Qt,f[4]=ae,f[5]=ue,f[6]=pt*Rt+Pt*Qt+Kt,f[7]=pt*Vt+Pt*ae+Bt,f[8]=pt*Ft+Pt*ue+Ct,f}function N(f,ut,bt){var Rt=ut[0],Vt=ut[1],Ft=ut[2],Qt=ut[3],ae=ut[4],ue=ut[5],Kt=ut[6],Bt=ut[7],Ct=ut[8],pt=Math.sin(bt),Pt=Math.cos(bt);return f[0]=Pt*Rt+pt*Qt,f[1]=Pt*Vt+pt*ae,f[2]=Pt*Ft+pt*ue,f[3]=Pt*Qt-pt*Rt,f[4]=Pt*ae-pt*Vt,f[5]=Pt*ue-pt*Ft,f[6]=Kt,f[7]=Bt,f[8]=Ct,f}function W(f,ut,bt){var Rt=bt[0],Vt=bt[1];return f[0]=Rt*ut[0],f[1]=Rt*ut[1],f[2]=Rt*ut[2],f[3]=Vt*ut[3],f[4]=Vt*ut[4],f[5]=Vt*ut[5],f[6]=ut[6],f[7]=ut[7],f[8]=ut[8],f}function Q(f,ut){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=ut[0],f[7]=ut[1],f[8]=1,f}function H(f,ut){var bt=Math.sin(ut),Rt=Math.cos(ut);return f[0]=Rt,f[1]=bt,f[2]=0,f[3]=-bt,f[4]=Rt,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function $(f,ut){return f[0]=ut[0],f[1]=0,f[2]=0,f[3]=0,f[4]=ut[1],f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function it(f,ut){return f[0]=ut[0],f[1]=ut[1],f[2]=0,f[3]=ut[2],f[4]=ut[3],f[5]=0,f[6]=ut[4],f[7]=ut[5],f[8]=1,f}function nt(f,ut){var bt=ut[0],Rt=ut[1],Vt=ut[2],Ft=ut[3],Qt=bt+bt,ae=Rt+Rt,ue=Vt+Vt,Kt=bt*Qt,Bt=Rt*Qt,Ct=Rt*ae,pt=Vt*Qt,Pt=Vt*ae,ft=Vt*ue,ot=Ft*Qt,St=Ft*ae,Ot=Ft*ue;return f[0]=1-Ct-ft,f[3]=Bt-Ot,f[6]=pt+St,f[1]=Bt+Ot,f[4]=1-Kt-ft,f[7]=Pt-ot,f[2]=pt-St,f[5]=Pt+ot,f[8]=1-Kt-Ct,f}function wt(f,ut){var bt=ut[0],Rt=ut[1],Vt=ut[2],Ft=ut[3],Qt=ut[4],ae=ut[5],ue=ut[6],Kt=ut[7],Bt=ut[8],Ct=ut[9],pt=ut[10],Pt=ut[11],ft=ut[12],ot=ut[13],St=ut[14],Ot=ut[15],Zt=bt*ae-Rt*Qt,le=bt*ue-Vt*Qt,be=bt*Kt-Ft*Qt,Be=Rt*ue-Vt*ae,Fe=Rt*Kt-Ft*ae,lr=Vt*Kt-Ft*ue,dr=Bt*ot-Ct*ft,ur=Bt*St-pt*ft,Tr=Bt*Ot-Pt*ft,sr=Ct*St-pt*ot,zr=Ct*Ot-Pt*ot,fn=pt*Ot-Pt*St,Yr=Zt*fn-le*zr+be*sr+Be*Tr-Fe*ur+lr*dr;return Yr?(Yr=1/Yr,f[0]=(ae*fn-ue*zr+Kt*sr)*Yr,f[1]=(ue*Tr-Qt*fn-Kt*ur)*Yr,f[2]=(Qt*zr-ae*Tr+Kt*dr)*Yr,f[3]=(Vt*zr-Rt*fn-Ft*sr)*Yr,f[4]=(bt*fn-Vt*Tr+Ft*ur)*Yr,f[5]=(Rt*Tr-bt*zr-Ft*dr)*Yr,f[6]=(ot*lr-St*Fe+Ot*Be)*Yr,f[7]=(St*be-ft*lr-Ot*le)*Yr,f[8]=(ft*Fe-ot*be+Ot*Zt)*Yr,f):null}function yt(f,ut,bt){return f[0]=2/ut,f[1]=0,f[2]=0,f[3]=0,f[4]=-2/bt,f[5]=0,f[6]=-1,f[7]=1,f[8]=1,f}function Lt(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"}function Mt(f){return Math.sqrt(Math.pow(f[0],2)+Math.pow(f[1],2)+Math.pow(f[2],2)+Math.pow(f[3],2)+Math.pow(f[4],2)+Math.pow(f[5],2)+Math.pow(f[6],2)+Math.pow(f[7],2)+Math.pow(f[8],2))}function J(f,ut,bt){return f[0]=ut[0]+bt[0],f[1]=ut[1]+bt[1],f[2]=ut[2]+bt[2],f[3]=ut[3]+bt[3],f[4]=ut[4]+bt[4],f[5]=ut[5]+bt[5],f[6]=ut[6]+bt[6],f[7]=ut[7]+bt[7],f[8]=ut[8]+bt[8],f}function tt(f,ut,bt){return f[0]=ut[0]-bt[0],f[1]=ut[1]-bt[1],f[2]=ut[2]-bt[2],f[3]=ut[3]-bt[3],f[4]=ut[4]-bt[4],f[5]=ut[5]-bt[5],f[6]=ut[6]-bt[6],f[7]=ut[7]-bt[7],f[8]=ut[8]-bt[8],f}function q(f,ut,bt){return f[0]=ut[0]*bt,f[1]=ut[1]*bt,f[2]=ut[2]*bt,f[3]=ut[3]*bt,f[4]=ut[4]*bt,f[5]=ut[5]*bt,f[6]=ut[6]*bt,f[7]=ut[7]*bt,f[8]=ut[8]*bt,f}function lt(f,ut,bt,Rt){return f[0]=ut[0]+bt[0]*Rt,f[1]=ut[1]+bt[1]*Rt,f[2]=ut[2]+bt[2]*Rt,f[3]=ut[3]+bt[3]*Rt,f[4]=ut[4]+bt[4]*Rt,f[5]=ut[5]+bt[5]*Rt,f[6]=ut[6]+bt[6]*Rt,f[7]=ut[7]+bt[7]*Rt,f[8]=ut[8]+bt[8]*Rt,f}function gt(f,ut){return f[0]===ut[0]&&f[1]===ut[1]&&f[2]===ut[2]&&f[3]===ut[3]&&f[4]===ut[4]&&f[5]===ut[5]&&f[6]===ut[6]&&f[7]===ut[7]&&f[8]===ut[8]}function K(f,ut){var bt=f[0],Rt=f[1],Vt=f[2],Ft=f[3],Qt=f[4],ae=f[5],ue=f[6],Kt=f[7],Bt=f[8],Ct=ut[0],pt=ut[1],Pt=ut[2],ft=ut[3],ot=ut[4],St=ut[5],Ot=ut[6],Zt=ut[7],le=ut[8];return Math.abs(bt-Ct)<=P.EPSILON*Math.max(1,Math.abs(bt),Math.abs(Ct))&&Math.abs(Rt-pt)<=P.EPSILON*Math.max(1,Math.abs(Rt),Math.abs(pt))&&Math.abs(Vt-Pt)<=P.EPSILON*Math.max(1,Math.abs(Vt),Math.abs(Pt))&&Math.abs(Ft-ft)<=P.EPSILON*Math.max(1,Math.abs(Ft),Math.abs(ft))&&Math.abs(Qt-ot)<=P.EPSILON*Math.max(1,Math.abs(Qt),Math.abs(ot))&&Math.abs(ae-St)<=P.EPSILON*Math.max(1,Math.abs(ae),Math.abs(St))&&Math.abs(ue-Ot)<=P.EPSILON*Math.max(1,Math.abs(ue),Math.abs(Ot))&&Math.abs(Kt-Zt)<=P.EPSILON*Math.max(1,Math.abs(Kt),Math.abs(Zt))&&Math.abs(Bt-le)<=P.EPSILON*Math.max(1,Math.abs(Bt),Math.abs(le))}var j=S.mul=k,Z=S.sub=tt},76172:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.sqrDist=S.dist=S.div=S.mul=S.sub=S.len=void 0,S.create=O,S.clone=L,S.fromValues=T,S.copy=A,S.set=E,S.add=p,S.subtract=w,S.multiply=y,S.divide=x,S.ceil=m,S.floor=M,S.min=k,S.max=R,S.round=N,S.scale=W,S.scaleAndAdd=Q,S.distance=H,S.squaredDistance=$,S.length=it,S.squaredLength=nt,S.negate=wt,S.inverse=yt,S.normalize=Lt,S.dot=Mt,S.cross=J,S.lerp=tt,S.random=q,S.transformMat2=lt,S.transformMat2d=gt,S.transformMat3=K,S.transformMat4=j,S.rotate=Z,S.angle=f,S.str=ut,S.exactEquals=bt,S.equals=Rt;var b=d(74988),P=D(b);function D(pt){if(pt&&pt.__esModule)return pt;var Pt={};if(pt!=null)for(var ft in pt)Object.prototype.hasOwnProperty.call(pt,ft)&&(Pt[ft]=pt[ft]);return Pt.default=pt,Pt}function O(){var pt=new P.ARRAY_TYPE(2);return P.ARRAY_TYPE!=Float32Array&&(pt[0]=0,pt[1]=0),pt}function L(pt){var Pt=new P.ARRAY_TYPE(2);return Pt[0]=pt[0],Pt[1]=pt[1],Pt}function T(pt,Pt){var ft=new P.ARRAY_TYPE(2);return ft[0]=pt,ft[1]=Pt,ft}function A(pt,Pt){return pt[0]=Pt[0],pt[1]=Pt[1],pt}function E(pt,Pt,ft){return pt[0]=Pt,pt[1]=ft,pt}function p(pt,Pt,ft){return pt[0]=Pt[0]+ft[0],pt[1]=Pt[1]+ft[1],pt}function w(pt,Pt,ft){return pt[0]=Pt[0]-ft[0],pt[1]=Pt[1]-ft[1],pt}function y(pt,Pt,ft){return pt[0]=Pt[0]*ft[0],pt[1]=Pt[1]*ft[1],pt}function x(pt,Pt,ft){return pt[0]=Pt[0]/ft[0],pt[1]=Pt[1]/ft[1],pt}function m(pt,Pt){return pt[0]=Math.ceil(Pt[0]),pt[1]=Math.ceil(Pt[1]),pt}function M(pt,Pt){return pt[0]=Math.floor(Pt[0]),pt[1]=Math.floor(Pt[1]),pt}function k(pt,Pt,ft){return pt[0]=Math.min(Pt[0],ft[0]),pt[1]=Math.min(Pt[1],ft[1]),pt}function R(pt,Pt,ft){return pt[0]=Math.max(Pt[0],ft[0]),pt[1]=Math.max(Pt[1],ft[1]),pt}function N(pt,Pt){return pt[0]=Math.round(Pt[0]),pt[1]=Math.round(Pt[1]),pt}function W(pt,Pt,ft){return pt[0]=Pt[0]*ft,pt[1]=Pt[1]*ft,pt}function Q(pt,Pt,ft,ot){return pt[0]=Pt[0]+ft[0]*ot,pt[1]=Pt[1]+ft[1]*ot,pt}function H(pt,Pt){var ft=Pt[0]-pt[0],ot=Pt[1]-pt[1];return Math.sqrt(ft*ft+ot*ot)}function $(pt,Pt){var ft=Pt[0]-pt[0],ot=Pt[1]-pt[1];return ft*ft+ot*ot}function it(pt){var Pt=pt[0],ft=pt[1];return Math.sqrt(Pt*Pt+ft*ft)}function nt(pt){var Pt=pt[0],ft=pt[1];return Pt*Pt+ft*ft}function wt(pt,Pt){return pt[0]=-Pt[0],pt[1]=-Pt[1],pt}function yt(pt,Pt){return pt[0]=1/Pt[0],pt[1]=1/Pt[1],pt}function Lt(pt,Pt){var ft=Pt[0],ot=Pt[1],St=ft*ft+ot*ot;return St>0&&(St=1/Math.sqrt(St),pt[0]=Pt[0]*St,pt[1]=Pt[1]*St),pt}function Mt(pt,Pt){return pt[0]*Pt[0]+pt[1]*Pt[1]}function J(pt,Pt,ft){var ot=Pt[0]*ft[1]-Pt[1]*ft[0];return pt[0]=pt[1]=0,pt[2]=ot,pt}function tt(pt,Pt,ft,ot){var St=Pt[0],Ot=Pt[1];return pt[0]=St+ot*(ft[0]-St),pt[1]=Ot+ot*(ft[1]-Ot),pt}function q(pt,Pt){Pt=Pt||1;var ft=P.RANDOM()*2*Math.PI;return pt[0]=Math.cos(ft)*Pt,pt[1]=Math.sin(ft)*Pt,pt}function lt(pt,Pt,ft){var ot=Pt[0],St=Pt[1];return pt[0]=ft[0]*ot+ft[2]*St,pt[1]=ft[1]*ot+ft[3]*St,pt}function gt(pt,Pt,ft){var ot=Pt[0],St=Pt[1];return pt[0]=ft[0]*ot+ft[2]*St+ft[4],pt[1]=ft[1]*ot+ft[3]*St+ft[5],pt}function K(pt,Pt,ft){var ot=Pt[0],St=Pt[1];return pt[0]=ft[0]*ot+ft[3]*St+ft[6],pt[1]=ft[1]*ot+ft[4]*St+ft[7],pt}function j(pt,Pt,ft){var ot=Pt[0],St=Pt[1];return pt[0]=ft[0]*ot+ft[4]*St+ft[12],pt[1]=ft[1]*ot+ft[5]*St+ft[13],pt}function Z(pt,Pt,ft,ot){var St=Pt[0]-ft[0],Ot=Pt[1]-ft[1],Zt=Math.sin(ot),le=Math.cos(ot);return pt[0]=St*le-Ot*Zt+ft[0],pt[1]=St*Zt+Ot*le+ft[1],pt}function f(pt,Pt){var ft=pt[0],ot=pt[1],St=Pt[0],Ot=Pt[1],Zt=ft*ft+ot*ot;Zt>0&&(Zt=1/Math.sqrt(Zt));var le=St*St+Ot*Ot;le>0&&(le=1/Math.sqrt(le));var be=(ft*St+ot*Ot)*Zt*le;return be>1?0:be<-1?Math.PI:Math.acos(be)}function ut(pt){return"vec2("+pt[0]+", "+pt[1]+")"}function bt(pt,Pt){return pt[0]===Pt[0]&&pt[1]===Pt[1]}function Rt(pt,Pt){var ft=pt[0],ot=pt[1],St=Pt[0],Ot=Pt[1];return Math.abs(ft-St)<=P.EPSILON*Math.max(1,Math.abs(ft),Math.abs(St))&&Math.abs(ot-Ot)<=P.EPSILON*Math.max(1,Math.abs(ot),Math.abs(Ot))}var Vt=S.len=it,Ft=S.sub=w,Qt=S.mul=y,ae=S.div=x,ue=S.dist=H,Kt=S.sqrDist=$,Bt=S.sqrLen=nt,Ct=S.forEach=function(){var pt=O();return function(Pt,ft,ot,St,Ot,Zt){var le=void 0,be=void 0;for(ft||(ft=2),ot||(ot=0),St?be=Math.min(St*ft+ot,Pt.length):be=Pt.length,le=ot;le<be;le+=ft)pt[0]=Pt[le],pt[1]=Pt[le+1],Ot(pt,pt,Zt),Pt[le]=pt[0],Pt[le+1]=pt[1];return Pt}}()},88395:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.len=S.sqrDist=S.dist=S.div=S.mul=S.sub=void 0,S.create=O,S.clone=L,S.length=T,S.fromValues=A,S.copy=E,S.set=p,S.add=w,S.subtract=y,S.multiply=x,S.divide=m,S.ceil=M,S.floor=k,S.min=R,S.max=N,S.round=W,S.scale=Q,S.scaleAndAdd=H,S.distance=$,S.squaredDistance=it,S.squaredLength=nt,S.negate=wt,S.inverse=yt,S.normalize=Lt,S.dot=Mt,S.cross=J,S.lerp=tt,S.hermite=q,S.bezier=lt,S.random=gt,S.transformMat4=K,S.transformMat3=j,S.transformQuat=Z,S.rotateX=f,S.rotateY=ut,S.rotateZ=bt,S.angle=Rt,S.str=Vt,S.exactEquals=Ft,S.equals=Qt;var b=d(74988),P=D(b);function D(ot){if(ot&&ot.__esModule)return ot;var St={};if(ot!=null)for(var Ot in ot)Object.prototype.hasOwnProperty.call(ot,Ot)&&(St[Ot]=ot[Ot]);return St.default=ot,St}function O(){var ot=new P.ARRAY_TYPE(3);return P.ARRAY_TYPE!=Float32Array&&(ot[0]=0,ot[1]=0,ot[2]=0),ot}function L(ot){var St=new P.ARRAY_TYPE(3);return St[0]=ot[0],St[1]=ot[1],St[2]=ot[2],St}function T(ot){var St=ot[0],Ot=ot[1],Zt=ot[2];return Math.sqrt(St*St+Ot*Ot+Zt*Zt)}function A(ot,St,Ot){var Zt=new P.ARRAY_TYPE(3);return Zt[0]=ot,Zt[1]=St,Zt[2]=Ot,Zt}function E(ot,St){return ot[0]=St[0],ot[1]=St[1],ot[2]=St[2],ot}function p(ot,St,Ot,Zt){return ot[0]=St,ot[1]=Ot,ot[2]=Zt,ot}function w(ot,St,Ot){return ot[0]=St[0]+Ot[0],ot[1]=St[1]+Ot[1],ot[2]=St[2]+Ot[2],ot}function y(ot,St,Ot){return ot[0]=St[0]-Ot[0],ot[1]=St[1]-Ot[1],ot[2]=St[2]-Ot[2],ot}function x(ot,St,Ot){return ot[0]=St[0]*Ot[0],ot[1]=St[1]*Ot[1],ot[2]=St[2]*Ot[2],ot}function m(ot,St,Ot){return ot[0]=St[0]/Ot[0],ot[1]=St[1]/Ot[1],ot[2]=St[2]/Ot[2],ot}function M(ot,St){return ot[0]=Math.ceil(St[0]),ot[1]=Math.ceil(St[1]),ot[2]=Math.ceil(St[2]),ot}function k(ot,St){return ot[0]=Math.floor(St[0]),ot[1]=Math.floor(St[1]),ot[2]=Math.floor(St[2]),ot}function R(ot,St,Ot){return ot[0]=Math.min(St[0],Ot[0]),ot[1]=Math.min(St[1],Ot[1]),ot[2]=Math.min(St[2],Ot[2]),ot}function N(ot,St,Ot){return ot[0]=Math.max(St[0],Ot[0]),ot[1]=Math.max(St[1],Ot[1]),ot[2]=Math.max(St[2],Ot[2]),ot}function W(ot,St){return ot[0]=Math.round(St[0]),ot[1]=Math.round(St[1]),ot[2]=Math.round(St[2]),ot}function Q(ot,St,Ot){return ot[0]=St[0]*Ot,ot[1]=St[1]*Ot,ot[2]=St[2]*Ot,ot}function H(ot,St,Ot,Zt){return ot[0]=St[0]+Ot[0]*Zt,ot[1]=St[1]+Ot[1]*Zt,ot[2]=St[2]+Ot[2]*Zt,ot}function $(ot,St){var Ot=St[0]-ot[0],Zt=St[1]-ot[1],le=St[2]-ot[2];return Math.sqrt(Ot*Ot+Zt*Zt+le*le)}function it(ot,St){var Ot=St[0]-ot[0],Zt=St[1]-ot[1],le=St[2]-ot[2];return Ot*Ot+Zt*Zt+le*le}function nt(ot){var St=ot[0],Ot=ot[1],Zt=ot[2];return St*St+Ot*Ot+Zt*Zt}function wt(ot,St){return ot[0]=-St[0],ot[1]=-St[1],ot[2]=-St[2],ot}function yt(ot,St){return ot[0]=1/St[0],ot[1]=1/St[1],ot[2]=1/St[2],ot}function Lt(ot,St){var Ot=St[0],Zt=St[1],le=St[2],be=Ot*Ot+Zt*Zt+le*le;return be>0&&(be=1/Math.sqrt(be),ot[0]=St[0]*be,ot[1]=St[1]*be,ot[2]=St[2]*be),ot}function Mt(ot,St){return ot[0]*St[0]+ot[1]*St[1]+ot[2]*St[2]}function J(ot,St,Ot){var Zt=St[0],le=St[1],be=St[2],Be=Ot[0],Fe=Ot[1],lr=Ot[2];return ot[0]=le*lr-be*Fe,ot[1]=be*Be-Zt*lr,ot[2]=Zt*Fe-le*Be,ot}function tt(ot,St,Ot,Zt){var le=St[0],be=St[1],Be=St[2];return ot[0]=le+Zt*(Ot[0]-le),ot[1]=be+Zt*(Ot[1]-be),ot[2]=Be+Zt*(Ot[2]-Be),ot}function q(ot,St,Ot,Zt,le,be){var Be=be*be,Fe=Be*(2*be-3)+1,lr=Be*(be-2)+be,dr=Be*(be-1),ur=Be*(3-2*be);return ot[0]=St[0]*Fe+Ot[0]*lr+Zt[0]*dr+le[0]*ur,ot[1]=St[1]*Fe+Ot[1]*lr+Zt[1]*dr+le[1]*ur,ot[2]=St[2]*Fe+Ot[2]*lr+Zt[2]*dr+le[2]*ur,ot}function lt(ot,St,Ot,Zt,le,be){var Be=1-be,Fe=Be*Be,lr=be*be,dr=Fe*Be,ur=3*be*Fe,Tr=3*lr*Be,sr=lr*be;return ot[0]=St[0]*dr+Ot[0]*ur+Zt[0]*Tr+le[0]*sr,ot[1]=St[1]*dr+Ot[1]*ur+Zt[1]*Tr+le[1]*sr,ot[2]=St[2]*dr+Ot[2]*ur+Zt[2]*Tr+le[2]*sr,ot}function gt(ot,St){St=St||1;var Ot=P.RANDOM()*2*Math.PI,Zt=P.RANDOM()*2-1,le=Math.sqrt(1-Zt*Zt)*St;return ot[0]=Math.cos(Ot)*le,ot[1]=Math.sin(Ot)*le,ot[2]=Zt*St,ot}function K(ot,St,Ot){var Zt=St[0],le=St[1],be=St[2],Be=Ot[3]*Zt+Ot[7]*le+Ot[11]*be+Ot[15];return Be=Be||1,ot[0]=(Ot[0]*Zt+Ot[4]*le+Ot[8]*be+Ot[12])/Be,ot[1]=(Ot[1]*Zt+Ot[5]*le+Ot[9]*be+Ot[13])/Be,ot[2]=(Ot[2]*Zt+Ot[6]*le+Ot[10]*be+Ot[14])/Be,ot}function j(ot,St,Ot){var Zt=St[0],le=St[1],be=St[2];return ot[0]=Zt*Ot[0]+le*Ot[3]+be*Ot[6],ot[1]=Zt*Ot[1]+le*Ot[4]+be*Ot[7],ot[2]=Zt*Ot[2]+le*Ot[5]+be*Ot[8],ot}function Z(ot,St,Ot){var Zt=Ot[0],le=Ot[1],be=Ot[2],Be=Ot[3],Fe=St[0],lr=St[1],dr=St[2],ur=le*dr-be*lr,Tr=be*Fe-Zt*dr,sr=Zt*lr-le*Fe,zr=le*sr-be*Tr,fn=be*ur-Zt*sr,Yr=Zt*Tr-le*ur,nn=Be*2;return ur*=nn,Tr*=nn,sr*=nn,zr*=2,fn*=2,Yr*=2,ot[0]=Fe+ur+zr,ot[1]=lr+Tr+fn,ot[2]=dr+sr+Yr,ot}function f(ot,St,Ot,Zt){var le=[],be=[];return le[0]=St[0]-Ot[0],le[1]=St[1]-Ot[1],le[2]=St[2]-Ot[2],be[0]=le[0],be[1]=le[1]*Math.cos(Zt)-le[2]*Math.sin(Zt),be[2]=le[1]*Math.sin(Zt)+le[2]*Math.cos(Zt),ot[0]=be[0]+Ot[0],ot[1]=be[1]+Ot[1],ot[2]=be[2]+Ot[2],ot}function ut(ot,St,Ot,Zt){var le=[],be=[];return le[0]=St[0]-Ot[0],le[1]=St[1]-Ot[1],le[2]=St[2]-Ot[2],be[0]=le[2]*Math.sin(Zt)+le[0]*Math.cos(Zt),be[1]=le[1],be[2]=le[2]*Math.cos(Zt)-le[0]*Math.sin(Zt),ot[0]=be[0]+Ot[0],ot[1]=be[1]+Ot[1],ot[2]=be[2]+Ot[2],ot}function bt(ot,St,Ot,Zt){var le=[],be=[];return le[0]=St[0]-Ot[0],le[1]=St[1]-Ot[1],le[2]=St[2]-Ot[2],be[0]=le[0]*Math.cos(Zt)-le[1]*Math.sin(Zt),be[1]=le[0]*Math.sin(Zt)+le[1]*Math.cos(Zt),be[2]=le[2],ot[0]=be[0]+Ot[0],ot[1]=be[1]+Ot[1],ot[2]=be[2]+Ot[2],ot}function Rt(ot,St){var Ot=A(ot[0],ot[1],ot[2]),Zt=A(St[0],St[1],St[2]);Lt(Ot,Ot),Lt(Zt,Zt);var le=Mt(Ot,Zt);return le>1?0:le<-1?Math.PI:Math.acos(le)}function Vt(ot){return"vec3("+ot[0]+", "+ot[1]+", "+ot[2]+")"}function Ft(ot,St){return ot[0]===St[0]&&ot[1]===St[1]&&ot[2]===St[2]}function Qt(ot,St){var Ot=ot[0],Zt=ot[1],le=ot[2],be=St[0],Be=St[1],Fe=St[2];return Math.abs(Ot-be)<=P.EPSILON*Math.max(1,Math.abs(Ot),Math.abs(be))&&Math.abs(Zt-Be)<=P.EPSILON*Math.max(1,Math.abs(Zt),Math.abs(Be))&&Math.abs(le-Fe)<=P.EPSILON*Math.max(1,Math.abs(le),Math.abs(Fe))}var ae=S.sub=y,ue=S.mul=x,Kt=S.div=m,Bt=S.dist=$,Ct=S.sqrDist=it,pt=S.len=T,Pt=S.sqrLen=nt,ft=S.forEach=function(){var ot=O();return function(St,Ot,Zt,le,be,Be){var Fe=void 0,lr=void 0;for(Ot||(Ot=3),Zt||(Zt=0),le?lr=Math.min(le*Ot+Zt,St.length):lr=St.length,Fe=Zt;Fe<lr;Fe+=Ot)ot[0]=St[Fe],ot[1]=St[Fe+1],ot[2]=St[Fe+2],be(ot,ot,Be),St[Fe]=ot[0],St[Fe+1]=ot[1],St[Fe+2]=ot[2];return St}}()},92640:function(dt,S,d){function b(p,w){p.prototype=Object.create(w.prototype),p.prototype.constructor=p,p.__proto__=w}var P=d(4905),D=d(90390),O=d(30130),L=d(22965),T=function(p){b(w,p);function w(){return p.apply(this,arguments)||this}var y=w.prototype;return y.execute=function(){var m=this;return O(m.rootNode,m.options,D)},w}(P),A={};function E(p,w){return w=L.assign({},A,w),new T(p,w).execute()}dt.exports=E},34542:function(dt,S,d){function b(p,w){p.prototype=Object.create(w.prototype),p.prototype.constructor=p,p.__proto__=w}var P=d(4905),D=d(37133),O=d(30130),L=d(22965),T=function(p){b(w,p);function w(){return p.apply(this,arguments)||this}var y=w.prototype;return y.execute=function(){var m=this;return m.rootNode.width=0,O(m.rootNode,m.options,D)},w}(P),A={};function E(p,w){return w=L.assign({},A,w),new T(p,w).execute()}dt.exports=E},57088:function(dt,S,d){function b(y,x){y.prototype=Object.create(x.prototype),y.prototype.constructor=y,y.__proto__=x}var P=d(4905),D=d(10568),O=d(59286),L=d(22965),T=["LR","RL","H"],A=T[0],E=function(y){b(x,y);function x(){return y.apply(this,arguments)||this}var m=x.prototype;return m.execute=function(){var k=this,R=k.options,N=k.rootNode;R.isHorizontal=!0;var W=R.indent,Q=W===void 0?20:W,H=R.dropCap,$=H===void 0?!0:H,it=R.direction||A;if(it&&T.indexOf(it)===-1)throw new TypeError("Invalid direction: "+it);if(it===T[0])D(N,Q,$);else if(it===T[1])D(N,Q,$),N.right2left();else if(it===T[2]){var nt=O(N,R),wt=nt.left,yt=nt.right;D(wt,Q,$),wt.right2left(),D(yt,Q,$);var Lt=wt.getBoundingBox();yt.translate(Lt.width,0),N.x=yt.x-N.width/2}return N},x}(P),p={};function w(y,x){return x=L.assign({},p,x),new E(y,x).execute()}dt.exports=w},77201:function(dt,S,d){var b={compactBox:d(92640),dendrogram:d(34542),indented:d(57088),mindmap:d(1355)};dt.exports=b},4905:function(dt,S,d){var b=d(27249),P=function(){function D(L,T){T===void 0&&(T={});var A=this;A.options=T,A.rootNode=b(L,T)}var O=D.prototype;return O.execute=function(){throw new Error("please override this method")},D}();dt.exports=P},37133:function(dt,S,d){var b=d(22965);function P(L,T){L===void 0&&(L=0),T===void 0&&(T=[]);var A=this;A.x=A.y=0,A.leftChild=A.rightChild=null,A.height=0,A.children=T}var D={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function O(L,T,A){A?(T.x=L.x,T.y=L.y):(T.x=L.y,T.y=L.x),L.children.forEach(function(E,p){O(E,T.children[p],A)})}dt.exports=function(L,T){T===void 0&&(T={}),T=b.assign({},D,T);var A=0;function E(m){if(!m)return null;m.width=0,m.depth&&m.depth>A&&(A=m.depth);var M=m.children,k=M.length,R=new P(m.height,[]);return M.forEach(function(N,W){var Q=E(N);R.children.push(Q),W===0&&(R.leftChild=Q),W===k-1&&(R.rightChild=Q)}),R.originNode=m,R.isLeaf=m.isLeaf(),R}function p(m){if(m.isLeaf||m.children.length===0)m.drawingDepth=A;else{var M=m.children.map(function(R){return p(R)}),k=Math.min.apply(null,M);m.drawingDepth=k-1}return m.drawingDepth}var w;function y(m){m.x=m.drawingDepth*T.rankSep,m.isLeaf?(m.y=0,w&&(m.y=w.y+w.height+T.nodeSep,m.originNode.parent!==w.originNode.parent&&(m.y+=T.subTreeSep)),w=m):(m.children.forEach(function(M){y(M)}),m.y=(m.leftChild.y+m.rightChild.y)/2)}var x=E(L);return p(x),y(x),O(x,L,T.isHorizontal),L}},30130:function(dt,S,d){var b=d(59286),P=["LR","RL","TB","BT","H","V"],D=["LR","RL","H"],O=function(A){return D.indexOf(A)>-1},L=P[0];dt.exports=function(T,A,E){var p=A.direction||L;if(A.isHorizontal=O(p),p&&P.indexOf(p)===-1)throw new TypeError("Invalid direction: "+p);if(p===P[0])E(T,A);else if(p===P[1])E(T,A),T.right2left();else if(p===P[2])E(T,A);else if(p===P[3])E(T,A),T.bottom2top();else if(p===P[4]||p===P[5]){var w=b(T,A),y=w.left,x=w.right;E(y,A),E(x,A),A.isHorizontal?y.right2left():y.bottom2top(),x.translate(y.x-x.x,y.y-x.y),T.x=y.x,T.y=x.y;var m=T.getBoundingBox();A.isHorizontal?m.top<0&&T.translate(0,-m.top):m.left<0&&T.translate(-m.left,0)}var M=A.fixedRoot;return M===void 0&&(M=!0),M&&T.translate(-(T.x+T.width/2+T.hgap),-(T.y+T.height/2+T.vgap)),T}},27249:function(dt,S,d){var b=d(22965),P=18,D=P*2,O=P,L={getId:function(p){return p.id||p.name},getPreH:function(p){return p.preH||0},getPreV:function(p){return p.preV||0},getHGap:function(p){return p.hgap||O},getVGap:function(p){return p.vgap||O},getChildren:function(p){return p.children},getHeight:function(p){return p.height||D},getWidth:function(p){var w=p.label||" ";return p.width||w.split("").length*P}};function T(E,p){var w=this;if(w.vgap=w.hgap=0,E instanceof T)return E;w.data=E;var y=p.getHGap(E),x=p.getVGap(E);return w.preH=p.getPreH(E),w.preV=p.getPreV(E),w.width=p.getWidth(E),w.height=p.getHeight(E),w.width+=w.preH,w.height+=w.preV,w.id=p.getId(E),w.x=w.y=0,w.depth=0,w.children||(w.children=[]),w.addGap(y,x),w}b.assign(T.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(p,w){var y=this;y.hgap+=p,y.vgap+=w,y.width+=2*p,y.height+=2*w},eachNode:function(p){for(var w=this,y=[w],x;x=y.shift();)p(x),y=x.children.concat(y)},DFTraverse:function(p){this.eachNode(p)},BFTraverse:function(p){for(var w=this,y=[w],x;x=y.shift();)p(x),y=y.concat(x.children)},getBoundingBox:function(){var p={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(w){p.left=Math.min(p.left,w.x),p.top=Math.min(p.top,w.y),p.width=Math.max(p.width,w.x+w.width),p.height=Math.max(p.height,w.y+w.height)}),p},translate:function(p,w){p===void 0&&(p=0),w===void 0&&(w=0),this.eachNode(function(y){y.x+=p,y.y+=w,y.x+=y.preH,y.y+=y.preV})},right2left:function(){var p=this,w=p.getBoundingBox();p.eachNode(function(y){y.x=y.x-(y.x-w.left)*2-y.width}),p.translate(w.width,0)},bottom2top:function(){var p=this,w=p.getBoundingBox();p.eachNode(function(y){y.y=y.y-(y.y-w.top)*2-y.height}),p.translate(0,w.height)}});function A(E,p,w){p===void 0&&(p={}),p=b.assign({},L,p);var y=new T(E,p),x=[y],m;if(!w&&!E.collapsed){for(;m=x.shift();)if(!m.data.collapsed){var M=p.getChildren(m.data),k=M?M.length:0;if(m.children=new Array(k),M&&k)for(var R=0;R<k;R++){var N=new T(M[R],p);m.children[R]=N,x.push(N),N.parent=m,N.depth=m.depth+1}}}return y}dt.exports=A},10568:function(dt){function S(d,b,P,D){var O=typeof P=="function"?P(d):P*d.depth;if(!D)try{if(d.id===d.parent.children[0].id){d.x+=O,d.y=b?b.y:0;return}}catch(L){}d.x+=O,d.y=b?b.y+b.height:0}dt.exports=function(d,b,P){var D=null;d.eachNode(function(O){S(O,D,b,P),D=O})}},24461:function(dt,S,d){var b=d(22965);function P(L,T){var A=0;return L.children.length?L.children.forEach(function(E){A+=P(E,T)}):A=L.height,L._subTreeSep=T.getSubTreeSep(L.data),L.totalHeight=Math.max(L.height,A)+2*L._subTreeSep,L.totalHeight}function D(L){var T=L.children,A=T.length;if(A){T.forEach(function(m){D(m)});var E=T[0],p=T[A-1],w=p.y-E.y+p.height,y=0;if(T.forEach(function(m){y+=m.totalHeight}),w>L.height)L.y=E.y+w/2-L.height/2;else if(T.length!==1||L.height>y){var x=L.y+(L.height-w)/2-E.y;T.forEach(function(m){m.translate(0,x)})}else L.y=(E.y+E.height/2+p.y+p.height/2)/2-L.height/2}}var O={getSubTreeSep:function(){return 0}};dt.exports=function(L,T){T===void 0&&(T={}),T=b.assign({},O,T),L.parent={x:0,width:0,height:0,y:0},L.BFTraverse(function(A){A.x=A.parent.x+A.parent.width}),L.parent=null,P(L,T),L.startY=0,L.y=L.totalHeight/2-L.height/2,L.eachNode(function(A){var E=A.children,p=E.length;if(p){var w=E[0];if(w.startY=A.startY+A._subTreeSep,p===1)w.y=A.y+A.height/2-w.height/2;else{w.y=w.startY+w.totalHeight/2-w.height/2;for(var y=1;y<p;y++){var x=E[y];x.startY=E[y-1].startY+E[y-1].totalHeight,x.y=x.startY+x.totalHeight/2-x.height/2}}}}),D(L)}},90390:function(dt){function S(L,T,A,E){E===void 0&&(E=[]);var p=this;p.w=L||0,p.h=T||0,p.y=A||0,p.x=0,p.c=E||[],p.cs=E.length,p.prelim=0,p.mod=0,p.shift=0,p.change=0,p.tl=null,p.tr=null,p.el=null,p.er=null,p.msel=0,p.mser=0}S.fromNode=function(L,T){if(!L)return null;var A=[];return L.children.forEach(function(E){A.push(S.fromNode(E,T))}),T?new S(L.height,L.width,L.x,A):new S(L.width,L.height,L.y,A)};function d(L,T,A){A?L.y+=T:L.x+=T,L.children.forEach(function(E){d(E,T,A)})}function b(L,T){var A=T?L.y:L.x;return L.children.forEach(function(E){A=Math.min(b(E,T),A)}),A}function P(L,T){var A=b(L,T);d(L,-A,T)}function D(L,T,A){A?T.y=L.x:T.x=L.x,L.c.forEach(function(E,p){D(E,T.children[p],A)})}function O(L,T,A){A===void 0&&(A=0),T?(L.x=A,A+=L.width):(L.y=A,A+=L.height),L.children.forEach(function(E){O(E,T,A)})}dt.exports=function(L,T){T===void 0&&(T={});var A=T.isHorizontal;function E(nt){if(nt.cs===0){p(nt);return}E(nt.c[0]);for(var wt=$(M(nt.c[0].el),0,null),yt=1;yt<nt.cs;++yt){E(nt.c[yt]);var Lt=M(nt.c[yt].er);w(nt,yt,wt),wt=$(Lt,yt,wt)}N(nt),p(nt)}function p(nt){nt.cs===0?(nt.el=nt,nt.er=nt,nt.msel=nt.mser=0):(nt.el=nt.c[0].el,nt.msel=nt.c[0].msel,nt.er=nt.c[nt.cs-1].er,nt.mser=nt.c[nt.cs-1].mser)}function w(nt,wt,yt){for(var Lt=nt.c[wt-1],Mt=Lt.mod,J=nt.c[wt],tt=J.mod;Lt!==null&&J!==null;){M(Lt)>yt.low&&(yt=yt.nxt);var q=Mt+Lt.prelim+Lt.w-(tt+J.prelim);q>0&&(tt+=q,y(nt,wt,yt.index,q));var lt=M(Lt),gt=M(J);lt<=gt&&(Lt=m(Lt),Lt!==null&&(Mt+=Lt.mod)),lt>=gt&&(J=x(J),J!==null&&(tt+=J.mod))}!Lt&&!!J?k(nt,wt,J,tt):!!Lt&&!J&&R(nt,wt,Lt,Mt)}function y(nt,wt,yt,Lt){nt.c[wt].mod+=Lt,nt.c[wt].msel+=Lt,nt.c[wt].mser+=Lt,Q(nt,wt,yt,Lt)}function x(nt){return nt.cs===0?nt.tl:nt.c[0]}function m(nt){return nt.cs===0?nt.tr:nt.c[nt.cs-1]}function M(nt){return nt.y+nt.h}function k(nt,wt,yt,Lt){var Mt=nt.c[0].el;Mt.tl=yt;var J=Lt-yt.mod-nt.c[0].msel;Mt.mod+=J,Mt.prelim-=J,nt.c[0].el=nt.c[wt].el,nt.c[0].msel=nt.c[wt].msel}function R(nt,wt,yt,Lt){var Mt=nt.c[wt].er;Mt.tr=yt;var J=Lt-yt.mod-nt.c[wt].mser;Mt.mod+=J,Mt.prelim-=J,nt.c[wt].er=nt.c[wt-1].er,nt.c[wt].mser=nt.c[wt-1].mser}function N(nt){nt.prelim=(nt.c[0].prelim+nt.c[0].mod+nt.c[nt.cs-1].mod+nt.c[nt.cs-1].prelim+nt.c[nt.cs-1].w)/2-nt.w/2}function W(nt,wt){wt+=nt.mod,nt.x=nt.prelim+wt,H(nt);for(var yt=0;yt<nt.cs;yt++)W(nt.c[yt],wt)}function Q(nt,wt,yt,Lt){if(yt!==wt-1){var Mt=wt-yt;nt.c[yt+1].shift+=Lt/Mt,nt.c[wt].shift-=Lt/Mt,nt.c[wt].change-=Lt-Lt/Mt}}function H(nt){for(var wt=0,yt=0,Lt=0;Lt<nt.cs;Lt++)wt+=nt.c[Lt].shift,yt+=wt+nt.c[Lt].change,nt.c[Lt].mod+=yt}function $(nt,wt,yt){for(;yt!==null&&nt>=yt.low;)yt=yt.nxt;return{low:nt,index:wt,nxt:yt}}O(L,A);var it=S.fromNode(L,A);return E(it),W(it,0),D(it,L,A),P(L,A),L}},59286:function(dt,S,d){var b=d(27249);dt.exports=function(P,D){for(var O=b(P.data,D,!0),L=b(P.data,D,!0),T=P.children.length,A=Math.round(T/2),E=D.getSide||function(x,m){return m<A?"right":"left"},p=0;p<T;p++){var w=P.children[p],y=E(w,p);y==="right"?L.children.push(w):O.children.push(w)}return O.eachNode(function(x){x.isRoot()||(x.side="left")}),L.eachNode(function(x){x.isRoot()||(x.side="right")}),{left:O,right:L}}},1355:function(dt,S,d){function b(p,w){p.prototype=Object.create(w.prototype),p.prototype.constructor=p,p.__proto__=w}var P=d(4905),D=d(24461),O=d(30130),L=d(22965),T=function(p){b(w,p);function w(){return p.apply(this,arguments)||this}var y=w.prototype;return y.execute=function(){var m=this;return O(m.rootNode,m.options,D)},w}(P),A={};function E(p,w){return w=L.assign({},A,w),new T(p,w).execute()}dt.exports=E},22965:function(dt,S,d){var b=d(49242),P=b.mix;dt.exports={assign:P}},31506:function(dt,S,d){"use strict";d.r(S),d.d(S,{leftTranslate:function(){return D},leftRotate:function(){return O},leftScale:function(){return L},transform:function(){return A},direction:function(){return E},angleTo:function(){return p},vertical:function(){return w}});var b=d(35600),P=d(31437);function D(y,x,m){var M=[0,0,0,0,0,0,0,0,0];return b.fromTranslation(M,m),b.multiply(y,M,x)}function O(y,x,m){var M=[0,0,0,0,0,0,0,0,0];return b.fromRotation(M,m),b.multiply(y,M,x)}function L(y,x,m){var M=[0,0,0,0,0,0,0,0,0];return b.fromScaling(M,m),b.multiply(y,M,x)}function T(y,x,m){return b.multiply(y,m,x)}function A(y,x){for(var m=y?[].concat(y):[1,0,0,0,1,0,0,0,1],M=0,k=x.length;M<k;M++){var R=x[M];switch(R[0]){case"t":D(m,m,[R[1],R[2]]);break;case"s":L(m,m,[R[1],R[2]]);break;case"r":O(m,m,R[1]);break;case"m":T(m,m,R[1]);break;default:break}}return m}function E(y,x){return y[0]*x[1]-x[0]*y[1]}function p(y,x,m){var M=P.angle(y,x),k=E(y,x)>=0;return m?k?Math.PI*2-M:M:k?M:Math.PI*2-M}function w(y,x,m){return m?(y[0]=x[1],y[1]=-1*x[0]):(y[0]=-1*x[1],y[1]=x[0]),y}},43567:function(dt,S,d){"use strict";d.r(S),d.d(S,{mat3:function(){return b},vec2:function(){return P},vec3:function(){return D},ext:function(){return O}});var b=d(35600),P=d(31437),D=d(77160),O=d(31506)},57350:function(dt,S,d){"use strict";d.r(S),d.d(S,{catmullRom2Bezier:function(){return p},fillPath:function(){return m},fillPathByDiff:function(){return R},formatPath:function(){return Q},getArcParams:function(){return Fe},getLineIntersect:function(){return Tr},isPointInPolygon:function(){return Yr},isPolygonsIntersect:function(){return bi},parsePath:function(){return L},parsePathArray:function(){return Ot},parsePathString:function(){return wt},path2Absolute:function(){return Mt},path2Curve:function(){return bt},path2Segments:function(){return dr},pathIntersection:function(){return ot},reactPath:function(){return H}});var b=d(49242),P=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,D=/[^\s\,]+/ig;function O(Xt){var Jt=Xt||[];if((0,b.isArray)(Jt))return Jt;if((0,b.isString)(Jt))return Jt=Jt.match(P),(0,b.each)(Jt,function(oe,fe){if(oe=oe.match(D),oe[0].length>1){var xe=oe[0].charAt(0);oe.splice(1,0,oe[0].substr(1)),oe[0]=xe}(0,b.each)(oe,function(Se,Me){isNaN(Se)||(oe[Me]=+Se)}),Jt[fe]=oe}),Jt}var L=O,T=d(31437);function A(Xt,Jt,oe,fe){var xe=[],Se=!!fe,Me,_e,me,Ue,Ne,er,hr;if(Se){me=fe[0],Ue=fe[1];for(var nr=0,fr=Xt.length;nr<fr;nr+=1){var or=Xt[nr];me=T.min([0,0],me,or),Ue=T.max([0,0],Ue,or)}}for(var nr=0,br=Xt.length;nr<br;nr+=1){var or=Xt[nr];if(nr===0&&!oe)hr=or;else if(nr===br-1&&!oe)er=or,xe.push(hr),xe.push(er);else{var We=[nr?nr-1:br-1,nr-1][oe?0:1];Me=Xt[We],_e=Xt[oe?(nr+1)%br:nr+1];var Cr=[0,0];Cr=T.sub(Cr,_e,Me),Cr=T.scale(Cr,Cr,Jt);var Lr=T.distance(or,Me),Pr=T.distance(or,_e),Br=Lr+Pr;Br!==0&&(Lr/=Br,Pr/=Br);var Hr=T.scale([0,0],Cr,-Lr),Wr=T.scale([0,0],Cr,Pr);er=T.add([0,0],or,Hr),Ne=T.add([0,0],or,Wr),Ne=T.min([0,0],Ne,T.max([0,0],_e,or)),Ne=T.max([0,0],Ne,T.min([0,0],_e,or)),Hr=T.sub([0,0],Ne,or),Hr=T.scale([0,0],Hr,-Lr/Pr),er=T.add([0,0],or,Hr),er=T.min([0,0],er,T.max([0,0],Me,or)),er=T.max([0,0],er,T.min([0,0],Me,or)),Wr=T.sub([0,0],or,er),Wr=T.scale([0,0],Wr,Pr/Lr),Ne=T.add([0,0],or,Wr),Se&&(er=T.max([0,0],er,me),er=T.min([0,0],er,Ue),Ne=T.max([0,0],Ne,me),Ne=T.min([0,0],Ne,Ue)),xe.push(hr),xe.push(er),hr=Ne}}return oe&&xe.push(xe.shift()),xe}function E(Xt,Jt,oe){Jt===void 0&&(Jt=!1),oe===void 0&&(oe=[[0,0],[1,1]]);for(var fe=!!Jt,xe=[],Se=0,Me=Xt.length;Se<Me;Se+=2)xe.push([Xt[Se],Xt[Se+1]]);for(var _e=A(xe,.4,fe,oe),me=xe.length,Ue=[],Ne,er,hr,Se=0;Se<me-1;Se+=1)Ne=_e[Se*2],er=_e[Se*2+1],hr=xe[Se+1],Ue.push(["C",Ne[0],Ne[1],er[0],er[1],hr[0],hr[1]]);return fe&&(Ne=_e[me],er=_e[me+1],hr=xe[0],Ue.push(["C",Ne[0],Ne[1],er[0],er[1],hr[0],hr[1]])),Ue}var p=E;function w(Xt,Jt){var oe=[],fe=[];function xe(Se,Me){if(Se.length===1)oe.push(Se[0]),fe.push(Se[0]);else{for(var _e=[],me=0;me<Se.length-1;me++)me===0&&oe.push(Se[0]),me===Se.length-2&&fe.push(Se[me+1]),_e[me]=[(1-Me)*Se[me][0]+Me*Se[me+1][0],(1-Me)*Se[me][1]+Me*Se[me+1][1]];xe(_e,Me)}}return Xt.length&&xe(Xt,Jt),{left:oe,right:fe.reverse()}}function y(Xt,Jt,oe){var fe=[[Xt[1],Xt[2]]];oe=oe||2;var xe=[];Jt[0]==="A"?(fe.push(Jt[6]),fe.push(Jt[7])):Jt[0]==="C"?(fe.push([Jt[1],Jt[2]]),fe.push([Jt[3],Jt[4]]),fe.push([Jt[5],Jt[6]])):Jt[0]==="S"||Jt[0]==="Q"?(fe.push([Jt[1],Jt[2]]),fe.push([Jt[3],Jt[4]])):fe.push([Jt[1],Jt[2]]);for(var Se=fe,Me=1/oe,_e=0;_e<oe-1;_e++){var me=Me/(1-Me*_e),Ue=w(Se,me);xe.push(Ue.left),Se=Ue.right}xe.push(Se);var Ne=xe.map(function(er){var hr=[];return er.length===4&&(hr.push("C"),hr=hr.concat(er[2])),er.length>=3&&(er.length===3&&hr.push("Q"),hr=hr.concat(er[1])),er.length===2&&hr.push("L"),hr=hr.concat(er[er.length-1]),hr});return Ne}function x(Xt,Jt,oe){if(oe===1)return[[].concat(Xt)];var fe=[];if(Jt[0]==="L"||Jt[0]==="C"||Jt[0]==="Q")fe=fe.concat(y(Xt,Jt,oe));else{var xe=[].concat(Xt);xe[0]==="M"&&(xe[0]="L");for(var Se=0;Se<=oe-1;Se++)fe.push(xe)}return fe}function m(Xt,Jt){if(Xt.length===1)return Xt;var oe=Xt.length-1,fe=Jt.length-1,xe=oe/fe,Se=[];if(Xt.length===1&&Xt[0][0]==="M"){for(var Me=0;Me<fe-oe;Me++)Xt.push(Xt[0]);return Xt}for(var Me=0;Me<fe;Me++){var _e=Math.floor(xe*Me);Se[_e]=(Se[_e]||0)+1}var me=Se.reduce(function(Ue,Ne,er){return er===oe?Ue.concat(Xt[oe]):Ue.concat(x(Xt[er],Xt[er+1],Ne))},[]);return me.unshift(Xt[0]),(Jt[fe]==="Z"||Jt[fe]==="z")&&me.push("Z"),me}function M(Xt,Jt,oe){var fe=null,xe=oe;return Jt<xe&&(xe=Jt,fe="add"),Xt<xe&&(xe=Xt,fe="del"),{type:fe,min:xe}}var k=function(Xt,Jt){var oe=Xt.length,fe=Jt.length,xe,Se,Me=0;if(oe===0||fe===0)return null;for(var _e=[],me=0;me<=oe;me++)_e[me]=[],_e[me][0]={min:me};for(var Ue=0;Ue<=fe;Ue++)_e[0][Ue]={min:Ue};for(var me=1;me<=oe;me++){xe=Xt[me-1];for(var Ue=1;Ue<=fe;Ue++){Se=Jt[Ue-1],(0,b.isEqual)(xe,Se)?Me=0:Me=1;var Ne=_e[me-1][Ue].min+1,er=_e[me][Ue-1].min+1,hr=_e[me-1][Ue-1].min+Me;_e[me][Ue]=M(Ne,er,hr)}}return _e};function R(Xt,Jt){var oe=k(Xt,Jt),fe=Xt.length,xe=Jt.length,Se=[],Me=1,_e=1;if(oe[fe][xe]!==fe){for(var me=1;me<=fe;me++){var Ue=oe[me][me].min;_e=me;for(var Ne=Me;Ne<=xe;Ne++)oe[me][Ne].min<Ue&&(Ue=oe[me][Ne].min,_e=Ne);Me=_e,oe[me][Me].type&&Se.push({index:me-1,type:oe[me][Me].type})}for(var me=Se.length-1;me>=0;me--)Me=Se[me].index,Se[me].type==="add"?Xt.splice(Me,0,[].concat(Xt[Me])):Xt.splice(Me,1)}if(fe=Xt.length,fe<xe)for(var me=0;me<xe-fe;me++)Xt[fe-1][0]==="z"||Xt[fe-1][0]==="Z"?Xt.splice(fe-2,0,Xt[fe-2]):Xt.push(Xt[fe-1]);return Xt}function N(Xt){var Jt=[];switch(Xt[0]){case"M":Jt.push([Xt[1],Xt[2]]);break;case"L":Jt.push([Xt[1],Xt[2]]);break;case"A":Jt.push([Xt[6],Xt[7]]);break;case"Q":Jt.push([Xt[3],Xt[4]]),Jt.push([Xt[1],Xt[2]]);break;case"T":Jt.push([Xt[1],Xt[2]]);break;case"C":Jt.push([Xt[5],Xt[6]]),Jt.push([Xt[1],Xt[2]]),Jt.push([Xt[3],Xt[4]]);break;case"S":Jt.push([Xt[3],Xt[4]]),Jt.push([Xt[1],Xt[2]]);break;case"H":Jt.push([Xt[1],Xt[1]]);break;case"V":Jt.push([Xt[1],Xt[1]]);break;default:}return Jt}function W(Xt,Jt,oe){for(var fe=[].concat(Xt),xe,Se=1/(oe+1),Me=N(Jt)[0],_e=1;_e<=oe;_e++)Se*=_e,xe=Math.floor(Xt.length*Se),xe===0?fe.unshift([Me[0]*Se+Xt[xe][0]*(1-Se),Me[1]*Se+Xt[xe][1]*(1-Se)]):fe.splice(xe,0,[Me[0]*Se+Xt[xe][0]*(1-Se),Me[1]*Se+Xt[xe][1]*(1-Se)]);return fe}function Q(Xt,Jt){if(Xt.length<=1)return Xt;for(var oe,fe=0;fe<Jt.length;fe++)if(Xt[fe][0]!==Jt[fe][0])switch(oe=N(Xt[fe]),Jt[fe][0]){case"M":Xt[fe]=["M"].concat(oe[0]);break;case"L":Xt[fe]=["L"].concat(oe[0]);break;case"A":Xt[fe]=[].concat(Jt[fe]),Xt[fe][6]=oe[0][0],Xt[fe][7]=oe[0][1];break;case"Q":if(oe.length<2)if(fe>0)oe=W(oe,Xt[fe-1],1);else{Xt[fe]=Jt[fe];break}Xt[fe]=["Q"].concat(oe.reduce(function(xe,Se){return xe.concat(Se)},[]));break;case"T":Xt[fe]=["T"].concat(oe[0]);break;case"C":if(oe.length<3)if(fe>0)oe=W(oe,Xt[fe-1],2);else{Xt[fe]=Jt[fe];break}Xt[fe]=["C"].concat(oe.reduce(function(xe,Se){return xe.concat(Se)},[]));break;case"S":if(oe.length<2)if(fe>0)oe=W(oe,Xt[fe-1],1);else{Xt[fe]=Jt[fe];break}Xt[fe]=["S"].concat(oe.reduce(function(xe,Se){return xe.concat(Se)},[]));break;default:Xt[fe]=Jt[fe]}return Xt}function H(Xt,Jt,oe,fe,xe){return xe?[["M",+Xt+ +xe,Jt],["l",oe-xe*2,0],["a",xe,xe,0,0,1,xe,xe],["l",0,fe-xe*2],["a",xe,xe,0,0,1,-xe,xe],["l",xe*2-oe,0],["a",xe,xe,0,0,1,-xe,-xe],["l",0,xe*2-fe],["a",xe,xe,0,0,1,xe,-xe],["z"]]:[["M",Xt,Jt],["l",oe,0],["l",0,fe],["l",-oe,0],["z"]]}var $=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,it=new RegExp("([a-z])["+$+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+$+"]*,?["+$+"]*)+)","ig"),nt=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+$+"]*,?["+$+"]*","ig");function wt(Xt){if(!Xt)return null;if((0,b.isArray)(Xt))return Xt;var Jt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},oe=[];return String(Xt).replace(it,function(fe,xe,Se){var Me=[],_e=xe.toLowerCase();if(Se.replace(nt,function(me,Ue){Ue&&Me.push(+Ue)}),_e==="m"&&Me.length>2&&(oe.push([xe].concat(Me.splice(0,2))),_e="l",xe=xe==="m"?"l":"L"),_e==="o"&&Me.length===1&&oe.push([xe,Me[0]]),_e==="r")oe.push([xe].concat(Me));else for(;Me.length>=Jt[_e]&&(oe.push([xe].concat(Me.splice(0,Jt[_e]))),!!Jt[_e]););return""}),oe}var yt=/[a-z]/;function Lt(Xt,Jt){return[Jt[0]+(Jt[0]-Xt[0]),Jt[1]+(Jt[1]-Xt[1])]}function Mt(Xt){var Jt=wt(Xt);if(!Jt||!Jt.length)return[["M",0,0]];for(var oe=!1,fe=0;fe<Jt.length;fe++){var xe=Jt[fe][0];if(yt.test(xe)||["V","H","T","S"].indexOf(xe)>=0){oe=!0;break}}if(!oe)return Jt;var Se=[],Me=0,_e=0,me=0,Ue=0,Ne=0,er,hr,nr=Jt[0];(nr[0]==="M"||nr[0]==="m")&&(Me=+nr[1],_e=+nr[2],me=Me,Ue=_e,Ne++,Se[0]=["M",Me,_e]);for(var fe=Ne,fr=Jt.length;fe<fr;fe++){var or=Jt[fe],br=Se[fe-1],We=[],xe=or[0],Cr=xe.toUpperCase();if(xe!==Cr)switch(We[0]=Cr,Cr){case"A":We[1]=or[1],We[2]=or[2],We[3]=or[3],We[4]=or[4],We[5]=or[5],We[6]=+or[6]+Me,We[7]=+or[7]+_e;break;case"V":We[1]=+or[1]+_e;break;case"H":We[1]=+or[1]+Me;break;case"M":me=+or[1]+Me,Ue=+or[2]+_e,We[1]=me,We[2]=Ue;break;default:for(var Lr=1,Pr=or.length;Lr<Pr;Lr++)We[Lr]=+or[Lr]+(Lr%2?Me:_e)}else We=Jt[fe];switch(Cr){case"Z":Me=+me,_e=+Ue;break;case"H":Me=We[1],We=["L",Me,_e];break;case"V":_e=We[1],We=["L",Me,_e];break;case"T":Me=We[1],_e=We[2];var Br=Lt([br[1],br[2]],[br[3],br[4]]);We=["Q",Br[0],Br[1],Me,_e];break;case"S":Me=We[We.length-2],_e=We[We.length-1];var Hr=br.length,Wr=Lt([br[Hr-4],br[Hr-3]],[br[Hr-2],br[Hr-1]]);We=["C",Wr[0],Wr[1],We[1],We[2],Me,_e];break;case"M":me=We[We.length-2],Ue=We[We.length-1];break;default:Me=We[We.length-2],_e=We[We.length-1]}Se.push(We)}return Se}var J=Math.PI*2,tt=function(Xt,Jt,oe,fe,xe,Se,Me){var _e=Xt.x,me=Xt.y;_e*=Jt,me*=oe;var Ue=fe*_e-xe*me,Ne=xe*_e+fe*me;return{x:Ue+Se,y:Ne+Me}},q=function(Xt,Jt){var oe=Jt===1.5707963267948966?.551915024494:Jt===-1.5707963267948966?-.551915024494:4/3*Math.tan(Jt/4),fe=Math.cos(Xt),xe=Math.sin(Xt),Se=Math.cos(Xt+Jt),Me=Math.sin(Xt+Jt);return[{x:fe-xe*oe,y:xe+fe*oe},{x:Se+Me*oe,y:Me-Se*oe},{x:Se,y:Me}]},lt=function(Xt,Jt,oe,fe){var xe=Xt*fe-Jt*oe<0?-1:1,Se=Xt*oe+Jt*fe;return Se>1&&(Se=1),Se<-1&&(Se=-1),xe*Math.acos(Se)},gt=function(Xt,Jt,oe,fe,xe,Se,Me,_e,me,Ue,Ne,er){var hr=Math.pow(xe,2),nr=Math.pow(Se,2),fr=Math.pow(Ne,2),or=Math.pow(er,2),br=hr*nr-hr*or-nr*fr;br<0&&(br=0),br/=hr*or+nr*fr,br=Math.sqrt(br)*(Me===_e?-1:1);var We=br*xe/Se*er,Cr=br*-Se/xe*Ne,Lr=Ue*We-me*Cr+(Xt+oe)/2,Pr=me*We+Ue*Cr+(Jt+fe)/2,Br=(Ne-We)/xe,Hr=(er-Cr)/Se,Wr=(-Ne-We)/xe,Nn=(-er-Cr)/Se,tn=lt(1,0,Br,Hr),Xn=lt(Br,Hr,Wr,Nn);return _e===0&&Xn>0&&(Xn-=J),_e===1&&Xn<0&&(Xn+=J),[Lr,Pr,tn,Xn]},K=function(Xt){var Jt=Xt.px,oe=Xt.py,fe=Xt.cx,xe=Xt.cy,Se=Xt.rx,Me=Xt.ry,_e=Xt.xAxisRotation,me=_e===void 0?0:_e,Ue=Xt.largeArcFlag,Ne=Ue===void 0?0:Ue,er=Xt.sweepFlag,hr=er===void 0?0:er,nr=[];if(Se===0||Me===0)return[{x1:0,y1:0,x2:0,y2:0,x:fe,y:xe}];var fr=Math.sin(me*J/360),or=Math.cos(me*J/360),br=or*(Jt-fe)/2+fr*(oe-xe)/2,We=-fr*(Jt-fe)/2+or*(oe-xe)/2;if(br===0&&We===0)return[{x1:0,y1:0,x2:0,y2:0,x:fe,y:xe}];Se=Math.abs(Se),Me=Math.abs(Me);var Cr=Math.pow(br,2)/Math.pow(Se,2)+Math.pow(We,2)/Math.pow(Me,2);Cr>1&&(Se*=Math.sqrt(Cr),Me*=Math.sqrt(Cr));var Lr=gt(Jt,oe,fe,xe,Se,Me,Ne,hr,fr,or,br,We),Pr=Lr[0],Br=Lr[1],Hr=Lr[2],Wr=Lr[3],Nn=Math.abs(Wr)/(J/4);Math.abs(1-Nn)<1e-7&&(Nn=1);var tn=Math.max(Math.ceil(Nn),1);Wr/=tn;for(var Xn=0;Xn<tn;Xn++)nr.push(q(Hr,Wr)),Hr+=Wr;return nr.map(function(ui){var Zn=tt(ui[0],Se,Me,or,fr,Pr,Br),wi=Zn.x,Si=Zn.y,Ir=tt(ui[1],Se,Me,or,fr,Pr,Br),fi=Ir.x,Pi=Ir.y,hi=tt(ui[2],Se,Me,or,fr,Pr,Br),xn=hi.x,ci=hi.y;return{x1:wi,y1:Si,x2:fi,y2:Pi,x:xn,y:ci}})};function j(Xt,Jt,oe,fe,xe,Se,Me,_e,me){var Ue=K({px:Xt,py:Jt,cx:_e,cy:me,rx:oe,ry:fe,xAxisRotation:xe,largeArcFlag:Se,sweepFlag:Me});return Ue.reduce(function(Ne,er){var hr=er.x1,nr=er.y1,fr=er.x2,or=er.y2,br=er.x,We=er.y;return Ne.push(hr,nr,fr,or,br,We),Ne},[])}function Z(Xt,Jt,oe,fe,xe,Se){var Me=1/3,_e=2/3;return[Me*Xt+_e*oe,Me*Jt+_e*fe,Me*xe+_e*oe,Me*Se+_e*fe,xe,Se]}function f(Xt,Jt,oe,fe){return[Xt,Jt,oe,fe,oe,fe]}function ut(Xt,Jt){"TQ".indexOf(Xt[0])<0&&(Jt.qx=null,Jt.qy=null);var oe=Xt.slice(1),fe=oe[0],xe=oe[1];switch(Xt[0]){case"M":return Jt.x=fe,Jt.y=xe,Xt;case"A":return["C"].concat(j.apply(0,[Jt.x1,Jt.y1].concat(Xt.slice(1))));case"Q":return Jt.qx=fe,Jt.qy=xe,["C"].concat(Z.apply(0,[Jt.x1,Jt.y1].concat(Xt.slice(1))));case"L":return["C"].concat(f(Jt.x1,Jt.y1,Xt[1],Xt[2]));case"H":return["C"].concat(f(Jt.x1,Jt.y1,Xt[1],Jt.y1));case"V":return["C"].concat(f(Jt.x1,Jt.y1,Jt.x1,Xt[1]));case"Z":return["C"].concat(f(Jt.x1,Jt.y1,Jt.x,Jt.y));default:}return Xt}function bt(Xt,Jt){Jt===void 0&&(Jt=!1);for(var oe=Mt(Xt),fe={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},xe=[],Se="",Me=oe.length,_e,me,Ue=[],Ne=0;Ne<Me;Ne+=1)oe[Ne]&&(Se=oe[Ne][0]),xe[Ne]=Se,oe[Ne]=ut(oe[Ne],fe),Rt(oe,xe,Ne),Me=oe.length,Se==="Z"&&Ue.push(Ne),_e=oe[Ne],me=_e.length,fe.x1=+_e[me-2],fe.y1=+_e[me-1],fe.x2=+_e[me-4]||fe.x1,fe.y2=+_e[me-3]||fe.y1;return Jt?[oe,Ue]:oe}function Rt(Xt,Jt,oe){if(Xt[oe].length>7){Xt[oe].shift();for(var fe=Xt[oe],xe=oe;fe.length;)Jt[oe]="A",Xt.splice(xe+=1,0,["C"].concat(fe.splice(0,6)));Xt.splice(oe,1)}}var Vt=function(Xt,Jt,oe,fe,xe){var Se=-3*Jt+9*oe-9*fe+3*xe,Me=Xt*Se+6*Jt-12*oe+6*fe;return Xt*Me-3*Jt+3*oe},Ft=function(Xt,Jt,oe,fe,xe,Se,Me,_e,me){me===null&&(me=1),me=me>1?1:me<0?0:me;for(var Ue=me/2,Ne=12,er=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],hr=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],nr=0,fr=0;fr<Ne;fr++){var or=Ue*er[fr]+Ue,br=Vt(or,Xt,oe,xe,Me),We=Vt(or,Jt,fe,Se,_e),Cr=br*br+We*We;nr+=hr[fr]*Math.sqrt(Cr)}return Ue*nr},Qt=function(Xt,Jt,oe,fe,xe,Se,Me,_e){for(var me=[],Ue=[[],[]],Ne,er,hr,nr,fr=0;fr<2;++fr){if(fr===0?(er=6*Xt-12*oe+6*xe,Ne=-3*Xt+9*oe-9*xe+3*Me,hr=3*oe-3*Xt):(er=6*Jt-12*fe+6*Se,Ne=-3*Jt+9*fe-9*Se+3*_e,hr=3*fe-3*Jt),Math.abs(Ne)<1e-12){if(Math.abs(er)<1e-12)continue;nr=-hr/er,nr>0&&nr<1&&me.push(nr);continue}var or=er*er-4*hr*Ne,br=Math.sqrt(or);if(!(or<0)){var We=(-er+br)/(2*Ne);We>0&&We<1&&me.push(We);var Cr=(-er-br)/(2*Ne);Cr>0&&Cr<1&&me.push(Cr)}}for(var Lr=me.length,Pr=Lr,Br;Lr--;)nr=me[Lr],Br=1-nr,Ue[0][Lr]=Br*Br*Br*Xt+3*Br*Br*nr*oe+3*Br*nr*nr*xe+nr*nr*nr*Me,Ue[1][Lr]=Br*Br*Br*Jt+3*Br*Br*nr*fe+3*Br*nr*nr*Se+nr*nr*nr*_e;return Ue[0][Pr]=Xt,Ue[1][Pr]=Jt,Ue[0][Pr+1]=Me,Ue[1][Pr+1]=_e,Ue[0].length=Ue[1].length=Pr+2,{min:{x:Math.min.apply(0,Ue[0]),y:Math.min.apply(0,Ue[1])},max:{x:Math.max.apply(0,Ue[0]),y:Math.max.apply(0,Ue[1])}}},ae=function(Xt,Jt,oe,fe,xe,Se,Me,_e){if(!(Math.max(Xt,oe)<Math.min(xe,Me)||Math.min(Xt,oe)>Math.max(xe,Me)||Math.max(Jt,fe)<Math.min(Se,_e)||Math.min(Jt,fe)>Math.max(Se,_e))){var me=(Xt*fe-Jt*oe)*(xe-Me)-(Xt-oe)*(xe*_e-Se*Me),Ue=(Xt*fe-Jt*oe)*(Se-_e)-(Jt-fe)*(xe*_e-Se*Me),Ne=(Xt-oe)*(Se-_e)-(Jt-fe)*(xe-Me);if(!!Ne){var er=me/Ne,hr=Ue/Ne,nr=+er.toFixed(2),fr=+hr.toFixed(2);if(!(nr<+Math.min(Xt,oe).toFixed(2)||nr>+Math.max(Xt,oe).toFixed(2)||nr<+Math.min(xe,Me).toFixed(2)||nr>+Math.max(xe,Me).toFixed(2)||fr<+Math.min(Jt,fe).toFixed(2)||fr>+Math.max(Jt,fe).toFixed(2)||fr<+Math.min(Se,_e).toFixed(2)||fr>+Math.max(Se,_e).toFixed(2)))return{x:er,y:hr}}}},ue=function(Xt,Jt,oe){return Jt>=Xt.x&&Jt<=Xt.x+Xt.width&&oe>=Xt.y&&oe<=Xt.y+Xt.height},Kt=function(Xt,Jt,oe,fe){return Xt===null&&(Xt=Jt=oe=fe=0),Jt===null&&(Jt=Xt.y,oe=Xt.width,fe=Xt.height,Xt=Xt.x),{x:Xt,y:Jt,width:oe,w:oe,height:fe,h:fe,x2:Xt+oe,y2:Jt+fe,cx:Xt+oe/2,cy:Jt+fe/2,r1:Math.min(oe,fe)/2,r2:Math.max(oe,fe)/2,r0:Math.sqrt(oe*oe+fe*fe)/2,path:H(Xt,Jt,oe,fe),vb:[Xt,Jt,oe,fe].join(" ")}},Bt=function(Xt,Jt){return Xt=Kt(Xt),Jt=Kt(Jt),ue(Jt,Xt.x,Xt.y)||ue(Jt,Xt.x2,Xt.y)||ue(Jt,Xt.x,Xt.y2)||ue(Jt,Xt.x2,Xt.y2)||ue(Xt,Jt.x,Jt.y)||ue(Xt,Jt.x2,Jt.y)||ue(Xt,Jt.x,Jt.y2)||ue(Xt,Jt.x2,Jt.y2)||(Xt.x<Jt.x2&&Xt.x>Jt.x||Jt.x<Xt.x2&&Jt.x>Xt.x)&&(Xt.y<Jt.y2&&Xt.y>Jt.y||Jt.y<Xt.y2&&Jt.y>Xt.y)},Ct=function(Xt,Jt,oe,fe,xe,Se,Me,_e){(0,b.isArray)(Xt)||(Xt=[Xt,Jt,oe,fe,xe,Se,Me,_e]);var me=Qt.apply(null,Xt);return Kt(me.min.x,me.min.y,me.max.x-me.min.x,me.max.y-me.min.y)},pt=function(Xt,Jt,oe,fe,xe,Se,Me,_e,me){var Ue=1-me,Ne=Math.pow(Ue,3),er=Math.pow(Ue,2),hr=me*me,nr=hr*me,fr=Ne*Xt+er*3*me*oe+Ue*3*me*me*xe+nr*Me,or=Ne*Jt+er*3*me*fe+Ue*3*me*me*Se+nr*_e,br=Xt+2*me*(oe-Xt)+hr*(xe-2*oe+Xt),We=Jt+2*me*(fe-Jt)+hr*(Se-2*fe+Jt),Cr=oe+2*me*(xe-oe)+hr*(Me-2*xe+oe),Lr=fe+2*me*(Se-fe)+hr*(_e-2*Se+fe),Pr=Ue*Xt+me*oe,Br=Ue*Jt+me*fe,Hr=Ue*xe+me*Me,Wr=Ue*Se+me*_e,Nn=90-Math.atan2(br-Cr,We-Lr)*180/Math.PI;return{x:fr,y:or,m:{x:br,y:We},n:{x:Cr,y:Lr},start:{x:Pr,y:Br},end:{x:Hr,y:Wr},alpha:Nn}},Pt=function(Xt,Jt,oe){var fe=Ct(Xt),xe=Ct(Jt);if(!Bt(fe,xe))return oe?0:[];for(var Se=Ft.apply(0,Xt),Me=Ft.apply(0,Jt),_e=~~(Se/8),me=~~(Me/8),Ue=[],Ne=[],er={},hr=oe?0:[],nr=0;nr<_e+1;nr++){var fr=pt.apply(0,Xt.concat(nr/_e));Ue.push({x:fr.x,y:fr.y,t:nr/_e})}for(var nr=0;nr<me+1;nr++){var fr=pt.apply(0,Jt.concat(nr/me));Ne.push({x:fr.x,y:fr.y,t:nr/me})}for(var nr=0;nr<_e;nr++)for(var or=0;or<me;or++){var br=Ue[nr],We=Ue[nr+1],Cr=Ne[or],Lr=Ne[or+1],Pr=Math.abs(We.x-br.x)<.001?"y":"x",Br=Math.abs(Lr.x-Cr.x)<.001?"y":"x",Hr=ae(br.x,br.y,We.x,We.y,Cr.x,Cr.y,Lr.x,Lr.y);if(Hr){if(er[Hr.x.toFixed(4)]===Hr.y.toFixed(4))continue;er[Hr.x.toFixed(4)]=Hr.y.toFixed(4);var Wr=br.t+Math.abs((Hr[Pr]-br[Pr])/(We[Pr]-br[Pr]))*(We.t-br.t),Nn=Cr.t+Math.abs((Hr[Br]-Cr[Br])/(Lr[Br]-Cr[Br]))*(Lr.t-Cr.t);Wr>=0&&Wr<=1&&Nn>=0&&Nn<=1&&(oe?hr++:hr.push({x:Hr.x,y:Hr.y,t1:Wr,t2:Nn}))}}return hr},ft=function(Xt,Jt,oe){Xt=bt(Xt),Jt=bt(Jt);for(var fe,xe,Se,Me,_e,me,Ue,Ne,er,hr,nr=oe?0:[],fr=0,or=Xt.length;fr<or;fr++){var br=Xt[fr];if(br[0]==="M")fe=_e=br[1],xe=me=br[2];else{br[0]==="C"?(er=[fe,xe].concat(br.slice(1)),fe=er[6],xe=er[7]):(er=[fe,xe,fe,xe,_e,me,_e,me],fe=_e,xe=me);for(var We=0,Cr=Jt.length;We<Cr;We++){var Lr=Jt[We];if(Lr[0]==="M")Se=Ue=Lr[1],Me=Ne=Lr[2];else{Lr[0]==="C"?(hr=[Se,Me].concat(Lr.slice(1)),Se=hr[6],Me=hr[7]):(hr=[Se,Me,Se,Me,Ue,Ne,Ue,Ne],Se=Ue,Me=Ne);var Pr=Pt(er,hr,oe);if(oe)nr+=Pr;else{for(var Br=0,Hr=Pr.length;Br<Hr;Br++)Pr[Br].segment1=fr,Pr[Br].segment2=We,Pr[Br].bez1=er,Pr[Br].bez2=hr;nr=nr.concat(Pr)}}}}}return nr};function ot(Xt,Jt){return ft(Xt,Jt)}var St=/,?([a-z]),?/gi;function Ot(Xt){return Xt.join(",").replace(St,"$1")}function Zt(Xt){return Math.sqrt(Xt[0]*Xt[0]+Xt[1]*Xt[1])}function le(Xt,Jt){return Zt(Xt)*Zt(Jt)?(Xt[0]*Jt[0]+Xt[1]*Jt[1])/(Zt(Xt)*Zt(Jt)):1}function be(Xt,Jt){return(Xt[0]*Jt[1]<Xt[1]*Jt[0]?-1:1)*Math.acos(le(Xt,Jt))}function Be(Xt,Jt){return Xt[0]===Jt[0]&&Xt[1]===Jt[1]}function Fe(Xt,Jt){var oe=Jt[1],fe=Jt[2],xe=(0,b.mod)((0,b.toRadian)(Jt[3]),Math.PI*2),Se=Jt[4],Me=Jt[5],_e=Xt[0],me=Xt[1],Ue=Jt[6],Ne=Jt[7],er=Math.cos(xe)*(_e-Ue)/2+Math.sin(xe)*(me-Ne)/2,hr=-1*Math.sin(xe)*(_e-Ue)/2+Math.cos(xe)*(me-Ne)/2,nr=er*er/(oe*oe)+hr*hr/(fe*fe);nr>1&&(oe*=Math.sqrt(nr),fe*=Math.sqrt(nr));var fr=oe*oe*(hr*hr)+fe*fe*(er*er),or=fr?Math.sqrt((oe*oe*(fe*fe)-fr)/fr):1;Se===Me&&(or*=-1),isNaN(or)&&(or=0);var br=fe?or*oe*hr/fe:0,We=oe?or*-fe*er/oe:0,Cr=(_e+Ue)/2+Math.cos(xe)*br-Math.sin(xe)*We,Lr=(me+Ne)/2+Math.sin(xe)*br+Math.cos(xe)*We,Pr=[(er-br)/oe,(hr-We)/fe],Br=[(-1*er-br)/oe,(-1*hr-We)/fe],Hr=be([1,0],Pr),Wr=be(Pr,Br);return le(Pr,Br)<=-1&&(Wr=Math.PI),le(Pr,Br)>=1&&(Wr=0),Me===0&&Wr>0&&(Wr=Wr-2*Math.PI),Me===1&&Wr<0&&(Wr=Wr+2*Math.PI),{cx:Cr,cy:Lr,rx:Be(Xt,[Ue,Ne])?0:oe,ry:Be(Xt,[Ue,Ne])?0:fe,startAngle:Hr,endAngle:Hr+Wr,xRotation:xe,arcFlag:Se,sweepFlag:Me}}function lr(Xt,Jt){return[Jt[0]+(Jt[0]-Xt[0]),Jt[1]+(Jt[1]-Xt[1])]}function dr(Xt){Xt=L(Xt);for(var Jt=[],oe=null,fe=null,xe=null,Se=0,Me=Xt.length,_e=0;_e<Me;_e++){var me=Xt[_e];fe=Xt[_e+1];var Ue=me[0],Ne={command:Ue,prePoint:oe,params:me,startTangent:null,endTangent:null};switch(Ue){case"M":xe=[me[1],me[2]],Se=_e;break;case"A":var er=Fe(oe,me);Ne.arcParams=er;break;default:break}if(Ue==="Z")oe=xe,fe=Xt[Se+1];else{var hr=me.length;oe=[me[hr-2],me[hr-1]]}fe&&fe[0]==="Z"&&(fe=Xt[Se],Jt[Se]&&(Jt[Se].prePoint=oe)),Ne.currentPoint=oe,Jt[Se]&&Be(oe,Jt[Se].currentPoint)&&(Jt[Se].prePoint=Ne.prePoint);var nr=fe?[fe[fe.length-2],fe[fe.length-1]]:null;Ne.nextPoint=nr;var fr=Ne.prePoint;if(["L","H","V"].includes(Ue))Ne.startTangent=[fr[0]-oe[0],fr[1]-oe[1]],Ne.endTangent=[oe[0]-fr[0],oe[1]-fr[1]];else if(Ue==="Q"){var or=[me[1],me[2]];Ne.startTangent=[fr[0]-or[0],fr[1]-or[1]],Ne.endTangent=[oe[0]-or[0],oe[1]-or[1]]}else if(Ue==="T"){var br=Jt[_e-1],or=lr(br.currentPoint,fr);br.command==="Q"?(Ne.command="Q",Ne.startTangent=[fr[0]-or[0],fr[1]-or[1]],Ne.endTangent=[oe[0]-or[0],oe[1]-or[1]]):(Ne.command="TL",Ne.startTangent=[fr[0]-oe[0],fr[1]-oe[1]],Ne.endTangent=[oe[0]-fr[0],oe[1]-fr[1]])}else if(Ue==="C"){var We=[me[1],me[2]],Cr=[me[3],me[4]];Ne.startTangent=[fr[0]-We[0],fr[1]-We[1]],Ne.endTangent=[oe[0]-Cr[0],oe[1]-Cr[1]],Ne.startTangent[0]===0&&Ne.startTangent[1]===0&&(Ne.startTangent=[We[0]-Cr[0],We[1]-Cr[1]]),Ne.endTangent[0]===0&&Ne.endTangent[1]===0&&(Ne.endTangent=[Cr[0]-We[0],Cr[1]-We[1]])}else if(Ue==="S"){var br=Jt[_e-1],We=lr(br.currentPoint,fr),Cr=[me[1],me[2]];br.command==="C"?(Ne.command="C",Ne.startTangent=[fr[0]-We[0],fr[1]-We[1]],Ne.endTangent=[oe[0]-Cr[0],oe[1]-Cr[1]]):(Ne.command="SQ",Ne.startTangent=[fr[0]-Cr[0],fr[1]-Cr[1]],Ne.endTangent=[oe[0]-Cr[0],oe[1]-Cr[1]])}else if(Ue==="A"){var Lr=.001,Pr=Ne.arcParams||{},Br=Pr.cx,Hr=Br===void 0?0:Br,Wr=Pr.cy,Nn=Wr===void 0?0:Wr,tn=Pr.rx,Xn=tn===void 0?0:tn,ui=Pr.ry,Zn=ui===void 0?0:ui,wi=Pr.sweepFlag,Si=wi===void 0?0:wi,Ir=Pr.startAngle,fi=Ir===void 0?0:Ir,Pi=Pr.endAngle,hi=Pi===void 0?0:Pi;Si===0&&(Lr*=-1);var xn=Xn*Math.cos(fi-Lr)+Hr,ci=Zn*Math.sin(fi-Lr)+Nn;Ne.startTangent=[xn-xe[0],ci-xe[1]];var _i=Xn*Math.cos(fi+hi+Lr)+Hr,Kn=Zn*Math.sin(fi+hi-Lr)+Nn;Ne.endTangent=[fr[0]-_i,fr[1]-Kn]}Jt.push(Ne)}return Jt}var ur=function(Xt,Jt,oe){return Xt>=Jt&&Xt<=oe};function Tr(Xt,Jt,oe,fe){var xe=.001,Se={x:oe.x-Xt.x,y:oe.y-Xt.y},Me={x:Jt.x-Xt.x,y:Jt.y-Xt.y},_e={x:fe.x-oe.x,y:fe.y-oe.y},me=Me.x*_e.y-Me.y*_e.x,Ue=me*me,Ne=Me.x*Me.x+Me.y*Me.y,er=_e.x*_e.x+_e.y*_e.y,hr=null;if(Ue>xe*Ne*er){var nr=(Se.x*_e.y-Se.y*_e.x)/me,fr=(Se.x*Me.y-Se.y*Me.x)/me;ur(nr,0,1)&&ur(fr,0,1)&&(hr={x:Xt.x+nr*Me.x,y:Xt.y+nr*Me.y})}return hr}var sr=1e-6;function zr(Xt){return Math.abs(Xt)<sr?0:Xt<0?-1:1}function fn(Xt,Jt,oe){return(oe[0]-Xt[0])*(Jt[1]-Xt[1])==(Jt[0]-Xt[0])*(oe[1]-Xt[1])&&Math.min(Xt[0],Jt[0])<=oe[0]&&oe[0]<=Math.max(Xt[0],Jt[0])&&Math.min(Xt[1],Jt[1])<=oe[1]&&oe[1]<=Math.max(Xt[1],Jt[1])}function Yr(Xt,Jt,oe){var fe=!1,xe=Xt.length;if(xe<=2)return!1;for(var Se=0;Se<xe;Se++){var Me=Xt[Se],_e=Xt[(Se+1)%xe];if(fn(Me,_e,[Jt,oe]))return!0;zr(Me[1]-oe)>0!=zr(_e[1]-oe)>0&&zr(Jt-(oe-Me[1])*(Me[0]-_e[0])/(Me[1]-_e[1])-Me[0])<0&&(fe=!fe)}return fe}function nn(Xt){for(var Jt=[],oe=Xt.length,fe=0;fe<oe-1;fe++){var xe=Xt[fe],Se=Xt[fe+1];Jt.push({from:{x:xe[0],y:xe[1]},to:{x:Se[0],y:Se[1]}})}if(Jt.length>1){var Me=Xt[0],_e=Xt[oe-1];Jt.push({from:{x:_e[0],y:_e[1]},to:{x:Me[0],y:Me[1]}})}return Jt}function pi(Xt,Jt){var oe=!1;return(0,b.each)(Xt,function(fe){if(Tr(fe.from,fe.to,Jt.from,Jt.to))return oe=!0,!1}),oe}function gi(Xt){var Jt=Xt.map(function(fe){return fe[0]}),oe=Xt.map(function(fe){return fe[1]});return{minX:Math.min.apply(null,Jt),maxX:Math.max.apply(null,Jt),minY:Math.min.apply(null,oe),maxY:Math.max.apply(null,oe)}}function xi(Xt,Jt){return!(Jt.minX>Xt.maxX||Jt.maxX<Xt.minX||Jt.minY>Xt.maxY||Jt.maxY<Xt.minY)}function bi(Xt,Jt){if(Xt.length<2||Jt.length<2)return!1;var oe=gi(Xt),fe=gi(Jt);if(!xi(oe,fe))return!1;var xe=!1;if((0,b.each)(Jt,function(me){if(Yr(Xt,me[0],me[1]))return xe=!0,!1}),xe||((0,b.each)(Xt,function(me){if(Yr(Jt,me[0],me[1]))return xe=!0,!1}),xe))return!0;var Se=nn(Xt),Me=nn(Jt),_e=!1;return(0,b.each)(Me,function(me){if(pi(Se,me))return _e=!0,!1}),_e}},84023:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=void 0;var b=d(49242);function P(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])}function D(A,E){return P(A)*P(E)?(A[0]*E[0]+A[1]*E[1])/(P(A)*P(E)):1}function O(A,E){return(A[0]*E[1]<A[1]*E[0]?-1:1)*Math.acos(D(A,E))}function L(A,E){return A[0]===E[0]&&A[1]===E[1]}S.isSamePoint=L;function T(A,E){var p=E[1],w=E[2],y=(0,b.mod)((0,b.toRadian)(E[3]),Math.PI*2),x=E[4],m=E[5],M=A[0],k=A[1],R=E[6],N=E[7],W=Math.cos(y)*(M-R)/2+Math.sin(y)*(k-N)/2,Q=-1*Math.sin(y)*(M-R)/2+Math.cos(y)*(k-N)/2,H=W*W/(p*p)+Q*Q/(w*w);H>1&&(p*=Math.sqrt(H),w*=Math.sqrt(H));var $=p*p*(Q*Q)+w*w*(W*W),it=$?Math.sqrt((p*p*(w*w)-$)/$):1;x===m&&(it*=-1),isNaN(it)&&(it=0);var nt=w?it*p*Q/w:0,wt=p?it*-w*W/p:0,yt=(M+R)/2+Math.cos(y)*nt-Math.sin(y)*wt,Lt=(k+N)/2+Math.sin(y)*nt+Math.cos(y)*wt,Mt=[(W-nt)/p,(Q-wt)/w],J=[(-1*W-nt)/p,(-1*Q-wt)/w],tt=O([1,0],Mt),q=O(Mt,J);return D(Mt,J)<=-1&&(q=Math.PI),D(Mt,J)>=1&&(q=0),m===0&&q>0&&(q=q-2*Math.PI),m===1&&q<0&&(q=q+2*Math.PI),{cx:yt,cy:Lt,rx:L(A,[R,N])?0:p,ry:L(A,[R,N])?0:w,startAngle:tt,endAngle:tt+q,xRotation:y,arcFlag:x,sweepFlag:m}}S.default=T},21528:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(P,D,O){return P>=D&&P<=O};function b(P,D,O,L){var T=.001,A={x:O.x-P.x,y:O.y-P.y},E={x:D.x-P.x,y:D.y-P.y},p={x:L.x-O.x,y:L.y-O.y},w=E.x*p.y-E.y*p.x,y=w*w,x=E.x*E.x+E.y*E.y,m=p.x*p.x+p.y*p.y,M=null;if(y>T*x*m){var k=(A.x*p.y-A.y*p.x)/w,R=(A.x*E.y-A.y*E.x)/w;d(k,0,1)&&d(R,0,1)&&(M={x:P.x+k*E.x,y:P.y+k*E.y})}return M}S.default=b},70146:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66957),P=d(21528),D=d(49242);function O(p){for(var w=[],y=p.length,x=0;x<y-1;x++){var m=p[x],M=p[x+1];w.push({from:{x:m[0],y:m[1]},to:{x:M[0],y:M[1]}})}if(w.length>1){var k=p[0],R=p[y-1];w.push({from:{x:R[0],y:R[1]},to:{x:k[0],y:k[1]}})}return w}function L(p,w){var y=!1;return(0,D.each)(p,function(x){if((0,P.default)(x.from,x.to,w.from,w.to))return y=!0,!1}),y}function T(p){var w=p.map(function(x){return x[0]}),y=p.map(function(x){return x[1]});return{minX:Math.min.apply(null,w),maxX:Math.max.apply(null,w),minY:Math.min.apply(null,y),maxY:Math.max.apply(null,y)}}function A(p,w){return!(w.minX>p.maxX||w.maxX<p.minX||w.minY>p.maxY||w.maxY<p.minY)}function E(p,w){if(p.length<2||w.length<2)return!1;var y=T(p),x=T(w);if(!A(y,x))return!1;var m=!1;if((0,D.each)(w,function(N){if((0,b.default)(p,N[0],N[1]))return m=!0,!1}),m||((0,D.each)(p,function(N){if((0,b.default)(w,N[0],N[1]))return m=!0,!1}),m))return!0;var M=O(p),k=O(w),R=!1;return(0,D.each)(k,function(N){if(L(M,N))return R=!0,!1}),R}S.default=E},28498:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),P=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,D=new RegExp("([a-z])["+P+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+P+"]*,?["+P+"]*)+)","ig"),O=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+P+"]*,?["+P+"]*","ig");function L(T){if(!T)return null;if((0,b.isArray)(T))return T;var A={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},E=[];return String(T).replace(D,function(p,w,y){var x=[],m=w.toLowerCase();if(y.replace(O,function(M,k){k&&x.push(+k)}),m==="m"&&x.length>2&&(E.push([w].concat(x.splice(0,2))),m="l",w=w==="m"?"l":"L"),m==="o"&&x.length===1&&E.push([w,x[0]]),m==="r")E.push([w].concat(x));else for(;x.length>=A[m]&&(E.push([w].concat(x.splice(0,A[m]))),!!A[m]););return""}),E}S.default=L},80315:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),P=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,D=/[^\s\,]+/ig;function O(L){var T=L||[];if((0,b.isArray)(T))return T;if((0,b.isString)(T))return T=T.match(P),(0,b.each)(T,function(A,E){if(A=A.match(D),A[0].length>1){var p=A[0].charAt(0);A.splice(1,0,A[0].substr(1)),A[0]=p}(0,b.each)(A,function(w,y){isNaN(w)||(A[y]=+w)}),T[E]=A}),T}S.default=O},74479:function(dt,S,d){"use strict";var b;b={value:!0};var P=d(28498),D=/[a-z]/;function O(T,A){return[A[0]+(A[0]-T[0]),A[1]+(A[1]-T[1])]}function L(T){var A=(0,P.default)(T);if(!A||!A.length)return[["M",0,0]];for(var E=!1,p=0;p<A.length;p++){var w=A[p][0];if(D.test(w)||["V","H","T","S"].indexOf(w)>=0){E=!0;break}}if(!E)return A;var y=[],x=0,m=0,M=0,k=0,R=0,N,W,Q=A[0];(Q[0]==="M"||Q[0]==="m")&&(x=+Q[1],m=+Q[2],M=x,k=m,R++,y[0]=["M",x,m]);for(var p=R,H=A.length;p<H;p++){var $=A[p],it=y[p-1],nt=[],w=$[0],wt=w.toUpperCase();if(w!==wt)switch(nt[0]=wt,wt){case"A":nt[1]=$[1],nt[2]=$[2],nt[3]=$[3],nt[4]=$[4],nt[5]=$[5],nt[6]=+$[6]+x,nt[7]=+$[7]+m;break;case"V":nt[1]=+$[1]+m;break;case"H":nt[1]=+$[1]+x;break;case"M":M=+$[1]+x,k=+$[2]+m,nt[1]=M,nt[2]=k;break;default:for(var yt=1,Lt=$.length;yt<Lt;yt++)nt[yt]=+$[yt]+(yt%2?x:m)}else nt=A[p];switch(wt){case"Z":x=+M,m=+k;break;case"H":x=nt[1],nt=["L",x,m];break;case"V":m=nt[1],nt=["L",x,m];break;case"T":x=nt[1],m=nt[2];var Mt=O([it[1],it[2]],[it[3],it[4]]);nt=["Q",Mt[0],Mt[1],x,m];break;case"S":x=nt[nt.length-2],m=nt[nt.length-1];var J=it.length,tt=O([it[J-4],it[J-3]],[it[J-2],it[J-1]]);nt=["C",tt[0],tt[1],nt[1],nt[2],x,m];break;case"M":M=nt[nt.length-2],k=nt[nt.length-1];break;default:x=nt[nt.length-2],m=nt[nt.length-1]}y.push(nt)}return y}S.Z=L},49274:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(84023),P=d(84023),D=d(80315);function O(T,A){return[A[0]+(A[0]-T[0]),A[1]+(A[1]-T[1])]}function L(T){T=(0,D.default)(T);for(var A=[],E=null,p=null,w=null,y=0,x=T.length,m=0;m<x;m++){var M=T[m];p=T[m+1];var k=M[0],R={command:k,prePoint:E,params:M,startTangent:null,endTangent:null};switch(k){case"M":w=[M[1],M[2]],y=m;break;case"A":var N=(0,b.default)(E,M);R.arcParams=N;break;default:break}if(k==="Z")E=w,p=T[y+1];else{var W=M.length;E=[M[W-2],M[W-1]]}p&&p[0]==="Z"&&(p=T[y],A[y]&&(A[y].prePoint=E)),R.currentPoint=E,A[y]&&(0,P.isSamePoint)(E,A[y].currentPoint)&&(A[y].prePoint=R.prePoint);var Q=p?[p[p.length-2],p[p.length-1]]:null;R.nextPoint=Q;var H=R.prePoint;if(["L","H","V"].includes(k))R.startTangent=[H[0]-E[0],H[1]-E[1]],R.endTangent=[E[0]-H[0],E[1]-H[1]];else if(k==="Q"){var $=[M[1],M[2]];R.startTangent=[H[0]-$[0],H[1]-$[1]],R.endTangent=[E[0]-$[0],E[1]-$[1]]}else if(k==="T"){var it=A[m-1],$=O(it.currentPoint,H);it.command==="Q"?(R.command="Q",R.startTangent=[H[0]-$[0],H[1]-$[1]],R.endTangent=[E[0]-$[0],E[1]-$[1]]):(R.command="TL",R.startTangent=[H[0]-E[0],H[1]-E[1]],R.endTangent=[E[0]-H[0],E[1]-H[1]])}else if(k==="C"){var nt=[M[1],M[2]],wt=[M[3],M[4]];R.startTangent=[H[0]-nt[0],H[1]-nt[1]],R.endTangent=[E[0]-wt[0],E[1]-wt[1]],R.startTangent[0]===0&&R.startTangent[1]===0&&(R.startTangent=[nt[0]-wt[0],nt[1]-wt[1]]),R.endTangent[0]===0&&R.endTangent[1]===0&&(R.endTangent=[wt[0]-nt[0],wt[1]-nt[1]])}else if(k==="S"){var it=A[m-1],nt=O(it.currentPoint,H),wt=[M[1],M[2]];it.command==="C"?(R.command="C",R.startTangent=[H[0]-nt[0],H[1]-nt[1]],R.endTangent=[E[0]-wt[0],E[1]-wt[1]]):(R.command="SQ",R.startTangent=[H[0]-wt[0],H[1]-wt[1]],R.endTangent=[E[0]-wt[0],E[1]-wt[1]])}else if(k==="A"){var yt=.001,Lt=R.arcParams||{},Mt=Lt.cx,J=Mt===void 0?0:Mt,tt=Lt.cy,q=tt===void 0?0:tt,lt=Lt.rx,gt=lt===void 0?0:lt,K=Lt.ry,j=K===void 0?0:K,Z=Lt.sweepFlag,f=Z===void 0?0:Z,ut=Lt.startAngle,bt=ut===void 0?0:ut,Rt=Lt.endAngle,Vt=Rt===void 0?0:Rt;f===0&&(yt*=-1);var Ft=gt*Math.cos(bt-yt)+J,Qt=j*Math.sin(bt-yt)+q;R.startTangent=[Ft-w[0],Qt-w[1]];var ae=gt*Math.cos(bt+Vt+yt)+J,ue=j*Math.sin(bt+Vt-yt)+q;R.endTangent=[H[0]-ae,H[1]-ue]}A.push(R)}return A}S.default=L},66957:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-6;function b(O){return Math.abs(O)<d?0:O<0?-1:1}function P(O,L,T){return(T[0]-O[0])*(L[1]-O[1])==(L[0]-O[0])*(T[1]-O[1])&&Math.min(O[0],L[0])<=T[0]&&T[0]<=Math.max(O[0],L[0])&&Math.min(O[1],L[1])<=T[1]&&T[1]<=Math.max(O[1],L[1])}function D(O,L,T){var A=!1,E=O.length;if(E<=2)return!1;for(var p=0;p<E;p++){var w=O[p],y=O[(p+1)%E];if(P(w,y,[L,T]))return!0;b(w[1]-T)>0!=b(y[1]-T)>0&&b(L-(T-w[1])*(w[0]-y[0])/(w[1]-y[1])-w[0])<0&&(A=!A)}return A}S.default=D},72469:function(dt,S,d){"use strict";d.r(S),d.d(S,{Category:function(){return w},Identity:function(){return me},Linear:function(){return dr},Log:function(){return nn},Pow:function(){return gi},Quantile:function(){return fe},Quantize:function(){return Jt},Scale:function(){return A},Time:function(){return bi},TimeCat:function(){return be},getScale:function(){return Se},getTickMethod:function(){return O},registerScale:function(){return Me},registerTickMethod:function(){return L}});var b={};d.r(b),d.d(b,{assign:function(){return H},default:function(){return Qt},defaultI18n:function(){return yt},format:function(){return Rt},parse:function(){return Vt},setGlobalDateI18n:function(){return Mt},setGlobalDateMasks:function(){return bt}});var P=d(49242),D={};function O(Dt){return D[Dt]}function L(Dt,jt){D[Dt]=jt}var T=function(){function Dt(jt){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=jt,this.initCfg(),this.init()}return Dt.prototype.translate=function(jt){return jt},Dt.prototype.change=function(jt){(0,P.assign)(this.__cfg__,jt),this.init()},Dt.prototype.clone=function(){return this.constructor(this.__cfg__)},Dt.prototype.getTicks=function(){var jt=this;return(0,P.map)(this.ticks,function(re,ye){return(0,P.isObject)(re)?re:{text:jt.getText(re,ye),tickValue:re,value:jt.scale(re)}})},Dt.prototype.getText=function(jt,re){var ye=this.formatter,ge=ye?ye(jt,re):jt;return(0,P.isNil)(ge)||!(0,P.isFunction)(ge.toString)?"":ge.toString()},Dt.prototype.getConfig=function(jt){return this.__cfg__[jt]},Dt.prototype.init=function(){(0,P.assign)(this,this.__cfg__),this.setDomain(),(0,P.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},Dt.prototype.initCfg=function(){},Dt.prototype.setDomain=function(){},Dt.prototype.calculateTicks=function(){var jt=this.tickMethod,re=[];if((0,P.isString)(jt)){var ye=O(jt);if(!ye)throw new Error("There is no method to to calculate ticks!");re=ye(this)}else(0,P.isFunction)(jt)&&(re=jt(this));return re},Dt.prototype.rangeMin=function(){return this.range[0]},Dt.prototype.rangeMax=function(){return this.range[1]},Dt.prototype.calcPercent=function(jt,re,ye){return(0,P.isNumber)(jt)?(jt-re)/(ye-re):NaN},Dt.prototype.calcValue=function(jt,re,ye){return re+jt*(ye-re)},Dt}(),A=T,E=d(70655),p=function(Dt){(0,E.__extends)(jt,Dt);function jt(){var re=Dt!==null&&Dt.apply(this,arguments)||this;return re.type="cat",re.isCategory=!0,re}return jt.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var re=0;re<this.values.length;re++)this.translateIndexMap.set(this.values[re],re)}},jt.prototype.translate=function(re){this.buildIndexMap();var ye=this.translateIndexMap.get(re);return ye===void 0&&(ye=(0,P.isNumber)(re)?re:NaN),ye},jt.prototype.scale=function(re){var ye=this.translate(re),ge=this.calcPercent(ye,this.min,this.max);return this.calcValue(ge,this.rangeMin(),this.rangeMax())},jt.prototype.invert=function(re){var ye=this.max-this.min,ge=this.calcPercent(re,this.rangeMin(),this.rangeMax()),Pe=Math.round(ye*ge)+this.min;return Pe<this.min||Pe>this.max?NaN:this.values[Pe]},jt.prototype.getText=function(re){for(var ye=[],ge=1;ge<arguments.length;ge++)ye[ge-1]=arguments[ge];var Pe=re;return(0,P.isNumber)(re)&&!this.values.includes(re)&&(Pe=this.values[Pe]),Dt.prototype.getText.apply(this,(0,E.__spreadArrays)([Pe],ye))},jt.prototype.initCfg=function(){this.tickMethod="cat"},jt.prototype.setDomain=function(){if((0,P.isNil)(this.getConfig("min"))&&(this.min=0),(0,P.isNil)(this.getConfig("max"))){var re=this.values.length;this.max=re>1?re-1:re}this.translateIndexMap&&(this.translateIndexMap=void 0)},jt}(A),w=p,y=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,x="\\d\\d?",m="\\d\\d",M="\\d{3}",k="\\d{4}",R="[^\\s]+",N=/\[([^]*?)\]/gm;function W(Dt,jt){for(var re=[],ye=0,ge=Dt.length;ye<ge;ye++)re.push(Dt[ye].substr(0,jt));return re}var Q=function(Dt){return function(jt,re){var ye=re[Dt].map(function(Pe){return Pe.toLowerCase()}),ge=ye.indexOf(jt.toLowerCase());return ge>-1?ge:null}};function H(Dt){for(var jt=[],re=1;re<arguments.length;re++)jt[re-1]=arguments[re];for(var ye=0,ge=jt;ye<ge.length;ye++){var Pe=ge[ye];for(var $e in Pe)Dt[$e]=Pe[$e]}return Dt}var $=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],it=["January","February","March","April","May","June","July","August","September","October","November","December"],nt=W(it,3),wt=W($,3),yt={dayNamesShort:wt,dayNames:$,monthNamesShort:nt,monthNames:it,amPm:["am","pm"],DoFn:function(Dt){return Dt+["th","st","nd","rd"][Dt%10>3?0:(Dt-Dt%10!=10?1:0)*Dt%10]}},Lt=H({},yt),Mt=function(Dt){return Lt=H(Lt,Dt)},J=function(Dt){return Dt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},tt=function(Dt,jt){for(jt===void 0&&(jt=2),Dt=String(Dt);Dt.length<jt;)Dt="0"+Dt;return Dt},q={D:function(Dt){return String(Dt.getDate())},DD:function(Dt){return tt(Dt.getDate())},Do:function(Dt,jt){return jt.DoFn(Dt.getDate())},d:function(Dt){return String(Dt.getDay())},dd:function(Dt){return tt(Dt.getDay())},ddd:function(Dt,jt){return jt.dayNamesShort[Dt.getDay()]},dddd:function(Dt,jt){return jt.dayNames[Dt.getDay()]},M:function(Dt){return String(Dt.getMonth()+1)},MM:function(Dt){return tt(Dt.getMonth()+1)},MMM:function(Dt,jt){return jt.monthNamesShort[Dt.getMonth()]},MMMM:function(Dt,jt){return jt.monthNames[Dt.getMonth()]},YY:function(Dt){return tt(String(Dt.getFullYear()),4).substr(2)},YYYY:function(Dt){return tt(Dt.getFullYear(),4)},h:function(Dt){return String(Dt.getHours()%12||12)},hh:function(Dt){return tt(Dt.getHours()%12||12)},H:function(Dt){return String(Dt.getHours())},HH:function(Dt){return tt(Dt.getHours())},m:function(Dt){return String(Dt.getMinutes())},mm:function(Dt){return tt(Dt.getMinutes())},s:function(Dt){return String(Dt.getSeconds())},ss:function(Dt){return tt(Dt.getSeconds())},S:function(Dt){return String(Math.round(Dt.getMilliseconds()/100))},SS:function(Dt){return tt(Math.round(Dt.getMilliseconds()/10),2)},SSS:function(Dt){return tt(Dt.getMilliseconds(),3)},a:function(Dt,jt){return Dt.getHours()<12?jt.amPm[0]:jt.amPm[1]},A:function(Dt,jt){return Dt.getHours()<12?jt.amPm[0].toUpperCase():jt.amPm[1].toUpperCase()},ZZ:function(Dt){var jt=Dt.getTimezoneOffset();return(jt>0?"-":"+")+tt(Math.floor(Math.abs(jt)/60)*100+Math.abs(jt)%60,4)},Z:function(Dt){var jt=Dt.getTimezoneOffset();return(jt>0?"-":"+")+tt(Math.floor(Math.abs(jt)/60),2)+":"+tt(Math.abs(jt)%60,2)}},lt=function(Dt){return+Dt-1},gt=[null,x],K=[null,R],j=["isPm",R,function(Dt,jt){var re=Dt.toLowerCase();return re===jt.amPm[0]?0:re===jt.amPm[1]?1:null}],Z=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(Dt){var jt=(Dt+"").match(/([+-]|\d\d)/gi);if(jt){var re=+jt[1]*60+parseInt(jt[2],10);return jt[0]==="+"?re:-re}return 0}],f={D:["day",x],DD:["day",m],Do:["day",x+R,function(Dt){return parseInt(Dt,10)}],M:["month",x,lt],MM:["month",m,lt],YY:["year",m,function(Dt){var jt=new Date,re=+(""+jt.getFullYear()).substr(0,2);return+(""+(+Dt>68?re-1:re)+Dt)}],h:["hour",x,void 0,"isPm"],hh:["hour",m,void 0,"isPm"],H:["hour",x],HH:["hour",m],m:["minute",x],mm:["minute",m],s:["second",x],ss:["second",m],YYYY:["year",k],S:["millisecond","\\d",function(Dt){return+Dt*100}],SS:["millisecond",m,function(Dt){return+Dt*10}],SSS:["millisecond",M],d:gt,dd:gt,ddd:K,dddd:K,MMM:["month",R,Q("monthNamesShort")],MMMM:["month",R,Q("monthNames")],a:j,A:j,ZZ:Z,Z},ut={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},bt=function(Dt){return H(ut,Dt)},Rt=function(Dt,jt,re){if(jt===void 0&&(jt=ut.default),re===void 0&&(re={}),typeof Dt=="number"&&(Dt=new Date(Dt)),Object.prototype.toString.call(Dt)!=="[object Date]"||isNaN(Dt.getTime()))throw new Error("Invalid Date pass to format");jt=ut[jt]||jt;var ye=[];jt=jt.replace(N,function(Pe,$e){return ye.push($e),"@@@"});var ge=H(H({},Lt),re);return jt=jt.replace(y,function(Pe){return q[Pe](Dt,ge)}),jt.replace(/@@@/g,function(){return ye.shift()})};function Vt(Dt,jt,re){if(re===void 0&&(re={}),typeof jt!="string")throw new Error("Invalid format in fecha parse");if(jt=ut[jt]||jt,Dt.length>1e3)return null;var ye=new Date,ge={year:ye.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},Pe=[],$e=[],Qe=jt.replace(N,function(ar,Ge){return $e.push(J(Ge)),"@@@"}),Et={},ht={};Qe=J(Qe).replace(y,function(ar){var Ge=f[ar],Re=Ge[0],Mr=Ge[1],wr=Ge[3];if(Et[Re])throw new Error("Invalid format. "+Re+" specified twice in format");return Et[Re]=!0,wr&&(ht[wr]=!0),Pe.push(Ge),"("+Mr+")"}),Object.keys(ht).forEach(function(ar){if(!Et[ar])throw new Error("Invalid format. "+ar+" is required in specified format")}),Qe=Qe.replace(/@@@/g,function(){return $e.shift()});var et=Dt.match(new RegExp(Qe,"i"));if(!et)return null;for(var ct=H(H({},Lt),re),It=1;It<et.length;It++){var Ht=Pe[It-1],se=Ht[0],ve=Ht[2],ce=ve?ve(et[It],ct):+et[It];if(ce==null)return null;ge[se]=ce}ge.isPm===1&&ge.hour!=null&&+ge.hour!=12?ge.hour=+ge.hour+12:ge.isPm===0&&+ge.hour==12&&(ge.hour=0);var Oe;if(ge.timezoneOffset==null){Oe=new Date(ge.year,ge.month,ge.day,ge.hour,ge.minute,ge.second,ge.millisecond);for(var ke=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],It=0,Ye=ke.length;It<Ye;It++)if(Et[ke[It][0]]&&ge[ke[It][0]]!==Oe[ke[It][1]]())return null}else if(Oe=new Date(Date.UTC(ge.year,ge.month,ge.day,ge.hour,ge.minute-ge.timezoneOffset,ge.second,ge.millisecond)),ge.month>11||ge.month<0||ge.day>31||ge.day<1||ge.hour>23||ge.hour<0||ge.minute>59||ge.minute<0||ge.second>59||ge.second<0)return null;return Oe}var Ft={format:Rt,parse:Vt,defaultI18n:yt,setGlobalDateI18n:Mt,setGlobalDateMasks:bt},Qt=Ft;function ae(Dt){return function(jt,re,ye,ge){for(var Pe=(0,P.isNil)(ye)?0:ye,$e=(0,P.isNil)(ge)?jt.length:ge;Pe<$e;){var Qe=Pe+$e>>>1;Dt(jt[Qe])>re?$e=Qe:Pe=Qe+1}return Pe}}var ue="format";function Kt(Dt,jt){var re=b[ue]||Qt[ue];return re(Dt,jt)}function Bt(Dt){return(0,P.isString)(Dt)&&(Dt.indexOf("T")>0?Dt=new Date(Dt).getTime():Dt=new Date(Dt.replace(/-/gi,"/")).getTime()),(0,P.isDate)(Dt)&&(Dt=Dt.getTime()),Dt}var Ct=1e3,pt=60*Ct,Pt=60*pt,ft=24*Pt,ot=ft*31,St=ft*365,Ot=[["HH:mm:ss",Ct],["HH:mm:ss",Ct*10],["HH:mm:ss",Ct*30],["HH:mm",pt],["HH:mm",pt*10],["HH:mm",pt*30],["HH",Pt],["HH",Pt*6],["HH",Pt*12],["YYYY-MM-DD",ft],["YYYY-MM-DD",ft*4],["YYYY-WW",ft*7],["YYYY-MM",ot],["YYYY-MM",ot*4],["YYYY-MM",ot*6],["YYYY",ft*380]];function Zt(Dt,jt,re){var ye=(jt-Dt)/re,ge=ae(function($e){return $e[1]})(Ot,ye)-1,Pe=Ot[ge];return ge<0?Pe=Ot[0]:ge>=Ot.length&&(Pe=(0,P.last)(Ot)),Pe}var le=function(Dt){(0,E.__extends)(jt,Dt);function jt(){var re=Dt!==null&&Dt.apply(this,arguments)||this;return re.type="timeCat",re}return jt.prototype.translate=function(re){re=Bt(re);var ye=this.values.indexOf(re);return ye===-1&&((0,P.isNumber)(re)&&re<this.values.length?ye=re:ye=NaN),ye},jt.prototype.getText=function(re,ye){var ge=this.translate(re);if(ge>-1){var Pe=this.values[ge],$e=this.formatter;return Pe=$e?$e(Pe,ye):Kt(Pe,this.mask),Pe}return re},jt.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},jt.prototype.setDomain=function(){var re=this.values;(0,P.each)(re,function(ye,ge){re[ge]=Bt(ye)}),re.sort(function(ye,ge){return ye-ge}),Dt.prototype.setDomain.call(this)},jt}(w),be=le,Be=function(Dt){(0,E.__extends)(jt,Dt);function jt(){var re=Dt!==null&&Dt.apply(this,arguments)||this;return re.isContinuous=!0,re}return jt.prototype.scale=function(re){if((0,P.isNil)(re))return NaN;var ye=this.rangeMin(),ge=this.rangeMax(),Pe=this.max,$e=this.min;if(Pe===$e)return ye;var Qe=this.getScalePercent(re);return ye+Qe*(ge-ye)},jt.prototype.init=function(){Dt.prototype.init.call(this);var re=this.ticks,ye=(0,P.head)(re),ge=(0,P.last)(re);ye<this.min&&(this.min=ye),ge>this.max&&(this.max=ge),(0,P.isNil)(this.minLimit)||(this.min=ye),(0,P.isNil)(this.maxLimit)||(this.max=ge)},jt.prototype.setDomain=function(){var re=(0,P.getRange)(this.values),ye=re.min,ge=re.max;(0,P.isNil)(this.min)&&(this.min=ye),(0,P.isNil)(this.max)&&(this.max=ge),this.min>this.max&&(this.min=ye,this.max=ge)},jt.prototype.calculateTicks=function(){var re=this,ye=Dt.prototype.calculateTicks.call(this);return this.nice||(ye=(0,P.filter)(ye,function(ge){return ge>=re.min&&ge<=re.max})),ye},jt.prototype.getScalePercent=function(re){var ye=this.max,ge=this.min;return(re-ge)/(ye-ge)},jt.prototype.getInvertPercent=function(re){return(re-this.rangeMin())/(this.rangeMax()-this.rangeMin())},jt}(A),Fe=Be,lr=function(Dt){(0,E.__extends)(jt,Dt);function jt(){var re=Dt!==null&&Dt.apply(this,arguments)||this;return re.type="linear",re.isLinear=!0,re}return jt.prototype.invert=function(re){var ye=this.getInvertPercent(re);return this.min+ye*(this.max-this.min)},jt.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},jt}(Fe),dr=lr;function ur(Dt,jt){var re=Math.E,ye;return jt>=0?ye=Math.pow(re,Math.log(jt)/Dt):ye=Math.pow(re,Math.log(-jt)/Dt)*-1,ye}function Tr(Dt,jt){return Dt===1?1:Math.log(jt)/Math.log(Dt)}function sr(Dt,jt,re){(0,P.isNil)(re)&&(re=Math.max.apply(null,Dt));var ye=re;return(0,P.each)(Dt,function(ge){ge>0&&ge<ye&&(ye=ge)}),ye===re&&(ye=re/jt),ye>1&&(ye=1),ye}function zr(Dt){var jt=Dt.toString().split(/[eE]/),re=(jt[0].split(".")[1]||"").length-+(jt[1]||0);return re>0?re:0}function fn(Dt,jt){var re=zr(Dt),ye=zr(jt),ge=Math.pow(10,Math.max(re,ye));return(Dt*ge+jt*ge)/ge}var Yr=function(Dt){(0,E.__extends)(jt,Dt);function jt(){var re=Dt!==null&&Dt.apply(this,arguments)||this;return re.type="log",re}return jt.prototype.invert=function(re){var ye=this.base,ge=Tr(ye,this.max),Pe=this.rangeMin(),$e=this.rangeMax()-Pe,Qe,Et=this.positiveMin;if(Et){if(re===0)return 0;Qe=Tr(ye,Et/ye);var ht=1/(ge-Qe)*$e;if(re<ht)return re/ht*Et}else Qe=Tr(ye,this.min);var et=(re-Pe)/$e,ct=et*(ge-Qe)+Qe;return Math.pow(ye,ct)},jt.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},jt.prototype.setDomain=function(){Dt.prototype.setDomain.call(this);var re=this.min;if(re<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");re===0&&(this.positiveMin=sr(this.values,this.base,this.max))},jt.prototype.getScalePercent=function(re){var ye=this.max,ge=this.min;if(ye===ge||re<=0)return 0;var Pe=this.base,$e=this.positiveMin;$e&&(ge=$e*1/Pe);var Qe;return re<$e?Qe=re/$e/(Tr(Pe,ye)-Tr(Pe,ge)):Qe=(Tr(Pe,re)-Tr(Pe,ge))/(Tr(Pe,ye)-Tr(Pe,ge)),Qe},jt}(Fe),nn=Yr,pi=function(Dt){(0,E.__extends)(jt,Dt);function jt(){var re=Dt!==null&&Dt.apply(this,arguments)||this;return re.type="pow",re}return jt.prototype.invert=function(re){var ye=this.getInvertPercent(re),ge=this.exponent,Pe=ur(ge,this.max),$e=ur(ge,this.min),Qe=ye*(Pe-$e)+$e,Et=Qe>=0?1:-1;return Math.pow(Qe,ge)*Et},jt.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},jt.prototype.getScalePercent=function(re){var ye=this.max,ge=this.min;if(ye===ge)return 0;var Pe=this.exponent,$e=(ur(Pe,re)-ur(Pe,ge))/(ur(Pe,ye)-ur(Pe,ge));return $e},jt}(Fe),gi=pi,xi=function(Dt){(0,E.__extends)(jt,Dt);function jt(){var re=Dt!==null&&Dt.apply(this,arguments)||this;return re.type="time",re}return jt.prototype.getText=function(re,ye){var ge=this.translate(re),Pe=this.formatter;return Pe?Pe(ge,ye):Kt(ge,this.mask)},jt.prototype.scale=function(re){var ye=re;return((0,P.isString)(ye)||(0,P.isDate)(ye))&&(ye=this.translate(ye)),Dt.prototype.scale.call(this,ye)},jt.prototype.translate=function(re){return Bt(re)},jt.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},jt.prototype.setDomain=function(){var re=this.values,ye=this.getConfig("min"),ge=this.getConfig("max");if((!(0,P.isNil)(ye)||!(0,P.isNumber)(ye))&&(this.min=this.translate(this.min)),(!(0,P.isNil)(ge)||!(0,P.isNumber)(ge))&&(this.max=this.translate(this.max)),re&&re.length){var Pe=[],$e=Infinity,Qe=$e,Et=0;(0,P.each)(re,function(ht){var et=Bt(ht);if(isNaN(et))throw new TypeError("Invalid Time: "+ht+" in time scale!");$e>et?(Qe=$e,$e=et):Qe>et&&(Qe=et),Et<et&&(Et=et),Pe.push(et)}),re.length>1&&(this.minTickInterval=Qe-$e),(0,P.isNil)(ye)&&(this.min=$e),(0,P.isNil)(ge)&&(this.max=Et)}},jt}(dr),bi=xi,Xt=function(Dt){(0,E.__extends)(jt,Dt);function jt(){var re=Dt!==null&&Dt.apply(this,arguments)||this;return re.type="quantize",re}return jt.prototype.invert=function(re){var ye=this.ticks,ge=ye.length,Pe=this.getInvertPercent(re),$e=Math.floor(Pe*(ge-1));if($e>=ge-1)return(0,P.last)(ye);if($e<0)return(0,P.head)(ye);var Qe=ye[$e],Et=ye[$e+1],ht=$e/(ge-1),et=($e+1)/(ge-1);return Qe+(Pe-ht)/(et-ht)*(Et-Qe)},jt.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},jt.prototype.calculateTicks=function(){var re=Dt.prototype.calculateTicks.call(this);return this.nice||((0,P.last)(re)!==this.max&&re.push(this.max),(0,P.head)(re)!==this.min&&re.unshift(this.min)),re},jt.prototype.getScalePercent=function(re){var ye=this.ticks;if(re<(0,P.head)(ye))return 0;if(re>(0,P.last)(ye))return 1;var ge=0;return(0,P.each)(ye,function(Pe,$e){if(re>=Pe)ge=$e;else return!1}),ge/(ye.length-1)},jt}(Fe),Jt=Xt,oe=function(Dt){(0,E.__extends)(jt,Dt);function jt(){var re=Dt!==null&&Dt.apply(this,arguments)||this;return re.type="quantile",re}return jt.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},jt}(Jt),fe=oe,xe={};function Se(Dt){return xe[Dt]}function Me(Dt,jt){if(Se(Dt))throw new Error("type '"+Dt+"' existed.");xe[Dt]=jt}var _e=function(Dt){(0,E.__extends)(jt,Dt);function jt(){var re=Dt!==null&&Dt.apply(this,arguments)||this;return re.type="identity",re.isIdentity=!0,re}return jt.prototype.calculateTicks=function(){return this.values},jt.prototype.scale=function(re){return this.values[0]!==re&&(0,P.isNumber)(re)?re:this.range[0]},jt.prototype.invert=function(re){var ye=this.range;return re<ye[0]||re>ye[1]?NaN:this.values[0]},jt}(A),me=_e;function Ue(Dt){var jt=Dt.values,re=Dt.tickInterval,ye=Dt.tickCount,ge=Dt.showLast;if((0,P.isNumber)(re)){var Pe=(0,P.filter)(jt,function(se,ve){return ve%re==0}),$e=(0,P.last)(jt);return ge&&(0,P.last)(Pe)!==$e&&Pe.push($e),Pe}var Qe=jt.length,Et=Dt.min,ht=Dt.max;if((0,P.isNil)(Et)&&(Et=0),(0,P.isNil)(ht)&&(ht=jt.length-1),!(0,P.isNumber)(ye)||ye>=Qe)return jt.slice(Et,ht+1);if(ye<=0||ht<=0)return[];for(var et=ye===1?Qe:Math.floor(Qe/(ye-1)),ct=[],It=Et,Ht=0;Ht<ye&&!(It>=ht);Ht++)It=Math.min(Et+Ht*et,ht),Ht===ye-1&&ge?ct.push(jt[ht]):ct.push(jt[It]);return ct}function Ne(Dt){var jt=Dt.min,re=Dt.max,ye=Dt.nice,ge=Dt.tickCount,Pe=new or;return Pe.domain([jt,re]),ye&&Pe.nice(ge),Pe.ticks(ge)}var er=5,hr=Math.sqrt(50),nr=Math.sqrt(10),fr=Math.sqrt(2),or=function(){function Dt(){this._domain=[0,1]}return Dt.prototype.domain=function(jt){return jt?(this._domain=Array.from(jt,Number),this):this._domain.slice()},Dt.prototype.nice=function(jt){var re,ye;jt===void 0&&(jt=er);var ge=this._domain.slice(),Pe=0,$e=this._domain.length-1,Qe=this._domain[Pe],Et=this._domain[$e],ht;return Et<Qe&&(re=[Et,Qe],Qe=re[0],Et=re[1],ye=[$e,Pe],Pe=ye[0],$e=ye[1]),ht=We(Qe,Et,jt),ht>0?(Qe=Math.floor(Qe/ht)*ht,Et=Math.ceil(Et/ht)*ht,ht=We(Qe,Et,jt)):ht<0&&(Qe=Math.ceil(Qe*ht)/ht,Et=Math.floor(Et*ht)/ht,ht=We(Qe,Et,jt)),ht>0?(ge[Pe]=Math.floor(Qe/ht)*ht,ge[$e]=Math.ceil(Et/ht)*ht,this.domain(ge)):ht<0&&(ge[Pe]=Math.ceil(Qe*ht)/ht,ge[$e]=Math.floor(Et*ht)/ht,this.domain(ge)),this},Dt.prototype.ticks=function(jt){return jt===void 0&&(jt=er),br(this._domain[0],this._domain[this._domain.length-1],jt||er)},Dt}();function br(Dt,jt,re){var ye,ge=-1,Pe,$e,Qe;if(jt=+jt,Dt=+Dt,re=+re,Dt===jt&&re>0)return[Dt];if((ye=jt<Dt)&&(Pe=Dt,Dt=jt,jt=Pe),(Qe=We(Dt,jt,re))===0||!isFinite(Qe))return[];if(Qe>0)for(Dt=Math.ceil(Dt/Qe),jt=Math.floor(jt/Qe),$e=new Array(Pe=Math.ceil(jt-Dt+1));++ge<Pe;)$e[ge]=(Dt+ge)*Qe;else for(Dt=Math.floor(Dt*Qe),jt=Math.ceil(jt*Qe),$e=new Array(Pe=Math.ceil(Dt-jt+1));++ge<Pe;)$e[ge]=(Dt-ge)/Qe;return ye&&$e.reverse(),$e}function We(Dt,jt,re){var ye=(jt-Dt)/Math.max(0,re),ge=Math.floor(Math.log(ye)/Math.LN10),Pe=ye/Math.pow(10,ge);return ge>=0?(Pe>=hr?10:Pe>=nr?5:Pe>=fr?2:1)*Math.pow(10,ge):-Math.pow(10,-ge)/(Pe>=hr?10:Pe>=nr?5:Pe>=fr?2:1)}function Cr(Dt,jt,re){var ye;return re==="ceil"?ye=Math.ceil(Dt/jt):re==="floor"?ye=Math.floor(Dt/jt):ye=Math.round(Dt/jt),ye*jt}function Lr(Dt,jt,re){var ye=Cr(Dt,re,"floor"),ge=Cr(jt,re,"ceil");ye=(0,P.fixedBase)(ye,re),ge=(0,P.fixedBase)(ge,re);for(var Pe=[],$e=Math.max((ge-ye)/(Math.pow(2,12)-1),re),Qe=ye;Qe<=ge;Qe=Qe+$e){var Et=(0,P.fixedBase)(Qe,$e);Pe.push(Et)}return{min:ye,max:ge,ticks:Pe}}function Pr(Dt,jt,re){var ye,ge=Dt.minLimit,Pe=Dt.maxLimit,$e=Dt.min,Qe=Dt.max,Et=Dt.tickCount,ht=Et===void 0?5:Et,et=(0,P.isNil)(ge)?(0,P.isNil)(jt)?$e:jt:ge,ct=(0,P.isNil)(Pe)?(0,P.isNil)(re)?Qe:re:Pe;if(et>ct&&(ye=[et,ct],ct=ye[0],et=ye[1]),ht<=2)return[et,ct];for(var It=(ct-et)/(ht-1),Ht=[],se=0;se<ht;se++)Ht.push(et+It*se);return Ht}function Br(Dt){var jt=Dt.min,re=Dt.max,ye=Dt.tickInterval,ge=Dt.minLimit,Pe=Dt.maxLimit,$e=Ne(Dt);return!(0,P.isNil)(ge)||!(0,P.isNil)(Pe)?Pr(Dt,(0,P.head)($e),(0,P.last)($e)):ye?Lr(jt,re,ye).ticks:$e}function Hr(Dt){return Math.abs(Dt)<1e-15?Dt:parseFloat(Dt.toFixed(15))}var Wr=[1,5,2,2.5,4,3],Nn=null,tn=Number.EPSILON*100;function Xn(Dt,jt){return(Dt%jt+jt)%jt}function ui(Dt){return Math.round(Dt*1e12)/1e12}function Zn(Dt,jt,re,ye,ge,Pe){var $e=(0,P.size)(jt),Qe=(0,P.indexOf)(jt,Dt),Et=0,ht=Xn(ye,Pe);return(ht<tn||Pe-ht<tn)&&ye<=0&&ge>=0&&(Et=1),1-Qe/($e-1)-re+Et}function wi(Dt,jt,re){var ye=(0,P.size)(jt),ge=(0,P.indexOf)(jt,Dt),Pe=1;return 1-ge/(ye-1)-re+Pe}function Si(Dt,jt,re,ye,ge,Pe){var $e=(Dt-1)/(Pe-ge),Qe=(jt-1)/(Math.max(Pe,ye)-Math.min(re,ge));return 2-Math.max($e/Qe,Qe/$e)}function Ir(Dt,jt){return Dt>=jt?2-(Dt-1)/(jt-1):1}function fi(Dt,jt,re,ye){var ge=jt-Dt;return 1-.5*(Math.pow(jt-ye,2)+Math.pow(Dt-re,2))/Math.pow(.1*ge,2)}function Pi(Dt,jt,re){var ye=jt-Dt;if(re>ye){var ge=(re-ye)/2;return 1-Math.pow(ge,2)/Math.pow(.1*ye,2)}return 1}function hi(){return 1}function xn(Dt,jt,re,ye,ge,Pe){re===void 0&&(re=5),ye===void 0&&(ye=!0),ge===void 0&&(ge=Wr),Pe===void 0&&(Pe=[.25,.2,.5,.05]);var $e=re<0?0:Math.round(re);if(Number.isNaN(Dt)||Number.isNaN(jt)||typeof Dt!="number"||typeof jt!="number"||!$e)return{min:0,max:0,ticks:[]};if(jt-Dt<1e-15||$e===1)return{min:Dt,max:jt,ticks:[Dt]};if(jt-Dt>1e148){var Qe=re||5,Et=(jt-Dt)/Qe;return{min:Dt,max:jt,ticks:Array(Qe).fill(null).map(function(qi,Sa){return Hr(Dt+Et*Sa)})}}for(var ht={score:-2,lmin:0,lmax:0,lstep:0},et=1;et<Infinity;){for(var ct=0;ct<ge.length;ct+=1){var It=ge[ct],Ht=wi(It,ge,et);if(Pe[0]*Ht+Pe[1]+Pe[2]+Pe[3]<ht.score){et=Infinity;break}for(var se=2;se<Infinity;){var ve=Ir(se,$e);if(Pe[0]*Ht+Pe[1]+Pe[2]*ve+Pe[3]<ht.score)break;for(var ce=(jt-Dt)/(se+1)/et/It,Oe=Math.ceil(Math.log10(ce));Oe<Infinity;){var ke=et*It*Math.pow(10,Oe),Ye=Pi(Dt,jt,ke*(se-1));if(Pe[0]*Ht+Pe[1]*Ye+Pe[2]*ve+Pe[3]<ht.score)break;var ar=Math.floor(jt/ke)*et-(se-1)*et,Ge=Math.ceil(Dt/ke)*et;if(ar<=Ge)for(var Qe=Ge-ar,Re=0;Re<=Qe;Re+=1){var Mr=ar+Re,wr=Mr*(ke/et),Nr=wr+ke*(se-1),Gr=ke,cr=Zn(It,ge,et,wr,Nr,Gr),rr=fi(Dt,jt,wr,Nr),Xr=Si(se,$e,Dt,jt,wr,Nr),cn=hi(),Mn=Pe[0]*cr+Pe[1]*rr+Pe[2]*Xr+Pe[3]*cn;Mn>ht.score&&(!ye||wr<=Dt&&Nr>=jt)&&(ht.lmin=wr,ht.lmax=Nr,ht.lstep=Gr,ht.score=Mn)}Oe+=1}se+=1}}et+=1}var Qn=Hr(ht.lmax),Jn=Hr(ht.lmin),wa=Hr(ht.lstep),Li=Math.floor(ui((Qn-Jn)/wa))+1,Yn=new Array(Li);Yn[0]=Hr(Jn);for(var ct=1;ct<Li;ct++)Yn[ct]=Hr(Yn[ct-1]+wa);return{min:Math.min(Dt,(0,P.head)(Yn)),max:Math.max(jt,(0,P.last)(Yn)),ticks:Yn}}function ci(Dt){var jt=Dt.min,re=Dt.max,ye=Dt.tickCount,ge=Dt.nice,Pe=Dt.tickInterval,$e=Dt.minLimit,Qe=Dt.maxLimit,Et=xn(jt,re,ye,ge).ticks;return!(0,P.isNil)($e)||!(0,P.isNil)(Qe)?Pr(Dt,(0,P.head)(Et),(0,P.last)(Et)):Pe?Lr(jt,re,Pe).ticks:Et}function _i(Dt){var jt=Dt.base,re=Dt.tickCount,ye=Dt.min,ge=Dt.max,Pe=Dt.values,$e,Qe=Tr(jt,ge);if(ye>0)$e=Math.floor(Tr(jt,ye));else{var Et=sr(Pe,jt,ge);$e=Math.floor(Tr(jt,Et))}for(var ht=Qe-$e,et=Math.ceil(ht/re),ct=[],It=$e;It<Qe+et;It=It+et)ct.push(Math.pow(jt,It));return ye<=0&&ct.unshift(0),ct}function Kn(Dt,jt,re){if(re===void 0&&(re=5),Dt===jt)return{max:jt,min:Dt,ticks:[Dt]};var ye=re<0?0:Math.round(re);if(ye===0)return{max:jt,min:Dt,ticks:[]};var ge=1.5,Pe=.5+1.5*ge,$e=jt-Dt,Qe=$e/ye,Et=Math.pow(10,Math.floor(Math.log10(Qe))),ht=Et;2*Et-Qe<ge*(Qe-ht)&&(ht=2*Et,5*Et-Qe<Pe*(Qe-ht)&&(ht=5*Et,10*Et-Qe<ge*(Qe-ht)&&(ht=10*Et)));for(var et=Math.ceil(jt/ht),ct=Math.floor(Dt/ht),It=Math.max(et*ht,jt),Ht=Math.min(ct*ht,Dt),se=Math.floor((It-Ht)/ht)+1,ve=new Array(se),ce=0;ce<se;ce++)ve[ce]=Hr(Ht+ce*ht);return{min:Ht,max:It,ticks:ve}}function ai(Dt){var jt=Dt.exponent,re=Dt.tickCount,ye=Math.ceil(ur(jt,Dt.max)),ge=Math.floor(ur(jt,Dt.min)),Pe=Kn(ge,ye,re).ticks;return Pe.map(function($e){var Qe=$e>=0?1:-1;return Math.pow($e,jt)*Qe})}function _n(Dt,jt){var re=Dt.length*jt;return jt===1?Dt[Dt.length-1]:jt===0?Dt[0]:re%1!=0?Dt[Math.ceil(re)-1]:Dt.length%2==0?(Dt[re-1]+Dt[re])/2:Dt[re]}function Vi(Dt){var jt=Dt.tickCount,re=Dt.values;if(!re||!re.length)return[];for(var ye=re.slice().sort(function(Qe,Et){return Qe-Et}),ge=[],Pe=0;Pe<jt;Pe++){var $e=Pe/(jt-1);ge.push(_n(ye,$e))}return ge}function Hi(Dt){var jt=Dt.min,re=Dt.max,ye=Dt.tickCount,ge=Dt.tickInterval,Pe=Dt.minLimit,$e=Dt.maxLimit,Qe=Kn(jt,re,ye).ticks;return!(0,P.isNil)(Pe)||!(0,P.isNil)($e)?Pr(Dt,(0,P.head)(Qe),(0,P.last)(Qe)):ge?Lr(jt,re,ge).ticks:Qe}function En(Dt){var jt=Dt.min,re=Dt.max,ye=Dt.minTickInterval,ge=Dt.tickInterval,Pe=Dt.tickCount;if(ge)Pe=Math.ceil((re-jt)/ge);else{ge=Zt(jt,re,Pe)[1];var $e=(re-jt)/ge,Qe=$e/Pe;Qe>1&&(ge=ge*Math.ceil(Qe)),ye&&ge<ye&&(ge=ye)}ge=Math.max(Math.floor((re-jt)/(Math.pow(2,12)-1)),ge);for(var Et=[],ht=jt;ht<re+ge;ht+=ge)Et.push(ht);return Et}function $n(Dt){var jt=Ue((0,E.__assign)({showLast:!0},Dt));return jt}function Wn(Dt){return new Date(Dt).getFullYear()}function Ri(Dt){return new Date(Dt,0,1).getTime()}function ei(Dt){return new Date(Dt).getMonth()}function sa(Dt,jt){var re=Wn(Dt),ye=Wn(jt),ge=ei(Dt),Pe=ei(jt);return(ye-re)*12+(Pe-ge)%12}function oi(Dt,jt){return new Date(Dt,jt,1).getTime()}function ba(Dt,jt){return Math.ceil((jt-Dt)/ft)}function Wi(Dt,jt){return Math.ceil((jt-Dt)/Pt)}function Ji(Dt,jt){return Math.ceil((jt-Dt)/(60*1e3))}function Oa(Dt){var jt=Dt.min,re=Dt.max,ye=Dt.minTickInterval,ge=Dt.tickCount,Pe=Dt.tickInterval,$e=[];Pe||(Pe=(re-jt)/ge,ye&&Pe<ye&&(Pe=ye)),Pe=Math.max(Math.floor((re-jt)/(Math.pow(2,12)-1)),Pe);var Qe=Wn(jt);if(Pe>St)for(var Et=Wn(re),ht=Math.ceil(Pe/St),et=Qe;et<=Et+ht;et=et+ht)$e.push(Ri(et));else if(Pe>ot)for(var ct=Math.ceil(Pe/ot),It=ei(jt),Ht=sa(jt,re),et=0;et<=Ht+ct;et=et+ct)$e.push(oi(Qe,et+It));else if(Pe>ft)for(var se=new Date(jt),ve=se.getFullYear(),ce=se.getMonth(),Oe=se.getDate(),ke=Math.ceil(Pe/ft),Ye=ba(jt,re),et=0;et<Ye+ke;et=et+ke)$e.push(new Date(ve,ce,Oe+et).getTime());else if(Pe>Pt)for(var se=new Date(jt),ve=se.getFullYear(),ce=se.getMonth(),ke=se.getDate(),ar=se.getHours(),Ge=Math.ceil(Pe/Pt),Re=Wi(jt,re),et=0;et<=Re+Ge;et=et+Ge)$e.push(new Date(ve,ce,ke,ar+et).getTime());else if(Pe>pt)for(var Mr=Ji(jt,re),wr=Math.ceil(Pe/pt),et=0;et<=Mr+wr;et=et+wr)$e.push(jt+et*pt);else{var Nr=Pe;Nr<Ct&&(Nr=Ct);for(var Gr=Math.floor(jt/Ct)*Ct,cr=Math.ceil((re-jt)/Ct),rr=Math.ceil(Nr/Ct),et=0;et<cr+rr;et=et+rr)$e.push(Gr+et*Ct)}return $e.length>=512&&console.warn("Notice: current ticks length("+$e.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+Pe+") is too small, increase the value to solve the problem!"),$e}L("cat",Ue),L("time-cat",$n),L("wilkinson-extended",ci),L("r-pretty",Hi),L("time",En),L("time-pretty",Oa),L("log",_i),L("pow",ai),L("quantile",Vi),L("d3-linear",Br),Me("cat",w),Me("category",w),Me("identity",me),Me("linear",dr),Me("log",nn),Me("pow",gi),Me("time",bi),Me("timeCat",be),Me("quantize",Jt),Me("quantile",fe)},49242:function(dt,S,d){"use strict";d.r(S),d.d(S,{Cache:function(){return ir},assign:function(){return Qn},augment:function(){return wa},clamp:function(){return nr},clearAnimationFrame:function(){return cn},clone:function(){return Yn},contains:function(){return O},debounce:function(){return Sa},deepMix:function(){return va},difference:function(){return E},each:function(){return W},endsWith:function(){return fn},every:function(){return nn},extend:function(){return ji},filter:function(){return T},find:function(){return J},findIndex:function(){return q},firstValue:function(){return gt},fixedBase:function(){return or},flatten:function(){return j},flattenDeep:function(){return f},forIn:function(){return En},get:function(){return z},getEllipsisText:function(){return Te},getRange:function(){return Vt},getType:function(){return Et},getWrapBehavior:function(){return xe},group:function(){return oe},groupBy:function(){return Xt},groupToMap:function(){return Jt},has:function(){return $n},hasKey:function(){return Wn},hasValue:function(){return sa},head:function(){return dr},identity:function(){return $t},includes:function(){return O},indexOf:function(){return Ma},isArguments:function(){return et},isArray:function(){return k},isArrayLike:function(){return P},isBoolean:function(){return It},isDate:function(){return se},isDecimal:function(){return Lr},isElement:function(){return rr},isEmpty:function(){return Ha},isEqual:function(){return dn},isEqualWith:function(){return da},isError:function(){return ce},isEven:function(){return Br},isFinite:function(){return Oe},isFunction:function(){return x},isInteger:function(){return Wr},isMatch:function(){return it},isNegative:function(){return tn},isNil:function(){return M},isNull:function(){return Ye},isNumber:function(){return We},isNumberEqual:function(){return ui},isObject:function(){return R},isObjectLike:function(){return wt},isOdd:function(){return wi},isPlainObject:function(){return Lt},isPositive:function(){return Ir},isPrototype:function(){return Re},isRegExp:function(){return wr},isString:function(){return Ot},isType:function(){return y},isUndefined:function(){return Gr},keys:function(){return H},last:function(){return ur},lowerCase:function(){return Wi},lowerFirst:function(){return Oa},map:function(){return pa},mapValues:function(){return vt},max:function(){return ut},maxBy:function(){return fi},measureTextWidth:function(){return Ae},memoize:function(){return ka},min:function(){return bt},minBy:function(){return Pi},mix:function(){return Qn},mod:function(){return xn},noop:function(){return _t},number2color:function(){return Ue},omit:function(){return Y},parseRadius:function(){return er},pick:function(){return B},pull:function(){return Kt},pullAt:function(){return pt},reduce:function(){return ft},remove:function(){return St},requestAnimationFrame:function(){return Xr},set:function(){return _},size:function(){return ne},some:function(){return gi},sortBy:function(){return le},startsWith:function(){return sr},substitute:function(){return jt},throttle:function(){return U},toArray:function(){return rt},toDegree:function(){return Kn},toInteger:function(){return ai},toRadian:function(){return Hi},toString:function(){return oi},union:function(){return Fe},uniq:function(){return be},uniqueId:function(){return Tt},upperCase:function(){return ye},upperFirst:function(){return Pe},values:function(){return ei},valuesOfKey:function(){return lr},wrapBehavior:function(){return Me}});var b=function(At){return At!==null&&typeof At!="function"&&isFinite(At.length)},P=b,D=function(At,Ut){return P(At)?At.indexOf(Ut)>-1:!1},O=D,L=function(At,Ut){if(!P(At))return At;for(var qt=[],ee=0;ee<At.length;ee++){var we=At[ee];Ut(we,ee)&&qt.push(we)}return qt},T=L,A=function(At,Ut){return Ut===void 0&&(Ut=[]),T(At,function(qt){return!O(Ut,qt)})},E=A,p={}.toString,w=function(At,Ut){return p.call(At)==="[object "+Ut+"]"},y=w,x=function(At){return y(At,"Function")},m=function(At){return At==null},M=m,k=function(At){return Array.isArray?Array.isArray(At):y(At,"Array")},R=function(At){var Ut=typeof At;return At!==null&&Ut==="object"||Ut==="function"};function N(At,Ut){if(!!At){var qt;if(k(At))for(var ee=0,we=At.length;ee<we&&(qt=Ut(At[ee],ee),qt!==!1);ee++);else if(R(At)){for(var Ze in At)if(At.hasOwnProperty(Ze)&&(qt=Ut(At[Ze],Ze),qt===!1))break}}}var W=N,Q=Object.keys?function(At){return Object.keys(At)}:function(At){var Ut=[];return W(At,function(qt,ee){x(At)&&ee==="prototype"||Ut.push(ee)}),Ut},H=Q;function $(At,Ut){var qt=H(Ut),ee=qt.length;if(M(At))return!ee;for(var we=0;we<ee;we+=1){var Ze=qt[we];if(Ut[Ze]!==At[Ze]||!(Ze in At))return!1}return!0}var it=$,nt=function(At){return typeof At=="object"&&At!==null},wt=nt,yt=function(At){if(!wt(At)||!y(At,"Object"))return!1;if(Object.getPrototypeOf(At)===null)return!0;for(var Ut=At;Object.getPrototypeOf(Ut)!==null;)Ut=Object.getPrototypeOf(Ut);return Object.getPrototypeOf(At)===Ut},Lt=yt;function Mt(At,Ut){if(!k(At))return null;var qt;if(x(Ut)&&(qt=Ut),Lt(Ut)&&(qt=function(we){return it(we,Ut)}),qt){for(var ee=0;ee<At.length;ee+=1)if(qt(At[ee]))return At[ee]}return null}var J=Mt;function tt(At,Ut,qt){qt===void 0&&(qt=0);for(var ee=qt;ee<At.length;ee++)if(Ut(At[ee],ee))return ee;return-1}var q=tt,lt=function(At,Ut){for(var qt=null,ee=0;ee<At.length;ee++){var we=At[ee],Ze=we[Ut];if(!M(Ze)){k(Ze)?qt=Ze[0]:qt=Ze;break}}return qt},gt=lt,K=function(At){if(!k(At))return[];for(var Ut=[],qt=0;qt<At.length;qt++)Ut=Ut.concat(At[qt]);return Ut},j=K,Z=function(At,Ut){if(Ut===void 0&&(Ut=[]),!k(At))Ut.push(At);else for(var qt=0;qt<At.length;qt+=1)Z(At[qt],Ut);return Ut},f=Z,ut=function(At){if(!!k(At))return At.reduce(function(Ut,qt){return Math.max(Ut,qt)},At[0])},bt=function(At){if(!!k(At))return At.reduce(function(Ut,qt){return Math.min(Ut,qt)},At[0])},Rt=function(At){var Ut=At.filter(function(Sr){return!isNaN(Sr)});if(!Ut.length)return{min:0,max:0};if(k(At[0])){for(var qt=[],ee=0;ee<At.length;ee++)qt=qt.concat(At[ee]);Ut=qt}var we=ut(Ut),Ze=bt(Ut);return{min:Ze,max:we}},Vt=Rt,Ft=Array.prototype,Qt=Ft.splice,ae=Ft.indexOf,ue=function(At){for(var Ut=[],qt=1;qt<arguments.length;qt++)Ut[qt-1]=arguments[qt];for(var ee=0;ee<Ut.length;ee++)for(var we=Ut[ee],Ze=-1;(Ze=ae.call(At,we))>-1;)Qt.call(At,Ze,1);return At},Kt=ue,Bt=Array.prototype.splice,Ct=function(Ut,qt){if(!P(Ut))return[];for(var ee=Ut?qt.length:0,we=ee-1;ee--;){var Ze=void 0,Sr=qt[ee];(ee===we||Sr!==Ze)&&(Ze=Sr,Bt.call(Ut,Sr,1))}return Ut},pt=Ct,Pt=function(At,Ut,qt){if(!k(At)&&!Lt(At))return At;var ee=qt;return W(At,function(we,Ze){ee=Ut(ee,we,Ze)}),ee},ft=Pt,ot=function(At,Ut){var qt=[];if(!P(At))return qt;for(var ee=-1,we=[],Ze=At.length;++ee<Ze;){var Sr=At[ee];Ut(Sr,ee,At)&&(qt.push(Sr),we.push(ee))}return pt(At,we),qt},St=ot,Ot=function(At){return y(At,"String")};function Zt(At,Ut){var qt;if(x(Ut))qt=function(we,Ze){return Ut(we)-Ut(Ze)};else{var ee=[];Ot(Ut)?ee.push(Ut):k(Ut)&&(ee=Ut),qt=function(we,Ze){for(var Sr=0;Sr<ee.length;Sr+=1){var an=ee[Sr];if(we[an]>Ze[an])return 1;if(we[an]<Ze[an])return-1}return 0}}return At.sort(qt),At}var le=Zt;function be(At,Ut){Ut===void 0&&(Ut=new Map);var qt=[];if(Array.isArray(At))for(var ee=0,we=At.length;ee<we;ee++){var Ze=At[ee];Ut.has(Ze)||(qt.push(Ze),Ut.set(Ze,!0))}return qt}var Be=function(){for(var At=[],Ut=0;Ut<arguments.length;Ut++)At[Ut]=arguments[Ut];return be([].concat.apply([],At))},Fe=Be,lr=function(At,Ut){for(var qt=[],ee={},we=0;we<At.length;we++){var Ze=At[we],Sr=Ze[Ut];if(!M(Sr)){k(Sr)||(Sr=[Sr]);for(var an=0;an<Sr.length;an++){var ni=Sr[an];ee[ni]||(qt.push(ni),ee[ni]=!0)}}}return qt};function dr(At){if(P(At))return At[0]}function ur(At){if(P(At)){var Ut=At;return Ut[Ut.length-1]}}function Tr(At,Ut){return k(At)||Ot(At)?At[0]===Ut:!1}var sr=Tr;function zr(At,Ut){return k(At)||Ot(At)?At[At.length-1]===Ut:!1}var fn=zr,Yr=function(At,Ut){for(var qt=0;qt<At.length;qt++)if(!Ut(At[qt],qt))return!1;return!0},nn=Yr,pi=function(At,Ut){for(var qt=0;qt<At.length;qt++)if(Ut(At[qt],qt))return!0;return!1},gi=pi,xi=Object.prototype.hasOwnProperty;function bi(At,Ut){if(!Ut||!k(At))return{};for(var qt={},ee=x(Ut)?Ut:function(an){return an[Ut]},we,Ze=0;Ze<At.length;Ze++){var Sr=At[Ze];we=ee(Sr),xi.call(qt,we)?qt[we].push(Sr):qt[we]=[Sr]}return qt}var Xt=bi;function Jt(At,Ut){if(!Ut)return{0:At};if(!x(Ut)){var qt=k(Ut)?Ut:Ut.replace(/\s+/g,"").split("*");Ut=function(ee){for(var we="_",Ze=0,Sr=qt.length;Ze<Sr;Ze++)we+=ee[qt[Ze]]&&ee[qt[Ze]].toString();return we}}return Xt(At,Ut)}var oe=function(At,Ut){if(!Ut)return[At];var qt=Jt(At,Ut),ee=[];for(var we in qt)ee.push(qt[we]);return ee};function fe(At,Ut){return At["_wrap_"+Ut]}var xe=fe;function Se(At,Ut){if(At["_wrap_"+Ut])return At["_wrap_"+Ut];var qt=function(ee){At[Ut](ee)};return At["_wrap_"+Ut]=qt,qt}var Me=Se,_e={};function me(At){var Ut=_e[At];if(!Ut){for(var qt=At.toString(16),ee=qt.length;ee<6;ee++)qt="0"+qt;Ut="#"+qt,_e[At]=Ut}return Ut}var Ue=me;function Ne(At){var Ut=0,qt=0,ee=0,we=0;return k(At)?At.length===1?Ut=qt=ee=we=At[0]:At.length===2?(Ut=ee=At[0],qt=we=At[1]):At.length===3?(Ut=At[0],qt=we=At[1],ee=At[2]):(Ut=At[0],qt=At[1],ee=At[2],we=At[3]):Ut=qt=ee=we=At,{r1:Ut,r2:qt,r3:ee,r4:we}}var er=Ne,hr=function(At,Ut,qt){return At<Ut?Ut:At>qt?qt:At},nr=hr,fr=function(At,Ut){var qt=Ut.toString(),ee=qt.indexOf(".");if(ee===-1)return Math.round(At);var we=qt.substr(ee+1).length;return we>20&&(we=20),parseFloat(At.toFixed(we))},or=fr,br=function(At){return y(At,"Number")},We=br,Cr=function(At){return We(At)&&At%1!=0},Lr=Cr,Pr=function(At){return We(At)&&At%2==0},Br=Pr,Hr=Number.isInteger?Number.isInteger:function(At){return We(At)&&At%1==0},Wr=Hr,Nn=function(At){return We(At)&&At<0},tn=Nn,Xn=1e-5;function ui(At,Ut,qt){return qt===void 0&&(qt=Xn),Math.abs(At-Ut)<qt}var Zn=function(At){return We(At)&&At%2!=0},wi=Zn,Si=function(At){return We(At)&&At>0},Ir=Si,fi=function(At,Ut){if(!!k(At)){for(var qt,ee=-Infinity,we=0;we<At.length;we++){var Ze=At[we],Sr=x(Ut)?Ut(Ze):Ze[Ut];Sr>ee&&(qt=Ze,ee=Sr)}return qt}},Pi=function(At,Ut){if(!!k(At)){for(var qt,ee=Infinity,we=0;we<At.length;we++){var Ze=At[we],Sr=x(Ut)?Ut(Ze):Ze[Ut];Sr<ee&&(qt=Ze,ee=Sr)}return qt}},hi=function(At,Ut){return(At%Ut+Ut)%Ut},xn=hi,ci=180/Math.PI,_i=function(At){return ci*At},Kn=_i,ai=parseInt,_n=Math.PI/180,Vi=function(At){return _n*At},Hi=Vi,En=W,$n=function(At,Ut){return At.hasOwnProperty(Ut)},Wn=$n,Ri=Object.values?function(At){return Object.values(At)}:function(At){var Ut=[];return W(At,function(qt,ee){x(At)&&ee==="prototype"||Ut.push(qt)}),Ut},ei=Ri,sa=function(At,Ut){return O(ei(At),Ut)},oi=function(At){return M(At)?"":At.toString()},ba=function(At){return oi(At).toLowerCase()},Wi=ba,Ji=function(At){var Ut=oi(At);return Ut.charAt(0).toLowerCase()+Ut.substring(1)},Oa=Ji;function Dt(At,Ut){return!At||!Ut?At:At.replace(/\\?\{([^{}]+)\}/g,function(qt,ee){return qt.charAt(0)==="\\"?qt.slice(1):Ut[ee]===void 0?"":Ut[ee]})}var jt=Dt,re=function(At){return oi(At).toUpperCase()},ye=re,ge=function(At){var Ut=oi(At);return Ut.charAt(0).toUpperCase()+Ut.substring(1)},Pe=ge,$e={}.toString,Qe=function(At){return $e.call(At).replace(/^\[object /,"").replace(/]$/,"")},Et=Qe,ht=function(At){return y(At,"Arguments")},et=ht,ct=function(At){return y(At,"Boolean")},It=ct,Ht=function(At){return y(At,"Date")},se=Ht,ve=function(At){return y(At,"Error")},ce=ve;function Oe(At){return We(At)&&isFinite(At)}var ke=function(At){return At===null},Ye=ke,ar=Object.prototype,Ge=function(At){var Ut=At&&At.constructor,qt=typeof Ut=="function"&&Ut.prototype||ar;return At===qt},Re=Ge,Mr=function(At){return y(At,"RegExp")},wr=Mr,Nr=function(At){return At===void 0},Gr=Nr,cr=function(At){return At instanceof Element||At instanceof HTMLDocument},rr=cr;function Xr(At){var Ut=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(qt){return setTimeout(qt,16)};return Ut(At)}function cn(At){var Ut=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;Ut(At)}function Mn(At,Ut){for(var qt in Ut)Ut.hasOwnProperty(qt)&&qt!=="constructor"&&Ut[qt]!==void 0&&(At[qt]=Ut[qt])}function Qn(At,Ut,qt,ee){return Ut&&Mn(At,Ut),qt&&Mn(At,qt),ee&&Mn(At,ee),At}var Jn=function(){for(var At=[],Ut=0;Ut<arguments.length;Ut++)At[Ut]=arguments[Ut];for(var qt=At[0],ee=1;ee<At.length;ee++){var we=At[ee];x(we)&&(we=we.prototype),Qn(qt.prototype,we)}},wa=Jn,Li=function(At){if(typeof At!="object"||At===null)return At;var Ut;if(k(At)){Ut=[];for(var qt=0,ee=At.length;qt<ee;qt++)typeof At[qt]=="object"&&At[qt]!=null?Ut[qt]=Li(At[qt]):Ut[qt]=At[qt]}else{Ut={};for(var we in At)typeof At[we]=="object"&&At[we]!=null?Ut[we]=Li(At[we]):Ut[we]=At[we]}return Ut},Yn=Li;function qi(At,Ut,qt){var ee;return function(){var we=this,Ze=arguments,Sr=function(){ee=null,qt||At.apply(we,Ze)},an=qt&&!ee;clearTimeout(ee),ee=setTimeout(Sr,Ut),an&&At.apply(we,Ze)}}var Sa=qi,ka=function(At,Ut){if(!x(At))throw new TypeError("Expected a function");var qt=function(){for(var ee=[],we=0;we<arguments.length;we++)ee[we]=arguments[we];var Ze=Ut?Ut.apply(this,ee):ee[0],Sr=qt.cache;if(Sr.has(Ze))return Sr.get(Ze);var an=At.apply(this,ee);return Sr.set(Ze,an),an};return qt.cache=new Map,qt},Ca=5;function ha(At,Ut,qt,ee){qt=qt||0,ee=ee||Ca;for(var we in Ut)if(Ut.hasOwnProperty(we)){var Ze=Ut[we];Ze!==null&&Lt(Ze)?(Lt(At[we])||(At[we]={}),qt<ee?ha(At[we],Ze,qt+1,ee):At[we]=Ut[we]):k(Ze)?(At[we]=[],At[we]=At[we].concat(Ze)):Ze!==void 0&&(At[we]=Ze)}}var ca=function(At){for(var Ut=[],qt=1;qt<arguments.length;qt++)Ut[qt-1]=arguments[qt];for(var ee=0;ee<Ut.length;ee+=1)ha(At,Ut[ee]);return At},va=ca,si=function(At,Ut,qt,ee){x(Ut)||(qt=Ut,Ut=At,At=function(){});var we=Object.create?function(Sr,an){return Object.create(Sr,{constructor:{value:an}})}:function(Sr,an){function ni(){}ni.prototype=Sr;var Ui=new ni;return Ui.constructor=an,Ui},Ze=we(Ut.prototype,At);return At.prototype=Qn(Ze,At.prototype),At.superclass=we(Ut.prototype,Ut),Qn(Ze,qt),Qn(At,ee),At},ji=si,Ba=function(At,Ut){if(!P(At))return-1;var qt=Array.prototype.indexOf;if(qt)return qt.call(At,Ut);for(var ee=-1,we=0;we<At.length;we++)if(At[we]===Ut){ee=we;break}return ee},Ma=Ba,Ea=Object.prototype.hasOwnProperty;function on(At){if(M(At))return!0;if(P(At))return!At.length;var Ut=Et(At);if(Ut==="Map"||Ut==="Set")return!At.size;if(Re(At))return!Object.keys(At).length;for(var qt in At)if(Ea.call(At,qt))return!1;return!0}var Ha=on,ri=function(At,Ut){if(At===Ut)return!0;if(!At||!Ut||Ot(At)||Ot(Ut))return!1;if(P(At)||P(Ut)){if(At.length!==Ut.length)return!1;for(var qt=!0,ee=0;ee<At.length&&(qt=ri(At[ee],Ut[ee]),!!qt);ee++);return qt}if(wt(At)||wt(Ut)){var we=Object.keys(At),Ze=Object.keys(Ut);if(we.length!==Ze.length)return!1;for(var qt=!0,ee=0;ee<we.length&&(qt=ri(At[we[ee]],Ut[we[ee]]),!!qt);ee++);return qt}return!1},dn=ri,da=function(At,Ut,qt){return x(qt)?!!qt(At,Ut):dn(At,Ut)},un=function(At,Ut){if(!P(At))return At;for(var qt=[],ee=0;ee<At.length;ee++){var we=At[ee];qt.push(Ut(we,ee))}return qt},pa=un,zt=function(At){return At},vt=function(At,Ut){Ut===void 0&&(Ut=zt);var qt={};return R(At)&&!M(At)&&Object.keys(At).forEach(function(ee){qt[ee]=Ut(At[ee],ee)}),qt},z=function(At,Ut,qt){for(var ee=0,we=Ot(Ut)?Ut.split("."):Ut;At&&ee<we.length;)At=At[we[ee++]];return At===void 0||ee<we.length?qt:At},_=function(At,Ut,qt){var ee=At,we=Ot(Ut)?Ut.split("."):Ut;return we.forEach(function(Ze,Sr){Sr<we.length-1?(R(ee[Ze])||(ee[Ze]=We(we[Sr+1])?[]:{}),ee=ee[Ze]):ee[Ze]=qt}),At},I=Object.prototype.hasOwnProperty,B=function(At,Ut){if(At===null||!Lt(At))return{};var qt={};return W(Ut,function(ee){I.call(At,ee)&&(qt[ee]=At[ee])}),qt},Y=function(At,Ut){return ft(At,function(qt,ee,we){return Ut.includes(we)||(qt[we]=ee),qt},{})},U=function(At,Ut,qt){var ee,we,Ze,Sr,an=0;qt||(qt={});var ni=function(){an=qt.leading===!1?0:Date.now(),ee=null,Sr=At.apply(we,Ze),ee||(we=Ze=null)},Ui=function(){var ta=Date.now();!an&&qt.leading===!1&&(an=ta);var Lo=Ut-(ta-an);return we=this,Ze=arguments,Lo<=0||Lo>Ut?(ee&&(clearTimeout(ee),ee=null),an=ta,Sr=At.apply(we,Ze),ee||(we=Ze=null)):!ee&&qt.trailing!==!1&&(ee=setTimeout(ni,Lo)),Sr};return Ui.cancel=function(){clearTimeout(ee),an=0,ee=we=Ze=null},Ui},rt=function(At){return P(At)?Array.prototype.slice.call(At):[]},mt={},Tt=function(At){return At=At||"g",mt[At]?mt[At]+=1:mt[At]=1,At+mt[At]},_t=function(){},$t=function(At){return At};function ne(At){return M(At)?0:P(At)?At.length:Object.keys(At).length}var pe=d(70655),Ce,Ae=ka(function(At,Ut){Ut===void 0&&(Ut={});var qt=Ut.fontSize,ee=Ut.fontFamily,we=Ut.fontWeight,Ze=Ut.fontStyle,Sr=Ut.fontVariant;return Ce||(Ce=document.createElement("canvas").getContext("2d")),Ce.font=[Ze,Sr,we,qt+"px",ee].join(" "),Ce.measureText(Ot(At)?At:"").width},function(At,Ut){return Ut===void 0&&(Ut={}),(0,pe.__spreadArrays)([At],ei(Ut)).join("")}),Te=function(At,Ut,qt,ee){ee===void 0&&(ee="...");var we=16,Ze=Ae(ee,qt),Sr=Ot(At)?At:oi(At),an=Ut,ni=[],Ui,ta;if(Ae(At,qt)<=Ut)return At;for(;Ui=Sr.substr(0,we),ta=Ae(Ui,qt),!(ta+Ze>an&&ta>an);)if(ni.push(Ui),an-=ta,Sr=Sr.substr(we),!Sr)return ni.join("");for(;Ui=Sr.substr(0,1),ta=Ae(Ui,qt),!(ta+Ze>an);)if(ni.push(Ui),an-=ta,Sr=Sr.substr(1),!Sr)return ni.join("");return""+ni.join("")+ee},tr=function(){function At(){this.map={}}return At.prototype.has=function(Ut){return this.map[Ut]!==void 0},At.prototype.get=function(Ut,qt){var ee=this.map[Ut];return ee===void 0?qt:ee},At.prototype.set=function(Ut,qt){this.map[Ut]=qt},At.prototype.clear=function(){this.map={}},At.prototype.delete=function(Ut){delete this.map[Ut]},At.prototype.size=function(){return Object.keys(this.map).length},At}(),ir=tr},99581:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66974),P=d(46812),D=function(){for(var O=[],L=0;L<arguments.length;L++)O[L]=arguments[L];for(var T=O[0],A=1;A<O.length;A++){var E=O[A];P.default(E)&&(E=E.prototype),b.default(T.prototype,E)}};S.default=D},68039:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function b(){this.map={}}return b.prototype.has=function(P){return this.map[P]!==void 0},b.prototype.get=function(P,D){var O=this.map[P];return O===void 0?D:O},b.prototype.set=function(P,D){this.map[P]=D},b.prototype.clear=function(){this.map={}},b.prototype.delete=function(P){delete this.map[P]},b.prototype.size=function(){return Object.keys(this.map).length},b}();S.default=d},37339:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b,P,D){return b<P?P:b>D?D:b};S.default=d},35755:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b){var P=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;P(b)}S.default=d},8289:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),P=function(D){if(typeof D!="object"||D===null)return D;var O;if(b.default(D)){O=[];for(var L=0,T=D.length;L<T;L++)typeof D[L]=="object"&&D[L]!=null?O[L]=P(D[L]):O[L]=D[L]}else{O={};for(var A in D)typeof D[A]=="object"&&D[A]!=null?O[A]=P(D[A]):O[A]=D[A]}return O};S.default=P},75349:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(48102),P=function(D,O){return b.default(D)?D.indexOf(O)>-1:!1};S.default=P},79663:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b,P,D){var O;return function(){var L=this,T=arguments,A=function(){O=null,D||b.apply(L,T)},E=D&&!O;clearTimeout(O),O=setTimeout(A,P),E&&b.apply(L,T)}}S.default=d},90497:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),P=d(15907),D=5;function O(T,A,E,p){E=E||0,p=p||D;for(var w in A)if(A.hasOwnProperty(w)){var y=A[w];y!==null&&P.default(y)?(P.default(T[w])||(T[w]={}),E<p?O(T[w],y,E+1,p):T[w]=A[w]):b.default(y)?(T[w]=[],T[w]=T[w].concat(y)):y!==void 0&&(T[w]=y)}}var L=function(T){for(var A=[],E=1;E<arguments.length;E++)A[E-1]=arguments[E];for(var p=0;p<A.length;p+=1)O(T,A[p]);return T};S.default=L},25430:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(40007),P=d(75349),D=function(O,L){return L===void 0&&(L=[]),b.default(O,function(T){return!P.default(L,T)})};S.default=D},27154:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),P=d(33643);function D(O,L){if(!!O){var T;if(b.default(O))for(var A=0,E=O.length;A<E&&(T=L(O[A],A),T!==!1);A++);else if(P.default(O)){for(var p in O)if(O.hasOwnProperty(p)&&(T=L(O[p],p),T===!1))break}}}S.default=D},61846:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),P=d(21830);function D(O,L){return b.default(O)||P.default(O)?O[O.length-1]===L:!1}S.default=D},8153:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b,P){for(var D=0;D<b.length;D++)if(!P(b[D],D))return!1;return!0};S.default=d},13829:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66974),P=d(46812),D=function(O,L,T,A){P.default(L)||(T=L,L=O,O=function(){});var E=Object.create?function(w,y){return Object.create(w,{constructor:{value:y}})}:function(w,y){function x(){}x.prototype=w;var m=new x;return m.constructor=y,m},p=E(L.prototype,O);return O.prototype=b.default(p,O.prototype),O.superclass=E(L.prototype,L),b.default(p,T),b.default(O,A),O};S.default=D},40007:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(48102),P=function(D,O){if(!b.default(D))return D;for(var L=[],T=0;T<D.length;T++){var A=D[T];O(A,T)&&L.push(A)}return L};S.default=P},90871:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b,P,D){D===void 0&&(D=0);for(var O=D;O<b.length;O++)if(P(b[O],O))return O;return-1}S.default=d},32114:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(46812),P=d(20253),D=d(66631),O=d(15907);function L(T,A){if(!D.default(T))return null;var E;if(b.default(A)&&(E=A),O.default(A)&&(E=function(w){return P.default(w,A)}),E){for(var p=0;p<T.length;p+=1)if(E(T[p]))return T[p]}return null}S.default=L},84521:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(73890),P=d(66631),D=function(O,L){for(var T=null,A=0;A<O.length;A++){var E=O[A],p=E[L];if(!b.default(p)){P.default(p)?T=p[0]:T=p;break}}return T};S.default=D},14266:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b,P){var D=P.toString(),O=D.indexOf(".");if(O===-1)return Math.round(b);var L=D.substr(O+1).length;return L>20&&(L=20),parseFloat(b.toFixed(L))};S.default=d},61917:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),P=function(D,O){if(O===void 0&&(O=[]),!b.default(D))O.push(D);else for(var L=0;L<D.length;L+=1)P(D[L],O);return O};S.default=P},30267:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),P=function(D){if(!b.default(D))return[];for(var O=[],L=0;L<D.length;L++)O=O.concat(D[L]);return O};S.default=P},8361:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(27154);S.default=b.default},65616:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(21830),P=d(78127),D=d(13754);S.default=function(O,L,T,A){A===void 0&&(A="...");var E=16,p=D.default(A,T),w=b.default(O)?O:P.default(O),y=L,x=[],m,M;if(D.default(O,T)<=L)return O;for(;m=w.substr(0,E),M=D.default(m,T),!(M+p>y&&M>y);)if(x.push(m),y-=M,w=w.substr(E),!w)return x.join("");for(;m=w.substr(0,1),M=D.default(m,T),!(M+p>y);)if(x.push(m),y-=M,w=w.substr(1),!w)return x.join("");return""+x.join("")+A}},83236:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),P=d(14705),D=d(45356),O=function(L){var T=L.filter(function(y){return!isNaN(y)});if(!T.length)return{min:0,max:0};if(b.default(L[0])){for(var A=[],E=0;E<L.length;E++)A=A.concat(L[E]);T=A}var p=P.default(T),w=D.default(T);return{min:w,max:p}};S.default=O},89175:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={}.toString,b=function(P){return d.call(P).replace(/^\[object /,"").replace(/]$/,"")};S.default=b},71668:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b,P){return b["_wrap_"+P]}S.default=d},58070:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(21830);S.default=function(P,D,O){for(var L=0,T=b.default(D)?D.split("."):D;P&&L<T.length;)P=P[T[L++]];return P===void 0||L<T.length?O:P}},54544:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),P=d(46812),D=Object.prototype.hasOwnProperty;function O(L,T){if(!T||!b.default(L))return{};for(var A={},E=P.default(T)?T:function(x){return x[T]},p,w=0;w<L.length;w++){var y=L[w];p=E(y),D.call(A,p)?A[p].push(y):A[p]=[y]}return A}S.default=O},64725:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),P=d(46812),D=d(54544);function O(L,T){if(!T)return{0:L};if(!P.default(T)){var A=b.default(T)?T:T.replace(/\s+/g,"").split("*");T=function(E){for(var p="_",w=0,y=A.length;w<y;w++)p+=E[A[w]]&&E[A[w]].toString();return p}}return D.default(L,T)}S.default=O},93597:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(64725);S.default=function(P,D){if(!D)return[P];var O=b.default(P,D),L=[];for(var T in O)L.push(O[T]);return L}},97507:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(57921);S.default=b.default},99969:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(75349),P=d(91161);S.default=function(D,O){return b.default(P.default(D),O)}},57921:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d,b){return d.hasOwnProperty(b)}},41169:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(48102);function P(D){if(b.default(D))return D[0]}S.default=P},80870:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d){return d}},40035:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(48102),P=function(D,O){if(!b.default(D))return-1;var L=Array.prototype.indexOf;if(L)return L.call(D,O);for(var T=-1,A=0;A<D.length;A++)if(D[A]===O){T=A;break}return T};S.default=P},50229:function(dt,S,d){"use strict";var b;b={value:!0};var P=d(75349);b={enumerable:!0,get:function(){return P.default}},b={enumerable:!0,get:function(){return P.default}};var D=d(25430);b={enumerable:!0,get:function(){return D.default}};var O=d(32114);b={enumerable:!0,get:function(){return O.default}};var L=d(90871);b={enumerable:!0,get:function(){return L.default}};var T=d(84521);b={enumerable:!0,get:function(){return T.default}};var A=d(30267);b={enumerable:!0,get:function(){return A.default}};var E=d(61917);b={enumerable:!0,get:function(){return E.default}};var p=d(83236);b={enumerable:!0,get:function(){return p.default}};var w=d(5220);b={enumerable:!0,get:function(){return w.default}};var y=d(50779);b={enumerable:!0,get:function(){return y.default}};var x=d(13847);b={enumerable:!0,get:function(){return x.default}};var m=d(89757);b={enumerable:!0,get:function(){return m.default}};var M=d(27599);b={enumerable:!0,get:function(){return M.default}};var k=d(58632);b={enumerable:!0,get:function(){return k.default}};var R=d(12619);b={enumerable:!0,get:function(){return R.default}};var N=d(29208);b={enumerable:!0,get:function(){return N.default}};var W=d(41169);b={enumerable:!0,get:function(){return W.default}};var Q=d(95145);b={enumerable:!0,get:function(){return Q.default}};var H=d(680);b={enumerable:!0,get:function(){return H.default}};var $=d(61846);b={enumerable:!0,get:function(){return $.default}};var it=d(40007);b={enumerable:!0,get:function(){return it.default}};var nt=d(8153);b={enumerable:!0,get:function(){return nt.default}};var wt=d(58175);b={enumerable:!0,get:function(){return wt.default}};var yt=d(93597);b={enumerable:!0,get:function(){return yt.default}};var Lt=d(54544);b={enumerable:!0,get:function(){return Lt.default}};var Mt=d(64725);b={enumerable:!0,get:function(){return Mt.default}};var J=d(71668);b={enumerable:!0,get:function(){return J.default}};var tt=d(61262);Object.defineProperty(S,"Ko",{enumerable:!0,get:function(){return tt.default}});var q=d(45145);b={enumerable:!0,get:function(){return q.default}};var lt=d(85418);b={enumerable:!0,get:function(){return lt.default}};var gt=d(37339);b={enumerable:!0,get:function(){return gt.default}};var K=d(14266);b={enumerable:!0,get:function(){return K.default}};var j=d(51008);b={enumerable:!0,get:function(){return j.default}};var Z=d(45420);b={enumerable:!0,get:function(){return Z.default}};var f=d(68221);b={enumerable:!0,get:function(){return f.default}};var ut=d(58706);b={enumerable:!0,get:function(){return ut.default}};var bt=d(39984);b={enumerable:!0,get:function(){return bt.default}};var Rt=d(32705);b={enumerable:!0,get:function(){return Rt.default}};var Vt=d(75732);b={enumerable:!0,get:function(){return Vt.default}};var Ft=d(14705);b={enumerable:!0,get:function(){return Ft.default}};var Qt=d(38935);b={enumerable:!0,get:function(){return Qt.default}};var ae=d(45356);b={enumerable:!0,get:function(){return ae.default}};var ue=d(89857);b={enumerable:!0,get:function(){return ue.default}};var Kt=d(5253);b={enumerable:!0,get:function(){return Kt.default}};var Bt=d(2119);b={enumerable:!0,get:function(){return Bt.default}};var Ct=d(23196);b={enumerable:!0,get:function(){return Ct.default}};var pt=d(9217);b={enumerable:!0,get:function(){return pt.default}};var Pt=d(8361);b={enumerable:!0,get:function(){return Pt.default}};var ft=d(57921);b={enumerable:!0,get:function(){return ft.default}};var ot=d(97507);b={enumerable:!0,get:function(){return ot.default}};var St=d(99969);b={enumerable:!0,get:function(){return St.default}};var Ot=d(85050);b={enumerable:!0,get:function(){return Ot.default}};var Zt=d(20253);b={enumerable:!0,get:function(){return Zt.default}};var le=d(91161);b={enumerable:!0,get:function(){return le.default}};var be=d(88362);b={enumerable:!0,get:function(){return be.default}};var Be=d(56095);b={enumerable:!0,get:function(){return Be.default}};var Fe=d(35541);b={enumerable:!0,get:function(){return Fe.default}};var lr=d(72660);b={enumerable:!0,get:function(){return lr.default}};var dr=d(85260);b={enumerable:!0,get:function(){return dr.default}};var ur=d(89175);b={enumerable:!0,get:function(){return ur.default}};var Tr=d(55039);b={enumerable:!0,get:function(){return Tr.default}};var sr=d(66631);b={enumerable:!0,get:function(){return sr.default}};var zr=d(48102);b={enumerable:!0,get:function(){return zr.default}};var fn=d(25873);b={enumerable:!0,get:function(){return fn.default}};var Yr=d(79396);b={enumerable:!0,get:function(){return Yr.default}};var nn=d(14230);b={enumerable:!0,get:function(){return nn.default}};var pi=d(46812);b={enumerable:!0,get:function(){return pi.default}};var gi=d(73420);b={enumerable:!0,get:function(){return gi.default}};var xi=d(73890);b={enumerable:!0,get:function(){return xi.default}};var bi=d(85497);b={enumerable:!0,get:function(){return bi.default}};var Xt=d(16185);b={enumerable:!0,get:function(){return Xt.default}};var Jt=d(33643);b={enumerable:!0,get:function(){return Jt.default}};var oe=d(70441);b={enumerable:!0,get:function(){return oe.default}};var fe=d(15907);b={enumerable:!0,get:function(){return fe.default}};var xe=d(26296);b={enumerable:!0,get:function(){return xe.default}};var Se=d(7877);b={enumerable:!0,get:function(){return Se.default}};var Me=d(21830);Object.defineProperty(S,"HD",{enumerable:!0,get:function(){return Me.default}});var _e=d(44235);b={enumerable:!0,get:function(){return _e.default}};var me=d(25523);b={enumerable:!0,get:function(){return me.default}};var Ue=d(58417);b={enumerable:!0,get:function(){return Ue.default}};var Ne=d(98229);b={enumerable:!0,get:function(){return Ne.default}};var er=d(35755);b={enumerable:!0,get:function(){return er.default}};var hr=d(99581);b={enumerable:!0,get:function(){return hr.default}};var nr=d(8289);Object.defineProperty(S,"d9",{enumerable:!0,get:function(){return nr.default}});var fr=d(79663);b={enumerable:!0,get:function(){return fr.default}};var or=d(99834);b={enumerable:!0,get:function(){return or.default}};var br=d(90497);Object.defineProperty(S,"b$",{enumerable:!0,get:function(){return br.default}});var We=d(27154);Object.defineProperty(S,"S6",{enumerable:!0,get:function(){return We.default}});var Cr=d(13829);b={enumerable:!0,get:function(){return Cr.default}};var Lr=d(40035);b={enumerable:!0,get:function(){return Lr.default}};var Pr=d(64029);b={enumerable:!0,get:function(){return Pr.default}};var Br=d(212);b={enumerable:!0,get:function(){return Br.default}};var Hr=d(18112);b={enumerable:!0,get:function(){return Hr.default}};var Wr=d(92693);b={enumerable:!0,get:function(){return Wr.default}};var Nn=d(53497);b={enumerable:!0,get:function(){return Nn.default}};var tn=d(66974);b={enumerable:!0,get:function(){return tn.default}},b={enumerable:!0,get:function(){return tn.default}};var Xn=d(58070);b={enumerable:!0,get:function(){return Xn.default}};var ui=d(64119);b={enumerable:!0,get:function(){return ui.default}};var Zn=d(24263);b={enumerable:!0,get:function(){return Zn.default}};var wi=d(14179);b={enumerable:!0,get:function(){return wi.default}};var Si=d(60979);b={enumerable:!0,get:function(){return Si.default}};var Ir=d(66668);b={enumerable:!0,get:function(){return Ir.default}};var fi=d(78127);b={enumerable:!0,get:function(){return fi.default}};var Pi=d(67250);b={enumerable:!0,get:function(){return Pi.default}};var hi=d(26851);b={enumerable:!0,get:function(){return hi.default}};var xn=d(80870);b={enumerable:!0,get:function(){return xn.default}};var ci=d(30597);b={enumerable:!0,get:function(){return ci.default}};var _i=d(13754);b={enumerable:!0,get:function(){return _i.default}};var Kn=d(65616);b={enumerable:!0,get:function(){return Kn.default}};var ai=d(68039);b={enumerable:!0,get:function(){return ai.default}}},55039:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(44235),P=function(D){return b.default(D,"Arguments")};S.default=P},48102:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b){return b!==null&&typeof b!="function"&&isFinite(b.length)};S.default=d},66631:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(44235);S.default=function(P){return Array.isArray?Array.isArray(P):b.default(P,"Array")}},25873:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(44235),P=function(D){return b.default(D,"Boolean")};S.default=P},79396:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(44235),P=function(D){return b.default(D,"Date")};S.default=P},51008:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(16185),P=function(D){return b.default(D)&&D%1!=0};S.default=P},58417:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b){return b instanceof Element||b instanceof HTMLDocument};S.default=d},64029:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(73890),P=d(48102),D=d(89175),O=d(26296),L=Object.prototype.hasOwnProperty;function T(A){if(b.default(A))return!0;if(P.default(A))return!A.length;var E=D.default(A);if(E==="Map"||E==="Set")return!A.size;if(O.default(A))return!Object.keys(A).length;for(var p in A)if(L.call(A,p))return!1;return!0}S.default=T},18112:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(46812),P=d(212);S.default=function(D,O,L){return b.default(L)?!!L(D,O):P.default(D,O)}},212:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(70441),P=d(48102),D=d(21830),O=function(L,T){if(L===T)return!0;if(!L||!T||D.default(L)||D.default(T))return!1;if(P.default(L)||P.default(T)){if(L.length!==T.length)return!1;for(var A=!0,E=0;E<L.length&&(A=O(L[E],T[E]),!!A);E++);return A}if(b.default(L)||b.default(T)){var p=Object.keys(L),w=Object.keys(T);if(p.length!==w.length)return!1;for(var A=!0,E=0;E<p.length&&(A=O(L[p[E]],T[p[E]]),!!A);E++);return A}return!1};S.default=O},14230:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(44235),P=function(D){return b.default(D,"Error")};S.default=P},45420:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(16185),P=function(D){return b.default(D)&&D%2==0};S.default=P},73420:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(16185);function P(D){return b.default(D)&&isFinite(D)}S.default=P},46812:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(44235);S.default=function(P){return b.default(P,"Function")}},68221:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(16185),P=Number.isInteger?Number.isInteger:function(D){return b.default(D)&&D%1==0};S.default=P},20253:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(73890),P=d(85050);function D(O,L){var T=P.default(L),A=T.length;if(b.default(O))return!A;for(var E=0;E<A;E+=1){var p=T[E];if(L[p]!==O[p]||!(p in O))return!1}return!0}S.default=D},58706:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(16185),P=function(D){return b.default(D)&&D<0};S.default=P},73890:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b){return b==null};S.default=d},85497:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b){return b===null};S.default=d},39984:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-5;function b(P,D,O){return O===void 0&&(O=d),Math.abs(P-D)<O}S.default=b},16185:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(44235),P=function(D){return b.default(D,"Number")};S.default=P},70441:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b){return typeof b=="object"&&b!==null};S.default=d},33643:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d){var b=typeof d;return d!==null&&b==="object"||b==="function"}},32705:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(16185),P=function(D){return b.default(D)&&D%2!=0};S.default=P},15907:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(70441),P=d(44235),D=function(O){if(!b.default(O)||!P.default(O,"Object"))return!1;if(Object.getPrototypeOf(O)===null)return!0;for(var L=O;Object.getPrototypeOf(L)!==null;)L=Object.getPrototypeOf(L);return Object.getPrototypeOf(O)===L};S.default=D},75732:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(16185),P=function(D){return b.default(D)&&D>0};S.default=P},26296:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Object.prototype,b=function(P){var D=P&&P.constructor,O=typeof D=="function"&&D.prototype||d;return P===O};S.default=b},7877:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(44235),P=function(D){return b.default(D,"RegExp")};S.default=P},21830:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(44235);S.default=function(P){return b.default(P,"String")}},44235:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={}.toString,b=function(P,D){return d.call(P)==="[object "+D+"]"};S.default=b},25523:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b){return b===void 0};S.default=d},85050:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(27154),P=d(46812),D=Object.keys?function(O){return Object.keys(O)}:function(O){var L=[];return b.default(O,function(T,A){P.default(O)&&A==="prototype"||L.push(A)}),L};S.default=D},95145:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(48102);function P(D){if(b.default(D)){var O=D;return O[O.length-1]}}S.default=P},88362:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(78127),P=function(D){return b.default(D).toLowerCase()};S.default=P},56095:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(78127),P=function(D){var O=b.default(D);return O.charAt(0).toLowerCase()+O.substring(1)};S.default=P},53497:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(73890),P=d(33643),D=function(O){return O};S.default=function(O,L){L===void 0&&(L=D);var T={};return P.default(O)&&!b.default(O)&&Object.keys(O).forEach(function(A){T[A]=L(O[A],A)}),T}},92693:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(48102),P=function(D,O){if(!b.default(D))return D;for(var L=[],T=0;T<D.length;T++){var A=D[T];L.push(O(A,T))}return L};S.default=P},38935:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),P=d(46812);S.default=function(D,O){if(!!b.default(D)){for(var L,T=-Infinity,A=0;A<D.length;A++){var E=D[A],p=P.default(O)?O(E):E[O];p>T&&(L=E,T=p)}return L}}},14705:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631);S.default=function(P){if(!!b.default(P))return P.reduce(function(D,O){return Math.max(D,O)},P[0])}},13754:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(70655),P=d(91161),D=d(99834),O=d(21830),L;S.default=D.default(function(T,A){A===void 0&&(A={});var E=A.fontSize,p=A.fontFamily,w=A.fontWeight,y=A.fontStyle,x=A.fontVariant;return L||(L=document.createElement("canvas").getContext("2d")),L.font=[y,x,w,E+"px",p].join(" "),L.measureText(O.default(T)?T:"").width},function(T,A){return A===void 0&&(A={}),b.__spreadArrays([T],P.default(A)).join("")})},99834:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(46812);S.default=function(P,D){if(!b.default(P))throw new TypeError("Expected a function");var O=function(){for(var L=[],T=0;T<arguments.length;T++)L[T]=arguments[T];var A=D?D.apply(this,L):L[0],E=O.cache;if(E.has(A))return E.get(A);var p=P.apply(this,L);return E.set(A,p),p};return O.cache=new Map,O}},89857:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),P=d(46812);S.default=function(D,O){if(!!b.default(D)){for(var L,T=Infinity,A=0;A<D.length;A++){var E=D[A],p=P.default(O)?O(E):E[O];p<T&&(L=E,T=p)}return L}}},45356:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631);S.default=function(P){if(!!b.default(P))return P.reduce(function(D,O){return Math.min(D,O)},P[0])}},66974:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(P,D){for(var O in D)D.hasOwnProperty(O)&&O!=="constructor"&&D[O]!==void 0&&(P[O]=D[O])}function b(P,D,O,L){return D&&d(P,D),O&&d(P,O),L&&d(P,L),P}S.default=b},5253:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b,P){return(b%P+P)%P};S.default=d},26851:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(){}},45145:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={};function b(P){var D=d[P];if(!D){for(var O=P.toString(16),L=O.length;L<6;L++)O="0"+O;D="#"+O,d[P]=D}return D}S.default=b},14179:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(13847);S.default=function(P,D){return b.default(P,function(O,L,T){return D.includes(T)||(O[T]=L),O},{})}},85418:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631);function P(D){var O=0,L=0,T=0,A=0;return b.default(D)?D.length===1?O=L=T=A=D[0]:D.length===2?(O=T=D[0],L=A=D[1]):D.length===3?(O=D[0],L=A=D[1],T=D[2]):(O=D[0],L=D[1],T=D[2],A=D[3]):O=L=T=A=D,{r1:O,r2:L,r3:T,r4:A}}S.default=P},24263:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(27154),P=d(15907),D=Object.prototype.hasOwnProperty;S.default=function(O,L){if(O===null||!P.default(O))return{};var T={};return b.default(L,function(A){D.call(O,A)&&(T[A]=O[A])}),T}},50779:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(48102),P=Array.prototype.splice,D=function(L,T){if(!b.default(L))return[];for(var A=L?T.length:0,E=A-1;A--;){var p=void 0,w=T[A];(A===E||w!==p)&&(p=w,P.call(L,w,1))}return L};S.default=D},5220:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Array.prototype,b=d.splice,P=d.indexOf,D=function(O){for(var L=[],T=1;T<arguments.length;T++)L[T-1]=arguments[T];for(var A=0;A<L.length;A++)for(var E=L[A],p=-1;(p=P.call(O,E))>-1;)b.call(O,p,1);return O};S.default=D},13847:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(27154),P=d(66631),D=d(15907),O=function(L,T,A){if(!P.default(L)&&!D.default(L))return L;var E=A;return b.default(L,function(p,w){E=T(E,p,w)}),E};S.default=O},89757:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(48102),P=d(50779),D=function(O,L){var T=[];if(!b.default(O))return T;for(var A=-1,E=[],p=O.length;++A<p;){var w=O[A];L(w,A,O)&&(T.push(w),E.push(A))}return P.default(O,E),T};S.default=D},98229:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b){var P=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(D){return setTimeout(D,16)};return P(b)}S.default=d},64119:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(33643),P=d(21830),D=d(16185);S.default=function(O,L,T){var A=O,E=P.default(L)?L.split("."):L;return E.forEach(function(p,w){w<E.length-1?(b.default(A[p])||(A[p]=D.default(E[w+1])?[]:{}),A=A[p]):A[p]=T}),O}},30597:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(73890),P=d(48102);function D(O){return b.default(O)?0:P.default(O)?O.length:Object.keys(O).length}S.default=D},58175:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b,P){for(var D=0;D<b.length;D++)if(P(b[D],D))return!0;return!1};S.default=d},27599:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),P=d(21830),D=d(46812);function O(L,T){var A;if(D.default(T))A=function(p,w){return T(p)-T(w)};else{var E=[];P.default(T)?E.push(T):b.default(T)&&(E=T),A=function(p,w){for(var y=0;y<E.length;y+=1){var x=E[y];if(p[x]>w[x])return 1;if(p[x]<w[x])return-1}return 0}}return L.sort(A),L}S.default=O},680:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),P=d(21830);function D(O,L){return b.default(O)||P.default(O)?O[0]===L:!1}S.default=D},35541:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b,P){return!b||!P?b:b.replace(/\\?\{([^{}]+)\}/g,function(D,O){return D.charAt(0)==="\\"?D.slice(1):P[O]===void 0?"":P[O]})}S.default=d},60979:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d,b,P){var D,O,L,T,A=0;P||(P={});var E=function(){A=P.leading===!1?0:Date.now(),D=null,T=d.apply(O,L),D||(O=L=null)},p=function(){var w=Date.now();!A&&P.leading===!1&&(A=w);var y=b-(w-A);return O=this,L=arguments,y<=0||y>b?(D&&(clearTimeout(D),D=null),A=w,T=d.apply(O,L),D||(O=L=null)):!D&&P.trailing!==!1&&(D=setTimeout(E,y)),T};return p.cancel=function(){clearTimeout(D),A=0,D=O=L=null},p}},66668:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(48102);S.default=function(P){return b.default(P)?Array.prototype.slice.call(P):[]}},2119:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=180/Math.PI,b=function(P){return d*P};S.default=b},23196:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=parseInt},9217:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Math.PI/180,b=function(P){return d*P};S.default=b},78127:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(73890);S.default=function(P){return b.default(P)?"":P.toString()}},58632:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(12619),P=function(){for(var D=[],O=0;O<arguments.length;O++)D[O]=arguments[O];return b.default([].concat.apply([],D))};S.default=P},12619:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b,P){P===void 0&&(P=new Map);var D=[];if(Array.isArray(b))for(var O=0,L=b.length;O<L;O++){var T=b[O];P.has(T)||(D.push(T),P.set(T,!0))}return D}S.default=d},67250:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={};S.default=function(b){return b=b||"g",d[b]?d[b]+=1:d[b]=1,b+d[b]}},72660:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(78127),P=function(D){return b.default(D).toUpperCase()};S.default=P},85260:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(78127),P=function(D){var O=b.default(D);return O.charAt(0).toUpperCase()+O.substring(1)};S.default=P},29208:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),P=d(73890);S.default=function(D,O){for(var L=[],T={},A=0;A<D.length;A++){var E=D[A],p=E[O];if(!P.default(p)){b.default(p)||(p=[p]);for(var w=0;w<p.length;w++){var y=p[w];T[y]||(L.push(y),T[y]=!0)}}}return L}},91161:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(27154),P=d(46812),D=Object.values?function(O){return Object.values(O)}:function(O){var L=[];return b.default(O,function(T,A){P.default(O)&&A==="prototype"||L.push(T)}),L};S.default=D},61262:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b,P){if(b["_wrap_"+P])return b["_wrap_"+P];var D=function(O){b[P](O)};return b["_wrap_"+P]=D,D}S.default=d},70347:function(){},18067:function(){},62117:function(dt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return P},__assign:function(){return D},__rest:function(){return O},__decorate:function(){return L},__param:function(){return T},__metadata:function(){return A},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return y},__values:function(){return x},__read:function(){return m},__spread:function(){return M},__spreadArrays:function(){return k},__await:function(){return R},__asyncGenerator:function(){return N},__asyncDelegator:function(){return W},__asyncValues:function(){return Q},__makeTemplateObject:function(){return H},__importStar:function(){return $},__importDefault:function(){return it},__classPrivateFieldGet:function(){return nt},__classPrivateFieldSet:function(){return wt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var b=function(Lt,Mt){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,tt){J.__proto__=tt}||function(J,tt){for(var q in tt)tt.hasOwnProperty(q)&&(J[q]=tt[q])},b(Lt,Mt)};function P(yt,Lt){b(yt,Lt);function Mt(){this.constructor=yt}yt.prototype=Lt===null?Object.create(Lt):(Mt.prototype=Lt.prototype,new Mt)}var D=function(){return D=Object.assign||function(Mt){for(var J,tt=1,q=arguments.length;tt<q;tt++){J=arguments[tt];for(var lt in J)Object.prototype.hasOwnProperty.call(J,lt)&&(Mt[lt]=J[lt])}return Mt},D.apply(this,arguments)};function O(yt,Lt){var Mt={};for(var J in yt)Object.prototype.hasOwnProperty.call(yt,J)&&Lt.indexOf(J)<0&&(Mt[J]=yt[J]);if(yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var tt=0,J=Object.getOwnPropertySymbols(yt);tt<J.length;tt++)Lt.indexOf(J[tt])<0&&Object.prototype.propertyIsEnumerable.call(yt,J[tt])&&(Mt[J[tt]]=yt[J[tt]]);return Mt}function L(yt,Lt,Mt,J){var tt=arguments.length,q=tt<3?Lt:J===null?J=Object.getOwnPropertyDescriptor(Lt,Mt):J,lt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(yt,Lt,Mt,J);else for(var gt=yt.length-1;gt>=0;gt--)(lt=yt[gt])&&(q=(tt<3?lt(q):tt>3?lt(Lt,Mt,q):lt(Lt,Mt))||q);return tt>3&&q&&Object.defineProperty(Lt,Mt,q),q}function T(yt,Lt){return function(Mt,J){Lt(Mt,J,yt)}}function A(yt,Lt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(yt,Lt)}function E(yt,Lt,Mt,J){function tt(q){return q instanceof Mt?q:new Mt(function(lt){lt(q)})}return new(Mt||(Mt=Promise))(function(q,lt){function gt(Z){try{j(J.next(Z))}catch(f){lt(f)}}function K(Z){try{j(J.throw(Z))}catch(f){lt(f)}}function j(Z){Z.done?q(Z.value):tt(Z.value).then(gt,K)}j((J=J.apply(yt,Lt||[])).next())})}function p(yt,Lt){var Mt={label:0,sent:function(){if(q[0]&1)throw q[1];return q[1]},trys:[],ops:[]},J,tt,q,lt;return lt={next:gt(0),throw:gt(1),return:gt(2)},typeof Symbol=="function"&&(lt[Symbol.iterator]=function(){return this}),lt;function gt(j){return function(Z){return K([j,Z])}}function K(j){if(J)throw new TypeError("Generator is already executing.");for(;Mt;)try{if(J=1,tt&&(q=j[0]&2?tt.return:j[0]?tt.throw||((q=tt.return)&&q.call(tt),0):tt.next)&&!(q=q.call(tt,j[1])).done)return q;switch(tt=0,q&&(j=[j[0]&2,q.value]),j[0]){case 0:case 1:q=j;break;case 4:return Mt.label++,{value:j[1],done:!1};case 5:Mt.label++,tt=j[1],j=[0];continue;case 7:j=Mt.ops.pop(),Mt.trys.pop();continue;default:if(q=Mt.trys,!(q=q.length>0&&q[q.length-1])&&(j[0]===6||j[0]===2)){Mt=0;continue}if(j[0]===3&&(!q||j[1]>q[0]&&j[1]<q[3])){Mt.label=j[1];break}if(j[0]===6&&Mt.label<q[1]){Mt.label=q[1],q=j;break}if(q&&Mt.label<q[2]){Mt.label=q[2],Mt.ops.push(j);break}q[2]&&Mt.ops.pop(),Mt.trys.pop();continue}j=Lt.call(yt,Mt)}catch(Z){j=[6,Z],tt=0}finally{J=q=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}}function w(yt,Lt,Mt,J){J===void 0&&(J=Mt),yt[J]=Lt[Mt]}function y(yt,Lt){for(var Mt in yt)Mt!=="default"&&!Lt.hasOwnProperty(Mt)&&(Lt[Mt]=yt[Mt])}function x(yt){var Lt=typeof Symbol=="function"&&Symbol.iterator,Mt=Lt&&yt[Lt],J=0;if(Mt)return Mt.call(yt);if(yt&&typeof yt.length=="number")return{next:function(){return yt&&J>=yt.length&&(yt=void 0),{value:yt&&yt[J++],done:!yt}}};throw new TypeError(Lt?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(yt,Lt){var Mt=typeof Symbol=="function"&&yt[Symbol.iterator];if(!Mt)return yt;var J=Mt.call(yt),tt,q=[],lt;try{for(;(Lt===void 0||Lt-- >0)&&!(tt=J.next()).done;)q.push(tt.value)}catch(gt){lt={error:gt}}finally{try{tt&&!tt.done&&(Mt=J.return)&&Mt.call(J)}finally{if(lt)throw lt.error}}return q}function M(){for(var yt=[],Lt=0;Lt<arguments.length;Lt++)yt=yt.concat(m(arguments[Lt]));return yt}function k(){for(var yt=0,Lt=0,Mt=arguments.length;Lt<Mt;Lt++)yt+=arguments[Lt].length;for(var J=Array(yt),tt=0,Lt=0;Lt<Mt;Lt++)for(var q=arguments[Lt],lt=0,gt=q.length;lt<gt;lt++,tt++)J[tt]=q[lt];return J}function R(yt){return this instanceof R?(this.v=yt,this):new R(yt)}function N(yt,Lt,Mt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=Mt.apply(yt,Lt||[]),tt,q=[];return tt={},lt("next"),lt("throw"),lt("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function lt(ut){J[ut]&&(tt[ut]=function(bt){return new Promise(function(Rt,Vt){q.push([ut,bt,Rt,Vt])>1||gt(ut,bt)})})}function gt(ut,bt){try{K(J[ut](bt))}catch(Rt){f(q[0][3],Rt)}}function K(ut){ut.value instanceof R?Promise.resolve(ut.value.v).then(j,Z):f(q[0][2],ut)}function j(ut){gt("next",ut)}function Z(ut){gt("throw",ut)}function f(ut,bt){ut(bt),q.shift(),q.length&&gt(q[0][0],q[0][1])}}function W(yt){var Lt,Mt;return Lt={},J("next"),J("throw",function(tt){throw tt}),J("return"),Lt[Symbol.iterator]=function(){return this},Lt;function J(tt,q){Lt[tt]=yt[tt]?function(lt){return(Mt=!Mt)?{value:R(yt[tt](lt)),done:tt==="return"}:q?q(lt):lt}:q}}function Q(yt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Lt=yt[Symbol.asyncIterator],Mt;return Lt?Lt.call(yt):(yt=typeof x=="function"?x(yt):yt[Symbol.iterator](),Mt={},J("next"),J("throw"),J("return"),Mt[Symbol.asyncIterator]=function(){return this},Mt);function J(q){Mt[q]=yt[q]&&function(lt){return new Promise(function(gt,K){lt=yt[q](lt),tt(gt,K,lt.done,lt.value)})}}function tt(q,lt,gt,K){Promise.resolve(K).then(function(j){q({value:j,done:gt})},lt)}}function H(yt,Lt){return Object.defineProperty?Object.defineProperty(yt,"raw",{value:Lt}):yt.raw=Lt,yt}function $(yt){if(yt&&yt.__esModule)return yt;var Lt={};if(yt!=null)for(var Mt in yt)Object.hasOwnProperty.call(yt,Mt)&&(Lt[Mt]=yt[Mt]);return Lt.default=yt,Lt}function it(yt){return yt&&yt.__esModule?yt:{default:yt}}function nt(yt,Lt){if(!Lt.has(yt))throw new TypeError("attempted to get private field on non-instance");return Lt.get(yt)}function wt(yt,Lt,Mt){if(!Lt.has(yt))throw new TypeError("attempted to set private field on non-instance");return Lt.set(yt,Mt),Mt}},8108:function(dt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return P},__assign:function(){return D},__rest:function(){return O},__decorate:function(){return L},__param:function(){return T},__metadata:function(){return A},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return y},__values:function(){return x},__read:function(){return m},__spread:function(){return M},__spreadArrays:function(){return k},__await:function(){return R},__asyncGenerator:function(){return N},__asyncDelegator:function(){return W},__asyncValues:function(){return Q},__makeTemplateObject:function(){return H},__importStar:function(){return $},__importDefault:function(){return it},__classPrivateFieldGet:function(){return nt},__classPrivateFieldSet:function(){return wt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var b=function(Lt,Mt){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,tt){J.__proto__=tt}||function(J,tt){for(var q in tt)tt.hasOwnProperty(q)&&(J[q]=tt[q])},b(Lt,Mt)};function P(yt,Lt){b(yt,Lt);function Mt(){this.constructor=yt}yt.prototype=Lt===null?Object.create(Lt):(Mt.prototype=Lt.prototype,new Mt)}var D=function(){return D=Object.assign||function(Mt){for(var J,tt=1,q=arguments.length;tt<q;tt++){J=arguments[tt];for(var lt in J)Object.prototype.hasOwnProperty.call(J,lt)&&(Mt[lt]=J[lt])}return Mt},D.apply(this,arguments)};function O(yt,Lt){var Mt={};for(var J in yt)Object.prototype.hasOwnProperty.call(yt,J)&&Lt.indexOf(J)<0&&(Mt[J]=yt[J]);if(yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var tt=0,J=Object.getOwnPropertySymbols(yt);tt<J.length;tt++)Lt.indexOf(J[tt])<0&&Object.prototype.propertyIsEnumerable.call(yt,J[tt])&&(Mt[J[tt]]=yt[J[tt]]);return Mt}function L(yt,Lt,Mt,J){var tt=arguments.length,q=tt<3?Lt:J===null?J=Object.getOwnPropertyDescriptor(Lt,Mt):J,lt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(yt,Lt,Mt,J);else for(var gt=yt.length-1;gt>=0;gt--)(lt=yt[gt])&&(q=(tt<3?lt(q):tt>3?lt(Lt,Mt,q):lt(Lt,Mt))||q);return tt>3&&q&&Object.defineProperty(Lt,Mt,q),q}function T(yt,Lt){return function(Mt,J){Lt(Mt,J,yt)}}function A(yt,Lt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(yt,Lt)}function E(yt,Lt,Mt,J){function tt(q){return q instanceof Mt?q:new Mt(function(lt){lt(q)})}return new(Mt||(Mt=Promise))(function(q,lt){function gt(Z){try{j(J.next(Z))}catch(f){lt(f)}}function K(Z){try{j(J.throw(Z))}catch(f){lt(f)}}function j(Z){Z.done?q(Z.value):tt(Z.value).then(gt,K)}j((J=J.apply(yt,Lt||[])).next())})}function p(yt,Lt){var Mt={label:0,sent:function(){if(q[0]&1)throw q[1];return q[1]},trys:[],ops:[]},J,tt,q,lt;return lt={next:gt(0),throw:gt(1),return:gt(2)},typeof Symbol=="function"&&(lt[Symbol.iterator]=function(){return this}),lt;function gt(j){return function(Z){return K([j,Z])}}function K(j){if(J)throw new TypeError("Generator is already executing.");for(;Mt;)try{if(J=1,tt&&(q=j[0]&2?tt.return:j[0]?tt.throw||((q=tt.return)&&q.call(tt),0):tt.next)&&!(q=q.call(tt,j[1])).done)return q;switch(tt=0,q&&(j=[j[0]&2,q.value]),j[0]){case 0:case 1:q=j;break;case 4:return Mt.label++,{value:j[1],done:!1};case 5:Mt.label++,tt=j[1],j=[0];continue;case 7:j=Mt.ops.pop(),Mt.trys.pop();continue;default:if(q=Mt.trys,!(q=q.length>0&&q[q.length-1])&&(j[0]===6||j[0]===2)){Mt=0;continue}if(j[0]===3&&(!q||j[1]>q[0]&&j[1]<q[3])){Mt.label=j[1];break}if(j[0]===6&&Mt.label<q[1]){Mt.label=q[1],q=j;break}if(q&&Mt.label<q[2]){Mt.label=q[2],Mt.ops.push(j);break}q[2]&&Mt.ops.pop(),Mt.trys.pop();continue}j=Lt.call(yt,Mt)}catch(Z){j=[6,Z],tt=0}finally{J=q=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}}function w(yt,Lt,Mt,J){J===void 0&&(J=Mt),yt[J]=Lt[Mt]}function y(yt,Lt){for(var Mt in yt)Mt!=="default"&&!Lt.hasOwnProperty(Mt)&&(Lt[Mt]=yt[Mt])}function x(yt){var Lt=typeof Symbol=="function"&&Symbol.iterator,Mt=Lt&&yt[Lt],J=0;if(Mt)return Mt.call(yt);if(yt&&typeof yt.length=="number")return{next:function(){return yt&&J>=yt.length&&(yt=void 0),{value:yt&&yt[J++],done:!yt}}};throw new TypeError(Lt?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(yt,Lt){var Mt=typeof Symbol=="function"&&yt[Symbol.iterator];if(!Mt)return yt;var J=Mt.call(yt),tt,q=[],lt;try{for(;(Lt===void 0||Lt-- >0)&&!(tt=J.next()).done;)q.push(tt.value)}catch(gt){lt={error:gt}}finally{try{tt&&!tt.done&&(Mt=J.return)&&Mt.call(J)}finally{if(lt)throw lt.error}}return q}function M(){for(var yt=[],Lt=0;Lt<arguments.length;Lt++)yt=yt.concat(m(arguments[Lt]));return yt}function k(){for(var yt=0,Lt=0,Mt=arguments.length;Lt<Mt;Lt++)yt+=arguments[Lt].length;for(var J=Array(yt),tt=0,Lt=0;Lt<Mt;Lt++)for(var q=arguments[Lt],lt=0,gt=q.length;lt<gt;lt++,tt++)J[tt]=q[lt];return J}function R(yt){return this instanceof R?(this.v=yt,this):new R(yt)}function N(yt,Lt,Mt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=Mt.apply(yt,Lt||[]),tt,q=[];return tt={},lt("next"),lt("throw"),lt("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function lt(ut){J[ut]&&(tt[ut]=function(bt){return new Promise(function(Rt,Vt){q.push([ut,bt,Rt,Vt])>1||gt(ut,bt)})})}function gt(ut,bt){try{K(J[ut](bt))}catch(Rt){f(q[0][3],Rt)}}function K(ut){ut.value instanceof R?Promise.resolve(ut.value.v).then(j,Z):f(q[0][2],ut)}function j(ut){gt("next",ut)}function Z(ut){gt("throw",ut)}function f(ut,bt){ut(bt),q.shift(),q.length&&gt(q[0][0],q[0][1])}}function W(yt){var Lt,Mt;return Lt={},J("next"),J("throw",function(tt){throw tt}),J("return"),Lt[Symbol.iterator]=function(){return this},Lt;function J(tt,q){Lt[tt]=yt[tt]?function(lt){return(Mt=!Mt)?{value:R(yt[tt](lt)),done:tt==="return"}:q?q(lt):lt}:q}}function Q(yt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Lt=yt[Symbol.asyncIterator],Mt;return Lt?Lt.call(yt):(yt=typeof x=="function"?x(yt):yt[Symbol.iterator](),Mt={},J("next"),J("throw"),J("return"),Mt[Symbol.asyncIterator]=function(){return this},Mt);function J(q){Mt[q]=yt[q]&&function(lt){return new Promise(function(gt,K){lt=yt[q](lt),tt(gt,K,lt.done,lt.value)})}}function tt(q,lt,gt,K){Promise.resolve(K).then(function(j){q({value:j,done:gt})},lt)}}function H(yt,Lt){return Object.defineProperty?Object.defineProperty(yt,"raw",{value:Lt}):yt.raw=Lt,yt}function $(yt){if(yt&&yt.__esModule)return yt;var Lt={};if(yt!=null)for(var Mt in yt)Object.hasOwnProperty.call(yt,Mt)&&(Lt[Mt]=yt[Mt]);return Lt.default=yt,Lt}function it(yt){return yt&&yt.__esModule?yt:{default:yt}}function nt(yt,Lt){if(!Lt.has(yt))throw new TypeError("attempted to get private field on non-instance");return Lt.get(yt)}function wt(yt,Lt,Mt){if(!Lt.has(yt))throw new TypeError("attempted to set private field on non-instance");return Lt.set(yt,Mt),Mt}},58024:function(dt,S,d){"use strict";var b=d(38663),P=d.n(b),D=d(70347),O=d.n(D),L=d(71748),T=d(18106)},71748:function(dt,S,d){"use strict";var b=d(38663),P=d.n(b),D=d(18067),O=d.n(D)},48168:function(dt,S,d){var b=d(39092),P={};for(var D in b)b.hasOwnProperty(D)&&(P[b[D]]=D);var O=dt.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var L in O)if(O.hasOwnProperty(L)){if(!("channels"in O[L]))throw new Error("missing channels property: "+L);if(!("labels"in O[L]))throw new Error("missing channel labels property: "+L);if(O[L].labels.length!==O[L].channels)throw new Error("channel and label counts mismatch: "+L);var T=O[L].channels,A=O[L].labels;delete O[L].channels,delete O[L].labels,Object.defineProperty(O[L],"channels",{value:T}),Object.defineProperty(O[L],"labels",{value:A})}O.rgb.hsl=function(p){var w=p[0]/255,y=p[1]/255,x=p[2]/255,m=Math.min(w,y,x),M=Math.max(w,y,x),k=M-m,R,N,W;return M===m?R=0:w===M?R=(y-x)/k:y===M?R=2+(x-w)/k:x===M&&(R=4+(w-y)/k),R=Math.min(R*60,360),R<0&&(R+=360),W=(m+M)/2,M===m?N=0:W<=.5?N=k/(M+m):N=k/(2-M-m),[R,N*100,W*100]},O.rgb.hsv=function(p){var w,y,x,m,M,k=p[0]/255,R=p[1]/255,N=p[2]/255,W=Math.max(k,R,N),Q=W-Math.min(k,R,N),H=function($){return(W-$)/6/Q+1/2};return Q===0?m=M=0:(M=Q/W,w=H(k),y=H(R),x=H(N),k===W?m=x-y:R===W?m=1/3+w-x:N===W&&(m=2/3+y-w),m<0?m+=1:m>1&&(m-=1)),[m*360,M*100,W*100]},O.rgb.hwb=function(p){var w=p[0],y=p[1],x=p[2],m=O.rgb.hsl(p)[0],M=1/255*Math.min(w,Math.min(y,x));return x=1-1/255*Math.max(w,Math.max(y,x)),[m,M*100,x*100]},O.rgb.cmyk=function(p){var w=p[0]/255,y=p[1]/255,x=p[2]/255,m,M,k,R;return R=Math.min(1-w,1-y,1-x),m=(1-w-R)/(1-R)||0,M=(1-y-R)/(1-R)||0,k=(1-x-R)/(1-R)||0,[m*100,M*100,k*100,R*100]};function E(p,w){return Math.pow(p[0]-w[0],2)+Math.pow(p[1]-w[1],2)+Math.pow(p[2]-w[2],2)}O.rgb.keyword=function(p){var w=P[p];if(w)return w;var y=Infinity,x;for(var m in b)if(b.hasOwnProperty(m)){var M=b[m],k=E(p,M);k<y&&(y=k,x=m)}return x},O.keyword.rgb=function(p){return b[p]},O.rgb.xyz=function(p){var w=p[0]/255,y=p[1]/255,x=p[2]/255;w=w>.04045?Math.pow((w+.055)/1.055,2.4):w/12.92,y=y>.04045?Math.pow((y+.055)/1.055,2.4):y/12.92,x=x>.04045?Math.pow((x+.055)/1.055,2.4):x/12.92;var m=w*.4124+y*.3576+x*.1805,M=w*.2126+y*.7152+x*.0722,k=w*.0193+y*.1192+x*.9505;return[m*100,M*100,k*100]},O.rgb.lab=function(p){var w=O.rgb.xyz(p),y=w[0],x=w[1],m=w[2],M,k,R;return y/=95.047,x/=100,m/=108.883,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,m=m>.008856?Math.pow(m,1/3):7.787*m+16/116,M=116*x-16,k=500*(y-x),R=200*(x-m),[M,k,R]},O.hsl.rgb=function(p){var w=p[0]/360,y=p[1]/100,x=p[2]/100,m,M,k,R,N;if(y===0)return N=x*255,[N,N,N];x<.5?M=x*(1+y):M=x+y-x*y,m=2*x-M,R=[0,0,0];for(var W=0;W<3;W++)k=w+1/3*-(W-1),k<0&&k++,k>1&&k--,6*k<1?N=m+(M-m)*6*k:2*k<1?N=M:3*k<2?N=m+(M-m)*(2/3-k)*6:N=m,R[W]=N*255;return R},O.hsl.hsv=function(p){var w=p[0],y=p[1]/100,x=p[2]/100,m=y,M=Math.max(x,.01),k,R;return x*=2,y*=x<=1?x:2-x,m*=M<=1?M:2-M,R=(x+y)/2,k=x===0?2*m/(M+m):2*y/(x+y),[w,k*100,R*100]},O.hsv.rgb=function(p){var w=p[0]/60,y=p[1]/100,x=p[2]/100,m=Math.floor(w)%6,M=w-Math.floor(w),k=255*x*(1-y),R=255*x*(1-y*M),N=255*x*(1-y*(1-M));switch(x*=255,m){case 0:return[x,N,k];case 1:return[R,x,k];case 2:return[k,x,N];case 3:return[k,R,x];case 4:return[N,k,x];case 5:return[x,k,R]}},O.hsv.hsl=function(p){var w=p[0],y=p[1]/100,x=p[2]/100,m=Math.max(x,.01),M,k,R;return R=(2-y)*x,M=(2-y)*m,k=y*m,k/=M<=1?M:2-M,k=k||0,R/=2,[w,k*100,R*100]},O.hwb.rgb=function(p){var w=p[0]/360,y=p[1]/100,x=p[2]/100,m=y+x,M,k,R,N;m>1&&(y/=m,x/=m),M=Math.floor(6*w),k=1-x,R=6*w-M,(M&1)!=0&&(R=1-R),N=y+R*(k-y);var W,Q,H;switch(M){default:case 6:case 0:W=k,Q=N,H=y;break;case 1:W=N,Q=k,H=y;break;case 2:W=y,Q=k,H=N;break;case 3:W=y,Q=N,H=k;break;case 4:W=N,Q=y,H=k;break;case 5:W=k,Q=y,H=N;break}return[W*255,Q*255,H*255]},O.cmyk.rgb=function(p){var w=p[0]/100,y=p[1]/100,x=p[2]/100,m=p[3]/100,M,k,R;return M=1-Math.min(1,w*(1-m)+m),k=1-Math.min(1,y*(1-m)+m),R=1-Math.min(1,x*(1-m)+m),[M*255,k*255,R*255]},O.xyz.rgb=function(p){var w=p[0]/100,y=p[1]/100,x=p[2]/100,m,M,k;return m=w*3.2406+y*-1.5372+x*-.4986,M=w*-.9689+y*1.8758+x*.0415,k=w*.0557+y*-.204+x*1.057,m=m>.0031308?1.055*Math.pow(m,1/2.4)-.055:m*12.92,M=M>.0031308?1.055*Math.pow(M,1/2.4)-.055:M*12.92,k=k>.0031308?1.055*Math.pow(k,1/2.4)-.055:k*12.92,m=Math.min(Math.max(0,m),1),M=Math.min(Math.max(0,M),1),k=Math.min(Math.max(0,k),1),[m*255,M*255,k*255]},O.xyz.lab=function(p){var w=p[0],y=p[1],x=p[2],m,M,k;return w/=95.047,y/=100,x/=108.883,w=w>.008856?Math.pow(w,1/3):7.787*w+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,m=116*y-16,M=500*(w-y),k=200*(y-x),[m,M,k]},O.lab.xyz=function(p){var w=p[0],y=p[1],x=p[2],m,M,k;M=(w+16)/116,m=y/500+M,k=M-x/200;var R=Math.pow(M,3),N=Math.pow(m,3),W=Math.pow(k,3);return M=R>.008856?R:(M-16/116)/7.787,m=N>.008856?N:(m-16/116)/7.787,k=W>.008856?W:(k-16/116)/7.787,m*=95.047,M*=100,k*=108.883,[m,M,k]},O.lab.lch=function(p){var w=p[0],y=p[1],x=p[2],m,M,k;return m=Math.atan2(x,y),M=m*360/2/Math.PI,M<0&&(M+=360),k=Math.sqrt(y*y+x*x),[w,k,M]},O.lch.lab=function(p){var w=p[0],y=p[1],x=p[2],m,M,k;return k=x/360*2*Math.PI,m=y*Math.cos(k),M=y*Math.sin(k),[w,m,M]},O.rgb.ansi16=function(p){var w=p[0],y=p[1],x=p[2],m=1 in arguments?arguments[1]:O.rgb.hsv(p)[2];if(m=Math.round(m/50),m===0)return 30;var M=30+(Math.round(x/255)<<2|Math.round(y/255)<<1|Math.round(w/255));return m===2&&(M+=60),M},O.hsv.ansi16=function(p){return O.rgb.ansi16(O.hsv.rgb(p),p[2])},O.rgb.ansi256=function(p){var w=p[0],y=p[1],x=p[2];if(w===y&&y===x)return w<8?16:w>248?231:Math.round((w-8)/247*24)+232;var m=16+36*Math.round(w/255*5)+6*Math.round(y/255*5)+Math.round(x/255*5);return m},O.ansi16.rgb=function(p){var w=p%10;if(w===0||w===7)return p>50&&(w+=3.5),w=w/10.5*255,[w,w,w];var y=(~~(p>50)+1)*.5,x=(w&1)*y*255,m=(w>>1&1)*y*255,M=(w>>2&1)*y*255;return[x,m,M]},O.ansi256.rgb=function(p){if(p>=232){var w=(p-232)*10+8;return[w,w,w]}p-=16;var y,x=Math.floor(p/36)/5*255,m=Math.floor((y=p%36)/6)/5*255,M=y%6/5*255;return[x,m,M]},O.rgb.hex=function(p){var w=((Math.round(p[0])&255)<<16)+((Math.round(p[1])&255)<<8)+(Math.round(p[2])&255),y=w.toString(16).toUpperCase();return"000000".substring(y.length)+y},O.hex.rgb=function(p){var w=p.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!w)return[0,0,0];var y=w[0];w[0].length===3&&(y=y.split("").map(function(R){return R+R}).join(""));var x=parseInt(y,16),m=x>>16&255,M=x>>8&255,k=x&255;return[m,M,k]},O.rgb.hcg=function(p){var w=p[0]/255,y=p[1]/255,x=p[2]/255,m=Math.max(Math.max(w,y),x),M=Math.min(Math.min(w,y),x),k=m-M,R,N;return k<1?R=M/(1-k):R=0,k<=0?N=0:m===w?N=(y-x)/k%6:m===y?N=2+(x-w)/k:N=4+(w-y)/k+4,N/=6,N%=1,[N*360,k*100,R*100]},O.hsl.hcg=function(p){var w=p[1]/100,y=p[2]/100,x=1,m=0;return y<.5?x=2*w*y:x=2*w*(1-y),x<1&&(m=(y-.5*x)/(1-x)),[p[0],x*100,m*100]},O.hsv.hcg=function(p){var w=p[1]/100,y=p[2]/100,x=w*y,m=0;return x<1&&(m=(y-x)/(1-x)),[p[0],x*100,m*100]},O.hcg.rgb=function(p){var w=p[0]/360,y=p[1]/100,x=p[2]/100;if(y===0)return[x*255,x*255,x*255];var m=[0,0,0],M=w%1*6,k=M%1,R=1-k,N=0;switch(Math.floor(M)){case 0:m[0]=1,m[1]=k,m[2]=0;break;case 1:m[0]=R,m[1]=1,m[2]=0;break;case 2:m[0]=0,m[1]=1,m[2]=k;break;case 3:m[0]=0,m[1]=R,m[2]=1;break;case 4:m[0]=k,m[1]=0,m[2]=1;break;default:m[0]=1,m[1]=0,m[2]=R}return N=(1-y)*x,[(y*m[0]+N)*255,(y*m[1]+N)*255,(y*m[2]+N)*255]},O.hcg.hsv=function(p){var w=p[1]/100,y=p[2]/100,x=w+y*(1-w),m=0;return x>0&&(m=w/x),[p[0],m*100,x*100]},O.hcg.hsl=function(p){var w=p[1]/100,y=p[2]/100,x=y*(1-w)+.5*w,m=0;return x>0&&x<.5?m=w/(2*x):x>=.5&&x<1&&(m=w/(2*(1-x))),[p[0],m*100,x*100]},O.hcg.hwb=function(p){var w=p[1]/100,y=p[2]/100,x=w+y*(1-w);return[p[0],(x-w)*100,(1-x)*100]},O.hwb.hcg=function(p){var w=p[1]/100,y=p[2]/100,x=1-y,m=x-w,M=0;return m<1&&(M=(x-m)/(1-m)),[p[0],m*100,M*100]},O.apple.rgb=function(p){return[p[0]/65535*255,p[1]/65535*255,p[2]/65535*255]},O.rgb.apple=function(p){return[p[0]/255*65535,p[1]/255*65535,p[2]/255*65535]},O.gray.rgb=function(p){return[p[0]/100*255,p[0]/100*255,p[0]/100*255]},O.gray.hsl=O.gray.hsv=function(p){return[0,0,p[0]]},O.gray.hwb=function(p){return[0,100,p[0]]},O.gray.cmyk=function(p){return[0,0,0,p[0]]},O.gray.lab=function(p){return[p[0],0,0]},O.gray.hex=function(p){var w=Math.round(p[0]/100*255)&255,y=(w<<16)+(w<<8)+w,x=y.toString(16).toUpperCase();return"000000".substring(x.length)+x},O.rgb.gray=function(p){var w=(p[0]+p[1]+p[2])/3;return[w/255*100]}},12085:function(dt,S,d){var b=d(48168),P=d(4111),D={},O=Object.keys(b);function L(A){var E=function(p){return p==null?p:(arguments.length>1&&(p=Array.prototype.slice.call(arguments)),A(p))};return"conversion"in A&&(E.conversion=A.conversion),E}function T(A){var E=function(p){if(p==null)return p;arguments.length>1&&(p=Array.prototype.slice.call(arguments));var w=A(p);if(typeof w=="object")for(var y=w.length,x=0;x<y;x++)w[x]=Math.round(w[x]);return w};return"conversion"in A&&(E.conversion=A.conversion),E}O.forEach(function(A){D[A]={},Object.defineProperty(D[A],"channels",{value:b[A].channels}),Object.defineProperty(D[A],"labels",{value:b[A].labels});var E=P(A),p=Object.keys(E);p.forEach(function(w){var y=E[w];D[A][w]=T(y),D[A][w].raw=L(y)})}),dt.exports=D},39092:function(dt){"use strict";dt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4111:function(dt,S,d){var b=d(48168);function P(){for(var T={},A=Object.keys(b),E=A.length,p=0;p<E;p++)T[A[p]]={distance:-1,parent:null};return T}function D(T){var A=P(),E=[T];for(A[T].distance=0;E.length;)for(var p=E.pop(),w=Object.keys(b[p]),y=w.length,x=0;x<y;x++){var m=w[x],M=A[m];M.distance===-1&&(M.distance=A[p].distance+1,M.parent=p,E.unshift(m))}return A}function O(T,A){return function(E){return A(T(E))}}function L(T,A){for(var E=[A[T].parent,T],p=b[A[T].parent][T],w=A[T].parent;A[w].parent;)E.unshift(A[w].parent),p=O(b[A[w].parent][w],p),w=A[w].parent;return p.conversion=E,p}dt.exports=function(T){for(var A=D(T),E={},p=Object.keys(A),w=p.length,y=0;y<w;y++){var x=p[y],m=A[x];m.parent!==null&&(E[x]=L(x,A))}return E}},8874:function(dt){"use strict";dt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},19818:function(dt,S,d){var b=d(8874),P=d(86851),D=Object.hasOwnProperty,O=Object.create(null);for(var L in b)D.call(b,L)&&(O[b[L]]=L);var T=dt.exports={to:{},get:{}};T.get=function(p){var w=p.substring(0,3).toLowerCase(),y,x;switch(w){case"hsl":y=T.get.hsl(p),x="hsl";break;case"hwb":y=T.get.hwb(p),x="hwb";break;default:y=T.get.rgb(p),x="rgb";break}return y?{model:x,value:y}:null},T.get.rgb=function(p){if(!p)return null;var w=/^#([a-f0-9]{3,4})$/i,y=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,x=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,m=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,M=/^(\w+)$/,k=[0,0,0,1],R,N,W;if(R=p.match(y)){for(W=R[2],R=R[1],N=0;N<3;N++){var Q=N*2;k[N]=parseInt(R.slice(Q,Q+2),16)}W&&(k[3]=parseInt(W,16)/255)}else if(R=p.match(w)){for(R=R[1],W=R[3],N=0;N<3;N++)k[N]=parseInt(R[N]+R[N],16);W&&(k[3]=parseInt(W+W,16)/255)}else if(R=p.match(x)){for(N=0;N<3;N++)k[N]=parseInt(R[N+1],0);R[4]&&(R[5]?k[3]=parseFloat(R[4])*.01:k[3]=parseFloat(R[4]))}else if(R=p.match(m)){for(N=0;N<3;N++)k[N]=Math.round(parseFloat(R[N+1])*2.55);R[4]&&(R[5]?k[3]=parseFloat(R[4])*.01:k[3]=parseFloat(R[4]))}else return(R=p.match(M))?R[1]==="transparent"?[0,0,0,0]:D.call(b,R[1])?(k=b[R[1]],k[3]=1,k):null:null;for(N=0;N<3;N++)k[N]=A(k[N],0,255);return k[3]=A(k[3],0,1),k},T.get.hsl=function(p){if(!p)return null;var w=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,y=p.match(w);if(y){var x=parseFloat(y[4]),m=(parseFloat(y[1])%360+360)%360,M=A(parseFloat(y[2]),0,100),k=A(parseFloat(y[3]),0,100),R=A(isNaN(x)?1:x,0,1);return[m,M,k,R]}return null},T.get.hwb=function(p){if(!p)return null;var w=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,y=p.match(w);if(y){var x=parseFloat(y[4]),m=(parseFloat(y[1])%360+360)%360,M=A(parseFloat(y[2]),0,100),k=A(parseFloat(y[3]),0,100),R=A(isNaN(x)?1:x,0,1);return[m,M,k,R]}return null},T.to.hex=function(){var p=P(arguments);return"#"+E(p[0])+E(p[1])+E(p[2])+(p[3]<1?E(Math.round(p[3]*255)):"")},T.to.rgb=function(){var p=P(arguments);return p.length<4||p[3]===1?"rgb("+Math.round(p[0])+", "+Math.round(p[1])+", "+Math.round(p[2])+")":"rgba("+Math.round(p[0])+", "+Math.round(p[1])+", "+Math.round(p[2])+", "+p[3]+")"},T.to.rgb.percent=function(){var p=P(arguments),w=Math.round(p[0]/255*100),y=Math.round(p[1]/255*100),x=Math.round(p[2]/255*100);return p.length<4||p[3]===1?"rgb("+w+"%, "+y+"%, "+x+"%)":"rgba("+w+"%, "+y+"%, "+x+"%, "+p[3]+")"},T.to.hsl=function(){var p=P(arguments);return p.length<4||p[3]===1?"hsl("+p[0]+", "+p[1]+"%, "+p[2]+"%)":"hsla("+p[0]+", "+p[1]+"%, "+p[2]+"%, "+p[3]+")"},T.to.hwb=function(){var p=P(arguments),w="";return p.length>=4&&p[3]!==1&&(w=", "+p[3]),"hwb("+p[0]+", "+p[1]+"%, "+p[2]+"%"+w+")"},T.to.keyword=function(p){return O[p.slice(0,3)]};function A(p,w,y){return Math.min(Math.max(w,p),y)}function E(p){var w=Math.round(p).toString(16).toUpperCase();return w.length<2?"0"+w:w}},6767:function(dt,S,d){"use strict";var b=d(19818),P=d(12085),D=[].slice,O=["keyword","gray","hex"],L={};Object.keys(P).forEach(function(M){L[D.call(P[M].labels).sort().join("")]=M});var T={};function A(M,k){if(!(this instanceof A))return new A(M,k);if(k&&k in O&&(k=null),k&&!(k in P))throw new Error("Unknown model: "+k);var R,N;if(M==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(M instanceof A)this.model=M.model,this.color=M.color.slice(),this.valpha=M.valpha;else if(typeof M=="string"){var W=b.get(M);if(W===null)throw new Error("Unable to parse color from string: "+M);this.model=W.model,N=P[this.model].channels,this.color=W.value.slice(0,N),this.valpha=typeof W.value[N]=="number"?W.value[N]:1}else if(M.length){this.model=k||"rgb",N=P[this.model].channels;var Q=D.call(M,0,N);this.color=m(Q,N),this.valpha=typeof M[N]=="number"?M[N]:1}else if(typeof M=="number")M&=16777215,this.model="rgb",this.color=[M>>16&255,M>>8&255,M&255],this.valpha=1;else{this.valpha=1;var H=Object.keys(M);"alpha"in M&&(H.splice(H.indexOf("alpha"),1),this.valpha=typeof M.alpha=="number"?M.alpha:0);var $=H.sort().join("");if(!($ in L))throw new Error("Unable to parse color from object: "+JSON.stringify(M));this.model=L[$];var it=P[this.model].labels,nt=[];for(R=0;R<it.length;R++)nt.push(M[it[R]]);this.color=m(nt)}if(T[this.model])for(N=P[this.model].channels,R=0;R<N;R++){var wt=T[this.model][R];wt&&(this.color[R]=wt(this.color[R]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}A.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(M){var k=this.model in b.to?this:this.rgb();k=k.round(typeof M=="number"?M:1);var R=k.valpha===1?k.color:k.color.concat(this.valpha);return b.to[k.model](R)},percentString:function(M){var k=this.rgb().round(typeof M=="number"?M:1),R=k.valpha===1?k.color:k.color.concat(this.valpha);return b.to.rgb.percent(R)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var M={},k=P[this.model].channels,R=P[this.model].labels,N=0;N<k;N++)M[R[N]]=this.color[N];return this.valpha!==1&&(M.alpha=this.valpha),M},unitArray:function(){var M=this.rgb().color;return M[0]/=255,M[1]/=255,M[2]/=255,this.valpha!==1&&M.push(this.valpha),M},unitObject:function(){var M=this.rgb().object();return M.r/=255,M.g/=255,M.b/=255,this.valpha!==1&&(M.alpha=this.valpha),M},round:function(M){return M=Math.max(M||0,0),new A(this.color.map(p(M)).concat(this.valpha),this.model)},alpha:function(M){return arguments.length?new A(this.color.concat(Math.max(0,Math.min(1,M))),this.model):this.valpha},red:w("rgb",0,y(255)),green:w("rgb",1,y(255)),blue:w("rgb",2,y(255)),hue:w(["hsl","hsv","hsl","hwb","hcg"],0,function(M){return(M%360+360)%360}),saturationl:w("hsl",1,y(100)),lightness:w("hsl",2,y(100)),saturationv:w("hsv",1,y(100)),value:w("hsv",2,y(100)),chroma:w("hcg",1,y(100)),gray:w("hcg",2,y(100)),white:w("hwb",1,y(100)),wblack:w("hwb",2,y(100)),cyan:w("cmyk",0,y(100)),magenta:w("cmyk",1,y(100)),yellow:w("cmyk",2,y(100)),black:w("cmyk",3,y(100)),x:w("xyz",0,y(100)),y:w("xyz",1,y(100)),z:w("xyz",2,y(100)),l:w("lab",0,y(100)),a:w("lab",1),b:w("lab",2),keyword:function(M){return arguments.length?new A(M):P[this.model].keyword(this.color)},hex:function(M){return arguments.length?new A(M):b.to.hex(this.rgb().round().color)},rgbNumber:function(){var M=this.rgb().color;return(M[0]&255)<<16|(M[1]&255)<<8|M[2]&255},luminosity:function(){for(var M=this.rgb().color,k=[],R=0;R<M.length;R++){var N=M[R]/255;k[R]=N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4)}return .2126*k[0]+.7152*k[1]+.0722*k[2]},contrast:function(M){var k=this.luminosity(),R=M.luminosity();return k>R?(k+.05)/(R+.05):(R+.05)/(k+.05)},level:function(M){var k=this.contrast(M);return k>=7.1?"AAA":k>=4.5?"AA":""},isDark:function(){var M=this.rgb().color,k=(M[0]*299+M[1]*587+M[2]*114)/1e3;return k<128},isLight:function(){return!this.isDark()},negate:function(){for(var M=this.rgb(),k=0;k<3;k++)M.color[k]=255-M.color[k];return M},lighten:function(M){var k=this.hsl();return k.color[2]+=k.color[2]*M,k},darken:function(M){var k=this.hsl();return k.color[2]-=k.color[2]*M,k},saturate:function(M){var k=this.hsl();return k.color[1]+=k.color[1]*M,k},desaturate:function(M){var k=this.hsl();return k.color[1]-=k.color[1]*M,k},whiten:function(M){var k=this.hwb();return k.color[1]+=k.color[1]*M,k},blacken:function(M){var k=this.hwb();return k.color[2]+=k.color[2]*M,k},grayscale:function(){var M=this.rgb().color,k=M[0]*.3+M[1]*.59+M[2]*.11;return A.rgb(k,k,k)},fade:function(M){return this.alpha(this.valpha-this.valpha*M)},opaquer:function(M){return this.alpha(this.valpha+this.valpha*M)},rotate:function(M){var k=this.hsl(),R=k.color[0];return R=(R+M)%360,R=R<0?360+R:R,k.color[0]=R,k},mix:function(M,k){if(!M||!M.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof M);var R=M.rgb(),N=this.rgb(),W=k===void 0?.5:k,Q=2*W-1,H=R.alpha()-N.alpha(),$=((Q*H==-1?Q:(Q+H)/(1+Q*H))+1)/2,it=1-$;return A.rgb($*R.red()+it*N.red(),$*R.green()+it*N.green(),$*R.blue()+it*N.blue(),R.alpha()*W+N.alpha()*(1-W))}},Object.keys(P).forEach(function(M){if(O.indexOf(M)===-1){var k=P[M].channels;A.prototype[M]=function(){if(this.model===M)return new A(this);if(arguments.length)return new A(arguments,M);var R=typeof arguments[k]=="number"?k:this.valpha;return new A(x(P[this.model][M].raw(this.color)).concat(R),M)},A[M]=function(R){return typeof R=="number"&&(R=m(D.call(arguments),k)),new A(R,M)}}});function E(M,k){return Number(M.toFixed(k))}function p(M){return function(k){return E(k,M)}}function w(M,k,R){return M=Array.isArray(M)?M:[M],M.forEach(function(N){(T[N]||(T[N]=[]))[k]=R}),M=M[0],function(N){var W;return arguments.length?(R&&(N=R(N)),W=this[M](),W.color[k]=N,W):(W=this[M]().color[k],R&&(W=R(W)),W)}}function y(M){return function(k){return Math.max(0,Math.min(M,k))}}function x(M){return Array.isArray(M)?M:[M]}function m(M,k){for(var R=0;R<k;R++)typeof M[R]!="number"&&(M[R]=0);return M}dt.exports=A},2650:function(dt,S,d){"use strict";d.d(S,{ZP:function(){return H},B8:function(){return wt}});function b(j,Z,f){j.prototype=Z.prototype=f,f.constructor=j}function P(j,Z){var f=Object.create(j.prototype);for(var ut in Z)f[ut]=Z[ut];return f}function D(){}var O=.7,L=1/O,T="\\s*([+-]?\\d+)\\s*",A="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",E="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p=/^#([0-9a-f]{3,8})$/,w=new RegExp("^rgb\\("+[T,T,T]+"\\)$"),y=new RegExp("^rgb\\("+[E,E,E]+"\\)$"),x=new RegExp("^rgba\\("+[T,T,T,A]+"\\)$"),m=new RegExp("^rgba\\("+[E,E,E,A]+"\\)$"),M=new RegExp("^hsl\\("+[A,E,E]+"\\)$"),k=new RegExp("^hsla\\("+[A,E,E,A]+"\\)$"),R={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b(D,H,{copy:function(j){return Object.assign(new this.constructor,this,j)},displayable:function(){return this.rgb().displayable()},hex:N,formatHex:N,formatHsl:W,formatRgb:Q,toString:Q});function N(){return this.rgb().formatHex()}function W(){return q(this).formatHsl()}function Q(){return this.rgb().formatRgb()}function H(j){var Z,f;return j=(j+"").trim().toLowerCase(),(Z=p.exec(j))?(f=Z[1].length,Z=parseInt(Z[1],16),f===6?$(Z):f===3?new yt(Z>>8&15|Z>>4&240,Z>>4&15|Z&240,(Z&15)<<4|Z&15,1):f===8?it(Z>>24&255,Z>>16&255,Z>>8&255,(Z&255)/255):f===4?it(Z>>12&15|Z>>8&240,Z>>8&15|Z>>4&240,Z>>4&15|Z&240,((Z&15)<<4|Z&15)/255):null):(Z=w.exec(j))?new yt(Z[1],Z[2],Z[3],1):(Z=y.exec(j))?new yt(Z[1]*255/100,Z[2]*255/100,Z[3]*255/100,1):(Z=x.exec(j))?it(Z[1],Z[2],Z[3],Z[4]):(Z=m.exec(j))?it(Z[1]*255/100,Z[2]*255/100,Z[3]*255/100,Z[4]):(Z=M.exec(j))?tt(Z[1],Z[2]/100,Z[3]/100,1):(Z=k.exec(j))?tt(Z[1],Z[2]/100,Z[3]/100,Z[4]):R.hasOwnProperty(j)?$(R[j]):j==="transparent"?new yt(NaN,NaN,NaN,0):null}function $(j){return new yt(j>>16&255,j>>8&255,j&255,1)}function it(j,Z,f,ut){return ut<=0&&(j=Z=f=NaN),new yt(j,Z,f,ut)}function nt(j){return j instanceof D||(j=H(j)),j?(j=j.rgb(),new yt(j.r,j.g,j.b,j.opacity)):new yt}function wt(j,Z,f,ut){return arguments.length===1?nt(j):new yt(j,Z,f,ut==null?1:ut)}function yt(j,Z,f,ut){this.r=+j,this.g=+Z,this.b=+f,this.opacity=+ut}b(yt,wt,P(D,{brighter:function(j){return j=j==null?L:Math.pow(L,j),new yt(this.r*j,this.g*j,this.b*j,this.opacity)},darker:function(j){return j=j==null?O:Math.pow(O,j),new yt(this.r*j,this.g*j,this.b*j,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Lt,formatHex:Lt,formatRgb:Mt,toString:Mt}));function Lt(){return"#"+J(this.r)+J(this.g)+J(this.b)}function Mt(){var j=this.opacity;return j=isNaN(j)?1:Math.max(0,Math.min(1,j)),(j===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(j===1?")":", "+j+")")}function J(j){return j=Math.max(0,Math.min(255,Math.round(j)||0)),(j<16?"0":"")+j.toString(16)}function tt(j,Z,f,ut){return ut<=0?j=Z=f=NaN:f<=0||f>=1?j=Z=NaN:Z<=0&&(j=NaN),new gt(j,Z,f,ut)}function q(j){if(j instanceof gt)return new gt(j.h,j.s,j.l,j.opacity);if(j instanceof D||(j=H(j)),!j)return new gt;if(j instanceof gt)return j;j=j.rgb();var Z=j.r/255,f=j.g/255,ut=j.b/255,bt=Math.min(Z,f,ut),Rt=Math.max(Z,f,ut),Vt=NaN,Ft=Rt-bt,Qt=(Rt+bt)/2;return Ft?(Z===Rt?Vt=(f-ut)/Ft+(f<ut)*6:f===Rt?Vt=(ut-Z)/Ft+2:Vt=(Z-f)/Ft+4,Ft/=Qt<.5?Rt+bt:2-Rt-bt,Vt*=60):Ft=Qt>0&&Qt<1?0:Vt,new gt(Vt,Ft,Qt,j.opacity)}function lt(j,Z,f,ut){return arguments.length===1?q(j):new gt(j,Z,f,ut==null?1:ut)}function gt(j,Z,f,ut){this.h=+j,this.s=+Z,this.l=+f,this.opacity=+ut}b(gt,lt,P(D,{brighter:function(j){return j=j==null?L:Math.pow(L,j),new gt(this.h,this.s,this.l*j,this.opacity)},darker:function(j){return j=j==null?O:Math.pow(O,j),new gt(this.h,this.s,this.l*j,this.opacity)},rgb:function(){var j=this.h%360+(this.h<0)*360,Z=isNaN(j)||isNaN(this.s)?0:this.s,f=this.l,ut=f+(f<.5?f:1-f)*Z,bt=2*f-ut;return new yt(K(j>=240?j-240:j+120,bt,ut),K(j,bt,ut),K(j<120?j+240:j-120,bt,ut),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var j=this.opacity;return j=isNaN(j)?1:Math.max(0,Math.min(1,j)),(j===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(j===1?")":", "+j+")")}}));function K(j,Z,f){return(j<60?Z+(f-Z)*j/60:j<180?f:j<240?Z+(f-Z)*(240-j)/60:Z)*255}},68716:function(dt,S,d){"use strict";d.d(S,{yD:function(){return b},_e:function(){return P},tw:function(){return D}});function b(O){return O*O*O}function P(O){return--O*O*O+1}function D(O){return((O*=2)<=1?O*O*O:(O-=2)*O*O+2)/2}},13681:function(dt,S,d){"use strict";d.r(S),d.d(S,{easeBack:function(){return bt},easeBackIn:function(){return f},easeBackInOut:function(){return bt},easeBackOut:function(){return ut},easeBounce:function(){return K},easeBounceIn:function(){return gt},easeBounceInOut:function(){return j},easeBounceOut:function(){return K},easeCircle:function(){return $},easeCircleIn:function(){return Q},easeCircleInOut:function(){return $},easeCircleOut:function(){return H},easeCubic:function(){return L.tw},easeCubicIn:function(){return L.yD},easeCubicInOut:function(){return L.tw},easeCubicOut:function(){return L._e},easeElastic:function(){return ae},easeElasticIn:function(){return Qt},easeElasticInOut:function(){return ue},easeElasticOut:function(){return ae},easeExp:function(){return W},easeExpIn:function(){return R},easeExpInOut:function(){return W},easeExpOut:function(){return N},easeLinear:function(){return b},easePoly:function(){return p},easePolyIn:function(){return A},easePolyInOut:function(){return p},easePolyOut:function(){return E},easeQuad:function(){return O},easeQuadIn:function(){return P},easeQuadInOut:function(){return O},easeQuadOut:function(){return D},easeSin:function(){return M},easeSinIn:function(){return x},easeSinInOut:function(){return M},easeSinOut:function(){return m}});function b(Kt){return+Kt}function P(Kt){return Kt*Kt}function D(Kt){return Kt*(2-Kt)}function O(Kt){return((Kt*=2)<=1?Kt*Kt:--Kt*(2-Kt)+1)/2}var L=d(68716),T=3,A=function Kt(Bt){Bt=+Bt;function Ct(pt){return Math.pow(pt,Bt)}return Ct.exponent=Kt,Ct}(T),E=function Kt(Bt){Bt=+Bt;function Ct(pt){return 1-Math.pow(1-pt,Bt)}return Ct.exponent=Kt,Ct}(T),p=function Kt(Bt){Bt=+Bt;function Ct(pt){return((pt*=2)<=1?Math.pow(pt,Bt):2-Math.pow(2-pt,Bt))/2}return Ct.exponent=Kt,Ct}(T),w=Math.PI,y=w/2;function x(Kt){return+Kt==1?1:1-Math.cos(Kt*y)}function m(Kt){return Math.sin(Kt*y)}function M(Kt){return(1-Math.cos(w*Kt))/2}function k(Kt){return(Math.pow(2,-10*Kt)-.0009765625)*1.0009775171065494}function R(Kt){return k(1-+Kt)}function N(Kt){return 1-k(Kt)}function W(Kt){return((Kt*=2)<=1?k(1-Kt):2-k(Kt-1))/2}function Q(Kt){return 1-Math.sqrt(1-Kt*Kt)}function H(Kt){return Math.sqrt(1- --Kt*Kt)}function $(Kt){return((Kt*=2)<=1?1-Math.sqrt(1-Kt*Kt):Math.sqrt(1-(Kt-=2)*Kt)+1)/2}var it=4/11,nt=6/11,wt=8/11,yt=3/4,Lt=9/11,Mt=10/11,J=15/16,tt=21/22,q=63/64,lt=1/it/it;function gt(Kt){return 1-K(1-Kt)}function K(Kt){return(Kt=+Kt)<it?lt*Kt*Kt:Kt<wt?lt*(Kt-=nt)*Kt+yt:Kt<Mt?lt*(Kt-=Lt)*Kt+J:lt*(Kt-=tt)*Kt+q}function j(Kt){return((Kt*=2)<=1?1-K(1-Kt):K(Kt-1)+1)/2}var Z=1.70158,f=function Kt(Bt){Bt=+Bt;function Ct(pt){return(pt=+pt)*pt*(Bt*(pt-1)+pt)}return Ct.overshoot=Kt,Ct}(Z),ut=function Kt(Bt){Bt=+Bt;function Ct(pt){return--pt*pt*((pt+1)*Bt+pt)+1}return Ct.overshoot=Kt,Ct}(Z),bt=function Kt(Bt){Bt=+Bt;function Ct(pt){return((pt*=2)<1?pt*pt*((Bt+1)*pt-Bt):(pt-=2)*pt*((Bt+1)*pt+Bt)+2)/2}return Ct.overshoot=Kt,Ct}(Z),Rt=2*Math.PI,Vt=1,Ft=.3,Qt=function Kt(Bt,Ct){var pt=Math.asin(1/(Bt=Math.max(1,Bt)))*(Ct/=Rt);function Pt(ft){return Bt*k(- --ft)*Math.sin((pt-ft)/Ct)}return Pt.amplitude=function(ft){return Kt(ft,Ct*Rt)},Pt.period=function(ft){return Kt(Bt,ft)},Pt}(Vt,Ft),ae=function Kt(Bt,Ct){var pt=Math.asin(1/(Bt=Math.max(1,Bt)))*(Ct/=Rt);function Pt(ft){return 1-Bt*k(ft=+ft)*Math.sin((ft+pt)/Ct)}return Pt.amplitude=function(ft){return Kt(ft,Ct*Rt)},Pt.period=function(ft){return Kt(Bt,ft)},Pt}(Vt,Ft),ue=function Kt(Bt,Ct){var pt=Math.asin(1/(Bt=Math.max(1,Bt)))*(Ct/=Rt);function Pt(ft){return((ft=ft*2-1)<0?Bt*k(-ft)*Math.sin((pt-ft)/Ct):2-Bt*k(ft)*Math.sin((pt+ft)/Ct))/2}return Pt.amplitude=function(ft){return Kt(ft,Ct*Rt)},Pt.period=function(ft){return Kt(Bt,ft)},Pt}(Vt,Ft)},88122:function(dt,S,d){"use strict";d.d(S,{Z:function(){return D},M:function(){return O}});var b=d(21775),P=d(67896);function D(L,T){return((0,P.v)(T)?P.Z:O)(L,T)}function O(L,T){var A=T?T.length:0,E=L?Math.min(A,L.length):0,p=new Array(E),w=new Array(A),y;for(y=0;y<E;++y)p[y]=(0,b.Z)(L[y],T[y]);for(;y<A;++y)w[y]=T[y];return function(x){for(y=0;y<E;++y)w[y]=p[y](x);return w}}},55302:function(dt,S,d){"use strict";d.d(S,{Z:function(){return b}});function b(P){return function(){return P}}},73626:function(dt,S,d){"use strict";d.d(S,{Z:function(){return b}});function b(P,D){return P=+P,D=+D,function(O){return P*(1-O)+D*O}}},67896:function(dt,S,d){"use strict";d.d(S,{Z:function(){return b},v:function(){return P}});function b(D,O){O||(O=[]);var L=D?Math.min(O.length,D.length):0,T=O.slice(),A;return function(E){for(A=0;A<L;++A)T[A]=D[A]*(1-E)+O[A]*E;return T}}function P(D){return ArrayBuffer.isView(D)&&!(D instanceof DataView)}},87765:function(dt,S,d){"use strict";d.d(S,{ZP:function(){return y},hD:function(){return m}});var b=d(2650);function P(k,R,N,W,Q){var H=k*k,$=H*k;return((1-3*k+3*H-$)*R+(4-6*H+3*$)*N+(1+3*k+3*H-3*$)*W+$*Q)/6}function D(k){var R=k.length-1;return function(N){var W=N<=0?N=0:N>=1?(N=1,R-1):Math.floor(N*R),Q=k[W],H=k[W+1],$=W>0?k[W-1]:2*Q-H,it=W<R-1?k[W+2]:2*H-Q;return P((N-W/R)*R,$,Q,H,it)}}function O(k){var R=k.length;return function(N){var W=Math.floor(((N%=1)<0?++N:N)*R),Q=k[(W+R-1)%R],H=k[W%R],$=k[(W+1)%R],it=k[(W+2)%R];return P((N-W/R)*R,Q,H,$,it)}}var L=d(55302);function T(k,R){return function(N){return k+N*R}}function A(k,R,N){return k=Math.pow(k,N),R=Math.pow(R,N)-k,N=1/N,function(W){return Math.pow(k+W*R,N)}}function E(k,R){var N=R-k;return N?T(k,N>180||N<-180?N-360*Math.round(N/360):N):constant(isNaN(k)?R:k)}function p(k){return(k=+k)==1?w:function(R,N){return N-R?A(R,N,k):(0,L.Z)(isNaN(R)?N:R)}}function w(k,R){var N=R-k;return N?T(k,N):(0,L.Z)(isNaN(k)?R:k)}var y=function k(R){var N=p(R);function W(Q,H){var $=N((Q=(0,b.B8)(Q)).r,(H=(0,b.B8)(H)).r),it=N(Q.g,H.g),nt=N(Q.b,H.b),wt=w(Q.opacity,H.opacity);return function(yt){return Q.r=$(yt),Q.g=it(yt),Q.b=nt(yt),Q.opacity=wt(yt),Q+""}}return W.gamma=k,W}(1);function x(k){return function(R){var N=R.length,W=new Array(N),Q=new Array(N),H=new Array(N),$,it;for($=0;$<N;++$)it=(0,b.B8)(R[$]),W[$]=it.r||0,Q[$]=it.g||0,H[$]=it.b||0;return W=k(W),Q=k(Q),H=k(H),it.opacity=1,function(nt){return it.r=W(nt),it.g=Q(nt),it.b=H(nt),it+""}}}var m=x(D),M=x(O)},21775:function(dt,S,d){"use strict";d.d(S,{Z:function(){return M}});var b=d(2650),P=d(87765),D=d(88122);function O(k,R){var N=new Date;return k=+k,R=+R,function(W){return N.setTime(k*(1-W)+R*W),N}}var L=d(73626);function T(k,R){var N={},W={},Q;(k===null||typeof k!="object")&&(k={}),(R===null||typeof R!="object")&&(R={});for(Q in R)Q in k?N[Q]=M(k[Q],R[Q]):W[Q]=R[Q];return function(H){for(Q in N)W[Q]=N[Q](H);return W}}var A=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,E=new RegExp(A.source,"g");function p(k){return function(){return k}}function w(k){return function(R){return k(R)+""}}function y(k,R){var N=A.lastIndex=E.lastIndex=0,W,Q,H,$=-1,it=[],nt=[];for(k=k+"",R=R+"";(W=A.exec(k))&&(Q=E.exec(R));)(H=Q.index)>N&&(H=R.slice(N,H),it[$]?it[$]+=H:it[++$]=H),(W=W[0])===(Q=Q[0])?it[$]?it[$]+=Q:it[++$]=Q:(it[++$]=null,nt.push({i:$,x:(0,L.Z)(W,Q)})),N=E.lastIndex;return N<R.length&&(H=R.slice(N),it[$]?it[$]+=H:it[++$]=H),it.length<2?nt[0]?w(nt[0].x):p(R):(R=nt.length,function(wt){for(var yt=0,Lt;yt<R;++yt)it[(Lt=nt[yt]).i]=Lt.x(wt);return it.join("")})}var x=d(55302),m=d(67896);function M(k,R){var N=typeof R,W;return R==null||N==="boolean"?(0,x.Z)(R):(N==="number"?L.Z:N==="string"?(W=(0,b.ZP)(R))?(R=W,P.ZP):y:R instanceof b.ZP?P.ZP:R instanceof Date?O:(0,m.v)(R)?m.Z:Array.isArray(R)?D.M:typeof R.valueOf!="function"&&typeof R.toString!="function"||isNaN(R)?T:L.Z)(k,R)}},56645:function(dt,S){(function(d,b){b(S)})(this,function(d){"use strict";function b(Mt,J){return P(Mt)||D(Mt,J)||O()}function P(Mt){if(Array.isArray(Mt))return Mt}function D(Mt,J){var tt=[],q=!0,lt=!1,gt=void 0;try{for(var K=Mt[Symbol.iterator](),j;!(q=(j=K.next()).done)&&(tt.push(j.value),!(J&&tt.length===J));q=!0);}catch(Z){lt=!0,gt=Z}finally{try{!q&&K.return!=null&&K.return()}finally{if(lt)throw gt}}return tt}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function L(Mt,J,tt,q){Mt=Mt.filter(function(Ft,Qt){var ae=J(Ft,Qt),ue=tt(Ft,Qt);return ae!=null&&isFinite(ae)&&ue!=null&&isFinite(ue)}),q&&Mt.sort(function(Ft,Qt){return J(Ft)-J(Qt)});for(var lt=Mt.length,gt=new Float64Array(lt),K=new Float64Array(lt),j=0,Z=0,f,ut,bt,Rt=0;Rt<lt;)bt=Mt[Rt],gt[Rt]=f=+J(bt,Rt,Mt),K[Rt]=ut=+tt(bt,Rt,Mt),++Rt,j+=(f-j)/Rt,Z+=(ut-Z)/Rt;for(var Vt=0;Vt<lt;++Vt)gt[Vt]-=j,K[Vt]-=Z;return[gt,K,j,Z]}function T(Mt,J,tt,q){for(var lt=0,gt=0,K=Mt.length;gt<K;gt++){var j=Mt[gt],Z=+J(j,gt,Mt),f=+tt(j,gt,Mt);Z!=null&&isFinite(Z)&&f!=null&&isFinite(f)&&q(Z,f,lt++)}}function A(Mt,J,tt,q,lt){var gt=0,K=0;return T(Mt,J,tt,function(j,Z){var f=Z-lt(j),ut=Z-q;gt+=f*f,K+=ut*ut}),1-gt/K}function E(Mt){return Math.atan2(Mt[1][1]-Mt[0][1],Mt[1][0]-Mt[0][0])*180/Math.PI}function p(Mt){return[(Mt[0][0]+Mt[1][0])/2,(Mt[0][1]+Mt[1][1])/2]}function w(Mt,J,tt){for(var q=Math.log(J-Mt)*Math.LOG10E+1|0,lt=1*Math.pow(10,-q/2-1),gt=1e4,K=[Z(Mt),Z(J)],j=0;f(K)&&j<gt;);return K;function Z(ut){return[ut,tt(ut)]}function f(ut){j++;for(var bt=ut.length,Rt=!1,Vt=0;Vt<bt-1;Vt++){var Ft=ut[Vt],Qt=ut[Vt+1],ae=p([Ft,Qt]),ue=Z(ae[0]),Kt=E([Ft,ae]),Bt=E([Ft,ue]),Ct=Math.abs(Kt-Bt);Ct>lt&&(ut.splice(Vt+1,0,ue),Rt=!0)}return Rt}}function y(Mt,J,tt,q){var lt=q-Mt*Mt,gt=Math.abs(lt)<1e-24?0:(tt-Mt*J)/lt,K=J-gt*Mt;return[K,gt]}function x(){var Mt=function(gt){return gt[0]},J=function(gt){return gt[1]},tt;function q(lt){var gt=0,K=0,j=0,Z=0,f=0,ut=0,bt=tt?+tt[0]:Infinity,Rt=tt?+tt[1]:-Infinity;T(lt,Mt,J,function(Bt,Ct){var pt=Math.log(Ct),Pt=Bt*Ct;++gt,K+=(Ct-K)/gt,Z+=(Pt-Z)/gt,ut+=(Bt*Pt-ut)/gt,j+=(Ct*pt-j)/gt,f+=(Pt*pt-f)/gt,tt||(Bt<bt&&(bt=Bt),Bt>Rt&&(Rt=Bt))});var Vt=y(Z/K,j/K,f/K,ut/K),Ft=b(Vt,2),Qt=Ft[0],ae=Ft[1];Qt=Math.exp(Qt);var ue=function(Ct){return Qt*Math.exp(ae*Ct)},Kt=w(bt,Rt,ue);return Kt.a=Qt,Kt.b=ae,Kt.predict=ue,Kt.rSquared=A(lt,Mt,J,K,ue),Kt}return q.domain=function(lt){return arguments.length?(tt=lt,q):tt},q.x=function(lt){return arguments.length?(Mt=lt,q):Mt},q.y=function(lt){return arguments.length?(J=lt,q):J},q}function m(){var Mt=function(gt){return gt[0]},J=function(gt){return gt[1]},tt;function q(lt){var gt=0,K=0,j=0,Z=0,f=0,ut=tt?+tt[0]:Infinity,bt=tt?+tt[1]:-Infinity;T(lt,Mt,J,function(Kt,Bt){++gt,K+=(Kt-K)/gt,j+=(Bt-j)/gt,Z+=(Kt*Bt-Z)/gt,f+=(Kt*Kt-f)/gt,tt||(Kt<ut&&(ut=Kt),Kt>bt&&(bt=Kt))});var Rt=y(K,j,Z,f),Vt=b(Rt,2),Ft=Vt[0],Qt=Vt[1],ae=function(Bt){return Qt*Bt+Ft},ue=[[ut,ae(ut)],[bt,ae(bt)]];return ue.a=Qt,ue.b=Ft,ue.predict=ae,ue.rSquared=A(lt,Mt,J,j,ae),ue}return q.domain=function(lt){return arguments.length?(tt=lt,q):tt},q.x=function(lt){return arguments.length?(Mt=lt,q):Mt},q.y=function(lt){return arguments.length?(J=lt,q):J},q}function M(Mt){Mt.sort(function(tt,q){return tt-q});var J=Mt.length/2;return J%1==0?(Mt[J-1]+Mt[J])/2:Mt[Math.floor(J)]}var k=2,R=1e-12;function N(){var Mt=function(gt){return gt[0]},J=function(gt){return gt[1]},tt=.3;function q(lt){for(var gt=L(lt,Mt,J,!0),K=b(gt,4),j=K[0],Z=K[1],f=K[2],ut=K[3],bt=j.length,Rt=Math.max(2,~~(tt*bt)),Vt=new Float64Array(bt),Ft=new Float64Array(bt),Qt=new Float64Array(bt).fill(1),ae=-1;++ae<=k;){for(var ue=[0,Rt-1],Kt=0;Kt<bt;++Kt){for(var Bt=j[Kt],Ct=ue[0],pt=ue[1],Pt=Bt-j[Ct]>j[pt]-Bt?Ct:pt,ft=0,ot=0,St=0,Ot=0,Zt=0,le=1/Math.abs(j[Pt]-Bt||1),be=Ct;be<=pt;++be){var Be=j[be],Fe=Z[be],lr=W(Math.abs(Bt-Be)*le)*Qt[be],dr=Be*lr;ft+=lr,ot+=dr,St+=Fe*lr,Ot+=Fe*dr,Zt+=Be*dr}var ur=y(ot/ft,St/ft,Ot/ft,Zt/ft),Tr=b(ur,2),sr=Tr[0],zr=Tr[1];Vt[Kt]=sr+zr*Bt,Ft[Kt]=Math.abs(Z[Kt]-Vt[Kt]),Q(j,Kt+1,ue)}if(ae===k)break;var fn=M(Ft);if(Math.abs(fn)<R)break;for(var Yr=0,nn,pi;Yr<bt;++Yr)nn=Ft[Yr]/(6*fn),Qt[Yr]=nn>=1?R:(pi=1-nn*nn)*pi}return H(j,Vt,f,ut)}return q.bandwidth=function(lt){return arguments.length?(tt=lt,q):tt},q.x=function(lt){return arguments.length?(Mt=lt,q):Mt},q.y=function(lt){return arguments.length?(J=lt,q):J},q}function W(Mt){return(Mt=1-Mt*Mt*Mt)*Mt*Mt}function Q(Mt,J,tt){var q=Mt[J],lt=tt[0],gt=tt[1]+1;if(!(gt>=Mt.length))for(;J>lt&&Mt[gt]-q<=q-Mt[lt];)tt[0]=++lt,tt[1]=gt,++gt}function H(Mt,J,tt,q){for(var lt=Mt.length,gt=[],K=0,j=0,Z=[],f;K<lt;++K)f=Mt[K]+tt,Z[0]===f?Z[1]+=(J[K]-Z[1])/++j:(j=0,Z[1]+=q,Z=[f,J[K]],gt.push(Z));return Z[1]+=q,gt}function $(){var Mt=function(K){return K[0]},J=function(K){return K[1]},tt=Math.E,q;function lt(gt){var K=0,j=0,Z=0,f=0,ut=0,bt=q?+q[0]:Infinity,Rt=q?+q[1]:-Infinity,Vt=Math.log(tt);T(gt,Mt,J,function(Ct,pt){var Pt=Math.log(Ct)/Vt;++K,j+=(Pt-j)/K,Z+=(pt-Z)/K,f+=(Pt*pt-f)/K,ut+=(Pt*Pt-ut)/K,q||(Ct<bt&&(bt=Ct),Ct>Rt&&(Rt=Ct))});var Ft=y(j,Z,f,ut),Qt=b(Ft,2),ae=Qt[0],ue=Qt[1],Kt=function(pt){return ue*Math.log(pt)/Vt+ae},Bt=w(bt,Rt,Kt);return Bt.a=ue,Bt.b=ae,Bt.predict=Kt,Bt.rSquared=A(gt,Mt,J,Z,Kt),Bt}return lt.domain=function(gt){return arguments.length?(q=gt,lt):q},lt.x=function(gt){return arguments.length?(Mt=gt,lt):Mt},lt.y=function(gt){return arguments.length?(J=gt,lt):J},lt.base=function(gt){return arguments.length?(tt=gt,lt):tt},lt}function it(){var Mt=function(gt){return gt[0]},J=function(gt){return gt[1]},tt;function q(lt){var gt=L(lt,Mt,J),K=b(gt,4),j=K[0],Z=K[1],f=K[2],ut=K[3],bt=j.length,Rt=0,Vt=0,Ft=0,Qt=0,ae=0,ue,Kt,Bt,Ct;for(ue=0;ue<bt;)Kt=j[ue],Bt=Z[ue++],Ct=Kt*Kt,Rt+=(Ct-Rt)/ue,Vt+=(Ct*Kt-Vt)/ue,Ft+=(Ct*Ct-Ft)/ue,Qt+=(Kt*Bt-Qt)/ue,ae+=(Ct*Bt-ae)/ue;var pt=0,Pt=0,ft=tt?+tt[0]:Infinity,ot=tt?+tt[1]:-Infinity;T(lt,Mt,J,function(lr,dr){Pt++,pt+=(dr-pt)/Pt,tt||(lr<ft&&(ft=lr),lr>ot&&(ot=lr))});var St=Ft-Rt*Rt,Ot=Rt*St-Vt*Vt,Zt=(ae*Rt-Qt*Vt)/Ot,le=(Qt*St-ae*Vt)/Ot,be=-Zt*Rt,Be=function(dr){return dr=dr-f,Zt*dr*dr+le*dr+be+ut},Fe=w(ft,ot,Be);return Fe.a=Zt,Fe.b=le-2*Zt*f,Fe.c=be-le*f+Zt*f*f+ut,Fe.predict=Be,Fe.rSquared=A(lt,Mt,J,pt,Be),Fe}return q.domain=function(lt){return arguments.length?(tt=lt,q):tt},q.x=function(lt){return arguments.length?(Mt=lt,q):Mt},q.y=function(lt){return arguments.length?(J=lt,q):J},q}function nt(){var Mt=function(K){return K[0]},J=function(K){return K[1]},tt=3,q;function lt(gt){if(tt===1){var K=m().x(Mt).y(J).domain(q)(gt);return K.coefficients=[K.b,K.a],delete K.a,delete K.b,K}if(tt===2){var j=it().x(Mt).y(J).domain(q)(gt);return j.coefficients=[j.c,j.b,j.a],delete j.a,delete j.b,delete j.c,j}var Z=L(gt,Mt,J),f=b(Z,4),ut=f[0],bt=f[1],Rt=f[2],Vt=f[3],Ft=ut.length,Qt=[],ae=[],ue=tt+1,Kt=0,Bt=0,Ct=q?+q[0]:Infinity,pt=q?+q[1]:-Infinity;T(gt,Mt,J,function(Be,Fe){++Bt,Kt+=(Fe-Kt)/Bt,q||(Be<Ct&&(Ct=Be),Be>pt&&(pt=Be))});var Pt,ft,ot,St,Ot;for(Pt=0;Pt<ue;++Pt){for(ot=0,St=0;ot<Ft;++ot)St+=Math.pow(ut[ot],Pt)*bt[ot];for(Qt.push(St),Ot=new Float64Array(ue),ft=0;ft<ue;++ft){for(ot=0,St=0;ot<Ft;++ot)St+=Math.pow(ut[ot],Pt+ft);Ot[ft]=St}ae.push(Ot)}ae.push(Qt);var Zt=yt(ae),le=function(Fe){Fe-=Rt;var lr=Vt+Zt[0]+Zt[1]*Fe+Zt[2]*Fe*Fe;for(Pt=3;Pt<ue;++Pt)lr+=Zt[Pt]*Math.pow(Fe,Pt);return lr},be=w(Ct,pt,le);return be.coefficients=wt(ue,Zt,-Rt,Vt),be.predict=le,be.rSquared=A(gt,Mt,J,Kt,le),be}return lt.domain=function(gt){return arguments.length?(q=gt,lt):q},lt.x=function(gt){return arguments.length?(Mt=gt,lt):Mt},lt.y=function(gt){return arguments.length?(J=gt,lt):J},lt.order=function(gt){return arguments.length?(tt=gt,lt):tt},lt}function wt(Mt,J,tt,q){var lt=Array(Mt),gt,K,j,Z;for(gt=0;gt<Mt;++gt)lt[gt]=0;for(gt=Mt-1;gt>=0;--gt)for(j=J[gt],Z=1,lt[gt]+=j,K=1;K<=gt;++K)Z*=(gt+1-K)/K,lt[gt-K]+=j*Math.pow(tt,K)*Z;return lt[0]+=q,lt}function yt(Mt){var J=Mt.length-1,tt=[],q,lt,gt,K,j;for(q=0;q<J;++q){for(K=q,lt=q+1;lt<J;++lt)Math.abs(Mt[q][lt])>Math.abs(Mt[q][K])&&(K=lt);for(gt=q;gt<J+1;++gt)j=Mt[gt][q],Mt[gt][q]=Mt[gt][K],Mt[gt][K]=j;for(lt=q+1;lt<J;++lt)for(gt=J;gt>=q;gt--)Mt[gt][lt]-=Mt[gt][q]*Mt[q][lt]/Mt[q][q]}for(lt=J-1;lt>=0;--lt){for(j=0,gt=lt+1;gt<J;++gt)j+=Mt[gt][lt]*tt[gt];tt[lt]=(Mt[J][lt]-j)/Mt[lt][lt]}return tt}function Lt(){var Mt=function(gt){return gt[0]},J=function(gt){return gt[1]},tt;function q(lt){var gt=0,K=0,j=0,Z=0,f=0,ut=0,bt=tt?+tt[0]:Infinity,Rt=tt?+tt[1]:-Infinity;T(lt,Mt,J,function(Bt,Ct){var pt=Math.log(Bt),Pt=Math.log(Ct);++gt,K+=(pt-K)/gt,j+=(Pt-j)/gt,Z+=(pt*Pt-Z)/gt,f+=(pt*pt-f)/gt,ut+=(Ct-ut)/gt,tt||(Bt<bt&&(bt=Bt),Bt>Rt&&(Rt=Bt))});var Vt=y(K,j,Z,f),Ft=b(Vt,2),Qt=Ft[0],ae=Ft[1];Qt=Math.exp(Qt);var ue=function(Ct){return Qt*Math.pow(Ct,ae)},Kt=w(bt,Rt,ue);return Kt.a=Qt,Kt.b=ae,Kt.predict=ue,Kt.rSquared=A(lt,Mt,J,ut,ue),Kt}return q.domain=function(lt){return arguments.length?(tt=lt,q):tt},q.x=function(lt){return arguments.length?(Mt=lt,q):Mt},q.y=function(lt){return arguments.length?(J=lt,q):J},q}d.regressionExp=x,d.regressionLinear=m,d.regressionLoess=N,d.regressionLog=$,d.regressionPoly=nt,d.regressionPow=Lt,d.regressionQuad=it,Object.defineProperty(d,"__esModule",{value:!0})})},49772:function(dt,S,d){dt.exports={graphlib:d(70574),layout:d(98123),debug:d(27570),util:{time:d(11138).time,notime:d(11138).notime},version:d(88177)}},92188:function(dt,S,d){"use strict";var b=d(38436),P=d(74079);dt.exports={run:D,undo:L};function D(T){var A=T.graph().acyclicer==="greedy"?P(T,E(T)):O(T);b.forEach(A,function(p){var w=T.edge(p);T.removeEdge(p),w.forwardName=p.name,w.reversed=!0,T.setEdge(p.w,p.v,w,b.uniqueId("rev"))});function E(p){return function(w){return p.edge(w).weight}}}function O(T){var A=[],E={},p={};function w(y){b.has(p,y)||(p[y]=!0,E[y]=!0,b.forEach(T.outEdges(y),function(x){b.has(E,x.w)?A.push(x):w(x.w)}),delete E[y])}return b.forEach(T.nodes(),w),A}function L(T){b.forEach(T.edges(),function(A){var E=T.edge(A);if(E.reversed){T.removeEdge(A);var p=E.forwardName;delete E.reversed,delete E.forwardName,T.setEdge(A.w,A.v,E,p)}})}},61133:function(dt,S,d){var b=d(38436),P=d(11138);dt.exports=D;function D(L){function T(A){var E=L.children(A),p=L.node(A);if(E.length&&b.forEach(E,T),b.has(p,"minRank")){p.borderLeft=[],p.borderRight=[];for(var w=p.minRank,y=p.maxRank+1;w<y;++w)O(L,"borderLeft","_bl",A,p,w),O(L,"borderRight","_br",A,p,w)}}b.forEach(L.children(),T)}function O(L,T,A,E,p,w){var y={width:0,height:0,rank:w,borderType:T},x=p[T][w-1],m=P.addDummyNode(L,"border",y,A);p[T][w]=m,L.setParent(m,E),x&&L.setEdge(x,m,{weight:1})}},53258:function(dt,S,d){"use strict";var b=d(38436);dt.exports={adjust:P,undo:D};function P(w){var y=w.graph().rankdir.toLowerCase();(y==="lr"||y==="rl")&&O(w)}function D(w){var y=w.graph().rankdir.toLowerCase();(y==="bt"||y==="rl")&&T(w),(y==="lr"||y==="rl")&&(E(w),O(w))}function O(w){b.forEach(w.nodes(),function(y){L(w.node(y))}),b.forEach(w.edges(),function(y){L(w.edge(y))})}function L(w){var y=w.width;w.width=w.height,w.height=y}function T(w){b.forEach(w.nodes(),function(y){A(w.node(y))}),b.forEach(w.edges(),function(y){var x=w.edge(y);b.forEach(x.points,A),b.has(x,"y")&&A(x)})}function A(w){w.y=-w.y}function E(w){b.forEach(w.nodes(),function(y){p(w.node(y))}),b.forEach(w.edges(),function(y){var x=w.edge(y);b.forEach(x.points,p),b.has(x,"x")&&p(x)})}function p(w){var y=w.x;w.x=w.y,w.y=y}},77822:function(dt){dt.exports=S;function S(){var P={};P._next=P._prev=P,this._sentinel=P}S.prototype.dequeue=function(){var P=this._sentinel,D=P._prev;if(D!==P)return d(D),D},S.prototype.enqueue=function(P){var D=this._sentinel;P._prev&&P._next&&d(P),P._next=D._next,D._next._prev=P,D._next=P,P._prev=D},S.prototype.toString=function(){for(var P=[],D=this._sentinel,O=D._prev;O!==D;)P.push(JSON.stringify(O,b)),O=O._prev;return"["+P.join(", ")+"]"};function d(P){P._prev._next=P._next,P._next._prev=P._prev,delete P._next,delete P._prev}function b(P,D){if(P!=="_next"&&P!=="_prev")return D}},27570:function(dt,S,d){var b=d(38436),P=d(11138),D=d(70574).Graph;dt.exports={debugOrdering:O};function O(L){var T=P.buildLayerMatrix(L),A=new D({compound:!0,multigraph:!0}).setGraph({});return b.forEach(L.nodes(),function(E){A.setNode(E,{label:E}),A.setParent(E,"layer"+L.node(E).rank)}),b.forEach(L.edges(),function(E){A.setEdge(E.v,E.w,{},E.name)}),b.forEach(T,function(E,p){var w="layer"+p;A.setNode(w,{rank:"same"}),b.reduce(E,function(y,x){return A.setEdge(y,x,{style:"invis"}),x})}),A}},70574:function(dt,S,d){var b;try{b=d(28282)}catch(P){}b||(b=window.graphlib),dt.exports=b},74079:function(dt,S,d){var b=d(38436),P=d(70574).Graph,D=d(77822);dt.exports=L;var O=b.constant(1);function L(w,y){if(w.nodeCount()<=1)return[];var x=E(w,y||O),m=T(x.graph,x.buckets,x.zeroIdx);return b.flatten(b.map(m,function(M){return w.outEdges(M.v,M.w)}),!0)}function T(w,y,x){for(var m=[],M=y[y.length-1],k=y[0],R;w.nodeCount();){for(;R=k.dequeue();)A(w,y,x,R);for(;R=M.dequeue();)A(w,y,x,R);if(w.nodeCount()){for(var N=y.length-2;N>0;--N)if(R=y[N].dequeue(),R){m=m.concat(A(w,y,x,R,!0));break}}}return m}function A(w,y,x,m,M){var k=M?[]:void 0;return b.forEach(w.inEdges(m.v),function(R){var N=w.edge(R),W=w.node(R.v);M&&k.push({v:R.v,w:R.w}),W.out-=N,p(y,x,W)}),b.forEach(w.outEdges(m.v),function(R){var N=w.edge(R),W=R.w,Q=w.node(W);Q.in-=N,p(y,x,Q)}),w.removeNode(m.v),k}function E(w,y){var x=new P,m=0,M=0;b.forEach(w.nodes(),function(N){x.setNode(N,{v:N,in:0,out:0})}),b.forEach(w.edges(),function(N){var W=x.edge(N.v,N.w)||0,Q=y(N),H=W+Q;x.setEdge(N.v,N.w,H),M=Math.max(M,x.node(N.v).out+=Q),m=Math.max(m,x.node(N.w).in+=Q)});var k=b.range(M+m+3).map(function(){return new D}),R=m+1;return b.forEach(x.nodes(),function(N){p(k,R,x.node(N))}),{graph:x,buckets:k,zeroIdx:R}}function p(w,y,x){x.out?x.in?w[x.out-x.in+y].enqueue(x):w[w.length-1].enqueue(x):w[0].enqueue(x)}},98123:function(dt,S,d){"use strict";var b=d(38436),P=d(92188),D=d(45995),O=d(78093),L=d(11138).normalizeRanks,T=d(24219),A=d(11138).removeEmptyRanks,E=d(72981),p=d(61133),w=d(53258),y=d(53408),x=d(17873),m=d(11138),M=d(70574).Graph;dt.exports=k;function k(Ft,Qt){var ae=Qt&&Qt.debugTiming?m.time:m.notime;ae("layout",function(){var ue=ae("  buildLayoutGraph",function(){return Lt(Ft)});ae("  runLayout",function(){R(ue,ae)}),ae("  updateInputGraph",function(){N(Ft,ue)})})}function R(Ft,Qt){Qt("    makeSpaceForEdgeLabels",function(){Mt(Ft)}),Qt("    removeSelfEdges",function(){f(Ft)}),Qt("    acyclic",function(){P.run(Ft)}),Qt("    nestingGraph.run",function(){E.run(Ft)}),Qt("    rank",function(){O(m.asNonCompoundGraph(Ft))}),Qt("    injectEdgeLabelProxies",function(){J(Ft)}),Qt("    removeEmptyRanks",function(){A(Ft)}),Qt("    nestingGraph.cleanup",function(){E.cleanup(Ft)}),Qt("    normalizeRanks",function(){L(Ft)}),Qt("    assignRankMinMax",function(){tt(Ft)}),Qt("    removeEdgeLabelProxies",function(){q(Ft)}),Qt("    normalize.run",function(){D.run(Ft)}),Qt("    parentDummyChains",function(){T(Ft)}),Qt("    addBorderSegments",function(){p(Ft)}),Qt("    order",function(){y(Ft)}),Qt("    insertSelfEdges",function(){ut(Ft)}),Qt("    adjustCoordinateSystem",function(){w.adjust(Ft)}),Qt("    position",function(){x(Ft)}),Qt("    positionSelfEdges",function(){bt(Ft)}),Qt("    removeBorderNodes",function(){Z(Ft)}),Qt("    normalize.undo",function(){D.undo(Ft)}),Qt("    fixupEdgeLabelCoords",function(){K(Ft)}),Qt("    undoCoordinateSystem",function(){w.undo(Ft)}),Qt("    translateGraph",function(){lt(Ft)}),Qt("    assignNodeIntersects",function(){gt(Ft)}),Qt("    reversePoints",function(){j(Ft)}),Qt("    acyclic.undo",function(){P.undo(Ft)})}function N(Ft,Qt){b.forEach(Ft.nodes(),function(ae){var ue=Ft.node(ae),Kt=Qt.node(ae);ue&&(ue.x=Kt.x,ue.y=Kt.y,Qt.children(ae).length&&(ue.width=Kt.width,ue.height=Kt.height))}),b.forEach(Ft.edges(),function(ae){var ue=Ft.edge(ae),Kt=Qt.edge(ae);ue.points=Kt.points,b.has(Kt,"x")&&(ue.x=Kt.x,ue.y=Kt.y)}),Ft.graph().width=Qt.graph().width,Ft.graph().height=Qt.graph().height}var W=["nodesep","edgesep","ranksep","marginx","marginy"],Q={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},H=["acyclicer","ranker","rankdir","align"],$=["width","height"],it={width:0,height:0},nt=["minlen","weight","width","height","labeloffset"],wt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},yt=["labelpos"];function Lt(Ft){var Qt=new M({multigraph:!0,compound:!0}),ae=Vt(Ft.graph());return Qt.setGraph(b.merge({},Q,Rt(ae,W),b.pick(ae,H))),b.forEach(Ft.nodes(),function(ue){var Kt=Vt(Ft.node(ue));Qt.setNode(ue,b.defaults(Rt(Kt,$),it)),Qt.setParent(ue,Ft.parent(ue))}),b.forEach(Ft.edges(),function(ue){var Kt=Vt(Ft.edge(ue));Qt.setEdge(ue,b.merge({},wt,Rt(Kt,nt),b.pick(Kt,yt)))}),Qt}function Mt(Ft){var Qt=Ft.graph();Qt.ranksep/=2,b.forEach(Ft.edges(),function(ae){var ue=Ft.edge(ae);ue.minlen*=2,ue.labelpos.toLowerCase()!=="c"&&(Qt.rankdir==="TB"||Qt.rankdir==="BT"?ue.width+=ue.labeloffset:ue.height+=ue.labeloffset)})}function J(Ft){b.forEach(Ft.edges(),function(Qt){var ae=Ft.edge(Qt);if(ae.width&&ae.height){var ue=Ft.node(Qt.v),Kt=Ft.node(Qt.w),Bt={rank:(Kt.rank-ue.rank)/2+ue.rank,e:Qt};m.addDummyNode(Ft,"edge-proxy",Bt,"_ep")}})}function tt(Ft){var Qt=0;b.forEach(Ft.nodes(),function(ae){var ue=Ft.node(ae);ue.borderTop&&(ue.minRank=Ft.node(ue.borderTop).rank,ue.maxRank=Ft.node(ue.borderBottom).rank,Qt=b.max(Qt,ue.maxRank))}),Ft.graph().maxRank=Qt}function q(Ft){b.forEach(Ft.nodes(),function(Qt){var ae=Ft.node(Qt);ae.dummy==="edge-proxy"&&(Ft.edge(ae.e).labelRank=ae.rank,Ft.removeNode(Qt))})}function lt(Ft){var Qt=Number.POSITIVE_INFINITY,ae=0,ue=Number.POSITIVE_INFINITY,Kt=0,Bt=Ft.graph(),Ct=Bt.marginx||0,pt=Bt.marginy||0;function Pt(ft){var ot=ft.x,St=ft.y,Ot=ft.width,Zt=ft.height;Qt=Math.min(Qt,ot-Ot/2),ae=Math.max(ae,ot+Ot/2),ue=Math.min(ue,St-Zt/2),Kt=Math.max(Kt,St+Zt/2)}b.forEach(Ft.nodes(),function(ft){Pt(Ft.node(ft))}),b.forEach(Ft.edges(),function(ft){var ot=Ft.edge(ft);b.has(ot,"x")&&Pt(ot)}),Qt-=Ct,ue-=pt,b.forEach(Ft.nodes(),function(ft){var ot=Ft.node(ft);ot.x-=Qt,ot.y-=ue}),b.forEach(Ft.edges(),function(ft){var ot=Ft.edge(ft);b.forEach(ot.points,function(St){St.x-=Qt,St.y-=ue}),b.has(ot,"x")&&(ot.x-=Qt),b.has(ot,"y")&&(ot.y-=ue)}),Bt.width=ae-Qt+Ct,Bt.height=Kt-ue+pt}function gt(Ft){b.forEach(Ft.edges(),function(Qt){var ae=Ft.edge(Qt),ue=Ft.node(Qt.v),Kt=Ft.node(Qt.w),Bt,Ct;ae.points?(Bt=ae.points[0],Ct=ae.points[ae.points.length-1]):(ae.points=[],Bt=Kt,Ct=ue),ae.points.unshift(m.intersectRect(ue,Bt)),ae.points.push(m.intersectRect(Kt,Ct))})}function K(Ft){b.forEach(Ft.edges(),function(Qt){var ae=Ft.edge(Qt);if(b.has(ae,"x"))switch((ae.labelpos==="l"||ae.labelpos==="r")&&(ae.width-=ae.labeloffset),ae.labelpos){case"l":ae.x-=ae.width/2+ae.labeloffset;break;case"r":ae.x+=ae.width/2+ae.labeloffset;break}})}function j(Ft){b.forEach(Ft.edges(),function(Qt){var ae=Ft.edge(Qt);ae.reversed&&ae.points.reverse()})}function Z(Ft){b.forEach(Ft.nodes(),function(Qt){if(Ft.children(Qt).length){var ae=Ft.node(Qt),ue=Ft.node(ae.borderTop),Kt=Ft.node(ae.borderBottom),Bt=Ft.node(b.last(ae.borderLeft)),Ct=Ft.node(b.last(ae.borderRight));ae.width=Math.abs(Ct.x-Bt.x),ae.height=Math.abs(Kt.y-ue.y),ae.x=Bt.x+ae.width/2,ae.y=ue.y+ae.height/2}}),b.forEach(Ft.nodes(),function(Qt){Ft.node(Qt).dummy==="border"&&Ft.removeNode(Qt)})}function f(Ft){b.forEach(Ft.edges(),function(Qt){if(Qt.v===Qt.w){var ae=Ft.node(Qt.v);ae.selfEdges||(ae.selfEdges=[]),ae.selfEdges.push({e:Qt,label:Ft.edge(Qt)}),Ft.removeEdge(Qt)}})}function ut(Ft){var Qt=m.buildLayerMatrix(Ft);b.forEach(Qt,function(ae){var ue=0;b.forEach(ae,function(Kt,Bt){var Ct=Ft.node(Kt);Ct.order=Bt+ue,b.forEach(Ct.selfEdges,function(pt){m.addDummyNode(Ft,"selfedge",{width:pt.label.width,height:pt.label.height,rank:Ct.rank,order:Bt+ ++ue,e:pt.e,label:pt.label},"_se")}),delete Ct.selfEdges})})}function bt(Ft){b.forEach(Ft.nodes(),function(Qt){var ae=Ft.node(Qt);if(ae.dummy==="selfedge"){var ue=Ft.node(ae.e.v),Kt=ue.x+ue.width/2,Bt=ue.y,Ct=ae.x-Kt,pt=ue.height/2;Ft.setEdge(ae.e,ae.label),Ft.removeNode(Qt),ae.label.points=[{x:Kt+2*Ct/3,y:Bt-pt},{x:Kt+5*Ct/6,y:Bt-pt},{x:Kt+Ct,y:Bt},{x:Kt+5*Ct/6,y:Bt+pt},{x:Kt+2*Ct/3,y:Bt+pt}],ae.label.x=ae.x,ae.label.y=ae.y}})}function Rt(Ft,Qt){return b.mapValues(b.pick(Ft,Qt),Number)}function Vt(Ft){var Qt={};return b.forEach(Ft,function(ae,ue){Qt[ue.toLowerCase()]=ae}),Qt}},38436:function(dt,S,d){var b;try{b={cloneDeep:d(50361),constant:d(75703),defaults:d(91747),each:d(66073),filter:d(63105),find:d(13311),flatten:d(85564),forEach:d(84486),forIn:d(62620),has:d(18721),isUndefined:d(52353),last:d(10928),map:d(35161),mapValues:d(66604),max:d(6162),merge:d(82492),min:d(53632),minBy:d(22762),now:d(7771),pick:d(78718),range:d(96026),reduce:d(54061),sortBy:d(89734),uniqueId:d(73955),values:d(52628),zipObject:d(7287)}}catch(P){}b||(b=window._),dt.exports=b},72981:function(dt,S,d){var b=d(38436),P=d(11138);dt.exports={run:D,cleanup:A};function D(E){var p=P.addDummyNode(E,"root",{},"_root"),w=L(E),y=b.max(b.values(w))-1,x=2*y+1;E.graph().nestingRoot=p,b.forEach(E.edges(),function(M){E.edge(M).minlen*=x});var m=T(E)+1;b.forEach(E.children(),function(M){O(E,p,x,m,y,w,M)}),E.graph().nodeRankFactor=x}function O(E,p,w,y,x,m,M){var k=E.children(M);if(!k.length){M!==p&&E.setEdge(p,M,{weight:0,minlen:w});return}var R=P.addBorderNode(E,"_bt"),N=P.addBorderNode(E,"_bb"),W=E.node(M);E.setParent(R,M),W.borderTop=R,E.setParent(N,M),W.borderBottom=N,b.forEach(k,function(Q){O(E,p,w,y,x,m,Q);var H=E.node(Q),$=H.borderTop?H.borderTop:Q,it=H.borderBottom?H.borderBottom:Q,nt=H.borderTop?y:2*y,wt=$!==it?1:x-m[M]+1;E.setEdge(R,$,{weight:nt,minlen:wt,nestingEdge:!0}),E.setEdge(it,N,{weight:nt,minlen:wt,nestingEdge:!0})}),E.parent(M)||E.setEdge(p,R,{weight:0,minlen:x+m[M]})}function L(E){var p={};function w(y,x){var m=E.children(y);m&&m.length&&b.forEach(m,function(M){w(M,x+1)}),p[y]=x}return b.forEach(E.children(),function(y){w(y,1)}),p}function T(E){return b.reduce(E.edges(),function(p,w){return p+E.edge(w).weight},0)}function A(E){var p=E.graph();E.removeNode(p.nestingRoot),delete p.nestingRoot,b.forEach(E.edges(),function(w){var y=E.edge(w);y.nestingEdge&&E.removeEdge(w)})}},45995:function(dt,S,d){"use strict";var b=d(38436),P=d(11138);dt.exports={run:D,undo:L};function D(T){T.graph().dummyChains=[],b.forEach(T.edges(),function(A){O(T,A)})}function O(T,A){var E=A.v,p=T.node(E).rank,w=A.w,y=T.node(w).rank,x=A.name,m=T.edge(A),M=m.labelRank;if(y!==p+1){T.removeEdge(A);var k,R,N;for(N=0,++p;p<y;++N,++p)m.points=[],R={width:0,height:0,edgeLabel:m,edgeObj:A,rank:p},k=P.addDummyNode(T,"edge",R,"_d"),p===M&&(R.width=m.width,R.height=m.height,R.dummy="edge-label",R.labelpos=m.labelpos),T.setEdge(E,k,{weight:m.weight},x),N===0&&T.graph().dummyChains.push(k),E=k;T.setEdge(E,w,{weight:m.weight},x)}}function L(T){b.forEach(T.graph().dummyChains,function(A){var E=T.node(A),p=E.edgeLabel,w;for(T.setEdge(E.edgeObj,p);E.dummy;)w=T.successors(A)[0],T.removeNode(A),p.points.push({x:E.x,y:E.y}),E.dummy==="edge-label"&&(p.x=E.x,p.y=E.y,p.width=E.width,p.height=E.height),A=w,E=T.node(A)})}},55093:function(dt,S,d){var b=d(38436);dt.exports=P;function P(D,O,L){var T={},A;b.forEach(L,function(E){for(var p=D.parent(E),w,y;p;){if(w=D.parent(p),w?(y=T[w],T[w]=p):(y=A,A=p),y&&y!==p){O.setEdge(y,p);return}p=w}})}},35439:function(dt,S,d){var b=d(38436);dt.exports=P;function P(D,O){return b.map(O,function(L){var T=D.inEdges(L);if(T.length){var A=b.reduce(T,function(E,p){var w=D.edge(p),y=D.node(p.v);return{sum:E.sum+w.weight*y.order,weight:E.weight+w.weight}},{sum:0,weight:0});return{v:L,barycenter:A.sum/A.weight,weight:A.weight}}else return{v:L}})}},23128:function(dt,S,d){var b=d(38436),P=d(70574).Graph;dt.exports=D;function D(L,T,A){var E=O(L),p=new P({compound:!0}).setGraph({root:E}).setDefaultNodeLabel(function(w){return L.node(w)});return b.forEach(L.nodes(),function(w){var y=L.node(w),x=L.parent(w);(y.rank===T||y.minRank<=T&&T<=y.maxRank)&&(p.setNode(w),p.setParent(w,x||E),b.forEach(L[A](w),function(m){var M=m.v===w?m.w:m.v,k=p.edge(M,w),R=b.isUndefined(k)?0:k.weight;p.setEdge(M,w,{weight:L.edge(m).weight+R})}),b.has(y,"minRank")&&p.setNode(w,{borderLeft:y.borderLeft[T],borderRight:y.borderRight[T]}))}),p}function O(L){for(var T;L.hasNode(T=b.uniqueId("_root")););return T}},56630:function(dt,S,d){"use strict";var b=d(38436);dt.exports=P;function P(O,L){for(var T=0,A=1;A<L.length;++A)T+=D(O,L[A-1],L[A]);return T}function D(O,L,T){for(var A=b.zipObject(T,b.map(T,function(m,M){return M})),E=b.flatten(b.map(L,function(m){return b.sortBy(b.map(O.outEdges(m),function(M){return{pos:A[M.w],weight:O.edge(M).weight}}),"pos")}),!0),p=1;p<T.length;)p<<=1;var w=2*p-1;p-=1;var y=b.map(new Array(w),function(){return 0}),x=0;return b.forEach(E.forEach(function(m){var M=m.pos+p;y[M]+=m.weight;for(var k=0;M>0;)M%2&&(k+=y[M+1]),M=M-1>>1,y[M]+=m.weight;x+=m.weight*k})),x}},53408:function(dt,S,d){"use strict";var b=d(38436),P=d(2588),D=d(56630),O=d(61026),L=d(23128),T=d(55093),A=d(70574).Graph,E=d(11138);dt.exports=p;function p(m){var M=E.maxRank(m),k=w(m,b.range(1,M+1),"inEdges"),R=w(m,b.range(M-1,-1,-1),"outEdges"),N=P(m);x(m,N);for(var W=Number.POSITIVE_INFINITY,Q,H=0,$=0;$<4;++H,++$){y(H%2?k:R,H%4>=2),N=E.buildLayerMatrix(m);var it=D(m,N);it<W&&($=0,Q=b.cloneDeep(N),W=it)}x(m,Q)}function w(m,M,k){return b.map(M,function(R){return L(m,R,k)})}function y(m,M){var k=new A;b.forEach(m,function(R){var N=R.graph().root,W=O(R,N,k,M);b.forEach(W.vs,function(Q,H){R.node(Q).order=H}),T(R,k,W.vs)})}function x(m,M){b.forEach(M,function(k){b.forEach(k,function(R,N){m.node(R).order=N})})}},2588:function(dt,S,d){"use strict";var b=d(38436);dt.exports=P;function P(D){var O={},L=b.filter(D.nodes(),function(w){return!D.children(w).length}),T=b.max(b.map(L,function(w){return D.node(w).rank})),A=b.map(b.range(T+1),function(){return[]});function E(w){if(!b.has(O,w)){O[w]=!0;var y=D.node(w);A[y.rank].push(w),b.forEach(D.successors(w),E)}}var p=b.sortBy(L,function(w){return D.node(w).rank});return b.forEach(p,E),A}},83678:function(dt,S,d){"use strict";var b=d(38436);dt.exports=P;function P(L,T){var A={};b.forEach(L,function(p,w){var y=A[p.v]={indegree:0,in:[],out:[],vs:[p.v],i:w};b.isUndefined(p.barycenter)||(y.barycenter=p.barycenter,y.weight=p.weight)}),b.forEach(T.edges(),function(p){var w=A[p.v],y=A[p.w];!b.isUndefined(w)&&!b.isUndefined(y)&&(y.indegree++,w.out.push(A[p.w]))});var E=b.filter(A,function(p){return!p.indegree});return D(E)}function D(L){var T=[];function A(w){return function(y){y.merged||(b.isUndefined(y.barycenter)||b.isUndefined(w.barycenter)||y.barycenter>=w.barycenter)&&O(w,y)}}function E(w){return function(y){y.in.push(w),--y.indegree==0&&L.push(y)}}for(;L.length;){var p=L.pop();T.push(p),b.forEach(p.in.reverse(),A(p)),b.forEach(p.out,E(p))}return b.map(b.filter(T,function(w){return!w.merged}),function(w){return b.pick(w,["vs","i","barycenter","weight"])})}function O(L,T){var A=0,E=0;L.weight&&(A+=L.barycenter*L.weight,E+=L.weight),T.weight&&(A+=T.barycenter*T.weight,E+=T.weight),L.vs=T.vs.concat(L.vs),L.barycenter=A/E,L.weight=E,L.i=Math.min(T.i,L.i),T.merged=!0}},61026:function(dt,S,d){var b=d(38436),P=d(35439),D=d(83678),O=d(87304);dt.exports=L;function L(E,p,w,y){var x=E.children(p),m=E.node(p),M=m?m.borderLeft:void 0,k=m?m.borderRight:void 0,R={};M&&(x=b.filter(x,function(it){return it!==M&&it!==k}));var N=P(E,x);b.forEach(N,function(it){if(E.children(it.v).length){var nt=L(E,it.v,w,y);R[it.v]=nt,b.has(nt,"barycenter")&&A(it,nt)}});var W=D(N,w);T(W,R);var Q=O(W,y);if(M&&(Q.vs=b.flatten([M,Q.vs,k],!0),E.predecessors(M).length)){var H=E.node(E.predecessors(M)[0]),$=E.node(E.predecessors(k)[0]);b.has(Q,"barycenter")||(Q.barycenter=0,Q.weight=0),Q.barycenter=(Q.barycenter*Q.weight+H.order+$.order)/(Q.weight+2),Q.weight+=2}return Q}function T(E,p){b.forEach(E,function(w){w.vs=b.flatten(w.vs.map(function(y){return p[y]?p[y].vs:y}),!0)})}function A(E,p){b.isUndefined(E.barycenter)?(E.barycenter=p.barycenter,E.weight=p.weight):(E.barycenter=(E.barycenter*E.weight+p.barycenter*p.weight)/(E.weight+p.weight),E.weight+=p.weight)}},87304:function(dt,S,d){var b=d(38436),P=d(11138);dt.exports=D;function D(T,A){var E=P.partition(T,function(R){return b.has(R,"barycenter")}),p=E.lhs,w=b.sortBy(E.rhs,function(R){return-R.i}),y=[],x=0,m=0,M=0;p.sort(L(!!A)),M=O(y,w,M),b.forEach(p,function(R){M+=R.vs.length,y.push(R.vs),x+=R.barycenter*R.weight,m+=R.weight,M=O(y,w,M)});var k={vs:b.flatten(y,!0)};return m&&(k.barycenter=x/m,k.weight=m),k}function O(T,A,E){for(var p;A.length&&(p=b.last(A)).i<=E;)A.pop(),T.push(p.vs),E++;return E}function L(T){return function(A,E){return A.barycenter<E.barycenter?-1:A.barycenter>E.barycenter?1:T?E.i-A.i:A.i-E.i}}},24219:function(dt,S,d){var b=d(38436);dt.exports=P;function P(L){var T=O(L);b.forEach(L.graph().dummyChains,function(A){for(var E=L.node(A),p=E.edgeObj,w=D(L,T,p.v,p.w),y=w.path,x=w.lca,m=0,M=y[m],k=!0;A!==p.w;){if(E=L.node(A),k){for(;(M=y[m])!==x&&L.node(M).maxRank<E.rank;)m++;M===x&&(k=!1)}if(!k){for(;m<y.length-1&&L.node(M=y[m+1]).minRank<=E.rank;)m++;M=y[m]}L.setParent(A,M),A=L.successors(A)[0]}})}function D(L,T,A,E){var p=[],w=[],y=Math.min(T[A].low,T[E].low),x=Math.max(T[A].lim,T[E].lim),m,M;m=A;do m=L.parent(m),p.push(m);while(m&&(T[m].low>y||x>T[m].lim));for(M=m,m=E;(m=L.parent(m))!==M;)w.push(m);return{path:p.concat(w.reverse()),lca:M}}function O(L){var T={},A=0;function E(p){var w=A;b.forEach(L.children(p),E),T[p]={low:w,lim:A++}}return b.forEach(L.children(),E),T}},3573:function(dt,S,d){"use strict";var b=d(38436),P=d(70574).Graph,D=d(11138);dt.exports={positionX:k,findType1Conflicts:O,findType2Conflicts:L,addConflict:A,hasConflict:E,verticalAlignment:p,horizontalCompaction:w,alignCoordinates:m,findSmallestWidthAlignment:x,balance:M};function O(W,Q){var H={};function $(it,nt){var wt=0,yt=0,Lt=it.length,Mt=b.last(nt);return b.forEach(nt,function(J,tt){var q=T(W,J),lt=q?W.node(q).order:Lt;(q||J===Mt)&&(b.forEach(nt.slice(yt,tt+1),function(gt){b.forEach(W.predecessors(gt),function(K){var j=W.node(K),Z=j.order;(Z<wt||lt<Z)&&!(j.dummy&&W.node(gt).dummy)&&A(H,K,gt)})}),yt=tt+1,wt=lt)}),nt}return b.reduce(Q,$),H}function L(W,Q){var H={};function $(nt,wt,yt,Lt,Mt){var J;b.forEach(b.range(wt,yt),function(tt){J=nt[tt],W.node(J).dummy&&b.forEach(W.predecessors(J),function(q){var lt=W.node(q);lt.dummy&&(lt.order<Lt||lt.order>Mt)&&A(H,q,J)})})}function it(nt,wt){var yt=-1,Lt,Mt=0;return b.forEach(wt,function(J,tt){if(W.node(J).dummy==="border"){var q=W.predecessors(J);q.length&&(Lt=W.node(q[0]).order,$(wt,Mt,tt,yt,Lt),Mt=tt,yt=Lt)}$(wt,Mt,wt.length,Lt,nt.length)}),wt}return b.reduce(Q,it),H}function T(W,Q){if(W.node(Q).dummy)return b.find(W.predecessors(Q),function(H){return W.node(H).dummy})}function A(W,Q,H){if(Q>H){var $=Q;Q=H,H=$}var it=W[Q];it||(W[Q]=it={}),it[H]=!0}function E(W,Q,H){if(Q>H){var $=Q;Q=H,H=$}return b.has(W[Q],H)}function p(W,Q,H,$){var it={},nt={},wt={};return b.forEach(Q,function(yt){b.forEach(yt,function(Lt,Mt){it[Lt]=Lt,nt[Lt]=Lt,wt[Lt]=Mt})}),b.forEach(Q,function(yt){var Lt=-1;b.forEach(yt,function(Mt){var J=$(Mt);if(J.length){J=b.sortBy(J,function(K){return wt[K]});for(var tt=(J.length-1)/2,q=Math.floor(tt),lt=Math.ceil(tt);q<=lt;++q){var gt=J[q];nt[Mt]===Mt&&Lt<wt[gt]&&!E(H,Mt,gt)&&(nt[gt]=Mt,nt[Mt]=it[Mt]=it[gt],Lt=wt[gt])}}})}),{root:it,align:nt}}function w(W,Q,H,$,it){var nt={},wt=y(W,Q,H,it),yt=it?"borderLeft":"borderRight";function Lt(tt,q){for(var lt=wt.nodes(),gt=lt.pop(),K={};gt;)K[gt]?tt(gt):(K[gt]=!0,lt.push(gt),lt=lt.concat(q(gt))),gt=lt.pop()}function Mt(tt){nt[tt]=wt.inEdges(tt).reduce(function(q,lt){return Math.max(q,nt[lt.v]+wt.edge(lt))},0)}function J(tt){var q=wt.outEdges(tt).reduce(function(gt,K){return Math.min(gt,nt[K.w]-wt.edge(K))},Number.POSITIVE_INFINITY),lt=W.node(tt);q!==Number.POSITIVE_INFINITY&&lt.borderType!==yt&&(nt[tt]=Math.max(nt[tt],q))}return Lt(Mt,wt.predecessors.bind(wt)),Lt(J,wt.successors.bind(wt)),b.forEach($,function(tt){nt[tt]=nt[H[tt]]}),nt}function y(W,Q,H,$){var it=new P,nt=W.graph(),wt=R(nt.nodesep,nt.edgesep,$);return b.forEach(Q,function(yt){var Lt;b.forEach(yt,function(Mt){var J=H[Mt];if(it.setNode(J),Lt){var tt=H[Lt],q=it.edge(tt,J);it.setEdge(tt,J,Math.max(wt(W,Mt,Lt),q||0))}Lt=Mt})}),it}function x(W,Q){return b.minBy(b.values(Q),function(H){var $=Number.NEGATIVE_INFINITY,it=Number.POSITIVE_INFINITY;return b.forIn(H,function(nt,wt){var yt=N(W,wt)/2;$=Math.max(nt+yt,$),it=Math.min(nt-yt,it)}),$-it})}function m(W,Q){var H=b.values(Q),$=b.min(H),it=b.max(H);b.forEach(["u","d"],function(nt){b.forEach(["l","r"],function(wt){var yt=nt+wt,Lt=W[yt],Mt;if(Lt!==Q){var J=b.values(Lt);Mt=wt==="l"?$-b.min(J):it-b.max(J),Mt&&(W[yt]=b.mapValues(Lt,function(tt){return tt+Mt}))}})})}function M(W,Q){return b.mapValues(W.ul,function(H,$){if(Q)return W[Q.toLowerCase()][$];var it=b.sortBy(b.map(W,$));return(it[1]+it[2])/2})}function k(W){var Q=D.buildLayerMatrix(W),H=b.merge(O(W,Q),L(W,Q)),$={},it;b.forEach(["u","d"],function(wt){it=wt==="u"?Q:b.values(Q).reverse(),b.forEach(["l","r"],function(yt){yt==="r"&&(it=b.map(it,function(tt){return b.values(tt).reverse()}));var Lt=(wt==="u"?W.predecessors:W.successors).bind(W),Mt=p(W,it,H,Lt),J=w(W,it,Mt.root,Mt.align,yt==="r");yt==="r"&&(J=b.mapValues(J,function(tt){return-tt})),$[wt+yt]=J})});var nt=x(W,$);return m($,nt),M($,W.graph().align)}function R(W,Q,H){return function($,it,nt){var wt=$.node(it),yt=$.node(nt),Lt=0,Mt;if(Lt+=wt.width/2,b.has(wt,"labelpos"))switch(wt.labelpos.toLowerCase()){case"l":Mt=-wt.width/2;break;case"r":Mt=wt.width/2;break}if(Mt&&(Lt+=H?Mt:-Mt),Mt=0,Lt+=(wt.dummy?Q:W)/2,Lt+=(yt.dummy?Q:W)/2,Lt+=yt.width/2,b.has(yt,"labelpos"))switch(yt.labelpos.toLowerCase()){case"l":Mt=yt.width/2;break;case"r":Mt=-yt.width/2;break}return Mt&&(Lt+=H?Mt:-Mt),Mt=0,Lt}}function N(W,Q){return W.node(Q).width}},17873:function(dt,S,d){"use strict";var b=d(38436),P=d(11138),D=d(3573).positionX;dt.exports=O;function O(T){T=P.asNonCompoundGraph(T),L(T),b.forEach(D(T),function(A,E){T.node(E).x=A})}function L(T){var A=P.buildLayerMatrix(T),E=T.graph().ranksep,p=0;b.forEach(A,function(w){var y=b.max(b.map(w,function(x){return T.node(x).height}));b.forEach(w,function(x){T.node(x).y=p+y/2}),p+=y+E})}},20300:function(dt,S,d){"use strict";var b=d(38436),P=d(70574).Graph,D=d(76681).slack;dt.exports=O;function O(E){var p=new P({directed:!1}),w=E.nodes()[0],y=E.nodeCount();p.setNode(w,{});for(var x,m;L(p,E)<y;)x=T(p,E),m=p.hasNode(x.v)?D(E,x):-D(E,x),A(p,E,m);return p}function L(E,p){function w(y){b.forEach(p.nodeEdges(y),function(x){var m=x.v,M=y===m?x.w:m;!E.hasNode(M)&&!D(p,x)&&(E.setNode(M,{}),E.setEdge(y,M,{}),w(M))})}return b.forEach(E.nodes(),w),E.nodeCount()}function T(E,p){return b.minBy(p.edges(),function(w){if(E.hasNode(w.v)!==E.hasNode(w.w))return D(p,w)})}function A(E,p,w){b.forEach(E.nodes(),function(y){p.node(y).rank+=w})}},78093:function(dt,S,d){"use strict";var b=d(76681),P=b.longestPath,D=d(20300),O=d(42472);dt.exports=L;function L(p){switch(p.graph().ranker){case"network-simplex":E(p);break;case"tight-tree":A(p);break;case"longest-path":T(p);break;default:E(p)}}var T=P;function A(p){P(p),D(p)}function E(p){O(p)}},42472:function(dt,S,d){"use strict";var b=d(38436),P=d(20300),D=d(76681).slack,O=d(76681).longestPath,L=d(70574).alg.preorder,T=d(70574).alg.postorder,A=d(11138).simplify;dt.exports=E,E.initLowLimValues=x,E.initCutValues=p,E.calcCutValue=y,E.leaveEdge=M,E.enterEdge=k,E.exchangeEdges=R;function E(H){H=A(H),O(H);var $=P(H);x($),p($,H);for(var it,nt;it=M($);)nt=k($,H,it),R($,H,it,nt)}function p(H,$){var it=T(H,H.nodes());it=it.slice(0,it.length-1),b.forEach(it,function(nt){w(H,$,nt)})}function w(H,$,it){var nt=H.node(it),wt=nt.parent;H.edge(it,wt).cutvalue=y(H,$,it)}function y(H,$,it){var nt=H.node(it),wt=nt.parent,yt=!0,Lt=$.edge(it,wt),Mt=0;return Lt||(yt=!1,Lt=$.edge(wt,it)),Mt=Lt.weight,b.forEach($.nodeEdges(it),function(J){var tt=J.v===it,q=tt?J.w:J.v;if(q!==wt){var lt=tt===yt,gt=$.edge(J).weight;if(Mt+=lt?gt:-gt,W(H,it,q)){var K=H.edge(it,q).cutvalue;Mt+=lt?-K:K}}}),Mt}function x(H,$){arguments.length<2&&($=H.nodes()[0]),m(H,{},1,$)}function m(H,$,it,nt,wt){var yt=it,Lt=H.node(nt);return $[nt]=!0,b.forEach(H.neighbors(nt),function(Mt){b.has($,Mt)||(it=m(H,$,it,Mt,nt))}),Lt.low=yt,Lt.lim=it++,wt?Lt.parent=wt:delete Lt.parent,it}function M(H){return b.find(H.edges(),function($){return H.edge($).cutvalue<0})}function k(H,$,it){var nt=it.v,wt=it.w;$.hasEdge(nt,wt)||(nt=it.w,wt=it.v);var yt=H.node(nt),Lt=H.node(wt),Mt=yt,J=!1;yt.lim>Lt.lim&&(Mt=Lt,J=!0);var tt=b.filter($.edges(),function(q){return J===Q(H,H.node(q.v),Mt)&&J!==Q(H,H.node(q.w),Mt)});return b.minBy(tt,function(q){return D($,q)})}function R(H,$,it,nt){var wt=it.v,yt=it.w;H.removeEdge(wt,yt),H.setEdge(nt.v,nt.w,{}),x(H),p(H,$),N(H,$)}function N(H,$){var it=b.find(H.nodes(),function(wt){return!$.node(wt).parent}),nt=L(H,it);nt=nt.slice(1),b.forEach(nt,function(wt){var yt=H.node(wt).parent,Lt=$.edge(wt,yt),Mt=!1;Lt||(Lt=$.edge(yt,wt),Mt=!0),$.node(wt).rank=$.node(yt).rank+(Mt?Lt.minlen:-Lt.minlen)})}function W(H,$,it){return H.hasEdge($,it)}function Q(H,$,it){return it.low<=$.lim&&$.lim<=it.lim}},76681:function(dt,S,d){"use strict";var b=d(38436);dt.exports={longestPath:P,slack:D};function P(O){var L={};function T(A){var E=O.node(A);if(b.has(L,A))return E.rank;L[A]=!0;var p=b.min(b.map(O.outEdges(A),function(w){return T(w.w)-O.edge(w).minlen}));return(p===Number.POSITIVE_INFINITY||p===void 0||p===null)&&(p=0),E.rank=p}b.forEach(O.sources(),T)}function D(O,L){return O.node(L.w).rank-O.node(L.v).rank-O.edge(L).minlen}},11138:function(dt,S,d){"use strict";var b=d(38436),P=d(70574).Graph;dt.exports={addDummyNode:D,simplify:O,asNonCompoundGraph:L,successorWeights:T,predecessorWeights:A,intersectRect:E,buildLayerMatrix:p,normalizeRanks:w,removeEmptyRanks:y,addBorderNode:x,maxRank:m,partition:M,time:k,notime:R};function D(N,W,Q,H){var $;do $=b.uniqueId(H);while(N.hasNode($));return Q.dummy=W,N.setNode($,Q),$}function O(N){var W=new P().setGraph(N.graph());return b.forEach(N.nodes(),function(Q){W.setNode(Q,N.node(Q))}),b.forEach(N.edges(),function(Q){var H=W.edge(Q.v,Q.w)||{weight:0,minlen:1},$=N.edge(Q);W.setEdge(Q.v,Q.w,{weight:H.weight+$.weight,minlen:Math.max(H.minlen,$.minlen)})}),W}function L(N){var W=new P({multigraph:N.isMultigraph()}).setGraph(N.graph());return b.forEach(N.nodes(),function(Q){N.children(Q).length||W.setNode(Q,N.node(Q))}),b.forEach(N.edges(),function(Q){W.setEdge(Q,N.edge(Q))}),W}function T(N){var W=b.map(N.nodes(),function(Q){var H={};return b.forEach(N.outEdges(Q),function($){H[$.w]=(H[$.w]||0)+N.edge($).weight}),H});return b.zipObject(N.nodes(),W)}function A(N){var W=b.map(N.nodes(),function(Q){var H={};return b.forEach(N.inEdges(Q),function($){H[$.v]=(H[$.v]||0)+N.edge($).weight}),H});return b.zipObject(N.nodes(),W)}function E(N,W){var Q=N.x,H=N.y,$=W.x-Q,it=W.y-H,nt=N.width/2,wt=N.height/2;if(!$&&!it)throw new Error("Not possible to find intersection inside of the rectangle");var yt,Lt;return Math.abs(it)*nt>Math.abs($)*wt?(it<0&&(wt=-wt),yt=wt*$/it,Lt=wt):($<0&&(nt=-nt),yt=nt,Lt=nt*it/$),{x:Q+yt,y:H+Lt}}function p(N){var W=b.map(b.range(m(N)+1),function(){return[]});return b.forEach(N.nodes(),function(Q){var H=N.node(Q),$=H.rank;b.isUndefined($)||(W[$][H.order]=Q)}),W}function w(N){var W=b.min(b.map(N.nodes(),function(Q){return N.node(Q).rank}));b.forEach(N.nodes(),function(Q){var H=N.node(Q);b.has(H,"rank")&&(H.rank-=W)})}function y(N){var W=b.min(b.map(N.nodes(),function(it){return N.node(it).rank})),Q=[];b.forEach(N.nodes(),function(it){var nt=N.node(it).rank-W;Q[nt]||(Q[nt]=[]),Q[nt].push(it)});var H=0,$=N.graph().nodeRankFactor;b.forEach(Q,function(it,nt){b.isUndefined(it)&&nt%$!=0?--H:H&&b.forEach(it,function(wt){N.node(wt).rank+=H})})}function x(N,W,Q,H){var $={width:0,height:0};return arguments.length>=4&&($.rank=Q,$.order=H),D(N,"border",$,W)}function m(N){return b.max(b.map(N.nodes(),function(W){var Q=N.node(W).rank;if(!b.isUndefined(Q))return Q}))}function M(N,W){var Q={lhs:[],rhs:[]};return b.forEach(N,function(H){W(H)?Q.lhs.push(H):Q.rhs.push(H)}),Q}function k(N,W){var Q=b.now();try{return W()}finally{console.log(N+" time: "+(b.now()-Q)+"ms")}}function R(N,W){return W()}},88177:function(dt){dt.exports="0.8.5"},43631:function(dt,S,d){"use strict";d.r(S),d.d(S,{BrowserInfo:function(){return D},NodeInfo:function(){return O},SearchBotDeviceInfo:function(){return L},BotInfo:function(){return T},ReactNativeInfo:function(){return A},detect:function(){return m},browserName:function(){return k},parseUserAgent:function(){return R},detectOS:function(){return N},getNodeVersion:function(){return W}});var b=d(34155),P=function(H,$,it){if(it||arguments.length===2)for(var nt=0,wt=$.length,yt;nt<wt;nt++)(yt||!(nt in $))&&(yt||(yt=Array.prototype.slice.call($,0,nt)),yt[nt]=$[nt]);return H.concat(yt||Array.prototype.slice.call($))},D=function(){function H($,it,nt){this.name=$,this.version=it,this.os=nt,this.type="browser"}return H}(),O=function(){function H($){this.version=$,this.type="node",this.name="node",this.os=b.platform}return H}(),L=function(){function H($,it,nt,wt){this.name=$,this.version=it,this.os=nt,this.bot=wt,this.type="bot-device"}return H}(),T=function(){function H(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return H}(),A=function(){function H(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return H}(),E=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,p=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,w=3,y=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",E]],x=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function m(H){return H?R(H):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new A:typeof navigator!="undefined"?R(navigator.userAgent):W()}function M(H){return H!==""&&y.reduce(function($,it){var nt=it[0],wt=it[1];if($)return $;var yt=wt.exec(H);return!!yt&&[nt,yt]},!1)}function k(H){var $=M(H);return $?$[0]:null}function R(H){var $=M(H);if(!$)return null;var it=$[0],nt=$[1];if(it==="searchbot")return new T;var wt=nt[1]&&nt[1].split(".").join("_").split("_").slice(0,3);wt?wt.length<w&&(wt=P(P([],wt,!0),Q(w-wt.length),!0)):wt=[];var yt=wt.join("."),Lt=N(H),Mt=p.exec(H);return Mt&&Mt[1]?new L(it,yt,Lt,Mt[1]):new D(it,yt,Lt)}function N(H){for(var $=0,it=x.length;$<it;$++){var nt=x[$],wt=nt[0],yt=nt[1],Lt=yt.exec(H);if(Lt)return wt}return null}function W(){var H=typeof b!="undefined"&&b.version;return H?new O(b.version.slice(1)):null}function Q(H){for(var $=[],it=0;it<H;it++)$.push("0");return $}},82097:function(dt,S,d){var b;(function(P){"use strict";var D={},O=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,L=/\d\d?/,T=/\d{3}/,A=/\d{4}/,E=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,p=/\[([^]*?)\]/gm,w=function(){};function y(H,$){for(var it=[],nt=0,wt=H.length;nt<wt;nt++)it.push(H[nt].substr(0,$));return it}function x(H){return function($,it,nt){var wt=nt[H].indexOf(it.charAt(0).toUpperCase()+it.substr(1).toLowerCase());~wt&&($.month=wt)}}function m(H,$){for(H=String(H),$=$||2;H.length<$;)H="0"+H;return H}var M=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],k=["January","February","March","April","May","June","July","August","September","October","November","December"],R=y(k,3),N=y(M,3);D.i18n={dayNamesShort:N,dayNames:M,monthNamesShort:R,monthNames:k,amPm:["am","pm"],DoFn:function($){return $+["th","st","nd","rd"][$%10>3?0:($-$%10!=10)*$%10]}};var W={D:function(H){return H.getDate()},DD:function(H){return m(H.getDate())},Do:function(H,$){return $.DoFn(H.getDate())},d:function(H){return H.getDay()},dd:function(H){return m(H.getDay())},ddd:function(H,$){return $.dayNamesShort[H.getDay()]},dddd:function(H,$){return $.dayNames[H.getDay()]},M:function(H){return H.getMonth()+1},MM:function(H){return m(H.getMonth()+1)},MMM:function(H,$){return $.monthNamesShort[H.getMonth()]},MMMM:function(H,$){return $.monthNames[H.getMonth()]},YY:function(H){return String(H.getFullYear()).substr(2)},YYYY:function(H){return m(H.getFullYear(),4)},h:function(H){return H.getHours()%12||12},hh:function(H){return m(H.getHours()%12||12)},H:function(H){return H.getHours()},HH:function(H){return m(H.getHours())},m:function(H){return H.getMinutes()},mm:function(H){return m(H.getMinutes())},s:function(H){return H.getSeconds()},ss:function(H){return m(H.getSeconds())},S:function(H){return Math.round(H.getMilliseconds()/100)},SS:function(H){return m(Math.round(H.getMilliseconds()/10),2)},SSS:function(H){return m(H.getMilliseconds(),3)},a:function(H,$){return H.getHours()<12?$.amPm[0]:$.amPm[1]},A:function(H,$){return H.getHours()<12?$.amPm[0].toUpperCase():$.amPm[1].toUpperCase()},ZZ:function(H){var $=H.getTimezoneOffset();return($>0?"-":"+")+m(Math.floor(Math.abs($)/60)*100+Math.abs($)%60,4)}},Q={D:[L,function(H,$){H.day=$}],Do:[new RegExp(L.source+E.source),function(H,$){H.day=parseInt($,10)}],M:[L,function(H,$){H.month=$-1}],YY:[L,function(H,$){var it=new Date,nt=+(""+it.getFullYear()).substr(0,2);H.year=""+($>68?nt-1:nt)+$}],h:[L,function(H,$){H.hour=$}],m:[L,function(H,$){H.minute=$}],s:[L,function(H,$){H.second=$}],YYYY:[A,function(H,$){H.year=$}],S:[/\d/,function(H,$){H.millisecond=$*100}],SS:[/\d{2}/,function(H,$){H.millisecond=$*10}],SSS:[T,function(H,$){H.millisecond=$}],d:[L,w],ddd:[E,w],MMM:[E,x("monthNamesShort")],MMMM:[E,x("monthNames")],a:[E,function(H,$,it){var nt=$.toLowerCase();nt===it.amPm[0]?H.isPm=!1:nt===it.amPm[1]&&(H.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(H,$){$==="Z"&&($="+00:00");var it=($+"").match(/([\+\-]|\d\d)/gi),nt;it&&(nt=+(it[1]*60)+parseInt(it[2],10),H.timezoneOffset=it[0]==="+"?nt:-nt)}]};Q.dd=Q.d,Q.dddd=Q.ddd,Q.DD=Q.D,Q.mm=Q.m,Q.hh=Q.H=Q.HH=Q.h,Q.MM=Q.M,Q.ss=Q.s,Q.A=Q.a,D.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},D.format=function(H,$,it){var nt=it||D.i18n;if(typeof H=="number"&&(H=new Date(H)),Object.prototype.toString.call(H)!=="[object Date]"||isNaN(H.getTime()))throw new Error("Invalid Date in fecha.format");$=D.masks[$]||$||D.masks.default;var wt=[];return $=$.replace(p,function(yt,Lt){return wt.push(Lt),"??"}),$=$.replace(O,function(yt){return yt in W?W[yt](H,nt):yt.slice(1,yt.length-1)}),$.replace(/\?\?/g,function(){return wt.shift()})},D.parse=function(H,$,it){var nt=it||D.i18n;if(typeof $!="string")throw new Error("Invalid format in fecha.parse");if($=D.masks[$]||$,H.length>1e3)return!1;var wt=!0,yt={};if($.replace(O,function(J){if(Q[J]){var tt=Q[J],q=H.search(tt[0]);~q?H.replace(tt[0],function(lt){return tt[1](yt,lt,nt),H=H.substr(q+lt.length),lt}):wt=!1}return Q[J]?"":J.slice(1,J.length-1)}),!wt)return!1;var Lt=new Date;yt.isPm===!0&&yt.hour!=null&&+yt.hour!=12?yt.hour=+yt.hour+12:yt.isPm===!1&&+yt.hour==12&&(yt.hour=0);var Mt;return yt.timezoneOffset!=null?(yt.minute=+(yt.minute||0)-+yt.timezoneOffset,Mt=new Date(Date.UTC(yt.year||Lt.getFullYear(),yt.month||0,yt.day||1,yt.hour||0,yt.minute||0,yt.second||0,yt.millisecond||0))):Mt=new Date(yt.year||Lt.getFullYear(),yt.month||0,yt.day||1,yt.hour||0,yt.minute||0,yt.second||0,yt.millisecond||0),Mt},dt.exports?dt.exports=D:(b=function(){return D}.call(S,d,S,dt),b!==void 0&&(dt.exports=b))})(this)},49685:function(dt,S,d){"use strict";d.d(S,{Ib:function(){return b},WT:function(){return P},FD:function(){return D}});var b=1e-6,P=typeof Float32Array!="undefined"?Float32Array:Array,D=Math.random;function O(E){P=E}var L=Math.PI/180;function T(E){return E*L}function A(E,p){return Math.abs(E-p)<=b*Math.max(1,Math.abs(E),Math.abs(p))}Math.hypot||(Math.hypot=function(){for(var E=0,p=arguments.length;p--;)E+=arguments[p]*arguments[p];return Math.sqrt(E)})},35600:function(dt,S,d){"use strict";d.r(S),d.d(S,{create:function(){return P},fromMat4:function(){return D},clone:function(){return O},copy:function(){return L},fromValues:function(){return T},set:function(){return A},identity:function(){return E},transpose:function(){return p},invert:function(){return w},adjoint:function(){return y},determinant:function(){return x},multiply:function(){return m},translate:function(){return M},rotate:function(){return k},scale:function(){return R},fromTranslation:function(){return N},fromRotation:function(){return W},fromScaling:function(){return Q},fromMat2d:function(){return H},fromQuat:function(){return $},normalFromMat4:function(){return it},projection:function(){return nt},str:function(){return wt},frob:function(){return yt},add:function(){return Lt},subtract:function(){return Mt},multiplyScalar:function(){return J},multiplyScalarAndAdd:function(){return tt},exactEquals:function(){return q},equals:function(){return lt},mul:function(){return gt},sub:function(){return K}});var b=d(49685);function P(){var j=new b.WT(9);return b.WT!=Float32Array&&(j[1]=0,j[2]=0,j[3]=0,j[5]=0,j[6]=0,j[7]=0),j[0]=1,j[4]=1,j[8]=1,j}function D(j,Z){return j[0]=Z[0],j[1]=Z[1],j[2]=Z[2],j[3]=Z[4],j[4]=Z[5],j[5]=Z[6],j[6]=Z[8],j[7]=Z[9],j[8]=Z[10],j}function O(j){var Z=new b.WT(9);return Z[0]=j[0],Z[1]=j[1],Z[2]=j[2],Z[3]=j[3],Z[4]=j[4],Z[5]=j[5],Z[6]=j[6],Z[7]=j[7],Z[8]=j[8],Z}function L(j,Z){return j[0]=Z[0],j[1]=Z[1],j[2]=Z[2],j[3]=Z[3],j[4]=Z[4],j[5]=Z[5],j[6]=Z[6],j[7]=Z[7],j[8]=Z[8],j}function T(j,Z,f,ut,bt,Rt,Vt,Ft,Qt){var ae=new b.WT(9);return ae[0]=j,ae[1]=Z,ae[2]=f,ae[3]=ut,ae[4]=bt,ae[5]=Rt,ae[6]=Vt,ae[7]=Ft,ae[8]=Qt,ae}function A(j,Z,f,ut,bt,Rt,Vt,Ft,Qt,ae){return j[0]=Z,j[1]=f,j[2]=ut,j[3]=bt,j[4]=Rt,j[5]=Vt,j[6]=Ft,j[7]=Qt,j[8]=ae,j}function E(j){return j[0]=1,j[1]=0,j[2]=0,j[3]=0,j[4]=1,j[5]=0,j[6]=0,j[7]=0,j[8]=1,j}function p(j,Z){if(j===Z){var f=Z[1],ut=Z[2],bt=Z[5];j[1]=Z[3],j[2]=Z[6],j[3]=f,j[5]=Z[7],j[6]=ut,j[7]=bt}else j[0]=Z[0],j[1]=Z[3],j[2]=Z[6],j[3]=Z[1],j[4]=Z[4],j[5]=Z[7],j[6]=Z[2],j[7]=Z[5],j[8]=Z[8];return j}function w(j,Z){var f=Z[0],ut=Z[1],bt=Z[2],Rt=Z[3],Vt=Z[4],Ft=Z[5],Qt=Z[6],ae=Z[7],ue=Z[8],Kt=ue*Vt-Ft*ae,Bt=-ue*Rt+Ft*Qt,Ct=ae*Rt-Vt*Qt,pt=f*Kt+ut*Bt+bt*Ct;return pt?(pt=1/pt,j[0]=Kt*pt,j[1]=(-ue*ut+bt*ae)*pt,j[2]=(Ft*ut-bt*Vt)*pt,j[3]=Bt*pt,j[4]=(ue*f-bt*Qt)*pt,j[5]=(-Ft*f+bt*Rt)*pt,j[6]=Ct*pt,j[7]=(-ae*f+ut*Qt)*pt,j[8]=(Vt*f-ut*Rt)*pt,j):null}function y(j,Z){var f=Z[0],ut=Z[1],bt=Z[2],Rt=Z[3],Vt=Z[4],Ft=Z[5],Qt=Z[6],ae=Z[7],ue=Z[8];return j[0]=Vt*ue-Ft*ae,j[1]=bt*ae-ut*ue,j[2]=ut*Ft-bt*Vt,j[3]=Ft*Qt-Rt*ue,j[4]=f*ue-bt*Qt,j[5]=bt*Rt-f*Ft,j[6]=Rt*ae-Vt*Qt,j[7]=ut*Qt-f*ae,j[8]=f*Vt-ut*Rt,j}function x(j){var Z=j[0],f=j[1],ut=j[2],bt=j[3],Rt=j[4],Vt=j[5],Ft=j[6],Qt=j[7],ae=j[8];return Z*(ae*Rt-Vt*Qt)+f*(-ae*bt+Vt*Ft)+ut*(Qt*bt-Rt*Ft)}function m(j,Z,f){var ut=Z[0],bt=Z[1],Rt=Z[2],Vt=Z[3],Ft=Z[4],Qt=Z[5],ae=Z[6],ue=Z[7],Kt=Z[8],Bt=f[0],Ct=f[1],pt=f[2],Pt=f[3],ft=f[4],ot=f[5],St=f[6],Ot=f[7],Zt=f[8];return j[0]=Bt*ut+Ct*Vt+pt*ae,j[1]=Bt*bt+Ct*Ft+pt*ue,j[2]=Bt*Rt+Ct*Qt+pt*Kt,j[3]=Pt*ut+ft*Vt+ot*ae,j[4]=Pt*bt+ft*Ft+ot*ue,j[5]=Pt*Rt+ft*Qt+ot*Kt,j[6]=St*ut+Ot*Vt+Zt*ae,j[7]=St*bt+Ot*Ft+Zt*ue,j[8]=St*Rt+Ot*Qt+Zt*Kt,j}function M(j,Z,f){var ut=Z[0],bt=Z[1],Rt=Z[2],Vt=Z[3],Ft=Z[4],Qt=Z[5],ae=Z[6],ue=Z[7],Kt=Z[8],Bt=f[0],Ct=f[1];return j[0]=ut,j[1]=bt,j[2]=Rt,j[3]=Vt,j[4]=Ft,j[5]=Qt,j[6]=Bt*ut+Ct*Vt+ae,j[7]=Bt*bt+Ct*Ft+ue,j[8]=Bt*Rt+Ct*Qt+Kt,j}function k(j,Z,f){var ut=Z[0],bt=Z[1],Rt=Z[2],Vt=Z[3],Ft=Z[4],Qt=Z[5],ae=Z[6],ue=Z[7],Kt=Z[8],Bt=Math.sin(f),Ct=Math.cos(f);return j[0]=Ct*ut+Bt*Vt,j[1]=Ct*bt+Bt*Ft,j[2]=Ct*Rt+Bt*Qt,j[3]=Ct*Vt-Bt*ut,j[4]=Ct*Ft-Bt*bt,j[5]=Ct*Qt-Bt*Rt,j[6]=ae,j[7]=ue,j[8]=Kt,j}function R(j,Z,f){var ut=f[0],bt=f[1];return j[0]=ut*Z[0],j[1]=ut*Z[1],j[2]=ut*Z[2],j[3]=bt*Z[3],j[4]=bt*Z[4],j[5]=bt*Z[5],j[6]=Z[6],j[7]=Z[7],j[8]=Z[8],j}function N(j,Z){return j[0]=1,j[1]=0,j[2]=0,j[3]=0,j[4]=1,j[5]=0,j[6]=Z[0],j[7]=Z[1],j[8]=1,j}function W(j,Z){var f=Math.sin(Z),ut=Math.cos(Z);return j[0]=ut,j[1]=f,j[2]=0,j[3]=-f,j[4]=ut,j[5]=0,j[6]=0,j[7]=0,j[8]=1,j}function Q(j,Z){return j[0]=Z[0],j[1]=0,j[2]=0,j[3]=0,j[4]=Z[1],j[5]=0,j[6]=0,j[7]=0,j[8]=1,j}function H(j,Z){return j[0]=Z[0],j[1]=Z[1],j[2]=0,j[3]=Z[2],j[4]=Z[3],j[5]=0,j[6]=Z[4],j[7]=Z[5],j[8]=1,j}function $(j,Z){var f=Z[0],ut=Z[1],bt=Z[2],Rt=Z[3],Vt=f+f,Ft=ut+ut,Qt=bt+bt,ae=f*Vt,ue=ut*Vt,Kt=ut*Ft,Bt=bt*Vt,Ct=bt*Ft,pt=bt*Qt,Pt=Rt*Vt,ft=Rt*Ft,ot=Rt*Qt;return j[0]=1-Kt-pt,j[3]=ue-ot,j[6]=Bt+ft,j[1]=ue+ot,j[4]=1-ae-pt,j[7]=Ct-Pt,j[2]=Bt-ft,j[5]=Ct+Pt,j[8]=1-ae-Kt,j}function it(j,Z){var f=Z[0],ut=Z[1],bt=Z[2],Rt=Z[3],Vt=Z[4],Ft=Z[5],Qt=Z[6],ae=Z[7],ue=Z[8],Kt=Z[9],Bt=Z[10],Ct=Z[11],pt=Z[12],Pt=Z[13],ft=Z[14],ot=Z[15],St=f*Ft-ut*Vt,Ot=f*Qt-bt*Vt,Zt=f*ae-Rt*Vt,le=ut*Qt-bt*Ft,be=ut*ae-Rt*Ft,Be=bt*ae-Rt*Qt,Fe=ue*Pt-Kt*pt,lr=ue*ft-Bt*pt,dr=ue*ot-Ct*pt,ur=Kt*ft-Bt*Pt,Tr=Kt*ot-Ct*Pt,sr=Bt*ot-Ct*ft,zr=St*sr-Ot*Tr+Zt*ur+le*dr-be*lr+Be*Fe;return zr?(zr=1/zr,j[0]=(Ft*sr-Qt*Tr+ae*ur)*zr,j[1]=(Qt*dr-Vt*sr-ae*lr)*zr,j[2]=(Vt*Tr-Ft*dr+ae*Fe)*zr,j[3]=(bt*Tr-ut*sr-Rt*ur)*zr,j[4]=(f*sr-bt*dr+Rt*lr)*zr,j[5]=(ut*dr-f*Tr-Rt*Fe)*zr,j[6]=(Pt*Be-ft*be+ot*le)*zr,j[7]=(ft*Zt-pt*Be-ot*Ot)*zr,j[8]=(pt*be-Pt*Zt+ot*St)*zr,j):null}function nt(j,Z,f){return j[0]=2/Z,j[1]=0,j[2]=0,j[3]=0,j[4]=-2/f,j[5]=0,j[6]=-1,j[7]=1,j[8]=1,j}function wt(j){return"mat3("+j[0]+", "+j[1]+", "+j[2]+", "+j[3]+", "+j[4]+", "+j[5]+", "+j[6]+", "+j[7]+", "+j[8]+")"}function yt(j){return Math.hypot(j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],j[8])}function Lt(j,Z,f){return j[0]=Z[0]+f[0],j[1]=Z[1]+f[1],j[2]=Z[2]+f[2],j[3]=Z[3]+f[3],j[4]=Z[4]+f[4],j[5]=Z[5]+f[5],j[6]=Z[6]+f[6],j[7]=Z[7]+f[7],j[8]=Z[8]+f[8],j}function Mt(j,Z,f){return j[0]=Z[0]-f[0],j[1]=Z[1]-f[1],j[2]=Z[2]-f[2],j[3]=Z[3]-f[3],j[4]=Z[4]-f[4],j[5]=Z[5]-f[5],j[6]=Z[6]-f[6],j[7]=Z[7]-f[7],j[8]=Z[8]-f[8],j}function J(j,Z,f){return j[0]=Z[0]*f,j[1]=Z[1]*f,j[2]=Z[2]*f,j[3]=Z[3]*f,j[4]=Z[4]*f,j[5]=Z[5]*f,j[6]=Z[6]*f,j[7]=Z[7]*f,j[8]=Z[8]*f,j}function tt(j,Z,f,ut){return j[0]=Z[0]+f[0]*ut,j[1]=Z[1]+f[1]*ut,j[2]=Z[2]+f[2]*ut,j[3]=Z[3]+f[3]*ut,j[4]=Z[4]+f[4]*ut,j[5]=Z[5]+f[5]*ut,j[6]=Z[6]+f[6]*ut,j[7]=Z[7]+f[7]*ut,j[8]=Z[8]+f[8]*ut,j}function q(j,Z){return j[0]===Z[0]&&j[1]===Z[1]&&j[2]===Z[2]&&j[3]===Z[3]&&j[4]===Z[4]&&j[5]===Z[5]&&j[6]===Z[6]&&j[7]===Z[7]&&j[8]===Z[8]}function lt(j,Z){var f=j[0],ut=j[1],bt=j[2],Rt=j[3],Vt=j[4],Ft=j[5],Qt=j[6],ae=j[7],ue=j[8],Kt=Z[0],Bt=Z[1],Ct=Z[2],pt=Z[3],Pt=Z[4],ft=Z[5],ot=Z[6],St=Z[7],Ot=Z[8];return Math.abs(f-Kt)<=b.Ib*Math.max(1,Math.abs(f),Math.abs(Kt))&&Math.abs(ut-Bt)<=b.Ib*Math.max(1,Math.abs(ut),Math.abs(Bt))&&Math.abs(bt-Ct)<=b.Ib*Math.max(1,Math.abs(bt),Math.abs(Ct))&&Math.abs(Rt-pt)<=b.Ib*Math.max(1,Math.abs(Rt),Math.abs(pt))&&Math.abs(Vt-Pt)<=b.Ib*Math.max(1,Math.abs(Vt),Math.abs(Pt))&&Math.abs(Ft-ft)<=b.Ib*Math.max(1,Math.abs(Ft),Math.abs(ft))&&Math.abs(Qt-ot)<=b.Ib*Math.max(1,Math.abs(Qt),Math.abs(ot))&&Math.abs(ae-St)<=b.Ib*Math.max(1,Math.abs(ae),Math.abs(St))&&Math.abs(ue-Ot)<=b.Ib*Math.max(1,Math.abs(ue),Math.abs(Ot))}var gt=m,K=Mt},31437:function(dt,S,d){"use strict";d.r(S),d.d(S,{create:function(){return P},clone:function(){return D},fromValues:function(){return O},copy:function(){return L},set:function(){return T},add:function(){return A},subtract:function(){return E},multiply:function(){return p},divide:function(){return w},ceil:function(){return y},floor:function(){return x},min:function(){return m},max:function(){return M},round:function(){return k},scale:function(){return R},scaleAndAdd:function(){return N},distance:function(){return W},squaredDistance:function(){return Q},length:function(){return H},squaredLength:function(){return $},negate:function(){return it},inverse:function(){return nt},normalize:function(){return wt},dot:function(){return yt},cross:function(){return Lt},lerp:function(){return Mt},random:function(){return J},transformMat2:function(){return tt},transformMat2d:function(){return q},transformMat3:function(){return lt},transformMat4:function(){return gt},rotate:function(){return K},angle:function(){return j},zero:function(){return Z},str:function(){return f},exactEquals:function(){return ut},equals:function(){return bt},len:function(){return Rt},sub:function(){return Vt},mul:function(){return Ft},div:function(){return Qt},dist:function(){return ae},sqrDist:function(){return ue},sqrLen:function(){return Kt},forEach:function(){return Bt}});var b=d(49685);function P(){var Ct=new b.WT(2);return b.WT!=Float32Array&&(Ct[0]=0,Ct[1]=0),Ct}function D(Ct){var pt=new b.WT(2);return pt[0]=Ct[0],pt[1]=Ct[1],pt}function O(Ct,pt){var Pt=new b.WT(2);return Pt[0]=Ct,Pt[1]=pt,Pt}function L(Ct,pt){return Ct[0]=pt[0],Ct[1]=pt[1],Ct}function T(Ct,pt,Pt){return Ct[0]=pt,Ct[1]=Pt,Ct}function A(Ct,pt,Pt){return Ct[0]=pt[0]+Pt[0],Ct[1]=pt[1]+Pt[1],Ct}function E(Ct,pt,Pt){return Ct[0]=pt[0]-Pt[0],Ct[1]=pt[1]-Pt[1],Ct}function p(Ct,pt,Pt){return Ct[0]=pt[0]*Pt[0],Ct[1]=pt[1]*Pt[1],Ct}function w(Ct,pt,Pt){return Ct[0]=pt[0]/Pt[0],Ct[1]=pt[1]/Pt[1],Ct}function y(Ct,pt){return Ct[0]=Math.ceil(pt[0]),Ct[1]=Math.ceil(pt[1]),Ct}function x(Ct,pt){return Ct[0]=Math.floor(pt[0]),Ct[1]=Math.floor(pt[1]),Ct}function m(Ct,pt,Pt){return Ct[0]=Math.min(pt[0],Pt[0]),Ct[1]=Math.min(pt[1],Pt[1]),Ct}function M(Ct,pt,Pt){return Ct[0]=Math.max(pt[0],Pt[0]),Ct[1]=Math.max(pt[1],Pt[1]),Ct}function k(Ct,pt){return Ct[0]=Math.round(pt[0]),Ct[1]=Math.round(pt[1]),Ct}function R(Ct,pt,Pt){return Ct[0]=pt[0]*Pt,Ct[1]=pt[1]*Pt,Ct}function N(Ct,pt,Pt,ft){return Ct[0]=pt[0]+Pt[0]*ft,Ct[1]=pt[1]+Pt[1]*ft,Ct}function W(Ct,pt){var Pt=pt[0]-Ct[0],ft=pt[1]-Ct[1];return Math.hypot(Pt,ft)}function Q(Ct,pt){var Pt=pt[0]-Ct[0],ft=pt[1]-Ct[1];return Pt*Pt+ft*ft}function H(Ct){var pt=Ct[0],Pt=Ct[1];return Math.hypot(pt,Pt)}function $(Ct){var pt=Ct[0],Pt=Ct[1];return pt*pt+Pt*Pt}function it(Ct,pt){return Ct[0]=-pt[0],Ct[1]=-pt[1],Ct}function nt(Ct,pt){return Ct[0]=1/pt[0],Ct[1]=1/pt[1],Ct}function wt(Ct,pt){var Pt=pt[0],ft=pt[1],ot=Pt*Pt+ft*ft;return ot>0&&(ot=1/Math.sqrt(ot)),Ct[0]=pt[0]*ot,Ct[1]=pt[1]*ot,Ct}function yt(Ct,pt){return Ct[0]*pt[0]+Ct[1]*pt[1]}function Lt(Ct,pt,Pt){var ft=pt[0]*Pt[1]-pt[1]*Pt[0];return Ct[0]=Ct[1]=0,Ct[2]=ft,Ct}function Mt(Ct,pt,Pt,ft){var ot=pt[0],St=pt[1];return Ct[0]=ot+ft*(Pt[0]-ot),Ct[1]=St+ft*(Pt[1]-St),Ct}function J(Ct,pt){pt=pt||1;var Pt=b.FD()*2*Math.PI;return Ct[0]=Math.cos(Pt)*pt,Ct[1]=Math.sin(Pt)*pt,Ct}function tt(Ct,pt,Pt){var ft=pt[0],ot=pt[1];return Ct[0]=Pt[0]*ft+Pt[2]*ot,Ct[1]=Pt[1]*ft+Pt[3]*ot,Ct}function q(Ct,pt,Pt){var ft=pt[0],ot=pt[1];return Ct[0]=Pt[0]*ft+Pt[2]*ot+Pt[4],Ct[1]=Pt[1]*ft+Pt[3]*ot+Pt[5],Ct}function lt(Ct,pt,Pt){var ft=pt[0],ot=pt[1];return Ct[0]=Pt[0]*ft+Pt[3]*ot+Pt[6],Ct[1]=Pt[1]*ft+Pt[4]*ot+Pt[7],Ct}function gt(Ct,pt,Pt){var ft=pt[0],ot=pt[1];return Ct[0]=Pt[0]*ft+Pt[4]*ot+Pt[12],Ct[1]=Pt[1]*ft+Pt[5]*ot+Pt[13],Ct}function K(Ct,pt,Pt,ft){var ot=pt[0]-Pt[0],St=pt[1]-Pt[1],Ot=Math.sin(ft),Zt=Math.cos(ft);return Ct[0]=ot*Zt-St*Ot+Pt[0],Ct[1]=ot*Ot+St*Zt+Pt[1],Ct}function j(Ct,pt){var Pt=Ct[0],ft=Ct[1],ot=pt[0],St=pt[1],Ot=Math.sqrt(Pt*Pt+ft*ft)*Math.sqrt(ot*ot+St*St),Zt=Ot&&(Pt*ot+ft*St)/Ot;return Math.acos(Math.min(Math.max(Zt,-1),1))}function Z(Ct){return Ct[0]=0,Ct[1]=0,Ct}function f(Ct){return"vec2("+Ct[0]+", "+Ct[1]+")"}function ut(Ct,pt){return Ct[0]===pt[0]&&Ct[1]===pt[1]}function bt(Ct,pt){var Pt=Ct[0],ft=Ct[1],ot=pt[0],St=pt[1];return Math.abs(Pt-ot)<=b.Ib*Math.max(1,Math.abs(Pt),Math.abs(ot))&&Math.abs(ft-St)<=b.Ib*Math.max(1,Math.abs(ft),Math.abs(St))}var Rt=H,Vt=E,Ft=p,Qt=w,ae=W,ue=Q,Kt=$,Bt=function(){var Ct=P();return function(pt,Pt,ft,ot,St,Ot){var Zt,le;for(Pt||(Pt=2),ft||(ft=0),ot?le=Math.min(ot*Pt+ft,pt.length):le=pt.length,Zt=ft;Zt<le;Zt+=Pt)Ct[0]=pt[Zt],Ct[1]=pt[Zt+1],St(Ct,Ct,Ot),pt[Zt]=Ct[0],pt[Zt+1]=Ct[1];return pt}}()},77160:function(dt,S,d){"use strict";d.r(S),d.d(S,{create:function(){return P},clone:function(){return D},length:function(){return O},fromValues:function(){return L},copy:function(){return T},set:function(){return A},add:function(){return E},subtract:function(){return p},multiply:function(){return w},divide:function(){return y},ceil:function(){return x},floor:function(){return m},min:function(){return M},max:function(){return k},round:function(){return R},scale:function(){return N},scaleAndAdd:function(){return W},distance:function(){return Q},squaredDistance:function(){return H},squaredLength:function(){return $},negate:function(){return it},inverse:function(){return nt},normalize:function(){return wt},dot:function(){return yt},cross:function(){return Lt},lerp:function(){return Mt},hermite:function(){return J},bezier:function(){return tt},random:function(){return q},transformMat4:function(){return lt},transformMat3:function(){return gt},transformQuat:function(){return K},rotateX:function(){return j},rotateY:function(){return Z},rotateZ:function(){return f},angle:function(){return ut},zero:function(){return bt},str:function(){return Rt},exactEquals:function(){return Vt},equals:function(){return Ft},sub:function(){return Qt},mul:function(){return ae},div:function(){return ue},dist:function(){return Kt},sqrDist:function(){return Bt},len:function(){return Ct},sqrLen:function(){return pt},forEach:function(){return Pt}});var b=d(49685);function P(){var ft=new b.WT(3);return b.WT!=Float32Array&&(ft[0]=0,ft[1]=0,ft[2]=0),ft}function D(ft){var ot=new b.WT(3);return ot[0]=ft[0],ot[1]=ft[1],ot[2]=ft[2],ot}function O(ft){var ot=ft[0],St=ft[1],Ot=ft[2];return Math.hypot(ot,St,Ot)}function L(ft,ot,St){var Ot=new b.WT(3);return Ot[0]=ft,Ot[1]=ot,Ot[2]=St,Ot}function T(ft,ot){return ft[0]=ot[0],ft[1]=ot[1],ft[2]=ot[2],ft}function A(ft,ot,St,Ot){return ft[0]=ot,ft[1]=St,ft[2]=Ot,ft}function E(ft,ot,St){return ft[0]=ot[0]+St[0],ft[1]=ot[1]+St[1],ft[2]=ot[2]+St[2],ft}function p(ft,ot,St){return ft[0]=ot[0]-St[0],ft[1]=ot[1]-St[1],ft[2]=ot[2]-St[2],ft}function w(ft,ot,St){return ft[0]=ot[0]*St[0],ft[1]=ot[1]*St[1],ft[2]=ot[2]*St[2],ft}function y(ft,ot,St){return ft[0]=ot[0]/St[0],ft[1]=ot[1]/St[1],ft[2]=ot[2]/St[2],ft}function x(ft,ot){return ft[0]=Math.ceil(ot[0]),ft[1]=Math.ceil(ot[1]),ft[2]=Math.ceil(ot[2]),ft}function m(ft,ot){return ft[0]=Math.floor(ot[0]),ft[1]=Math.floor(ot[1]),ft[2]=Math.floor(ot[2]),ft}function M(ft,ot,St){return ft[0]=Math.min(ot[0],St[0]),ft[1]=Math.min(ot[1],St[1]),ft[2]=Math.min(ot[2],St[2]),ft}function k(ft,ot,St){return ft[0]=Math.max(ot[0],St[0]),ft[1]=Math.max(ot[1],St[1]),ft[2]=Math.max(ot[2],St[2]),ft}function R(ft,ot){return ft[0]=Math.round(ot[0]),ft[1]=Math.round(ot[1]),ft[2]=Math.round(ot[2]),ft}function N(ft,ot,St){return ft[0]=ot[0]*St,ft[1]=ot[1]*St,ft[2]=ot[2]*St,ft}function W(ft,ot,St,Ot){return ft[0]=ot[0]+St[0]*Ot,ft[1]=ot[1]+St[1]*Ot,ft[2]=ot[2]+St[2]*Ot,ft}function Q(ft,ot){var St=ot[0]-ft[0],Ot=ot[1]-ft[1],Zt=ot[2]-ft[2];return Math.hypot(St,Ot,Zt)}function H(ft,ot){var St=ot[0]-ft[0],Ot=ot[1]-ft[1],Zt=ot[2]-ft[2];return St*St+Ot*Ot+Zt*Zt}function $(ft){var ot=ft[0],St=ft[1],Ot=ft[2];return ot*ot+St*St+Ot*Ot}function it(ft,ot){return ft[0]=-ot[0],ft[1]=-ot[1],ft[2]=-ot[2],ft}function nt(ft,ot){return ft[0]=1/ot[0],ft[1]=1/ot[1],ft[2]=1/ot[2],ft}function wt(ft,ot){var St=ot[0],Ot=ot[1],Zt=ot[2],le=St*St+Ot*Ot+Zt*Zt;return le>0&&(le=1/Math.sqrt(le)),ft[0]=ot[0]*le,ft[1]=ot[1]*le,ft[2]=ot[2]*le,ft}function yt(ft,ot){return ft[0]*ot[0]+ft[1]*ot[1]+ft[2]*ot[2]}function Lt(ft,ot,St){var Ot=ot[0],Zt=ot[1],le=ot[2],be=St[0],Be=St[1],Fe=St[2];return ft[0]=Zt*Fe-le*Be,ft[1]=le*be-Ot*Fe,ft[2]=Ot*Be-Zt*be,ft}function Mt(ft,ot,St,Ot){var Zt=ot[0],le=ot[1],be=ot[2];return ft[0]=Zt+Ot*(St[0]-Zt),ft[1]=le+Ot*(St[1]-le),ft[2]=be+Ot*(St[2]-be),ft}function J(ft,ot,St,Ot,Zt,le){var be=le*le,Be=be*(2*le-3)+1,Fe=be*(le-2)+le,lr=be*(le-1),dr=be*(3-2*le);return ft[0]=ot[0]*Be+St[0]*Fe+Ot[0]*lr+Zt[0]*dr,ft[1]=ot[1]*Be+St[1]*Fe+Ot[1]*lr+Zt[1]*dr,ft[2]=ot[2]*Be+St[2]*Fe+Ot[2]*lr+Zt[2]*dr,ft}function tt(ft,ot,St,Ot,Zt,le){var be=1-le,Be=be*be,Fe=le*le,lr=Be*be,dr=3*le*Be,ur=3*Fe*be,Tr=Fe*le;return ft[0]=ot[0]*lr+St[0]*dr+Ot[0]*ur+Zt[0]*Tr,ft[1]=ot[1]*lr+St[1]*dr+Ot[1]*ur+Zt[1]*Tr,ft[2]=ot[2]*lr+St[2]*dr+Ot[2]*ur+Zt[2]*Tr,ft}function q(ft,ot){ot=ot||1;var St=b.FD()*2*Math.PI,Ot=b.FD()*2-1,Zt=Math.sqrt(1-Ot*Ot)*ot;return ft[0]=Math.cos(St)*Zt,ft[1]=Math.sin(St)*Zt,ft[2]=Ot*ot,ft}function lt(ft,ot,St){var Ot=ot[0],Zt=ot[1],le=ot[2],be=St[3]*Ot+St[7]*Zt+St[11]*le+St[15];return be=be||1,ft[0]=(St[0]*Ot+St[4]*Zt+St[8]*le+St[12])/be,ft[1]=(St[1]*Ot+St[5]*Zt+St[9]*le+St[13])/be,ft[2]=(St[2]*Ot+St[6]*Zt+St[10]*le+St[14])/be,ft}function gt(ft,ot,St){var Ot=ot[0],Zt=ot[1],le=ot[2];return ft[0]=Ot*St[0]+Zt*St[3]+le*St[6],ft[1]=Ot*St[1]+Zt*St[4]+le*St[7],ft[2]=Ot*St[2]+Zt*St[5]+le*St[8],ft}function K(ft,ot,St){var Ot=St[0],Zt=St[1],le=St[2],be=St[3],Be=ot[0],Fe=ot[1],lr=ot[2],dr=Zt*lr-le*Fe,ur=le*Be-Ot*lr,Tr=Ot*Fe-Zt*Be,sr=Zt*Tr-le*ur,zr=le*dr-Ot*Tr,fn=Ot*ur-Zt*dr,Yr=be*2;return dr*=Yr,ur*=Yr,Tr*=Yr,sr*=2,zr*=2,fn*=2,ft[0]=Be+dr+sr,ft[1]=Fe+ur+zr,ft[2]=lr+Tr+fn,ft}function j(ft,ot,St,Ot){var Zt=[],le=[];return Zt[0]=ot[0]-St[0],Zt[1]=ot[1]-St[1],Zt[2]=ot[2]-St[2],le[0]=Zt[0],le[1]=Zt[1]*Math.cos(Ot)-Zt[2]*Math.sin(Ot),le[2]=Zt[1]*Math.sin(Ot)+Zt[2]*Math.cos(Ot),ft[0]=le[0]+St[0],ft[1]=le[1]+St[1],ft[2]=le[2]+St[2],ft}function Z(ft,ot,St,Ot){var Zt=[],le=[];return Zt[0]=ot[0]-St[0],Zt[1]=ot[1]-St[1],Zt[2]=ot[2]-St[2],le[0]=Zt[2]*Math.sin(Ot)+Zt[0]*Math.cos(Ot),le[1]=Zt[1],le[2]=Zt[2]*Math.cos(Ot)-Zt[0]*Math.sin(Ot),ft[0]=le[0]+St[0],ft[1]=le[1]+St[1],ft[2]=le[2]+St[2],ft}function f(ft,ot,St,Ot){var Zt=[],le=[];return Zt[0]=ot[0]-St[0],Zt[1]=ot[1]-St[1],Zt[2]=ot[2]-St[2],le[0]=Zt[0]*Math.cos(Ot)-Zt[1]*Math.sin(Ot),le[1]=Zt[0]*Math.sin(Ot)+Zt[1]*Math.cos(Ot),le[2]=Zt[2],ft[0]=le[0]+St[0],ft[1]=le[1]+St[1],ft[2]=le[2]+St[2],ft}function ut(ft,ot){var St=ft[0],Ot=ft[1],Zt=ft[2],le=ot[0],be=ot[1],Be=ot[2],Fe=Math.sqrt(St*St+Ot*Ot+Zt*Zt),lr=Math.sqrt(le*le+be*be+Be*Be),dr=Fe*lr,ur=dr&&yt(ft,ot)/dr;return Math.acos(Math.min(Math.max(ur,-1),1))}function bt(ft){return ft[0]=0,ft[1]=0,ft[2]=0,ft}function Rt(ft){return"vec3("+ft[0]+", "+ft[1]+", "+ft[2]+")"}function Vt(ft,ot){return ft[0]===ot[0]&&ft[1]===ot[1]&&ft[2]===ot[2]}function Ft(ft,ot){var St=ft[0],Ot=ft[1],Zt=ft[2],le=ot[0],be=ot[1],Be=ot[2];return Math.abs(St-le)<=b.Ib*Math.max(1,Math.abs(St),Math.abs(le))&&Math.abs(Ot-be)<=b.Ib*Math.max(1,Math.abs(Ot),Math.abs(be))&&Math.abs(Zt-Be)<=b.Ib*Math.max(1,Math.abs(Zt),Math.abs(Be))}var Qt=p,ae=w,ue=y,Kt=Q,Bt=H,Ct=O,pt=$,Pt=function(){var ft=P();return function(ot,St,Ot,Zt,le,be){var Be,Fe;for(St||(St=3),Ot||(Ot=0),Zt?Fe=Math.min(Zt*St+Ot,ot.length):Fe=ot.length,Be=Ot;Be<Fe;Be+=St)ft[0]=ot[Be],ft[1]=ot[Be+1],ft[2]=ot[Be+2],le(ft,ft,be),ot[Be]=ft[0],ot[Be+1]=ft[1],ot[Be+2]=ft[2];return ot}}()},28282:function(dt,S,d){var b=d(82354);dt.exports={Graph:b.Graph,json:d(28974),alg:d(12440),version:b.version}},2842:function(dt,S,d){var b=d(89126);dt.exports=P;function P(D){var O={},L=[],T;function A(E){b.has(O,E)||(O[E]=!0,T.push(E),b.each(D.successors(E),A),b.each(D.predecessors(E),A))}return b.each(D.nodes(),function(E){T=[],A(E),T.length&&L.push(T)}),L}},53984:function(dt,S,d){var b=d(89126);dt.exports=P;function P(O,L,T){b.isArray(L)||(L=[L]);var A=(O.isDirected()?O.successors:O.neighbors).bind(O),E=[],p={};return b.each(L,function(w){if(!O.hasNode(w))throw new Error("Graph does not have node: "+w);D(O,w,T==="post",p,A,E)}),E}function D(O,L,T,A,E,p){b.has(A,L)||(A[L]=!0,T||p.push(L),b.each(E(L),function(w){D(O,w,T,A,E,p)}),T&&p.push(L))}},84847:function(dt,S,d){var b=d(63763),P=d(89126);dt.exports=D;function D(O,L,T){return P.transform(O.nodes(),function(A,E){A[E]=b(O,E,L,T)},{})}},63763:function(dt,S,d){var b=d(89126),P=d(75639);dt.exports=O;var D=b.constant(1);function O(T,A,E,p){return L(T,String(A),E||D,p||function(w){return T.outEdges(w)})}function L(T,A,E,p){var w={},y=new P,x,m,M=function(k){var R=k.v!==x?k.v:k.w,N=w[R],W=E(k),Q=m.distance+W;if(W<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+k+" Weight: "+W);Q<N.distance&&(N.distance=Q,N.predecessor=x,y.decrease(R,Q))};for(T.nodes().forEach(function(k){var R=k===A?0:Number.POSITIVE_INFINITY;w[k]={distance:R},y.add(k,R)});y.size()>0&&(x=y.removeMin(),m=w[x],m.distance!==Number.POSITIVE_INFINITY);)p(x).forEach(M);return w}},9096:function(dt,S,d){var b=d(89126),P=d(5023);dt.exports=D;function D(O){return b.filter(P(O),function(L){return L.length>1||L.length===1&&O.hasEdge(L[0],L[0])})}},38924:function(dt,S,d){var b=d(89126);dt.exports=D;var P=b.constant(1);function D(L,T,A){return O(L,T||P,A||function(E){return L.outEdges(E)})}function O(L,T,A){var E={},p=L.nodes();return p.forEach(function(w){E[w]={},E[w][w]={distance:0},p.forEach(function(y){w!==y&&(E[w][y]={distance:Number.POSITIVE_INFINITY})}),A(w).forEach(function(y){var x=y.v===w?y.w:y.v,m=T(y);E[w][x]={distance:m,predecessor:w}})}),p.forEach(function(w){var y=E[w];p.forEach(function(x){var m=E[x];p.forEach(function(M){var k=m[w],R=y[M],N=m[M],W=k.distance+R.distance;W<N.distance&&(N.distance=W,N.predecessor=R.predecessor)})})}),E}},12440:function(dt,S,d){dt.exports={components:d(2842),dijkstra:d(63763),dijkstraAll:d(84847),findCycles:d(9096),floydWarshall:d(38924),isAcyclic:d(62707),postorder:d(58828),preorder:d(92648),prim:d(80514),tarjan:d(5023),topsort:d(2166)}},62707:function(dt,S,d){var b=d(2166);dt.exports=P;function P(D){try{b(D)}catch(O){if(O instanceof b.CycleException)return!1;throw O}return!0}},58828:function(dt,S,d){var b=d(53984);dt.exports=P;function P(D,O){return b(D,O,"post")}},92648:function(dt,S,d){var b=d(53984);dt.exports=P;function P(D,O){return b(D,O,"pre")}},80514:function(dt,S,d){var b=d(89126),P=d(30771),D=d(75639);dt.exports=O;function O(L,T){var A=new P,E={},p=new D,w;function y(m){var M=m.v===w?m.w:m.v,k=p.priority(M);if(k!==void 0){var R=T(m);R<k&&(E[M]=w,p.decrease(M,R))}}if(L.nodeCount()===0)return A;b.each(L.nodes(),function(m){p.add(m,Number.POSITIVE_INFINITY),A.setNode(m)}),p.decrease(L.nodes()[0],0);for(var x=!1;p.size()>0;){if(w=p.removeMin(),b.has(E,w))A.setEdge(w,E[w]);else{if(x)throw new Error("Input graph is not connected: "+L);x=!0}L.nodeEdges(w).forEach(y)}return A}},5023:function(dt,S,d){var b=d(89126);dt.exports=P;function P(D){var O=0,L=[],T={},A=[];function E(p){var w=T[p]={onStack:!0,lowlink:O,index:O++};if(L.push(p),D.successors(p).forEach(function(m){b.has(T,m)?T[m].onStack&&(w.lowlink=Math.min(w.lowlink,T[m].index)):(E(m),w.lowlink=Math.min(w.lowlink,T[m].lowlink))}),w.lowlink===w.index){var y=[],x;do x=L.pop(),T[x].onStack=!1,y.push(x);while(p!==x);A.push(y)}}return D.nodes().forEach(function(p){b.has(T,p)||E(p)}),A}},2166:function(dt,S,d){var b=d(89126);dt.exports=P,P.CycleException=D;function P(O){var L={},T={},A=[];function E(p){if(b.has(T,p))throw new D;b.has(L,p)||(T[p]=!0,L[p]=!0,b.each(O.predecessors(p),E),delete T[p],A.push(p))}if(b.each(O.sinks(),E),b.size(L)!==O.nodeCount())throw new D;return A}function D(){}D.prototype=new Error},75639:function(dt,S,d){var b=d(89126);dt.exports=P;function P(){this._arr=[],this._keyIndices={}}P.prototype.size=function(){return this._arr.length},P.prototype.keys=function(){return this._arr.map(function(D){return D.key})},P.prototype.has=function(D){return b.has(this._keyIndices,D)},P.prototype.priority=function(D){var O=this._keyIndices[D];if(O!==void 0)return this._arr[O].priority},P.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},P.prototype.add=function(D,O){var L=this._keyIndices;if(D=String(D),!b.has(L,D)){var T=this._arr,A=T.length;return L[D]=A,T.push({key:D,priority:O}),this._decrease(A),!0}return!1},P.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var D=this._arr.pop();return delete this._keyIndices[D.key],this._heapify(0),D.key},P.prototype.decrease=function(D,O){var L=this._keyIndices[D];if(O>this._arr[L].priority)throw new Error("New priority is greater than current priority. Key: "+D+" Old: "+this._arr[L].priority+" New: "+O);this._arr[L].priority=O,this._decrease(L)},P.prototype._heapify=function(D){var O=this._arr,L=2*D,T=L+1,A=D;L<O.length&&(A=O[L].priority<O[A].priority?L:A,T<O.length&&(A=O[T].priority<O[A].priority?T:A),A!==D&&(this._swap(D,A),this._heapify(A)))},P.prototype._decrease=function(D){for(var O=this._arr,L=O[D].priority,T;D!==0&&(T=D>>1,!(O[T].priority<L));)this._swap(D,T),D=T},P.prototype._swap=function(D,O){var L=this._arr,T=this._keyIndices,A=L[D],E=L[O];L[D]=E,L[O]=A,T[E.key]=D,T[A.key]=O}},30771:function(dt,S,d){"use strict";var b=d(89126);dt.exports=L;var P="\0",D="\0",O="";function L(y){this._isDirected=b.has(y,"directed")?y.directed:!0,this._isMultigraph=b.has(y,"multigraph")?y.multigraph:!1,this._isCompound=b.has(y,"compound")?y.compound:!1,this._label=void 0,this._defaultNodeLabelFn=b.constant(void 0),this._defaultEdgeLabelFn=b.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[D]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}L.prototype._nodeCount=0,L.prototype._edgeCount=0,L.prototype.isDirected=function(){return this._isDirected},L.prototype.isMultigraph=function(){return this._isMultigraph},L.prototype.isCompound=function(){return this._isCompound},L.prototype.setGraph=function(y){return this._label=y,this},L.prototype.graph=function(){return this._label},L.prototype.setDefaultNodeLabel=function(y){return b.isFunction(y)||(y=b.constant(y)),this._defaultNodeLabelFn=y,this},L.prototype.nodeCount=function(){return this._nodeCount},L.prototype.nodes=function(){return b.keys(this._nodes)},L.prototype.sources=function(){var y=this;return b.filter(this.nodes(),function(x){return b.isEmpty(y._in[x])})},L.prototype.sinks=function(){var y=this;return b.filter(this.nodes(),function(x){return b.isEmpty(y._out[x])})},L.prototype.setNodes=function(y,x){var m=arguments,M=this;return b.each(y,function(k){m.length>1?M.setNode(k,x):M.setNode(k)}),this},L.prototype.setNode=function(y,x){return b.has(this._nodes,y)?(arguments.length>1&&(this._nodes[y]=x),this):(this._nodes[y]=arguments.length>1?x:this._defaultNodeLabelFn(y),this._isCompound&&(this._parent[y]=D,this._children[y]={},this._children[D][y]=!0),this._in[y]={},this._preds[y]={},this._out[y]={},this._sucs[y]={},++this._nodeCount,this)},L.prototype.node=function(y){return this._nodes[y]},L.prototype.hasNode=function(y){return b.has(this._nodes,y)},L.prototype.removeNode=function(y){var x=this;if(b.has(this._nodes,y)){var m=function(M){x.removeEdge(x._edgeObjs[M])};delete this._nodes[y],this._isCompound&&(this._removeFromParentsChildList(y),delete this._parent[y],b.each(this.children(y),function(M){x.setParent(M)}),delete this._children[y]),b.each(b.keys(this._in[y]),m),delete this._in[y],delete this._preds[y],b.each(b.keys(this._out[y]),m),delete this._out[y],delete this._sucs[y],--this._nodeCount}return this},L.prototype.setParent=function(y,x){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(b.isUndefined(x))x=D;else{x+="";for(var m=x;!b.isUndefined(m);m=this.parent(m))if(m===y)throw new Error("Setting "+x+" as parent of "+y+" would create a cycle");this.setNode(x)}return this.setNode(y),this._removeFromParentsChildList(y),this._parent[y]=x,this._children[x][y]=!0,this},L.prototype._removeFromParentsChildList=function(y){delete this._children[this._parent[y]][y]},L.prototype.parent=function(y){if(this._isCompound){var x=this._parent[y];if(x!==D)return x}},L.prototype.children=function(y){if(b.isUndefined(y)&&(y=D),this._isCompound){var x=this._children[y];if(x)return b.keys(x)}else{if(y===D)return this.nodes();if(this.hasNode(y))return[]}},L.prototype.predecessors=function(y){var x=this._preds[y];if(x)return b.keys(x)},L.prototype.successors=function(y){var x=this._sucs[y];if(x)return b.keys(x)},L.prototype.neighbors=function(y){var x=this.predecessors(y);if(x)return b.union(x,this.successors(y))},L.prototype.isLeaf=function(y){var x;return this.isDirected()?x=this.successors(y):x=this.neighbors(y),x.length===0},L.prototype.filterNodes=function(y){var x=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});x.setGraph(this.graph());var m=this;b.each(this._nodes,function(R,N){y(N)&&x.setNode(N,R)}),b.each(this._edgeObjs,function(R){x.hasNode(R.v)&&x.hasNode(R.w)&&x.setEdge(R,m.edge(R))});var M={};function k(R){var N=m.parent(R);return N===void 0||x.hasNode(N)?(M[R]=N,N):N in M?M[N]:k(N)}return this._isCompound&&b.each(x.nodes(),function(R){x.setParent(R,k(R))}),x},L.prototype.setDefaultEdgeLabel=function(y){return b.isFunction(y)||(y=b.constant(y)),this._defaultEdgeLabelFn=y,this},L.prototype.edgeCount=function(){return this._edgeCount},L.prototype.edges=function(){return b.values(this._edgeObjs)},L.prototype.setPath=function(y,x){var m=this,M=arguments;return b.reduce(y,function(k,R){return M.length>1?m.setEdge(k,R,x):m.setEdge(k,R),R}),this},L.prototype.setEdge=function(){var y,x,m,M,k=!1,R=arguments[0];typeof R=="object"&&R!==null&&"v"in R?(y=R.v,x=R.w,m=R.name,arguments.length===2&&(M=arguments[1],k=!0)):(y=R,x=arguments[1],m=arguments[3],arguments.length>2&&(M=arguments[2],k=!0)),y=""+y,x=""+x,b.isUndefined(m)||(m=""+m);var N=E(this._isDirected,y,x,m);if(b.has(this._edgeLabels,N))return k&&(this._edgeLabels[N]=M),this;if(!b.isUndefined(m)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(y),this.setNode(x),this._edgeLabels[N]=k?M:this._defaultEdgeLabelFn(y,x,m);var W=p(this._isDirected,y,x,m);return y=W.v,x=W.w,Object.freeze(W),this._edgeObjs[N]=W,T(this._preds[x],y),T(this._sucs[y],x),this._in[x][N]=W,this._out[y][N]=W,this._edgeCount++,this},L.prototype.edge=function(y,x,m){var M=arguments.length===1?w(this._isDirected,arguments[0]):E(this._isDirected,y,x,m);return this._edgeLabels[M]},L.prototype.hasEdge=function(y,x,m){var M=arguments.length===1?w(this._isDirected,arguments[0]):E(this._isDirected,y,x,m);return b.has(this._edgeLabels,M)},L.prototype.removeEdge=function(y,x,m){var M=arguments.length===1?w(this._isDirected,arguments[0]):E(this._isDirected,y,x,m),k=this._edgeObjs[M];return k&&(y=k.v,x=k.w,delete this._edgeLabels[M],delete this._edgeObjs[M],A(this._preds[x],y),A(this._sucs[y],x),delete this._in[x][M],delete this._out[y][M],this._edgeCount--),this},L.prototype.inEdges=function(y,x){var m=this._in[y];if(m){var M=b.values(m);return x?b.filter(M,function(k){return k.v===x}):M}},L.prototype.outEdges=function(y,x){var m=this._out[y];if(m){var M=b.values(m);return x?b.filter(M,function(k){return k.w===x}):M}},L.prototype.nodeEdges=function(y,x){var m=this.inEdges(y,x);if(m)return m.concat(this.outEdges(y,x))};function T(y,x){y[x]?y[x]++:y[x]=1}function A(y,x){--y[x]||delete y[x]}function E(y,x,m,M){var k=""+x,R=""+m;if(!y&&k>R){var N=k;k=R,R=N}return k+O+R+O+(b.isUndefined(M)?P:M)}function p(y,x,m,M){var k=""+x,R=""+m;if(!y&&k>R){var N=k;k=R,R=N}var W={v:k,w:R};return M&&(W.name=M),W}function w(y,x){return E(y,x.v,x.w,x.name)}},82354:function(dt,S,d){dt.exports={Graph:d(30771),version:d(49631)}},28974:function(dt,S,d){var b=d(89126),P=d(30771);dt.exports={write:D,read:T};function D(A){var E={options:{directed:A.isDirected(),multigraph:A.isMultigraph(),compound:A.isCompound()},nodes:O(A),edges:L(A)};return b.isUndefined(A.graph())||(E.value=b.clone(A.graph())),E}function O(A){return b.map(A.nodes(),function(E){var p=A.node(E),w=A.parent(E),y={v:E};return b.isUndefined(p)||(y.value=p),b.isUndefined(w)||(y.parent=w),y})}function L(A){return b.map(A.edges(),function(E){var p=A.edge(E),w={v:E.v,w:E.w};return b.isUndefined(E.name)||(w.name=E.name),b.isUndefined(p)||(w.value=p),w})}function T(A){var E=new P(A.options).setGraph(A.value);return b.each(A.nodes,function(p){E.setNode(p.v,p.value),p.parent&&E.setParent(p.v,p.parent)}),b.each(A.edges,function(p){E.setEdge({v:p.v,w:p.w,name:p.name},p.value)}),E}},89126:function(dt,S,d){var b;try{b={clone:d(66678),constant:d(75703),each:d(66073),filter:d(63105),has:d(18721),isArray:d(1469),isEmpty:d(41609),isFunction:d(23560),isUndefined:d(52353),keys:d(3674),map:d(35161),reduce:d(54061),size:d(84238),transform:d(68718),union:d(93386),values:d(52628)}}catch(P){}b||(b=window._),dt.exports=b},49631:function(dt){dt.exports="2.1.8"},38186:function(dt){var S=[],d=[],b="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function P(O,L){if(L=L||{},O===void 0)throw new Error(b);var T=L.prepend===!0?"prepend":"append",A=L.container!==void 0?L.container:document.querySelector("head"),E=S.indexOf(A);E===-1&&(E=S.push(A)-1,d[E]={});var p;return d[E]!==void 0&&d[E][T]!==void 0?p=d[E][T]:(p=d[E][T]=D(),T==="prepend"?A.insertBefore(p,A.childNodes[0]):A.appendChild(p)),O.charCodeAt(0)===65279&&(O=O.substr(1,O.length)),p.styleSheet?p.styleSheet.cssText+=O:p.textContent+=O,p}function D(){var O=document.createElement("style");return O.setAttribute("type","text/css"),O}dt.exports=P,dt.exports.insertCss=P},47443:function(dt,S,d){var b=d(42118);function P(D,O){var L=D==null?0:D.length;return!!L&&b(D,O,0)>-1}dt.exports=P},1196:function(dt){function S(d,b,P){for(var D=-1,O=d==null?0:d.length;++D<O;)if(P(b,d[D]))return!0;return!1}dt.exports=S},62663:function(dt){function S(d,b,P,D){var O=-1,L=d==null?0:d.length;for(D&&L&&(P=d[++O]);++O<L;)P=b(P,d[O],O,d);return P}dt.exports=S},48983:function(dt,S,d){var b=d(40371),P=b("length");dt.exports=P},56029:function(dt,S,d){var b=d(33448);function P(D,O,L){for(var T=-1,A=D.length;++T<A;){var E=D[T],p=O(E);if(p!=null&&(w===void 0?p===p&&!b(p):L(p,w)))var w=p,y=E}return y}dt.exports=P},80760:function(dt,S,d){var b=d(89881);function P(D,O){var L=[];return b(D,function(T,A,E){O(T,A,E)&&L.push(T)}),L}dt.exports=P},41848:function(dt){function S(d,b,P,D){for(var O=d.length,L=P+(D?1:-1);D?L--:++L<O;)if(b(d[L],L,d))return L;return-1}dt.exports=S},21078:function(dt,S,d){var b=d(62488),P=d(37285);function D(O,L,T,A,E){var p=-1,w=O.length;for(T||(T=P),E||(E=[]);++p<w;){var y=O[p];L>0&&T(y)?L>1?D(y,L-1,T,A,E):b(E,y):A||(E[E.length]=y)}return E}dt.exports=D},53325:function(dt){function S(d,b){return d>b}dt.exports=S},78565:function(dt){var S=Object.prototype,d=S.hasOwnProperty;function b(P,D){return P!=null&&d.call(P,D)}dt.exports=b},42118:function(dt,S,d){var b=d(41848),P=d(62722),D=d(42351);function O(L,T,A){return T===T?D(L,T,A):b(L,P,A)}dt.exports=O},62722:function(dt){function S(d){return d!==d}dt.exports=S},70433:function(dt){function S(d,b){return d<b}dt.exports=S},82689:function(dt,S,d){var b=d(29932),P=d(97786),D=d(67206),O=d(69199),L=d(71131),T=d(7518),A=d(85022),E=d(6557),p=d(1469);function w(y,x,m){x.length?x=b(x,function(R){return p(R)?function(N){return P(N,R.length===1?R[0]:R)}:R}):x=[E];var M=-1;x=b(x,T(D));var k=O(y,function(R,N,W){var Q=b(x,function(H){return H(R)});return{criteria:Q,index:++M,value:R}});return L(k,function(R,N){return A(R,N,m)})}dt.exports=w},25970:function(dt,S,d){var b=d(63012),P=d(79095);function D(O,L){return b(O,L,function(T,A){return P(O,A)})}dt.exports=D},63012:function(dt,S,d){var b=d(97786),P=d(10611),D=d(71811);function O(L,T,A){for(var E=-1,p=T.length,w={};++E<p;){var y=T[E],x=b(L,y);A(x,y)&&P(w,D(y,L),x)}return w}dt.exports=O},40098:function(dt){var S=Math.ceil,d=Math.max;function b(P,D,O,L){for(var T=-1,A=d(S((D-P)/(O||1)),0),E=Array(A);A--;)E[L?A:++T]=P,P+=O;return E}dt.exports=b},10107:function(dt){function S(d,b,P,D,O){return O(d,function(L,T,A){P=D?(D=!1,L):b(P,L,T,A)}),P}dt.exports=S},10611:function(dt,S,d){var b=d(34865),P=d(71811),D=d(65776),O=d(13218),L=d(40327);function T(A,E,p,w){if(!O(A))return A;E=P(E,A);for(var y=-1,x=E.length,m=x-1,M=A;M!=null&&++y<x;){var k=L(E[y]),R=p;if(k==="__proto__"||k==="constructor"||k==="prototype")return A;if(y!=m){var N=M[k];R=w?w(N,k,M):void 0,R===void 0&&(R=O(N)?N:D(E[y+1])?[]:{})}b(M,k,R),M=M[k]}return A}dt.exports=T},71131:function(dt){function S(d,b){var P=d.length;for(d.sort(b);P--;)d[P]=d[P].value;return d}dt.exports=S},45652:function(dt,S,d){var b=d(88668),P=d(47443),D=d(1196),O=d(74757),L=d(23593),T=d(21814),A=200;function E(p,w,y){var x=-1,m=P,M=p.length,k=!0,R=[],N=R;if(y)k=!1,m=D;else if(M>=A){var W=w?null:L(p);if(W)return T(W);k=!1,m=O,N=new b}else N=w?[]:R;t:for(;++x<M;){var Q=p[x],H=w?w(Q):Q;if(Q=y||Q!==0?Q:0,k&&H===H){for(var $=N.length;$--;)if(N[$]===H)continue t;w&&N.push(H),R.push(Q)}else m(N,H,y)||(N!==R&&N.push(H),R.push(Q))}return R}dt.exports=E},47415:function(dt,S,d){var b=d(29932);function P(D,O){return b(O,function(L){return D[L]})}dt.exports=P},1757:function(dt){function S(d,b,P){for(var D=-1,O=d.length,L=b.length,T={};++D<O;){var A=D<L?b[D]:void 0;P(T,d[D],A)}return T}dt.exports=S},26393:function(dt,S,d){var b=d(33448);function P(D,O){if(D!==O){var L=D!==void 0,T=D===null,A=D===D,E=b(D),p=O!==void 0,w=O===null,y=O===O,x=b(O);if(!w&&!x&&!E&&D>O||E&&p&&y&&!w&&!x||T&&p&&y||!L&&y||!A)return 1;if(!T&&!E&&!x&&D<O||x&&L&&A&&!T&&!E||w&&L&&A||!p&&A||!y)return-1}return 0}dt.exports=P},85022:function(dt,S,d){var b=d(26393);function P(D,O,L){for(var T=-1,A=D.criteria,E=O.criteria,p=A.length,w=L.length;++T<p;){var y=b(A[T],E[T]);if(y){if(T>=w)return y;var x=L[T];return y*(x=="desc"?-1:1)}}return D.index-O.index}dt.exports=P},67740:function(dt,S,d){var b=d(67206),P=d(98612),D=d(3674);function O(L){return function(T,A,E){var p=Object(T);if(!P(T)){var w=b(A,3);T=D(T),A=function(x){return w(p[x],x,p)}}var y=L(T,A,E);return y>-1?p[w?T[y]:y]:void 0}}dt.exports=O},47445:function(dt,S,d){var b=d(40098),P=d(16612),D=d(18601);function O(L){return function(T,A,E){return E&&typeof E!="number"&&P(T,A,E)&&(A=E=void 0),T=D(T),A===void 0?(A=T,T=0):A=D(A),E=E===void 0?T<A?1:-1:D(E),b(T,A,E,L)}}dt.exports=O},23593:function(dt,S,d){var b=d(58525),P=d(50308),D=d(21814),O=1/0,L=b&&1/D(new b([,-0]))[1]==O?function(T){return new b(T)}:P;dt.exports=L},99021:function(dt,S,d){var b=d(85564),P=d(45357),D=d(30061);function O(L){return D(P(L,void 0,b),L+"")}dt.exports=O},62689:function(dt){var S="\\ud800-\\udfff",d="\\u0300-\\u036f",b="\\ufe20-\\ufe2f",P="\\u20d0-\\u20ff",D=d+b+P,O="\\ufe0e\\ufe0f",L="\\u200d",T=RegExp("["+L+S+D+O+"]");function A(E){return T.test(E)}dt.exports=A},37285:function(dt,S,d){var b=d(62705),P=d(35694),D=d(1469),O=b?b.isConcatSpreadable:void 0;function L(T){return D(T)||P(T)||!!(O&&T&&T[O])}dt.exports=L},42351:function(dt){function S(d,b,P){for(var D=P-1,O=d.length;++D<O;)if(d[D]===b)return D;return-1}dt.exports=S},88016:function(dt,S,d){var b=d(48983),P=d(62689),D=d(21903);function O(L){return P(L)?D(L):b(L)}dt.exports=O},21903:function(dt){var S="\\ud800-\\udfff",d="\\u0300-\\u036f",b="\\ufe20-\\ufe2f",P="\\u20d0-\\u20ff",D=d+b+P,O="\\ufe0e\\ufe0f",L="["+S+"]",T="["+D+"]",A="\\ud83c[\\udffb-\\udfff]",E="(?:"+T+"|"+A+")",p="[^"+S+"]",w="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",m=E+"?",M="["+O+"]?",k="(?:"+x+"(?:"+[p,w,y].join("|")+")"+M+m+")*",R=M+m+k,N="(?:"+[p+T+"?",T,w,y,L].join("|")+")",W=RegExp(A+"(?="+A+")|"+N+R,"g");function Q(H){for(var $=W.lastIndex=0;W.test(H);)++$;return $}dt.exports=Q},66678:function(dt,S,d){var b=d(85990),P=4;function D(O){return b(O,P)}dt.exports=D},91747:function(dt,S,d){var b=d(5976),P=d(77813),D=d(16612),O=d(81704),L=Object.prototype,T=L.hasOwnProperty,A=b(function(E,p){E=Object(E);var w=-1,y=p.length,x=y>2?p[2]:void 0;for(x&&D(p[0],p[1],x)&&(y=1);++w<y;)for(var m=p[w],M=O(m),k=-1,R=M.length;++k<R;){var N=M[k],W=E[N];(W===void 0||P(W,L[N])&&!T.call(E,N))&&(E[N]=m[N])}return E});dt.exports=A},63105:function(dt,S,d){var b=d(34963),P=d(80760),D=d(67206),O=d(1469);function L(T,A){var E=O(T)?b:P;return E(T,D(A,3))}dt.exports=L},13311:function(dt,S,d){var b=d(67740),P=d(30998),D=b(P);dt.exports=D},30998:function(dt,S,d){var b=d(41848),P=d(67206),D=d(40554),O=Math.max;function L(T,A,E){var p=T==null?0:T.length;if(!p)return-1;var w=E==null?0:D(E);return w<0&&(w=O(p+w,0)),b(T,P(A,3),w)}dt.exports=L},85564:function(dt,S,d){var b=d(21078);function P(D){var O=D==null?0:D.length;return O?b(D,1):[]}dt.exports=P},62620:function(dt,S,d){var b=d(28483),P=d(54290),D=d(81704);function O(L,T){return L==null?L:b(L,P(T),D)}dt.exports=O},18721:function(dt,S,d){var b=d(78565),P=d(222);function D(O,L){return O!=null&&P(O,L,b)}dt.exports=D},41609:function(dt,S,d){var b=d(280),P=d(64160),D=d(35694),O=d(1469),L=d(98612),T=d(44144),A=d(25726),E=d(36719),p="[object Map]",w="[object Set]",y=Object.prototype,x=y.hasOwnProperty;function m(M){if(M==null)return!0;if(L(M)&&(O(M)||typeof M=="string"||typeof M.splice=="function"||T(M)||E(M)||D(M)))return!M.length;var k=P(M);if(k==p||k==w)return!M.size;if(A(M))return!b(M).length;for(var R in M)if(x.call(M,R))return!1;return!0}dt.exports=m},52353:function(dt){function S(d){return d===void 0}dt.exports=S},10928:function(dt){function S(d){var b=d==null?0:d.length;return b?d[b-1]:void 0}dt.exports=S},66604:function(dt,S,d){var b=d(89465),P=d(47816),D=d(67206);function O(L,T){var A={};return T=D(T,3),P(L,function(E,p,w){b(A,p,T(E,p,w))}),A}dt.exports=O},6162:function(dt,S,d){var b=d(56029),P=d(53325),D=d(6557);function O(L){return L&&L.length?b(L,D,P):void 0}dt.exports=O},53632:function(dt,S,d){var b=d(56029),P=d(70433),D=d(6557);function O(L){return L&&L.length?b(L,D,P):void 0}dt.exports=O},22762:function(dt,S,d){var b=d(56029),P=d(67206),D=d(70433);function O(L,T){return L&&L.length?b(L,P(T,2),D):void 0}dt.exports=O},50308:function(dt){function S(){}dt.exports=S},78718:function(dt,S,d){var b=d(25970),P=d(99021),D=P(function(O,L){return O==null?{}:b(O,L)});dt.exports=D},96026:function(dt,S,d){var b=d(47445),P=b();dt.exports=P},54061:function(dt,S,d){var b=d(62663),P=d(89881),D=d(67206),O=d(10107),L=d(1469);function T(A,E,p){var w=L(A)?b:O,y=arguments.length<3;return w(A,D(E,4),p,y,P)}dt.exports=T},84238:function(dt,S,d){var b=d(280),P=d(64160),D=d(98612),O=d(47037),L=d(88016),T="[object Map]",A="[object Set]";function E(p){if(p==null)return 0;if(D(p))return O(p)?L(p):p.length;var w=P(p);return w==T||w==A?p.size:b(p).length}dt.exports=E},89734:function(dt,S,d){var b=d(21078),P=d(82689),D=d(5976),O=d(16612),L=D(function(T,A){if(T==null)return[];var E=A.length;return E>1&&O(T,A[0],A[1])?A=[]:E>2&&O(A[0],A[1],A[2])&&(A=[A[0]]),P(T,b(A,1),[])});dt.exports=L},18601:function(dt,S,d){var b=d(14841),P=1/0,D=17976931348623157e292;function O(L){if(!L)return L===0?L:0;if(L=b(L),L===P||L===-P){var T=L<0?-1:1;return T*D}return L===L?L:0}dt.exports=O},40554:function(dt,S,d){var b=d(18601);function P(D){var O=b(D),L=O%1;return O===O?L?O-L:O:0}dt.exports=P},68718:function(dt,S,d){var b=d(77412),P=d(3118),D=d(47816),O=d(67206),L=d(85924),T=d(1469),A=d(44144),E=d(23560),p=d(13218),w=d(36719);function y(x,m,M){var k=T(x),R=k||A(x)||w(x);if(m=O(m,4),M==null){var N=x&&x.constructor;R?M=k?new N:[]:p(x)?M=E(N)?P(L(x)):{}:M={}}return(R?b:D)(x,function(W,Q,H){return m(M,W,Q,H)}),M}dt.exports=y},93386:function(dt,S,d){var b=d(21078),P=d(5976),D=d(45652),O=d(29246),L=P(function(T){return D(b(T,1,O,!0))});dt.exports=L},73955:function(dt,S,d){var b=d(79833),P=0;function D(O){var L=++P;return b(O)+L}dt.exports=D},52628:function(dt,S,d){var b=d(47415),P=d(3674);function D(O){return O==null?[]:b(O,P(O))}dt.exports=D},7287:function(dt,S,d){var b=d(34865),P=d(1757);function D(O,L){return P(O||[],L||[],b)}dt.exports=D},86851:function(dt,S,d){"use strict";var b=d(89594),P=Array.prototype.concat,D=Array.prototype.slice,O=dt.exports=function(T){for(var A=[],E=0,p=T.length;E<p;E++){var w=T[E];b(w)?A=P.call(A,D.call(w)):A.push(w)}return A};O.wrap=function(L){return function(){return L(O(arguments))}}},89594:function(dt){dt.exports=function(d){return!d||typeof d=="string"?!1:d instanceof Array||Array.isArray(d)||d.length>=0&&(d.splice instanceof Function||Object.getOwnPropertyDescriptor(d,d.length-1)&&d.constructor.name!=="String")}},70655:function(dt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return P},__assign:function(){return D},__rest:function(){return O},__decorate:function(){return L},__param:function(){return T},__metadata:function(){return A},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return y},__values:function(){return x},__read:function(){return m},__spread:function(){return M},__spreadArrays:function(){return k},__spreadArray:function(){return R},__await:function(){return N},__asyncGenerator:function(){return W},__asyncDelegator:function(){return Q},__asyncValues:function(){return H},__makeTemplateObject:function(){return $},__importStar:function(){return nt},__importDefault:function(){return wt},__classPrivateFieldGet:function(){return yt},__classPrivateFieldSet:function(){return Lt},__classPrivateFieldIn:function(){return Mt}});var b=function(J,tt){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,lt){q.__proto__=lt}||function(q,lt){for(var gt in lt)Object.prototype.hasOwnProperty.call(lt,gt)&&(q[gt]=lt[gt])},b(J,tt)};function P(J,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Class extends value "+String(tt)+" is not a constructor or null");b(J,tt);function q(){this.constructor=J}J.prototype=tt===null?Object.create(tt):(q.prototype=tt.prototype,new q)}var D=function(){return D=Object.assign||function(tt){for(var q,lt=1,gt=arguments.length;lt<gt;lt++){q=arguments[lt];for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&(tt[K]=q[K])}return tt},D.apply(this,arguments)};function O(J,tt){var q={};for(var lt in J)Object.prototype.hasOwnProperty.call(J,lt)&&tt.indexOf(lt)<0&&(q[lt]=J[lt]);if(J!=null&&typeof Object.getOwnPropertySymbols=="function")for(var gt=0,lt=Object.getOwnPropertySymbols(J);gt<lt.length;gt++)tt.indexOf(lt[gt])<0&&Object.prototype.propertyIsEnumerable.call(J,lt[gt])&&(q[lt[gt]]=J[lt[gt]]);return q}function L(J,tt,q,lt){var gt=arguments.length,K=gt<3?tt:lt===null?lt=Object.getOwnPropertyDescriptor(tt,q):lt,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(J,tt,q,lt);else for(var Z=J.length-1;Z>=0;Z--)(j=J[Z])&&(K=(gt<3?j(K):gt>3?j(tt,q,K):j(tt,q))||K);return gt>3&&K&&Object.defineProperty(tt,q,K),K}function T(J,tt){return function(q,lt){tt(q,lt,J)}}function A(J,tt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(J,tt)}function E(J,tt,q,lt){function gt(K){return K instanceof q?K:new q(function(j){j(K)})}return new(q||(q=Promise))(function(K,j){function Z(bt){try{ut(lt.next(bt))}catch(Rt){j(Rt)}}function f(bt){try{ut(lt.throw(bt))}catch(Rt){j(Rt)}}function ut(bt){bt.done?K(bt.value):gt(bt.value).then(Z,f)}ut((lt=lt.apply(J,tt||[])).next())})}function p(J,tt){var q={label:0,sent:function(){if(K[0]&1)throw K[1];return K[1]},trys:[],ops:[]},lt,gt,K,j;return j={next:Z(0),throw:Z(1),return:Z(2)},typeof Symbol=="function"&&(j[Symbol.iterator]=function(){return this}),j;function Z(ut){return function(bt){return f([ut,bt])}}function f(ut){if(lt)throw new TypeError("Generator is already executing.");for(;j&&(j=0,ut[0]&&(q=0)),q;)try{if(lt=1,gt&&(K=ut[0]&2?gt.return:ut[0]?gt.throw||((K=gt.return)&&K.call(gt),0):gt.next)&&!(K=K.call(gt,ut[1])).done)return K;switch(gt=0,K&&(ut=[ut[0]&2,K.value]),ut[0]){case 0:case 1:K=ut;break;case 4:return q.label++,{value:ut[1],done:!1};case 5:q.label++,gt=ut[1],ut=[0];continue;case 7:ut=q.ops.pop(),q.trys.pop();continue;default:if(K=q.trys,!(K=K.length>0&&K[K.length-1])&&(ut[0]===6||ut[0]===2)){q=0;continue}if(ut[0]===3&&(!K||ut[1]>K[0]&&ut[1]<K[3])){q.label=ut[1];break}if(ut[0]===6&&q.label<K[1]){q.label=K[1],K=ut;break}if(K&&q.label<K[2]){q.label=K[2],q.ops.push(ut);break}K[2]&&q.ops.pop(),q.trys.pop();continue}ut=tt.call(J,q)}catch(bt){ut=[6,bt],gt=0}finally{lt=K=0}if(ut[0]&5)throw ut[1];return{value:ut[0]?ut[1]:void 0,done:!0}}}var w=Object.create?function(J,tt,q,lt){lt===void 0&&(lt=q);var gt=Object.getOwnPropertyDescriptor(tt,q);(!gt||("get"in gt?!tt.__esModule:gt.writable||gt.configurable))&&(gt={enumerable:!0,get:function(){return tt[q]}}),Object.defineProperty(J,lt,gt)}:function(J,tt,q,lt){lt===void 0&&(lt=q),J[lt]=tt[q]};function y(J,tt){for(var q in J)q!=="default"&&!Object.prototype.hasOwnProperty.call(tt,q)&&w(tt,J,q)}function x(J){var tt=typeof Symbol=="function"&&Symbol.iterator,q=tt&&J[tt],lt=0;if(q)return q.call(J);if(J&&typeof J.length=="number")return{next:function(){return J&&lt>=J.length&&(J=void 0),{value:J&&J[lt++],done:!J}}};throw new TypeError(tt?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(J,tt){var q=typeof Symbol=="function"&&J[Symbol.iterator];if(!q)return J;var lt=q.call(J),gt,K=[],j;try{for(;(tt===void 0||tt-- >0)&&!(gt=lt.next()).done;)K.push(gt.value)}catch(Z){j={error:Z}}finally{try{gt&&!gt.done&&(q=lt.return)&&q.call(lt)}finally{if(j)throw j.error}}return K}function M(){for(var J=[],tt=0;tt<arguments.length;tt++)J=J.concat(m(arguments[tt]));return J}function k(){for(var J=0,tt=0,q=arguments.length;tt<q;tt++)J+=arguments[tt].length;for(var lt=Array(J),gt=0,tt=0;tt<q;tt++)for(var K=arguments[tt],j=0,Z=K.length;j<Z;j++,gt++)lt[gt]=K[j];return lt}function R(J,tt,q){if(q||arguments.length===2)for(var lt=0,gt=tt.length,K;lt<gt;lt++)(K||!(lt in tt))&&(K||(K=Array.prototype.slice.call(tt,0,lt)),K[lt]=tt[lt]);return J.concat(K||Array.prototype.slice.call(tt))}function N(J){return this instanceof N?(this.v=J,this):new N(J)}function W(J,tt,q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var lt=q.apply(J,tt||[]),gt,K=[];return gt={},j("next"),j("throw"),j("return"),gt[Symbol.asyncIterator]=function(){return this},gt;function j(Vt){lt[Vt]&&(gt[Vt]=function(Ft){return new Promise(function(Qt,ae){K.push([Vt,Ft,Qt,ae])>1||Z(Vt,Ft)})})}function Z(Vt,Ft){try{f(lt[Vt](Ft))}catch(Qt){Rt(K[0][3],Qt)}}function f(Vt){Vt.value instanceof N?Promise.resolve(Vt.value.v).then(ut,bt):Rt(K[0][2],Vt)}function ut(Vt){Z("next",Vt)}function bt(Vt){Z("throw",Vt)}function Rt(Vt,Ft){Vt(Ft),K.shift(),K.length&&Z(K[0][0],K[0][1])}}function Q(J){var tt,q;return tt={},lt("next"),lt("throw",function(gt){throw gt}),lt("return"),tt[Symbol.iterator]=function(){return this},tt;function lt(gt,K){tt[gt]=J[gt]?function(j){return(q=!q)?{value:N(J[gt](j)),done:gt==="return"}:K?K(j):j}:K}}function H(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt=J[Symbol.asyncIterator],q;return tt?tt.call(J):(J=typeof x=="function"?x(J):J[Symbol.iterator](),q={},lt("next"),lt("throw"),lt("return"),q[Symbol.asyncIterator]=function(){return this},q);function lt(K){q[K]=J[K]&&function(j){return new Promise(function(Z,f){j=J[K](j),gt(Z,f,j.done,j.value)})}}function gt(K,j,Z,f){Promise.resolve(f).then(function(ut){K({value:ut,done:Z})},j)}}function $(J,tt){return Object.defineProperty?Object.defineProperty(J,"raw",{value:tt}):J.raw=tt,J}var it=Object.create?function(J,tt){Object.defineProperty(J,"default",{enumerable:!0,value:tt})}:function(J,tt){J.default=tt};function nt(J){if(J&&J.__esModule)return J;var tt={};if(J!=null)for(var q in J)q!=="default"&&Object.prototype.hasOwnProperty.call(J,q)&&w(tt,J,q);return it(tt,J),tt}function wt(J){return J&&J.__esModule?J:{default:J}}function yt(J,tt,q,lt){if(q==="a"&&!lt)throw new TypeError("Private accessor was defined without a getter");if(typeof tt=="function"?J!==tt||!lt:!tt.has(J))throw new TypeError("Cannot read private member from an object whose class did not declare it");return q==="m"?lt:q==="a"?lt.call(J):lt?lt.value:tt.get(J)}function Lt(J,tt,q,lt,gt){if(lt==="m")throw new TypeError("Private method is not writable");if(lt==="a"&&!gt)throw new TypeError("Private accessor was defined without a setter");if(typeof tt=="function"?J!==tt||!gt:!tt.has(J))throw new TypeError("Cannot write private member to an object whose class did not declare it");return lt==="a"?gt.call(J,q):gt?gt.value=q:tt.set(J,q),q}function Mt(J,tt){if(tt===null||typeof tt!="object"&&typeof tt!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof J=="function"?tt===J:J.has(tt)}},91496:function(dt){typeof Object.create=="function"?dt.exports=function(d,b){d.super_=b,d.prototype=Object.create(b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:dt.exports=function(d,b){d.super_=b;var P=function(){};P.prototype=b.prototype,d.prototype=new P,d.prototype.constructor=d}},20384:function(dt){dt.exports=function(d){return d&&typeof d=="object"&&typeof d.copy=="function"&&typeof d.fill=="function"&&typeof d.readUInt8=="function"}},89539:function(dt,S,d){var b=d(34155),P=Object.getOwnPropertyDescriptors||function(Rt){for(var Vt=Object.keys(Rt),Ft={},Qt=0;Qt<Vt.length;Qt++)Ft[Vt[Qt]]=Object.getOwnPropertyDescriptor(Rt,Vt[Qt]);return Ft},D=/%[sdj%]/g;S.format=function(bt){if(!$(bt)){for(var Rt=[],Vt=0;Vt<arguments.length;Vt++)Rt.push(T(arguments[Vt]));return Rt.join(" ")}for(var Vt=1,Ft=arguments,Qt=Ft.length,ae=String(bt).replace(D,function(Kt){if(Kt==="%%")return"%";if(Vt>=Qt)return Kt;switch(Kt){case"%s":return String(Ft[Vt++]);case"%d":return Number(Ft[Vt++]);case"%j":try{return JSON.stringify(Ft[Vt++])}catch(Bt){return"[Circular]"}default:return Kt}}),ue=Ft[Vt];Vt<Qt;ue=Ft[++Vt])W(ue)||!yt(ue)?ae+=" "+ue:ae+=" "+T(ue);return ae},S.deprecate=function(bt,Rt){if(typeof b!="undefined"&&b.noDeprecation===!0)return bt;if(typeof b=="undefined")return function(){return S.deprecate(bt,Rt).apply(this,arguments)};var Vt=!1;function Ft(){if(!Vt){if(b.throwDeprecation)throw new Error(Rt);b.traceDeprecation?console.trace(Rt):console.error(Rt),Vt=!0}return bt.apply(this,arguments)}return Ft};var O={},L;S.debuglog=function(bt){if(nt(L)&&(L={NODE_ENV:"production"}.NODE_DEBUG||""),bt=bt.toUpperCase(),!O[bt])if(new RegExp("\\b"+bt+"\\b","i").test(L)){var Rt=b.pid;O[bt]=function(){var Vt=S.format.apply(S,arguments);console.error("%s %d: %s",bt,Rt,Vt)}}else O[bt]=function(){};return O[bt]};function T(bt,Rt){var Vt={seen:[],stylize:E};return arguments.length>=3&&(Vt.depth=arguments[2]),arguments.length>=4&&(Vt.colors=arguments[3]),N(Rt)?Vt.showHidden=Rt:Rt&&S._extend(Vt,Rt),nt(Vt.showHidden)&&(Vt.showHidden=!1),nt(Vt.depth)&&(Vt.depth=2),nt(Vt.colors)&&(Vt.colors=!1),nt(Vt.customInspect)&&(Vt.customInspect=!0),Vt.colors&&(Vt.stylize=A),w(Vt,bt,Vt.depth)}S.inspect=T,T.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},T.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function A(bt,Rt){var Vt=T.styles[Rt];return Vt?"["+T.colors[Vt][0]+"m"+bt+"["+T.colors[Vt][1]+"m":bt}function E(bt,Rt){return bt}function p(bt){var Rt={};return bt.forEach(function(Vt,Ft){Rt[Vt]=!0}),Rt}function w(bt,Rt,Vt){if(bt.customInspect&&Rt&&J(Rt.inspect)&&Rt.inspect!==S.inspect&&!(Rt.constructor&&Rt.constructor.prototype===Rt)){var Ft=Rt.inspect(Vt,bt);return $(Ft)||(Ft=w(bt,Ft,Vt)),Ft}var Qt=y(bt,Rt);if(Qt)return Qt;var ae=Object.keys(Rt),ue=p(ae);if(bt.showHidden&&(ae=Object.getOwnPropertyNames(Rt)),Mt(Rt)&&(ae.indexOf("message")>=0||ae.indexOf("description")>=0))return x(Rt);if(ae.length===0){if(J(Rt)){var Kt=Rt.name?": "+Rt.name:"";return bt.stylize("[Function"+Kt+"]","special")}if(wt(Rt))return bt.stylize(RegExp.prototype.toString.call(Rt),"regexp");if(Lt(Rt))return bt.stylize(Date.prototype.toString.call(Rt),"date");if(Mt(Rt))return x(Rt)}var Bt="",Ct=!1,pt=["{","}"];if(R(Rt)&&(Ct=!0,pt=["[","]"]),J(Rt)){var Pt=Rt.name?": "+Rt.name:"";Bt=" [Function"+Pt+"]"}if(wt(Rt)&&(Bt=" "+RegExp.prototype.toString.call(Rt)),Lt(Rt)&&(Bt=" "+Date.prototype.toUTCString.call(Rt)),Mt(Rt)&&(Bt=" "+x(Rt)),ae.length===0&&(!Ct||Rt.length==0))return pt[0]+Bt+pt[1];if(Vt<0)return wt(Rt)?bt.stylize(RegExp.prototype.toString.call(Rt),"regexp"):bt.stylize("[Object]","special");bt.seen.push(Rt);var ft;return Ct?ft=m(bt,Rt,Vt,ue,ae):ft=ae.map(function(ot){return M(bt,Rt,Vt,ue,ot,Ct)}),bt.seen.pop(),k(ft,Bt,pt)}function y(bt,Rt){if(nt(Rt))return bt.stylize("undefined","undefined");if($(Rt)){var Vt="'"+JSON.stringify(Rt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return bt.stylize(Vt,"string")}if(H(Rt))return bt.stylize(""+Rt,"number");if(N(Rt))return bt.stylize(""+Rt,"boolean");if(W(Rt))return bt.stylize("null","null")}function x(bt){return"["+Error.prototype.toString.call(bt)+"]"}function m(bt,Rt,Vt,Ft,Qt){for(var ae=[],ue=0,Kt=Rt.length;ue<Kt;++ue)j(Rt,String(ue))?ae.push(M(bt,Rt,Vt,Ft,String(ue),!0)):ae.push("");return Qt.forEach(function(Bt){Bt.match(/^\d+$/)||ae.push(M(bt,Rt,Vt,Ft,Bt,!0))}),ae}function M(bt,Rt,Vt,Ft,Qt,ae){var ue,Kt,Bt;if(Bt=Object.getOwnPropertyDescriptor(Rt,Qt)||{value:Rt[Qt]},Bt.get?Bt.set?Kt=bt.stylize("[Getter/Setter]","special"):Kt=bt.stylize("[Getter]","special"):Bt.set&&(Kt=bt.stylize("[Setter]","special")),j(Ft,Qt)||(ue="["+Qt+"]"),Kt||(bt.seen.indexOf(Bt.value)<0?(W(Vt)?Kt=w(bt,Bt.value,null):Kt=w(bt,Bt.value,Vt-1),Kt.indexOf(`
`)>-1&&(ae?Kt=Kt.split(`
`).map(function(Ct){return"  "+Ct}).join(`
`).substr(2):Kt=`
`+Kt.split(`
`).map(function(Ct){return"   "+Ct}).join(`
`))):Kt=bt.stylize("[Circular]","special")),nt(ue)){if(ae&&Qt.match(/^\d+$/))return Kt;ue=JSON.stringify(""+Qt),ue.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ue=ue.substr(1,ue.length-2),ue=bt.stylize(ue,"name")):(ue=ue.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ue=bt.stylize(ue,"string"))}return ue+": "+Kt}function k(bt,Rt,Vt){var Ft=0,Qt=bt.reduce(function(ae,ue){return Ft++,ue.indexOf(`
`)>=0&&Ft++,ae+ue.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Qt>60?Vt[0]+(Rt===""?"":Rt+`
 `)+" "+bt.join(`,
  `)+" "+Vt[1]:Vt[0]+Rt+" "+bt.join(", ")+" "+Vt[1]}function R(bt){return Array.isArray(bt)}S.isArray=R;function N(bt){return typeof bt=="boolean"}S.isBoolean=N;function W(bt){return bt===null}S.isNull=W;function Q(bt){return bt==null}S.isNullOrUndefined=Q;function H(bt){return typeof bt=="number"}S.isNumber=H;function $(bt){return typeof bt=="string"}S.isString=$;function it(bt){return typeof bt=="symbol"}S.isSymbol=it;function nt(bt){return bt===void 0}S.isUndefined=nt;function wt(bt){return yt(bt)&&q(bt)==="[object RegExp]"}S.isRegExp=wt;function yt(bt){return typeof bt=="object"&&bt!==null}S.isObject=yt;function Lt(bt){return yt(bt)&&q(bt)==="[object Date]"}S.isDate=Lt;function Mt(bt){return yt(bt)&&(q(bt)==="[object Error]"||bt instanceof Error)}S.isError=Mt;function J(bt){return typeof bt=="function"}S.isFunction=J;function tt(bt){return bt===null||typeof bt=="boolean"||typeof bt=="number"||typeof bt=="string"||typeof bt=="symbol"||typeof bt=="undefined"}S.isPrimitive=tt,S.isBuffer=d(20384);function q(bt){return Object.prototype.toString.call(bt)}function lt(bt){return bt<10?"0"+bt.toString(10):bt.toString(10)}var gt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function K(){var bt=new Date,Rt=[lt(bt.getHours()),lt(bt.getMinutes()),lt(bt.getSeconds())].join(":");return[bt.getDate(),gt[bt.getMonth()],Rt].join(" ")}S.log=function(){console.log("%s - %s",K(),S.format.apply(S,arguments))},S.inherits=d(91496),S._extend=function(bt,Rt){if(!Rt||!yt(Rt))return bt;for(var Vt=Object.keys(Rt),Ft=Vt.length;Ft--;)bt[Vt[Ft]]=Rt[Vt[Ft]];return bt};function j(bt,Rt){return Object.prototype.hasOwnProperty.call(bt,Rt)}var Z=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;S.promisify=function(Rt){if(typeof Rt!="function")throw new TypeError('The "original" argument must be of type Function');if(Z&&Rt[Z]){var Vt=Rt[Z];if(typeof Vt!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Vt,Z,{value:Vt,enumerable:!1,writable:!1,configurable:!0}),Vt}function Vt(){for(var Ft,Qt,ae=new Promise(function(Bt,Ct){Ft=Bt,Qt=Ct}),ue=[],Kt=0;Kt<arguments.length;Kt++)ue.push(arguments[Kt]);ue.push(function(Bt,Ct){Bt?Qt(Bt):Ft(Ct)});try{Rt.apply(this,ue)}catch(Bt){Qt(Bt)}return ae}return Object.setPrototypeOf(Vt,Object.getPrototypeOf(Rt)),Z&&Object.defineProperty(Vt,Z,{value:Vt,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Vt,P(Rt))},S.promisify.custom=Z;function f(bt,Rt){if(!bt){var Vt=new Error("Promise was rejected with a falsy value");Vt.reason=bt,bt=Vt}return Rt(bt)}function ut(bt){if(typeof bt!="function")throw new TypeError('The "original" argument must be of type Function');function Rt(){for(var Vt=[],Ft=0;Ft<arguments.length;Ft++)Vt.push(arguments[Ft]);var Qt=Vt.pop();if(typeof Qt!="function")throw new TypeError("The last argument must be of type Function");var ae=this,ue=function(){return Qt.apply(ae,arguments)};bt.apply(this,Vt).then(function(Kt){b.nextTick(ue,null,Kt)},function(Kt){b.nextTick(f,Kt,ue)})}return Object.setPrototypeOf(Rt,Object.getPrototypeOf(bt)),Object.defineProperties(Rt,P(bt)),Rt}S.callbackify=ut}}]);
