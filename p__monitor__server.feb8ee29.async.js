(self.webpackChunkruoyi_react=self.webpackChunkruoyi_react||[]).push([[8666],{9014:function(K){K.exports={card:"antd-pro-pages-monitor-server-style-card"}},70347:function(K){K.exports={"ant-card":"ant-card","ant-card-rtl":"ant-card-rtl","ant-card-hoverable":"ant-card-hoverable","ant-card-bordered":"ant-card-bordered","ant-card-head":"ant-card-head","ant-card-head-wrapper":"ant-card-head-wrapper","ant-card-head-title":"ant-card-head-title","ant-typography":"ant-typography","ant-typography-edit-content":"ant-typography-edit-content","ant-tabs-top":"ant-tabs-top","ant-tabs-top-bar":"ant-tabs-top-bar","ant-card-extra":"ant-card-extra","ant-card-body":"ant-card-body","ant-card-contain-grid":"ant-card-contain-grid","ant-card-loading":"ant-card-loading","ant-card-grid":"ant-card-grid","ant-card-grid-hoverable":"ant-card-grid-hoverable","ant-card-contain-tabs":"ant-card-contain-tabs","ant-card-cover":"ant-card-cover","ant-card-actions":"ant-card-actions","ant-btn":"ant-btn",anticon:"anticon","ant-card-type-inner":"ant-card-type-inner","ant-card-meta":"ant-card-meta","ant-card-meta-avatar":"ant-card-meta-avatar","ant-card-meta-detail":"ant-card-meta-detail","ant-card-meta-title":"ant-card-meta-title","ant-card-meta-description":"ant-card-meta-description","ant-card-loading-content":"ant-card-loading-content","ant-card-loading-block":"ant-card-loading-block","card-loading":"card-loading","ant-card-small":"ant-card-small"}},9556:function(K,z,n){"use strict";n.r(z),n.d(z,{default:function(){return c}});var i=n(13062),m=n(71230),t=n(89032),p=n(15746),R=n(58024),b=n(39144),k=n(66456),S=n(61128),P=n(2824),f=n(67294),ta=n(3182),na=n(94043),Y=n.n(na),w=n(11238);function O(){return u.apply(this,arguments)}function u(){return u=(0,ta.Z)(Y().mark(function Z(){return Y().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,w.ZP)("/api/monitor/server",{method:"GET"}));case 1:case"end":return v.stop()}},Z)})),u.apply(this,arguments)}var ra=n(9014),D=n.n(ra),g=n(43581),r=n(85893),ca=[{title:"\u5C5E\u6027",dataIndex:"name",key:"name"},{title:"\u503C",dataIndex:"value",key:"value"}],a=[{title:"\u5C5E\u6027",dataIndex:"name",key:"name"},{title:"\u5185\u5B58",dataIndex:"mem",key:"mem"},{title:"JVM",dataIndex:"jvm",key:"jvm"}],l=[{title:"col1",dataIndex:"col1",key:"col1"},{title:"col2",dataIndex:"col2",key:"col2"},{title:"col3",dataIndex:"col3",key:"col3"},{title:"col4",dataIndex:"col4",key:"col4"}],s=[{title:(0,r.jsx)(g._H,{id:"monitor.server.disk.dirName",defaultMessage:"\u76D8\u7B26\u8DEF\u5F84"}),dataIndex:"dirName",key:"dirName"},{title:(0,r.jsx)(g._H,{id:"monitor.server.disk.sysTypeName",defaultMessage:"\u6587\u4EF6\u7CFB\u7EDF"}),dataIndex:"sysTypeName",key:"sysTypeName"},{title:(0,r.jsx)(g._H,{id:"monitor.server.disk.typeName",defaultMessage:"\u76D8\u7B26\u7C7B\u578B"}),dataIndex:"typeName",key:"typeName"},{title:(0,r.jsx)(g._H,{id:"monitor.server.disk.total",defaultMessage:"\u603B\u5927\u5C0F"}),dataIndex:"total",key:"total"},{title:(0,r.jsx)(g._H,{id:"monitor.server.disk.free",defaultMessage:"\u53EF\u7528\u5927\u5C0F"}),dataIndex:"free",key:"free"},{title:(0,r.jsx)(g._H,{id:"monitor.server.disk.used",defaultMessage:"\u5DF2\u7528\u5927\u5C0F"}),dataIndex:"used",key:"used"},{title:(0,r.jsx)(g._H,{id:"monitor.server.disk.usage",defaultMessage:"\u5DF2\u7528\u767E\u5206\u6BD4"}),dataIndex:"usage",key:"usage"}],e=function(){var x=(0,f.useState)([]),v=(0,P.Z)(x,2),C=v[0],j=v[1],y=(0,f.useState)([]),G=(0,P.Z)(y,2),I=G[0],M=G[1],H=(0,f.useState)([]),T=(0,P.Z)(H,2),U=T[0],W=T[1],q=(0,f.useState)([]),$=(0,P.Z)(q,2),la=$[0],da=$[1],_=(0,f.useState)([]),J=(0,P.Z)(_,2),V=J[0],B=J[1];return(0,f.useEffect)(function(){O().then(function(d){if(d.code===200){var N=[];N.push({name:"\u6838\u5FC3\u6570",value:d.data.cpu.cpuNum}),N.push({name:"\u7528\u6237\u4F7F\u7528\u7387",value:"".concat(d.data.cpu.used,"%")}),N.push({name:"\u7CFB\u7EDF\u4F7F\u7528\u7387",value:"".concat(d.data.cpu.sys,"%")}),N.push({name:"\u5F53\u524D\u7A7A\u95F2\u7387",value:"".concat(d.data.cpu.free,"%")}),j(N);var A=[];A.push({name:"\u603B\u5185\u5B58",mem:"".concat(d.data.mem.total,"G"),jvm:"".concat(d.data.jvm.total,"M")}),A.push({name:"\u5DF2\u7528\u5185\u5B58",mem:"".concat(d.data.mem.used,"G"),jvm:"".concat(d.data.jvm.used,"M")}),A.push({name:"\u5269\u4F59\u5185\u5B58",mem:"".concat(d.data.mem.free,"G"),jvm:"".concat(d.data.jvm.free,"M")}),A.push({name:"\u4F7F\u7528\u7387",mem:"".concat(d.data.mem.usage,"%"),jvm:"".concat(d.data.jvm.usage,"%")}),M(A);var Q=[];Q.push({col1:"\u670D\u52A1\u5668\u540D\u79F0",col2:d.data.sys.computerName,col3:"\u64CD\u4F5C\u7CFB\u7EDF",col4:d.data.sys.osName}),Q.push({col1:"\u670D\u52A1\u5668IP",col2:d.data.sys.computerIp,col3:"\u7CFB\u7EDF\u67B6\u6784",col4:d.data.sys.osArch}),W(Q);var L=[];L.push({col1:"Java\u540D\u79F0",col2:d.data.jvm.name,col3:"Java\u7248\u672C",col4:d.data.jvm.version}),L.push({col1:"\u542F\u52A8\u65F6\u95F4",col2:d.data.jvm.startTime,col3:"\u8FD0\u884C\u65F6\u957F",col4:d.data.jvm.runTime}),L.push({col1:"\u5B89\u88C5\u8DEF\u5F84",col2:d.data.jvm.home,col3:"\u9879\u76EE\u8DEF\u5F84",col4:d.data.sys.userDir}),da(L);var aa=d.data.sysFiles.map(function(E){return{dirName:E.dirName,sysTypeName:E.sysTypeName,typeName:E.typeName,total:E.total,free:E.free,used:E.used,usage:"".concat(E.usage,"%")}});B(aa)}})},[]),(0,r.jsxs)(f.Fragment,{children:[(0,r.jsxs)(m.Z,{gutter:[24,24],children:[(0,r.jsx)(p.Z,{span:12,children:(0,r.jsx)(b.Z,{title:"CPU",className:D().card,children:(0,r.jsx)(S.Z,{pagination:!1,showHeader:!1,dataSource:C,columns:ca})})}),(0,r.jsx)(p.Z,{span:12,children:(0,r.jsx)(b.Z,{title:"\u5185\u5B58",className:D().card,children:(0,r.jsx)(S.Z,{pagination:!1,showHeader:!1,dataSource:I,columns:a})})})]}),(0,r.jsx)(m.Z,{gutter:[16,16],children:(0,r.jsx)(p.Z,{span:24,children:(0,r.jsx)(b.Z,{title:"\u670D\u52A1\u5668\u4FE1\u606F",className:D().card,children:(0,r.jsx)(S.Z,{pagination:!1,showHeader:!1,dataSource:U,columns:l})})})}),(0,r.jsx)(m.Z,{gutter:[16,16],children:(0,r.jsx)(p.Z,{span:24,children:(0,r.jsx)(b.Z,{title:"Java\u865A\u62DF\u673A\u4FE1\u606F",className:D().card,children:(0,r.jsx)(S.Z,{pagination:!1,showHeader:!1,dataSource:la,columns:l})})})}),(0,r.jsx)(m.Z,{gutter:[16,16],children:(0,r.jsx)(p.Z,{span:24,children:(0,r.jsx)(b.Z,{title:"\u78C1\u76D8\u72B6\u6001",className:D().card,children:(0,r.jsx)(S.Z,{pagination:!1,dataSource:V,columns:s})})})})]})},c=e},39144:function(K,z,n){"use strict";n.d(z,{Z:function(){return ca}});var i=n(96156),m=n(22122),t=n(67294),p=n(94184),R=n.n(p),b=n(98423),k=n(65632),S=function(a,l){var s={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&l.indexOf(e)<0&&(s[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,e=Object.getOwnPropertySymbols(a);c<e.length;c++)l.indexOf(e[c])<0&&Object.prototype.propertyIsEnumerable.call(a,e[c])&&(s[e[c]]=a[e[c]]);return s},P=function(l){var s=l.prefixCls,e=l.className,c=l.hoverable,Z=c===void 0?!0:c,x=S(l,["prefixCls","className","hoverable"]);return t.createElement(k.C,null,function(v){var C=v.getPrefixCls,j=C("card",s),y=R()("".concat(j,"-grid"),e,(0,i.Z)({},"".concat(j,"-grid-hoverable"),Z));return t.createElement("div",(0,m.Z)({},x,{className:y}))})},f=P,ta=function(a,l){var s={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&l.indexOf(e)<0&&(s[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,e=Object.getOwnPropertySymbols(a);c<e.length;c++)l.indexOf(e[c])<0&&Object.prototype.propertyIsEnumerable.call(a,e[c])&&(s[e[c]]=a[e[c]]);return s},na=function(l){return t.createElement(k.C,null,function(s){var e=s.getPrefixCls,c=l.prefixCls,Z=l.className,x=l.avatar,v=l.title,C=l.description,j=ta(l,["prefixCls","className","avatar","title","description"]),y=e("card",c),G=R()("".concat(y,"-meta"),Z),I=x?t.createElement("div",{className:"".concat(y,"-meta-avatar")},x):null,M=v?t.createElement("div",{className:"".concat(y,"-meta-title")},v):null,H=C?t.createElement("div",{className:"".concat(y,"-meta-description")},C):null,T=M||H?t.createElement("div",{className:"".concat(y,"-meta-detail")},M,H):null;return t.createElement("div",(0,m.Z)({},j,{className:G}),I,T)})},Y=na,w=n(51752),O=n(71230),u=n(15746),ra=n(97647),D=function(a,l){var s={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&l.indexOf(e)<0&&(s[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,e=Object.getOwnPropertySymbols(a);c<e.length;c++)l.indexOf(e[c])<0&&Object.prototype.propertyIsEnumerable.call(a,e[c])&&(s[e[c]]=a[e[c]]);return s};function g(a){var l=a.map(function(s,e){return t.createElement("li",{style:{width:"".concat(100/a.length,"%")},key:"action-".concat(e)},t.createElement("span",null,s))});return l}var r=t.forwardRef(function(a,l){var s,e,c=t.useContext(k.E_),Z=c.getPrefixCls,x=c.direction,v=t.useContext(ra.Z),C=function(ea){var F;(F=a.onTabChange)===null||F===void 0||F.call(a,ea)},j=function(){var ea;return t.Children.forEach(a.children,function(F){F&&F.type&&F.type===f&&(ea=!0)}),ea},y=a.prefixCls,G=a.className,I=a.extra,M=a.headStyle,H=M===void 0?{}:M,T=a.bodyStyle,U=T===void 0?{}:T,W=a.title,q=a.loading,$=a.bordered,la=$===void 0?!0:$,da=a.size,_=a.type,J=a.cover,V=a.actions,B=a.tabList,d=a.children,N=a.activeTabKey,A=a.defaultActiveTabKey,Q=a.tabBarExtraContent,L=a.hoverable,aa=a.tabProps,E=aa===void 0?{}:aa,va=D(a,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),o=Z("card",y),ma=U.padding===0||U.padding==="0px"?{padding:24}:void 0,h=t.createElement("div",{className:"".concat(o,"-loading-block")}),ya=t.createElement("div",{className:"".concat(o,"-loading-content"),style:ma},t.createElement(O.Z,{gutter:8},t.createElement(u.Z,{span:22},h)),t.createElement(O.Z,{gutter:8},t.createElement(u.Z,{span:8},h),t.createElement(u.Z,{span:15},h)),t.createElement(O.Z,{gutter:8},t.createElement(u.Z,{span:6},h),t.createElement(u.Z,{span:18},h)),t.createElement(O.Z,{gutter:8},t.createElement(u.Z,{span:13},h),t.createElement(u.Z,{span:9},h)),t.createElement(O.Z,{gutter:8},t.createElement(u.Z,{span:4},h),t.createElement(u.Z,{span:3},h),t.createElement(u.Z,{span:16},h))),sa=N!==void 0,fa=(0,m.Z)((0,m.Z)({},E),(s={},(0,i.Z)(s,sa?"activeKey":"defaultActiveKey",sa?N:A),(0,i.Z)(s,"tabBarExtraContent",Q),s)),oa,ia=B&&B.length?t.createElement(w.Z,(0,m.Z)({size:"large"},fa,{className:"".concat(o,"-head-tabs"),onChange:C}),B.map(function(X){return t.createElement(w.Z.TabPane,{tab:X.tab,disabled:X.disabled,key:X.key})})):null;(W||I||ia)&&(oa=t.createElement("div",{className:"".concat(o,"-head"),style:H},t.createElement("div",{className:"".concat(o,"-head-wrapper")},W&&t.createElement("div",{className:"".concat(o,"-head-title")},W),I&&t.createElement("div",{className:"".concat(o,"-extra")},I)),ia));var ha=J?t.createElement("div",{className:"".concat(o,"-cover")},J):null,ga=t.createElement("div",{className:"".concat(o,"-body"),style:U},q?ya:d),xa=V&&V.length?t.createElement("ul",{className:"".concat(o,"-actions")},g(V)):null,Ea=(0,b.Z)(va,["onTabChange"]),ua=da||v,pa=R()(o,(e={},(0,i.Z)(e,"".concat(o,"-loading"),q),(0,i.Z)(e,"".concat(o,"-bordered"),la),(0,i.Z)(e,"".concat(o,"-hoverable"),L),(0,i.Z)(e,"".concat(o,"-contain-grid"),j()),(0,i.Z)(e,"".concat(o,"-contain-tabs"),B&&B.length),(0,i.Z)(e,"".concat(o,"-").concat(ua),ua),(0,i.Z)(e,"".concat(o,"-type-").concat(_),!!_),(0,i.Z)(e,"".concat(o,"-rtl"),x==="rtl"),e),G);return t.createElement("div",(0,m.Z)({ref:l},Ea,{className:pa}),oa,ha,ga,xa)});r.Grid=f,r.Meta=Y;var ca=r},58024:function(K,z,n){"use strict";var i=n(38663),m=n.n(i),t=n(70347),p=n.n(t),R=n(18106),b=n(13062),k=n(89032)}}]);
