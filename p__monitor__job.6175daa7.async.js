(self.webpackChunkruoyi_react=self.webpackChunkruoyi_react||[]).push([[3362],{31199:function(q,I,t){"use strict";var L=t(22122),T=t(28991),O=t(81253),P=t(67294),S=t(49983),F=["fieldProps","min","proFieldProps","max"],R=function(x,Z){var W=x.fieldProps,u=x.min,p=x.proFieldProps,M=x.max,a=(0,O.Z)(x,F);return P.createElement(S.Z,(0,L.Z)({mode:"edit",valueType:"digit",fieldProps:(0,T.Z)({min:u,max:M},W),ref:Z,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:p},a))};I.Z=P.forwardRef(R)},86615:function(q,I,t){"use strict";var L=t(88983),T=t(47933),O=t(22122),P=t(28991),S=t(81253),F=t(67294),R=t(49983),j=t(22270),x=t(64893),Z=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],W=F.forwardRef(function(a,N){var K=a.fieldProps,V=a.options,ee=a.radioType,B=a.layout,l=a.proFieldProps,te=a.valueEnum,ae=(0,S.Z)(a,Z);return F.createElement(R.Z,(0,O.Z)({mode:"edit",valueType:ee==="button"?"radioButton":"radio",ref:N,valueEnum:(0,j.h)(te,void 0)},ae,{fieldProps:(0,P.Z)({options:V,layout:B},K),proFieldProps:l,filedConfig:{customLightMode:!0}}))}),u=F.forwardRef(function(a,N){var K=a.fieldProps,V=a.children;return F.createElement(T.ZP,(0,O.Z)({},K,{ref:N}),V)}),p=(0,x.G)(u,{valuePropName:"checked",ignoreWidth:!0}),M=p;M.Group=W,M.Button=T.ZP.Button,M.displayName="ProFormComponent",I.Z=M},5966:function(q,I,t){"use strict";var L=t(22122),T=t(81253),O=t(67294),P=t(49983),S=["fieldProps","proFieldProps"],F=["fieldProps","proFieldProps"],R="text",j=function(u){var p=u.fieldProps,M=u.proFieldProps,a=(0,T.Z)(u,S);return O.createElement(P.Z,(0,L.Z)({mode:"edit",valueType:R,fieldProps:p,filedConfig:{valueType:R},proFieldProps:M},a))},x=function(u){var p=u.fieldProps,M=u.proFieldProps,a=(0,T.Z)(u,F);return O.createElement(P.Z,(0,L.Z)({mode:"edit",valueType:"password",fieldProps:p,proFieldProps:M,filedConfig:{valueType:R}},a))},Z=j;Z.Password=x,Z.displayName="ProFormComponent",I.Z=Z},90672:function(q,I,t){"use strict";var L=t(22122),T=t(81253),O=t(67294),P=t(49983),S=["fieldProps","proFieldProps"],F=function(j,x){var Z=j.fieldProps,W=j.proFieldProps,u=(0,T.Z)(j,S);return O.createElement(P.Z,(0,L.Z)({ref:x,mode:"edit",valueType:"textarea",fieldProps:Z,proFieldProps:W},u))};I.Z=O.forwardRef(F)},38012:function(q,I,t){"use strict";t.r(I),t.d(I,{default:function(){return Ue}});var L=t(59250),T=t(13013),O=t(30887),P=t(28682),S=t(71194),F=t(50146),R=t(57663),j=t(71577),x=t(2824),Z=t(11849),W=t(34792),u=t(48086),p=t(3182),M=t(94043),a=t.n(M),N=t(57254),K=t(49101),V=t(57119),ee=t(73171),B=t(67294),l=t(43581),te=t(19374),ae=t(66548),z=t(11238),Fe=t(24480);function Ee(c,n){return ne.apply(this,arguments)}function ne(){return ne=(0,p.Z)(a().mark(function c(n,i){return a().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,z.ZP)("/api/monitor/job/list",{params:(0,Fe.f)(n,i),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return o.stop()}},c)})),ne.apply(this,arguments)}function Qe(c){return request("/api/monitor/job/".concat(c),{method:"GET"})}function Pe(c){return re.apply(this,arguments)}function re(){return re=(0,p.Z)(a().mark(function c(n){return a().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,z.ZP)("/api/monitor/job",{method:"POST",data:n}));case 1:case"end":return s.stop()}},c)})),re.apply(this,arguments)}function Ze(c){return se.apply(this,arguments)}function se(){return se=(0,p.Z)(a().mark(function c(n){return a().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,z.ZP)("/api/monitor/job",{method:"PUT",data:n}));case 1:case"end":return s.stop()}},c)})),se.apply(this,arguments)}function pe(c){return oe.apply(this,arguments)}function oe(){return oe=(0,p.Z)(a().mark(function c(n){return a().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,z.ZP)("/api/monitor/job/".concat(n),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return s.stop()}},c)})),oe.apply(this,arguments)}function Be(c){return(0,ae.su)("/api/monitor/job/export",{params:c},"job_".concat(new Date().getTime(),".xlsx"))}function Ce(c,n){return ie.apply(this,arguments)}function ie(){return ie=(0,p.Z)(a().mark(function c(n,i){var s;return a().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return s={jobId:n,jobGroup:i},f.abrupt("return",(0,z.ZP)("/api/monitor/job/run",{method:"PUT",data:s}));case 2:case"end":return f.stop()}},c)})),ie.apply(this,arguments)}var Xe=t(13062),U=t(71230),_e=t(89032),$=t(15746),qe=t(9715),me=t(86835),Me=t(31199),Y=t(5966),ye=t(90672),Te=t(86615),e=t(85893),Oe=function(n){var i=me.Z.useForm(),s=(0,x.Z)(i,1),o=s[0],f=n.statusOptions;(0,B.useEffect)(function(){o.resetFields(),o.setFieldsValue({jobId:n.values.jobId,jobName:n.values.jobName,jobGroup:n.values.jobGroup,invokeTarget:n.values.invokeTarget,cronExpression:n.values.cronExpression,misfirePolicy:n.values.misfirePolicy,concurrent:n.values.concurrent,status:n.values.status,createBy:n.values.createBy,createTime:n.values.createTime,updateBy:n.values.updateBy,updateTime:n.values.updateTime,remark:n.values.remark})},[o,n]);var r=(0,l.YB)(),v=function(){o.submit()},le=function(){n.onCancel(),o.resetFields()},Q=function(ue){n.onSubmit(ue)};return(0,e.jsx)(F.Z,{"data-inspector-line":"54","data-inspector-column":"4","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",width:640,title:r.formatMessage({id:"monitor.Job.modify",defaultMessage:"\u7F16\u8F91\u5B9A\u65F6\u4EFB\u52A1\u8C03\u5EA6"}),visible:n.visible,destroyOnClose:!0,onOk:v,onCancel:le,children:(0,e.jsxs)(me.Z,{"data-inspector-line":"65","data-inspector-column":"6","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",form:o,onFinish:Q,initialValues:n.values,children:[(0,e.jsx)(U.Z,{"data-inspector-line":"66","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",gutter:[16,16],children:(0,e.jsx)($.Z,{"data-inspector-line":"67","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",span:24,order:1,children:(0,e.jsx)(Me.Z,{"data-inspector-line":"68","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",name:"jobId",label:r.formatMessage({id:"monitor.Job.job_id",defaultMessage:"\u4EFB\u52A1ID"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1ID",disabled:!0,hidden:!n.values.jobId,rules:[{required:!1,message:(0,e.jsx)(l._H,{"data-inspector-line":"81","data-inspector-column":"27","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u4EFB\u52A1ID\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1ID\uFF01"})}]})})}),(0,e.jsx)(U.Z,{"data-inspector-line":"87","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",gutter:[16,16],children:(0,e.jsx)($.Z,{"data-inspector-line":"88","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",span:24,order:1,children:(0,e.jsx)(Y.Z,{"data-inspector-line":"89","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",name:"jobName",label:r.formatMessage({id:"monitor.Job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0",rules:[{required:!0,message:(0,e.jsx)(l._H,{"data-inspector-line":"101","data-inspector-column":"20","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0\uFF01"})}]})})}),(0,e.jsx)(U.Z,{"data-inspector-line":"108","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",gutter:[16,16],children:(0,e.jsx)($.Z,{"data-inspector-line":"109","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",span:24,order:1,children:(0,e.jsx)(Y.Z,{"data-inspector-line":"110","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",name:"jobGroup",label:r.formatMessage({id:"monitor.Job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D",rules:[{required:!0,message:(0,e.jsx)(l._H,{"data-inspector-line":"122","data-inspector-column":"20","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D\uFF01"})}]})})}),(0,e.jsx)(U.Z,{"data-inspector-line":"129","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",gutter:[16,16],children:(0,e.jsx)($.Z,{"data-inspector-line":"130","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",span:24,order:1,children:(0,e.jsx)(ye.Z,{"data-inspector-line":"131","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",name:"invokeTarget",label:r.formatMessage({id:"monitor.Job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32",rules:[{required:!0,message:(0,e.jsx)(l._H,{"data-inspector-line":"143","data-inspector-column":"20","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32\uFF01"})}]})})}),(0,e.jsx)(U.Z,{"data-inspector-line":"153","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",gutter:[16,16],children:(0,e.jsx)($.Z,{"data-inspector-line":"154","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",span:24,order:1,children:(0,e.jsx)(Y.Z,{"data-inspector-line":"155","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",name:"cronExpression",label:r.formatMessage({id:"monitor.Job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165cron\u6267\u884C\u8868\u8FBE\u5F0F",rules:[{required:!0,message:(0,e.jsx)(l._H,{"data-inspector-line":"167","data-inspector-column":"20","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",id:"\u8BF7\u8F93\u5165cron\u6267\u884C\u8868\u8FBE\u5F0F\uFF01",defaultMessage:"\u8BF7\u8F93\u5165cron\u6267\u884C\u8868\u8FBE\u5F0F\uFF01"})}]})})}),(0,e.jsx)(U.Z,{"data-inspector-line":"177","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",gutter:[16,16],children:(0,e.jsx)($.Z,{"data-inspector-line":"178","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",span:24,order:1,children:(0,e.jsx)(Y.Z,{"data-inspector-line":"179","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",name:"misfirePolicy",label:r.formatMessage({id:"monitor.Job.misfire_policy",defaultMessage:"\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565",rules:[{required:!1,message:(0,e.jsx)(l._H,{"data-inspector-line":"191","data-inspector-column":"20","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565\uFF01"})}]})})}),(0,e.jsx)(U.Z,{"data-inspector-line":"201","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",gutter:[16,16],children:(0,e.jsx)($.Z,{"data-inspector-line":"202","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",span:24,order:1,children:(0,e.jsx)(Y.Z,{"data-inspector-line":"203","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",name:"concurrent",label:r.formatMessage({id:"monitor.Job.concurrent",defaultMessage:"\u662F\u5426\u5E76\u53D1\u6267\u884C"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C",rules:[{required:!1,message:(0,e.jsx)(l._H,{"data-inspector-line":"215","data-inspector-column":"20","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C\uFF01"})}]})})}),(0,e.jsx)(U.Z,{"data-inspector-line":"225","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",gutter:[16,16],children:(0,e.jsx)($.Z,{"data-inspector-line":"226","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",span:24,order:1,children:(0,e.jsx)(Te.Z.Group,{"data-inspector-line":"227","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",valueEnum:f,name:"status",label:r.formatMessage({id:"monitor.Job.status",defaultMessage:"\u72B6\u6001"}),width:"xl",labelCol:{span:24},placeholder:"\u8BF7\u8F93\u5165\u72B6\u6001",rules:[{required:!1,message:(0,e.jsx)(l._H,{"data-inspector-line":"240","data-inspector-column":"27","data-inspector-relative-path":"src/pages/monitor/job/components/edit.tsx",id:"\u8BF7\u8F93\u5165\u72B6\u6001\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u72B6\u6001\uFF01"})}]})})})]})})},De=Oe,et=t(98858),D=t(4914),Ie=function(n){var i=n.values,s=n.statusOptions;(0,B.useEffect)(function(){},[n]);var o=(0,l.YB)(),f={0:"\u9ED8\u8BA4\u7B56\u7565",1:"\u7ACB\u5373\u6267\u884C",2:"\u6267\u884C\u4E00\u6B21",3:"\u653E\u5F03\u6267\u884C"},r=function(){n.onCancel()};return(0,e.jsx)(F.Z,{"data-inspector-line":"34","data-inspector-column":"4","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",width:800,title:o.formatMessage({id:"monitor.Operlog.detail",defaultMessage:"\u64CD\u4F5C\u65E5\u5FD7\u8BE6\u7EC6\u4FE1\u606F"}),visible:n.visible,destroyOnClose:!0,onCancel:r,footer:[(0,e.jsx)(j.Z,{"data-inspector-line":"44","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",onClick:r,children:"\u5173\u95ED"},"back")],children:(0,e.jsxs)(D.Z,{"data-inspector-line":"49","data-inspector-column":"6","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",column:24,children:[(0,e.jsx)(D.Z.Item,{"data-inspector-line":"50","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",span:12,label:(0,e.jsx)(l._H,{"data-inspector-line":"52","data-inspector-column":"17","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",id:"monitor.Job.job_id",defaultMessage:"\u4EFB\u52A1\u7F16\u53F7"}),children:i.jobId}),(0,e.jsx)(D.Z.Item,{"data-inspector-line":"56","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",span:12,label:(0,e.jsx)(l._H,{"data-inspector-line":"58","data-inspector-column":"17","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",id:"monitor.Job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),children:i.jobName}),(0,e.jsx)(D.Z.Item,{"data-inspector-line":"62","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",span:12,label:(0,e.jsx)(l._H,{"data-inspector-line":"64","data-inspector-column":"17","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",id:"monitor.Job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),children:i.jobGroup}),(0,e.jsx)(D.Z.Item,{"data-inspector-line":"68","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",span:12,label:(0,e.jsx)(l._H,{"data-inspector-line":"70","data-inspector-column":"17","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",id:"monitor.Job.concurrent",defaultMessage:"\u662F\u5426\u5E76\u53D1\u6267\u884C"}),children:i.concurrent==="1"?"\u7981\u6B62":"\u5141\u8BB8"}),(0,e.jsx)(D.Z.Item,{"data-inspector-line":"74","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",span:12,label:(0,e.jsx)(l._H,{"data-inspector-line":"77","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",id:"monitor.Job.misfire_policy",defaultMessage:"\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565"}),children:f[i.misfirePolicy?i.misfirePolicy:"0"]}),(0,e.jsx)(D.Z.Item,{"data-inspector-line":"82","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",span:12,label:(0,e.jsx)(l._H,{"data-inspector-line":"84","data-inspector-column":"17","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",id:"monitor.Job.create_time",defaultMessage:"\u521B\u5EFA\u65F6\u95F4"}),children:i.createTime}),(0,e.jsx)(D.Z.Item,{"data-inspector-line":"88","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",span:12,label:(0,e.jsx)(l._H,{"data-inspector-line":"90","data-inspector-column":"17","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",id:"monitor.Job.status",defaultMessage:"\u72B6\u6001"}),children:s[i.status?i.status:0]}),(0,e.jsx)(D.Z.Item,{"data-inspector-line":"94","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",span:12,label:(0,e.jsx)(l._H,{"data-inspector-line":"97","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",id:"monitor.Job.next_valid_time",defaultMessage:"\u4E0B\u6B21\u6267\u884C\u65F6\u95F4"}),children:i.nextValidTime}),(0,e.jsx)(D.Z.Item,{"data-inspector-line":"102","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",span:24,label:(0,e.jsx)(l._H,{"data-inspector-line":"105","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",id:"monitor.Job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),children:i.cronExpression}),(0,e.jsx)(D.Z.Item,{"data-inspector-line":"110","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",span:24,label:(0,e.jsx)(l._H,{"data-inspector-line":"113","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/components/detail.tsx",id:"monitor.Job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),children:i.invokeTarget})]})})},Ae=Ie,ve=t(52346),Re=t(21349),Je=t(85224),we=function(){var c=(0,p.Z)(a().mark(function n(i){var s,o;return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s=u.default.loading("\u6B63\u5728\u6DFB\u52A0"),r.prev=1,r.next=4,Pe((0,Z.Z)({},i));case 4:return o=r.sent,s(),o.code===200?u.default.success("\u6DFB\u52A0\u6210\u529F"):u.default.error(o.msg),r.abrupt("return",!0);case 10:return r.prev=10,r.t0=r.catch(1),s(),u.default.error("\u6DFB\u52A0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),r.abrupt("return",!1);case 15:case"end":return r.stop()}},n,null,[[1,10]])}));return function(i){return c.apply(this,arguments)}}(),He=function(){var c=(0,p.Z)(a().mark(function n(i){var s,o;return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s=u.default.loading("\u6B63\u5728\u914D\u7F6E"),r.prev=1,r.next=4,Ze(i);case 4:return o=r.sent,s(),o.code===200?u.default.success("\u914D\u7F6E\u6210\u529F"):u.default.error(o.msg),r.abrupt("return",!0);case 10:return r.prev=10,r.t0=r.catch(1),s(),u.default.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),r.abrupt("return",!1);case 15:case"end":return r.stop()}},n,null,[[1,10]])}));return function(i){return c.apply(this,arguments)}}(),he=function(){var c=(0,p.Z)(a().mark(function n(i){var s,o;return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(s=u.default.loading("\u6B63\u5728\u5220\u9664"),i){r.next=3;break}return r.abrupt("return",!0);case 3:return r.prev=3,r.next=6,pe(i.map(function(v){return v.jobId}).join(","));case 6:return o=r.sent,s(),o.code===200?u.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):u.default.error(o.msg),r.abrupt("return",!0);case 12:return r.prev=12,r.t0=r.catch(3),s(),u.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),r.abrupt("return",!1);case 17:case"end":return r.stop()}},n,null,[[3,12]])}));return function(i){return c.apply(this,arguments)}}(),Le=function(){var c=(0,p.Z)(a().mark(function n(i){var s,o,f;return a().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(s=u.default.loading("\u6B63\u5728\u5220\u9664"),i){v.next=3;break}return v.abrupt("return",!0);case 3:return v.prev=3,o=[i.jobId],v.next=7,pe(o.join(","));case 7:return f=v.sent,s(),f.code===200?u.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):u.default.error(f.msg),v.abrupt("return",!0);case 13:return v.prev=13,v.t0=v.catch(3),s(),u.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),v.abrupt("return",!1);case 18:case"end":return v.stop()}},n,null,[[3,13]])}));return function(i){return c.apply(this,arguments)}}(),Se=function(){var c=(0,p.Z)(a().mark(function n(){var i;return a().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=u.default.loading("\u6B63\u5728\u5BFC\u51FA"),o.prev=1,o.next=4,Be();case 4:return i(),u.default.success("\u5BFC\u51FA\u6210\u529F"),o.abrupt("return",!0);case 9:return o.prev=9,o.t0=o.catch(1),i(),u.default.error("\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),o.abrupt("return",!1);case 14:case"end":return o.stop()}},n,null,[[1,9]])}));return function(){return c.apply(this,arguments)}}(),We=function(){var n=(0,B.useRef)(),i=(0,B.useState)(!1),s=(0,x.Z)(i,2),o=s[0],f=s[1],r=(0,B.useState)(!1),v=(0,x.Z)(r,2),le=v[0],Q=v[1],A=(0,B.useRef)(),ue=(0,B.useState)(),fe=(0,x.Z)(ue,2),je=fe[0],k=fe[1],$e=(0,B.useState)([]),xe=(0,x.Z)($e,2),J=xe[0],ce=xe[1],ke=(0,B.useState)([]),ge=(0,x.Z)(ke,2),de=ge[0],Ke=ge[1],Ge=(0,B.useState)([]),be=(0,x.Z)(Ge,2),Ne=be[0],Ve=be[1],G=(0,l.md)(),ze=(0,l.YB)();(0,B.useEffect)(function(){(0,ve.zP)("sys_normal_disable").then(function(E){if(E.code===200){var h={};E.data.forEach(function(d){h[d.dictValue]=d.dictLabel}),Ke(h)}}),(0,ve.zP)("sys_job_group").then(function(E){if(E.code===200){var h={};E.data.forEach(function(d){h[d.dictValue]=d.dictLabel}),Ve(h)}})},[]);var Ye=[{title:(0,e.jsx)(l._H,{"data-inspector-line":"172","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"monitor.Job.job_id",defaultMessage:"\u4EFB\u52A1ID"}),dataIndex:"jobId",valueType:"text",hideInSearch:!0},{title:(0,e.jsx)(l._H,{"data-inspector-line":"178","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"monitor.Job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),dataIndex:"jobName",valueType:"text",render:function(h,d){return(0,e.jsx)("a",{"data-inspector-line":"183","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",onClick:function(){Q(!0),k(d)},children:h})}},{title:(0,e.jsx)(l._H,{"data-inspector-line":"195","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"monitor.Job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),dataIndex:"jobGroup",valueType:"text",valueEnum:Ne},{title:(0,e.jsx)(l._H,{"data-inspector-line":"201","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"monitor.Job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),dataIndex:"invokeTarget",valueType:"textarea",hideInSearch:!0},{title:(0,e.jsx)(l._H,{"data-inspector-line":"207","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"monitor.Job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),dataIndex:"cronExpression",valueType:"text",hideInSearch:!0},{title:(0,e.jsx)(l._H,{"data-inspector-line":"213","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"monitor.Job.status",defaultMessage:"\u72B6\u6001"}),dataIndex:"status",valueType:"select",valueEnum:de},{title:(0,e.jsx)(l._H,{"data-inspector-line":"219","data-inspector-column":"13","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",width:"220px",valueType:"option",render:function(h,d){return[(0,e.jsx)(j.Z,{"data-inspector-line":"224","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",type:"link",size:"small",hidden:!G.hasPerms("monitor:job:edit"),onClick:function(){f(!0),k(d)},children:"\u7F16\u8F91"},"edit"),(0,e.jsx)(j.Z,{"data-inspector-line":"236","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",type:"link",size:"small",danger:!0,hidden:!G.hasPerms("monitor:job:remove"),onClick:(0,p.Z)(a().mark(function m(){return a().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:F.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var H=(0,p.Z)(a().mark(function y(){var X;return a().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,Le(d);case 2:X=_.sent,X&&A.current&&A.current.reload();case 4:case"end":return _.stop()}},y)}));function C(){return H.apply(this,arguments)}return C}()});case 1:case"end":return g.stop()}},m)})),children:"\u5220\u9664"},"batchRemove"),(0,e.jsx)(T.Z,{"data-inspector-line":"261","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",overlay:function(){return(0,e.jsxs)(P.Z,{"data-inspector-line":"265","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",children:[(0,e.jsx)(P.Z.Item,{"data-inspector-line":"266","data-inspector-column":"16","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",children:(0,e.jsx)(j.Z,{"data-inspector-line":"267","data-inspector-column":"18","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",type:"link",size:"small",onClick:function(){F.Z.confirm({title:"\u8B66\u544A",content:"\u786E\u8BA4\u8981\u7ACB\u5373\u6267\u884C\u4E00\u6B21\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var g=(0,p.Z)(a().mark(function C(){var y;return a().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,Ce(d.jobId,d.jobGroup);case 2:y=b.sent,y&&u.default.success("\u6267\u884C\u6210\u529F");case 4:case"end":return b.stop()}},C)}));function H(){return g.apply(this,arguments)}return H}()})},children:"\u6267\u884C\u4E00\u6B21"},"runOnce")},"0"),(0,e.jsx)(P.Z.Item,{"data-inspector-line":"289","data-inspector-column":"16","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",children:(0,e.jsx)(j.Z,{"data-inspector-line":"290","data-inspector-column":"18","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",type:"link",size:"small",onClick:function(){Q(!0),k(d)},children:"\u4EFB\u52A1\u8BE6\u60C5"},"runOnce")},"1"),(0,e.jsx)(P.Z.Item,{"data-inspector-line":"302","data-inspector-column":"16","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",children:(0,e.jsx)(j.Z,{"data-inspector-line":"303","data-inspector-column":"18","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",type:"link",size:"small",onClick:function(){l.m8.push("/monitor/job-log/index?jobId=".concat(d.jobId))},children:"\u8C03\u5EA6\u65E5\u5FD7"},"history")},"2")]})},children:(0,e.jsxs)("a",{"data-inspector-line":"318","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",className:"ant-dropdown-link",onClick:function(w){return w.preventDefault()},children:["\u66F4\u591A",(0,e.jsx)(N.Z,{"data-inspector-line":"320","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/index.tsx"})]})},"toolbar")]}}];return(0,e.jsxs)(Re.Z,{"data-inspector-line":"328","data-inspector-column":"4","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",children:[(0,e.jsx)("div",{"data-inspector-line":"329","data-inspector-column":"6","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",style:{width:"100%",float:"right"},children:(0,e.jsx)(te.ZP,{"data-inspector-line":"330","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",headerTitle:ze.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u4FE1\u606F"}),actionRef:A,formRef:n,rowKey:"jobId",search:{labelWidth:"auto"},toolBarRender:function(){return[(0,e.jsxs)(j.Z,{"data-inspector-line":"343","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",type:"primary",hidden:!G.hasPerms("monitor:job:add"),onClick:(0,p.Z)(a().mark(function h(){return a().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:k(void 0),f(!0);case 2:case"end":return m.stop()}},h)})),children:[(0,e.jsx)(K.Z,{"data-inspector-line":"352","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/job/index.tsx"})," ",(0,e.jsx)(l._H,{"data-inspector-line":"352","data-inspector-column":"31","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"pages.searchTable.new",defaultMessage:"\u65B0\u5EFA"})]},"add"),(0,e.jsxs)(j.Z,{"data-inspector-line":"354","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",type:"primary",hidden:(J==null?void 0:J.length)===0||!G.hasPerms("monitor:job:remove"),onClick:(0,p.Z)(a().mark(function h(){return a().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:F.Z.confirm({title:"\u662F\u5426\u786E\u8BA4\u5220\u9664\u6240\u9009\u6570\u636E\u9879?",icon:(0,e.jsx)(V.Z,{"data-inspector-line":"361","data-inspector-column":"24","data-inspector-relative-path":"src/pages/monitor/job/index.tsx"}),content:"\u8BF7\u8C28\u614E\u64CD\u4F5C",onOk:function(){return(0,p.Z)(a().mark(function g(){var H,C,y;return a().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,he(J);case 2:H=b.sent,H&&(ce([]),(C=A.current)===null||C===void 0||(y=C.reloadAndRest)===null||y===void 0||y.call(C));case 4:case"end":return b.stop()}},g)}))()}});case 1:case"end":return m.stop()}},h)})),children:[(0,e.jsx)(ee.Z,{"data-inspector-line":"373","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/job/index.tsx"}),(0,e.jsx)(l._H,{"data-inspector-line":"374","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"pages.searchTable.delete",defaultMessage:"\u5220\u9664"})]},"remove"),(0,e.jsxs)(j.Z,{"data-inspector-line":"376","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",type:"primary",hidden:!G.hasPerms("monitor:job:export"),onClick:(0,p.Z)(a().mark(function h(){return a().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:Se();case 1:case"end":return m.stop()}},h)})),children:[(0,e.jsx)(K.Z,{"data-inspector-line":"384","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/job/index.tsx"}),(0,e.jsx)(l._H,{"data-inspector-line":"385","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"pages.searchTable.export",defaultMessage:"\u5BFC\u51FA"})]},"export")]},request:function(h,d){return Ee((0,Z.Z)({},h),d)},columns:Ye,rowSelection:{onChange:function(h,d){ce(d)}}},"jobList")}),(J==null?void 0:J.length)>0&&(0,e.jsx)(Je.Z,{"data-inspector-line":"398","data-inspector-column":"8","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",extra:(0,e.jsxs)("div",{"data-inspector-line":"400","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",children:[(0,e.jsx)(l._H,{"data-inspector-line":"401","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"pages.searchTable.chosen",defaultMessage:"\u5DF2\u9009\u62E9"}),(0,e.jsx)("a",{"data-inspector-line":"402","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",style:{fontWeight:600},children:J.length}),(0,e.jsx)(l._H,{"data-inspector-line":"403","data-inspector-column":"14","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"pages.searchTable.item",defaultMessage:"\u9879"})]}),children:(0,e.jsx)(j.Z,{"data-inspector-line":"407","data-inspector-column":"10","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",hidden:!G.hasPerms("monitor:job:remove"),onClick:(0,p.Z)(a().mark(function E(){return a().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:F.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var m=(0,p.Z)(a().mark(function g(){var H,C,y;return a().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,he(J);case 2:H=b.sent,H&&(ce([]),(C=A.current)===null||C===void 0||(y=C.reloadAndRest)===null||y===void 0||y.call(C));case 4:case"end":return b.stop()}},g)}));function w(){return m.apply(this,arguments)}return w}()});case 1:case"end":return d.stop()}},E)})),children:(0,e.jsx)(l._H,{"data-inspector-line":"426","data-inspector-column":"12","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",id:"pages.searchTable.batchDeletion",defaultMessage:"\u6279\u91CF\u5220\u9664"})},"remove")}),(0,e.jsx)(De,{"data-inspector-line":"430","data-inspector-column":"6","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",onSubmit:function(){var E=(0,p.Z)(a().mark(function h(d){var m;return a().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(m=!1,!d.jobId){g.next=7;break}return g.next=4,He((0,Z.Z)({},d));case 4:m=g.sent,g.next=10;break;case 7:return g.next=9,we((0,Z.Z)({},d));case 9:m=g.sent;case 10:m&&(f(!1),k(void 0),A.current&&A.current.reload());case 11:case"end":return g.stop()}},h)}));return function(h){return E.apply(this,arguments)}}(),onCancel:function(){f(!1),k(void 0)},visible:o,values:je||{},statusOptions:de}),(0,e.jsx)(Ae,{"data-inspector-line":"454","data-inspector-column":"6","data-inspector-relative-path":"src/pages/monitor/job/index.tsx",onCancel:function(){Q(!1),k(void 0)},visible:le,values:je||{},statusOptions:de})]})},Ue=We}}]);
