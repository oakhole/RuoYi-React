(self.webpackChunkruoyi_react=self.webpackChunkruoyi_react||[]).push([[456],{23826:function(K){K.exports={tabItem:"tabItem___1vS9f",closeIcon:"closeIcon___2J7aW",active:"active___3rWkl"}},76125:function(K){K.exports={tabs:"tabs___2O5Eo",tabList:"tabList___Xo1dv",linkTabs:"linkTabs___2hVoG",tabLeftMenu:"tabLeftMenu___3bQ1n",tabMore:"tabMore___2ymdg",boxShadow:"boxShadow___2NrHz"}},99768:function(K,O,o){"use strict";o.r(O),o.d(O,{default:function(){return ot}});var mt=o(48736),w=o(27049),ht=o(59250),F=o(13013),xt=o(30887),f=o(28682),L=o(11849),X=o(67294),R=o(64140),z=o(92977),V=o(57254),h=o(86353),P=o(43061),Q=o(19630),U=o(23826),Z=o.n(U),t=o(85893),B="RV/m",Y=function(p){var a=(0,Q.k6)(),i=p.value,e=p.tabIndex,d=(0,h.tT)("system"),x=d.active,v=d.dispatch,C=d.tabWidth,S=d.tarnslateX,N=d.showTabs,G=d.tabsWidth,I=d.tabList,j=(0,h.j9)(),g=j.dropScope,H=I.length>1;return(0,t.jsxs)("div",{"data-inspector-line":"35","data-inspector-column":"4","data-inspector-relative-path":"src/components/KeepAliveTabs/components/SortableTab/index.tsx",className:"".concat(Z().tabItem," link-tab ").concat(e===x?Z().active:""),title:i.title,onClick:function(){var A=Math.floor(S/C),r=S-A*C;if(e-A<=0){v({type:"CHANGESTATE",payload:{active:e,tarnslateX:S-r}}),a.push((0,L.Z)({},i));return}if(e-A+1===N){var n=(e+1)*C-(G-100);v({type:"CHANGESTATE",payload:{active:e,tarnslateX:n}}),a.push((0,L.Z)({},i));return}v({type:"CHANGESTATE",payload:{active:e}}),a.push((0,L.Z)({},i))},_nk:"".concat(B,"11"),children:[i.title,H&&(0,t.jsx)("div",{"data-inspector-line":"65","data-inspector-column":"8","data-inspector-relative-path":"src/components/KeepAliveTabs/components/SortableTab/index.tsx",className:Z().closeIcon,onClick:function(A){A.stopPropagation();var r=i.keepAliveName,n=JSON.parse(JSON.stringify(I));n.splice(e,1);var l=0;if(e<x)l=x-1,g(r);else if(e===x){if(x>0){l=x-1;var c=setTimeout(function(){clearTimeout(c),a.push(I[l])},10)}else{l=0;var m=setTimeout(function(){clearTimeout(m),a.push(n[l])},10)}var E=a.listen(function(){E();var k=setTimeout(function(){clearTimeout(k),g(r)},10)})}else l=x,g(r);v({type:"CHANGESTATE",payload:{tabList:n,active:l,tarnslateX:0}})},_nk:"".concat(B,"12"),children:(0,t.jsx)(P.Z,{"data-inspector-line":"111","data-inspector-column":"10","data-inspector-relative-path":"src/components/KeepAliveTabs/components/SortableTab/index.tsx",_nk:"".concat(B,"21")})})]})},$=Y,q=o(76125),y=o.n(q),s="OxF8",_=(0,R.W8)(function(T){var p=T.index,a=T.value,i=T.tabIndex,e=T.key;return(0,t.jsx)($,{"data-inspector-line":"18","data-inspector-column":"2","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",index:p,value:a,tabIndex:i,_nk:"".concat(s,"11")},e)}),tt=(0,R.JN)(function(){var T=(0,X.useRef)(),p=(0,h.tT)("system"),a=p.tabList,i=p.tarnslateX;return(0,t.jsx)("div",{"data-inspector-line":"26","data-inspector-column":"4","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",className:"".concat(y().tabList),ref:T,_nk:"".concat(s,"21"),children:(0,t.jsx)("div",{"data-inspector-line":"27","data-inspector-column":"6","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",className:y().linkTabs,style:{transform:"translateX(-".concat(i,"px)")},_nk:"".concat(s,"22"),children:a.map(function(e,d){return(0,t.jsx)(_,{"data-inspector-line":"30","data-inspector-column":"10","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",index:d,value:e,tabIndex:d,_nk:"iAr".concat(s,"31")},"item-".concat(d))})})})}),et=function(){var p=(0,h.tT)("system"),a=p.tabList,i=p.dispatch,e=p.active,d=p.showTabs,x=p.tabsWidth,v=p.tabWidth,C=p.tarnslateX,S=(0,h.j9)(),N=S.dropScope,G=S.clear,I=function(n){var l=n.oldIndex,c=n.newIndex,m=JSON.parse(JSON.stringify(a)),E=m[e];m.splice(c,0,m.splice(l,1)[0]);var k=m.findIndex(function(W){return W===E});i({type:"CHANGESTATE",payload:{tabList:m,active:k}})},j=[];if(a.length>d){var g=Math.floor(C/v),H=Math.floor(C/v)+d;a.forEach(function(r,n){n<g&&j.push(r),n>=H&&j.push(r)})}var M=(0,t.jsx)(f.Z,{"data-inspector-line":"70","data-inspector-column":"4","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",onClick:function(n){var l=d*v-x+100,c=a==null?void 0:a.findIndex(function(k){return k.pathname===n.key}),m=d-1;if(c>m){var E=(c-m)*v+l;i({type:"CHANGESTATE",payload:{tarnslateX:E,active:c}})}else i({type:"CHANGESTATE",payload:{tarnslateX:v*c,active:c}});h.m8.push((0,L.Z)({},a[c]))},_nk:"".concat(s,"41"),children:j.map(function(r){return(0,t.jsxs)(f.Z.Item,{"data-inspector-line":"95","data-inspector-column":"15","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",_nk:"iAr".concat(s,"51"),children:[" ",r.title]},r.pathname)})}),A=(0,t.jsxs)(f.Z,{"data-inspector-line":"100","data-inspector-column":"4","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",onClick:function(n){var l=0,c=JSON.parse(JSON.stringify(a));switch(n.key){case"closeCurrent":{var m=c[e].keepAliveName;if(e>0){l=e-1;var E=setTimeout(function(){clearTimeout(E),h.m8.push(a[l])},10)}else{l=0;var k=setTimeout(function(){clearTimeout(k),h.m8.push(c[l])},10)}var W=h.m8.listen(function(){W();var u=setTimeout(function(){clearTimeout(u),N(m)},10)});c.splice(e,1),i({type:"CHANGESTATE",payload:{tabList:c,active:l,tarnslateX:0}});break}case"closeOther":{var st=c.filter(function(u,b){return b!==e}),ct=c.filter(function(u,b){return b===e});st.forEach(function(u){return N(u.keepAliveName)}),i({type:"CHANGESTATE",payload:{tabList:ct,active:0,tarnslateX:0}});break}case"closeAll":{var rt=h.m8.listen(function(){rt();var u=setTimeout(function(){clearTimeout(u),G()},10)}),lt=setTimeout(function(){clearTimeout(lt),h.m8.push("/")},10);i({type:"CHANGESTATE",payload:{tabList:[],active:0,tarnslateX:0}});break}case"closeLeft":{var dt=c.filter(function(u,b){return b<e}),pt=c.filter(function(u,b){return b>=e});dt.forEach(function(u){return N(u.keepAliveName)}),i({type:"CHANGESTATE",payload:{tabList:pt,active:0,tarnslateX:0}});break}case"closeRight":{var ut=c.filter(function(u,b){return b>e}),vt=c.filter(function(u,b){return b<=e});ut.forEach(function(u){return N(u.keepAliveName)}),i({type:"CHANGESTATE",payload:{tabList:vt,tarnslateX:0}});break}}},_nk:"".concat(s,"42"),children:[(0,t.jsx)(f.Z.Item,{"data-inspector-line":"179","data-inspector-column":"6","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",_nk:"".concat(s,"52"),children:"\u5173\u95ED\u5F53\u524D\u6807\u7B7E"},"closeCurrent"),(0,t.jsx)(f.Z.Item,{"data-inspector-line":"180","data-inspector-column":"6","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",_nk:"".concat(s,"53"),children:"\u5173\u95ED\u5176\u4ED6\u6807\u7B7E"},"closeOther"),(0,t.jsx)(f.Z.Item,{"data-inspector-line":"181","data-inspector-column":"6","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",_nk:"".concat(s,"54"),children:"\u5173\u95ED\u5168\u90E8\u6807\u7B7E"},"closeAll"),(0,t.jsx)(f.Z.Item,{"data-inspector-line":"182","data-inspector-column":"6","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",disabled:e===0,_nk:"".concat(s,"55"),children:"\u5173\u95ED\u5F53\u524D\u5DE6\u8FB9\u6807\u7B7E"},"closeLeft"),(0,t.jsx)(f.Z.Item,{"data-inspector-line":"185","data-inspector-column":"6","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",disabled:e===a.length-1,_nk:"".concat(s,"56"),children:"\u5173\u95ED\u5F53\u524D\u53F3\u8FB9\u6807\u7B7E"},"closeRight")]});return(0,X.useEffect)(function(){window.onresize=function(){var n=document.getElementById("contentContainer")?document.getElementById("contentContainer").getBoundingClientRect().width:0;i({type:"CHANGESTATE",payload:{tabsWidth:n,tarnslateX:0}})};var r=setTimeout(function(){var n=document.getElementById("contentContainer")?document.getElementById("contentContainer").getBoundingClientRect().width:0;i({type:"CHANGESTATE",payload:{tabsWidth:n}})},100);return function(){clearTimeout(r)}},[i]),(0,X.useEffect)(function(){var r=setTimeout(function(){var n=document.getElementsByClassName("link-tab")[0]?document.getElementsByClassName("link-tab")[0].getBoundingClientRect().width:120,l=Math.ceil((x-100)/n);n>0&&v>0&&i({type:"CHANGESTATE",payload:{showTabs:l,tabWidth:n}})},100);return function(){clearTimeout(r)}},[i,v,x]),(0,t.jsxs)("div",{"data-inspector-line":"229","data-inspector-column":"4","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",className:y().tabs,id:"contentContainer",_nk:"".concat(s,"23"),children:[a.length>0&&(0,t.jsx)(tt,{"data-inspector-line":"230","data-inspector-column":"29","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",onSortEnd:I,axis:"x",distance:1,_nk:"".concat(s,"61")}),(0,t.jsxs)("div",{"data-inspector-line":"231","data-inspector-column":"6","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",className:"".concat(y().tabLeftMenu,"  ").concat(a.length>=d&&y().boxShadow),_nk:"".concat(s,"24"),children:[a.length>d&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(F.Z,{"data-inspector-line":"234","data-inspector-column":"12","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",overlay:M,className:y().tabMore,_nk:"".concat(s,"71"),children:(0,t.jsx)("a",{"data-inspector-line":"235","data-inspector-column":"14","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",className:"ant-dropdown-link",onClick:function(n){return n.preventDefault()},_nk:"".concat(s,"81"),children:(0,t.jsx)(z.Z,{"data-inspector-line":"236","data-inspector-column":"16","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",_nk:"".concat(s,"91")})})}),(0,t.jsx)(w.Z,{"data-inspector-line":"239","data-inspector-column":"12","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",type:"vertical",_nk:"".concat(s,"a1")})]}),a.length>1&&(0,t.jsx)(F.Z,{"data-inspector-line":"243","data-inspector-column":"10","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",overlay:A,className:y().menuRight,_nk:"".concat(s,"72"),children:(0,t.jsxs)("a",{"data-inspector-line":"244","data-inspector-column":"12","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",className:"ant-dropdown-link",onClick:function(n){return n.preventDefault()},_nk:"".concat(s,"82"),children:["\u64CD\u4F5C ",(0,t.jsx)(V.Z,{"data-inspector-line":"245","data-inspector-column":"17","data-inspector-relative-path":"src/components/KeepAliveTabs/index.tsx",_nk:"".concat(s,"b1")})]})})]})]})},at=et,nt=o(60923),D="jD5g",J=nt.Z.tabsLayout,it=function(p){var a=function(){return J?(0,t.jsx)(at,{"data-inspector-line":"15","data-inspector-column":"27","data-inspector-relative-path":"src/layouts/TabsLayout.tsx",_nk:"".concat(D,"11")}):null};return(0,t.jsxs)("div",{"data-inspector-line":"19","data-inspector-column":"4","data-inspector-relative-path":"src/layouts/TabsLayout.tsx",_nk:"".concat(D,"21"),children:[a(),(0,t.jsx)("div",{"data-inspector-line":"21","data-inspector-column":"6","data-inspector-relative-path":"src/layouts/TabsLayout.tsx",style:J?{margin:"64px 24px 24px 24px"}:{margin:"24px 24px 24px 24px"},_nk:"".concat(D,"22"),children:p.children})]})},ot=it}}]);
